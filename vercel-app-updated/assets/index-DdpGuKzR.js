(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Jj=!1;var vO=Array.isArray,Cde=Array.prototype.indexOf,GT=Array.from,HT=Object.defineProperty,$f=Object.getOwnPropertyDescriptor,eq=Object.getOwnPropertyDescriptors,Ade=Object.prototype,Ede=Array.prototype,KT=Object.getPrototypeOf,mF=Object.isExtensible;function gm(t){return typeof t=="function"}const yr=()=>{};function Tde(t){return t()}function Ex(t){for(var e=0;e<t.length;e++)t[e]()}function tq(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}function QA(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const n=[];for(const r of t)if(n.push(r),n.length===e)break;return n}const Bs=2,ek=4,tk=8,$c=16,Jf=32,_0=64,nk=128,gs=1024,Go=2048,Ic=4096,Ra=8192,If=16384,rk=32768,Xf=65536,gF=1<<17,nq=1<<18,A1=1<<19,rq=1<<20,pl=256,Tx=512,Dx=32768,BA=1<<21,JT=1<<22,Yh=1<<23,lc=Symbol("$state"),eD=Symbol("legacy props"),Dde=Symbol(""),Pm=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},ik=3,x0=8;function sk(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Pde(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Rde(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function $de(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ide(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Fde(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Mde(){throw new Error("https://svelte.dev/e/hydration_failed")}function Lde(t){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function Nde(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Qde(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Bde(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function zde(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ude(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const ok=1,ak=2,iq=4,jde=8,qde=16,Vde=1,Xde=2,Zde=4,Wde=8,Yde=16,Gde=1,Hde=2,Kde=4,sq=1,Jde=2,oq="[",lk="[!",tD="]",Hp={},hs=Symbol(),epe="http://www.w3.org/1999/xhtml",tpe="@attach";function OO(t){console.warn("https://svelte.dev/e/hydration_mismatch")}function npe(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function rpe(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Wt=!1;function nu(t){Wt=t}let wn;function Is(t){if(t===null)throw OO(),Hp;return wn=t}function ld(){return Is(pu(wn))}function W(t){if(Wt){if(pu(wn)!==null)throw OO(),Hp;wn=t}}function Kp(t=1){if(Wt){for(var e=t,n=wn;e--;)n=pu(n);wn=n}}function Px(t=!0){for(var e=0,n=wn;;){if(n.nodeType===x0){var r=n.data;if(r===tD){if(e===0)return n;e-=1}else(r===oq||r===lk)&&(e+=1)}var i=pu(n);t&&n.remove(),n=i}}function aq(t){if(!t||t.nodeType!==x0)throw OO(),Hp;return t.data}function lq(t){return t===this.v}function nD(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function uq(t){return!nD(t,this.v)}let E1=!1,ipe=!1;function spe(){E1=!0}let fr=null;function Pg(t){fr=t}function Ke(t,e=!1,n){fr={p:fr,i:!1,c:null,e:null,s:t,x:null,l:E1&&!e?{s:null,u:null,$:[]}:null}}function Je(t){var e=fr,n=e.e;if(n!==null){e.e=null;for(var r of n)Tq(r)}return t!==void 0&&(e.x=t),e.i=!0,fr=e.p,t??{}}function T1(){return!E1||fr!==null&&fr.l===null}let pp=[];function cq(){var t=pp;pp=[],Ex(t)}function eh(t){if(pp.length===0&&!Db){var e=pp;queueMicrotask(()=>{e===pp&&cq()})}pp.push(t)}function ope(){for(;pp.length>0;)cq()}function fq(t){var e=rn;if(e===null)return bn.f|=Yh,t;if((e.f&rk)===0){if((e.f&nk)===0)throw t;e.b.error(t)}else Rg(t,e)}function Rg(t,e){for(;e!==null;){if((e.f&nk)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const ow=new Set;let Mr=null,A_=null,Wl=null,Uu=[],uk=null,zA=!1,Db=!1,mp=class UA{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#r=0;#l=null;#a=[];#i=[];skipped_effects=new Set;is_fork=!1;process(e){Uu=[],A_=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)this.#s(r,n);this.is_fork||this.#u(),this.#r>0||this.is_fork?(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects)):(A_=this,Mr=null,yF(n.render_effects),yF(n.effects),A_=null,this.#l?.resolve()),Wl=null}#s(e,n){e.f^=gs;for(var r=e.first;r!==null;){var i=r.f,s=(i&(Jf|_0))!==0,o=s&&(i&gs)!==0,a=o||(i&Ra)!==0||this.skipped_effects.has(r);if((r.f&nk)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!a&&r.fn!==null){s?r.f^=gs:(i&ek)!==0?n.effects.push(r):$1(r)&&((r.f&$c)!==0&&n.block_effects.push(r),Ig(r));var l=r.first;if(l!==null){r=l;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects),n=n.parent),r=u.next,u=u.parent}}#o(e){for(const n of e)((n.f&Go)!==0?this.#a:this.#i).push(n),bs(n,gs)}capture(e,n){this.previous.has(e)||this.previous.set(e,n),(e.f&Yh)===0&&(this.current.set(e,e.v),Wl?.set(e,e.v))}activate(){Mr=this,this.apply()}deactivate(){Mr=null,Wl=null}flush(){if(this.activate(),Uu.length>0){if(dq(),Mr!==null&&Mr!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#u(){if(this.#r===0){for(const e of this.#e)e();this.#e.clear()}this.#n===0&&this.#c()}#c(){if(ow.size>1){this.previous.clear();var e=Wl,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of ow){if(i===this){n=!1;continue}const s=[];for(const[a,l]of this.current){if(i.current.has(a))if(n&&l!==i.current.get(a))i.current.set(a,l);else continue;s.push(a)}if(s.length===0)continue;const o=[...i.current.keys()].filter(a=>!this.current.has(a));if(o.length>0){const a=new Set,l=new Map;for(const u of s)pq(u,o,a,l);if(Uu.length>0){Mr=i,i.apply();for(const u of Uu)i.#s(u,r);Uu=[],i.deactivate()}}}Mr=null,Wl=e}this.committed=!0,ow.delete(this)}increment(e){this.#n+=1,e&&(this.#r+=1)}decrement(e){this.#n-=1,e&&(this.#r-=1),this.revive()}revive(){for(const e of this.#a)bs(e,Go),Jp(e);for(const e of this.#i)bs(e,Ic),Jp(e);this.#a=[],this.#i=[],this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#l??=tq()).promise}static ensure(){if(Mr===null){const e=Mr=new UA;ow.add(Mr),Db||UA.enqueue(()=>{Mr===e&&e.flush()})}return Mr}static enqueue(e){eh(e)}apply(){}};function hq(t){var e=Db;Db=!0;try{for(var n;;){if(ope(),Uu.length===0&&(Mr?.flush(),Uu.length===0))return uk=null,n;dq()}}finally{Db=e}}function dq(){var t=Ym;zA=!0;try{var e=0;for(OF(!0);Uu.length>0;){var n=mp.ensure();if(e++>1e3){var r,i;ape()}n.process(Uu),Gh.clear()}}finally{zA=!1,OF(t),uk=null}}function ape(){try{Fde()}catch(t){Rg(t,uk)}}let cf=null;function yF(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(If|Ra))===0&&$1(r)&&(cf=new Set,Ig(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?$q(r):r.fn=null),cf?.size>0)){Gh.clear();for(const i of cf){if((i.f&(If|Ra))!==0)continue;const s=[i];let o=i.parent;for(;o!==null;)cf.has(o)&&(cf.delete(o),s.push(o)),o=o.parent;for(let a=s.length-1;a>=0;a--){const l=s[a];(l.f&(If|Ra))===0&&Ig(l)}}cf.clear()}}cf=null}}function pq(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const s=i.f;(s&Bs)!==0?pq(i,e,n,r):(s&(JT|$c))!==0&&(s&Go)===0&&mq(i,e,r)&&(bs(i,Go),Jp(i))}}function mq(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&Bs)!==0&&mq(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function Jp(t){for(var e=uk=t;e.parent!==null;){e=e.parent;var n=e.f;if(zA&&e===rn&&(n&$c)!==0&&(n&nq)===0)return;if((n&(_0|Jf))!==0){if((n&gs)===0)return;e.f^=gs}}Uu.push(e)}function lpe(t){let e=0,n=e0(0),r;return()=>{vpe()&&(w(n),R1(()=>(e===0&&(r=vs(()=>t(()=>Pb(n)))),e+=1,()=>{eh(()=>{e-=1,e===0&&(r?.(),r=void 0,Pb(n))})})))}}var upe=Xf|A1|nk;function gq(t,e,n){new cpe(t,e,n)}class cpe{parent;#e=!1;#t;#n=Wt?wn:null;#r;#l;#a;#i=null;#s=null;#o=null;#u=null;#c=null;#d=0;#f=0;#p=!1;#h=null;#y=lpe(()=>(this.#h=e0(this.#d),()=>{this.#h=null}));constructor(e,n,r){this.#t=e,this.#r=n,this.#l=r,this.parent=rn.b,this.#e=!!this.#r.pending,this.#a=Pd(()=>{if(rn.b=this,Wt){const s=this.#n;ld(),s.nodeType===x0&&s.data===lk?this.#v():this.#b()}else{var i=this.#O();try{this.#i=$o(()=>r(i))}catch(s){this.error(s)}this.#f>0?this.#g():this.#e=!1}return()=>{this.#c?.remove()}},upe),Wt&&(this.#t=wn)}#b(){try{this.#i=$o(()=>this.#l(this.#t))}catch(e){this.error(e)}this.#e=!1}#v(){const e=this.#r.pending;e&&(this.#s=$o(()=>e(this.#t)),mp.enqueue(()=>{var n=this.#O();this.#i=this.#m(()=>(mp.ensure(),$o(()=>this.#l(n)))),this.#f>0?this.#g():(Wm(this.#s,()=>{this.#s=null}),this.#e=!1)}))}#O(){var e=this.#t;return this.#e&&(this.#c=Na(),this.#t.before(this.#c),e=this.#c),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#m(e){var n=rn,r=bn,i=fr;bc(this.#a),Uo(this.#a),Pg(this.#a.ctx);try{return e()}catch(s){return fq(s),null}finally{bc(n),Uo(r),Pg(i)}}#g(){const e=this.#r.pending;this.#i!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#c),Mq(this.#i,this.#u)),this.#s===null&&(this.#s=$o(()=>e(this.#t)))}#w(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#w(e);return}this.#f+=e,this.#f===0&&(this.#e=!1,this.#s&&Wm(this.#s,()=>{this.#s=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(e){this.#w(e),this.#d+=e,this.#h&&$g(this.#h,this.#d)}get_effect_pending(){return this.#y(),w(this.#h)}error(e){var n=this.#r.onerror;let r=this.#r.failed;if(this.#p||!n&&!r)throw e;this.#i&&(ls(this.#i),this.#i=null),this.#s&&(ls(this.#s),this.#s=null),this.#o&&(ls(this.#o),this.#o=null),Wt&&(Is(this.#n),Kp(),Is(Px()));var i=!1,s=!1;const o=()=>{if(i){rpe();return}i=!0,s&&Ude(),mp.ensure(),this.#d=0,this.#o!==null&&Wm(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#i=this.#m(()=>(this.#p=!1,$o(()=>this.#l(this.#t)))),this.#f>0?this.#g():this.#e=!1};var a=bn;try{Uo(null),s=!0,n?.(e,o),s=!1}catch(l){Rg(l,this.#a&&this.#a.parent)}finally{Uo(a)}r&&eh(()=>{this.#o=this.#m(()=>{mp.ensure(),this.#p=!0;try{return $o(()=>{r(this.#t,()=>e,()=>o)})}catch(l){return Rg(l,this.#a.parent),null}finally{this.#p=!1}})})}}function yq(t,e,n,r){const i=T1()?wO:rD;if(n.length===0&&t.length===0){r(e.map(i));return}var s=Mr,o=rn,a=fpe();function l(){Promise.all(n.map(u=>hpe(u))).then(u=>{a();try{r([...e.map(i),...u])}catch(c){(o.f&If)===0&&Rg(c,o)}s?.deactivate(),Rx()}).catch(u=>{Rg(u,o)})}t.length>0?Promise.all(t).then(()=>{a();try{return l()}finally{s?.deactivate(),Rx()}}):l()}function fpe(){var t=rn,e=bn,n=fr,r=Mr;return function(s=!0){bc(t),Uo(e),Pg(n),s&&r?.activate()}}function Rx(){bc(null),Uo(null),Pg(null)}function wO(t){var e=Bs|Go,n=bn!==null&&(bn.f&Bs)!==0?bn:null;return rn===null||n!==null&&(n.f&pl)!==0?e|=pl:rn.f|=A1,{ctx:fr,deps:null,effects:null,equals:lq,f:e,fn:t,reactions:null,rv:0,v:hs,wv:0,parent:n??rn,ac:null}}function hpe(t,e){let n=rn;n===null&&Pde();var r=n.b,i=void 0,s=e0(hs),o=!bn,a=new Map;return xpe(()=>{var l=tq();i=l.promise;try{Promise.resolve(t()).then(l.resolve,l.reject).then(()=>{u===Mr&&u.committed&&u.deactivate(),Rx()})}catch(h){l.reject(h),Rx()}var u=Mr;if(o){var c=!r.is_pending();r.update_pending_count(1),u.increment(c),a.get(u)?.reject(Pm),a.delete(u),a.set(u,l)}const f=(h,d=void 0)=>{if(u.activate(),d)d!==Pm&&(s.f|=Yh,$g(s,d));else{(s.f&Yh)!==0&&(s.f^=Yh),$g(s,h);for(const[m,g]of a){if(a.delete(m),m===u)break;g.reject(Pm)}}o&&(r.update_pending_count(-1),u.decrement(c))};l.promise.then(f,h=>f(null,h||"unknown"))}),_O(()=>{for(const l of a.values())l.reject(Pm)}),new Promise(l=>{function u(c){function f(){c===i?l(s):u(i)}c.then(f,f)}u(i)})}function X(t){const e=wO(t);return Lq(e),e}function rD(t){const e=wO(t);return e.equals=uq,e}function bq(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)ls(e[n])}}function dpe(t){for(var e=t.parent;e!==null;){if((e.f&Bs)===0)return e;e=e.parent}return null}function iD(t){var e,n=rn;bc(dpe(t));try{t.f&=~Dx,bq(t),e=zq(t)}finally{bc(n)}return e}function vq(t){var e=iD(t);if(t.equals(e)||(t.v=e,t.wv=Qq()),!S0)if(Wl!==null)Wl.set(t,t.v);else{var n=(Nh||(t.f&pl)!==0)&&t.deps!==null?Ic:gs;bs(t,n)}}let jA=new Set;const Gh=new Map;let Oq=!1;function e0(t,e){var n={f:0,v:t,reactions:null,equals:lq,rv:0,wv:0};return n}function Ie(t,e){const n=e0(t);return Lq(n),n}function Zm(t,e=!1,n=!0){const r=e0(t);return e||(r.equals=uq),E1&&n&&fr!==null&&fr.l!==null&&(fr.l.s??=[]).push(r),r}function se(t,e,n=!1){bn!==null&&(!Yl||(bn.f&gF)!==0)&&T1()&&(bn.f&(Bs|$c|JT|gF))!==0&&!Ff?.includes(t)&&zde();let r=n?gp(e):e;return $g(t,r)}function $g(t,e){if(!t.equals(e)){var n=t.v;S0?Gh.set(t,e):Gh.set(t,n),t.v=e;var r=mp.ensure();r.capture(t,n),(t.f&Bs)!==0&&((t.f&Go)!==0&&iD(t),bs(t,(t.f&pl)===0?gs:Ic)),t.wv=Qq(),wq(t,Go),T1()&&rn!==null&&(rn.f&gs)!==0&&(rn.f&(Jf|_0))===0&&(Ja===null?kpe([t]):Ja.push(t)),!r.is_fork&&jA.size>0&&!Oq&&ppe()}return e}function ppe(){Oq=!1;const t=Array.from(jA);for(const e of t)(e.f&gs)!==0&&bs(e,Ic),$1(e)&&Ig(e);jA.clear()}function Pb(t){se(t,t.v+1)}function wq(t,e){var n=t.reactions;if(n!==null)for(var r=T1(),i=n.length,s=0;s<i;s++){var o=n[s],a=o.f;if(!(!r&&o===rn)){var l=(a&Go)===0;l&&bs(o,e),(a&Bs)!==0?(a&Dx)===0&&(o.f|=Dx,wq(o,Ic)):l&&((a&$c)!==0&&cf!==null&&cf.add(o),Jp(o))}}}function gp(t){if(typeof t!="object"||t===null||lc in t)return t;const e=KT(t);if(e!==Ade&&e!==Ede)return t;var n=new Map,r=vO(t),i=Ie(0),s=Np,o=a=>{if(Np===s)return a();var l=bn,u=Np;Uo(null),_F(s);var c=a();return Uo(l),_F(u),c};return r&&n.set("length",Ie(t.length)),new Proxy(t,{defineProperty(a,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Qde();var c=n.get(l);return c===void 0?c=o(()=>{var f=Ie(u.value);return n.set(l,f),f}):se(c,u.value,!0),!0},deleteProperty(a,l){var u=n.get(l);if(u===void 0){if(l in a){const c=o(()=>Ie(hs));n.set(l,c),Pb(i)}}else se(u,hs),Pb(i);return!0},get(a,l,u){if(l===lc)return t;var c=n.get(l),f=l in a;if(c===void 0&&(!f||$f(a,l)?.writable)&&(c=o(()=>{var d=gp(f?a[l]:hs),m=Ie(d);return m}),n.set(l,c)),c!==void 0){var h=w(c);return h===hs?void 0:h}return Reflect.get(a,l,u)},getOwnPropertyDescriptor(a,l){var u=Reflect.getOwnPropertyDescriptor(a,l);if(u&&"value"in u){var c=n.get(l);c&&(u.value=w(c))}else if(u===void 0){var f=n.get(l),h=f?.v;if(f!==void 0&&h!==hs)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(a,l){if(l===lc)return!0;var u=n.get(l),c=u!==void 0&&u.v!==hs||Reflect.has(a,l);if(u!==void 0||rn!==null&&(!c||$f(a,l)?.writable)){u===void 0&&(u=o(()=>{var h=c?gp(a[l]):hs,d=Ie(h);return d}),n.set(l,u));var f=w(u);if(f===hs)return!1}return c},set(a,l,u,c){var f=n.get(l),h=l in a;if(r&&l==="length")for(var d=u;d<f.v;d+=1){var m=n.get(d+"");m!==void 0?se(m,hs):d in a&&(m=o(()=>Ie(hs)),n.set(d+"",m))}if(f===void 0)(!h||$f(a,l)?.writable)&&(f=o(()=>Ie(void 0)),se(f,gp(u)),n.set(l,f));else{h=f.v!==hs;var g=o(()=>gp(u));se(f,g)}var b=Reflect.getOwnPropertyDescriptor(a,l);if(b?.set&&b.set.call(c,u),!h){if(r&&typeof l=="string"){var v=n.get("length"),O=Number(l);Number.isInteger(O)&&O>=v.v&&se(v,O+1)}Pb(i)}return!0},ownKeys(a){w(i);var l=Reflect.ownKeys(a).filter(f=>{var h=n.get(f);return h===void 0||h.v!==hs});for(var[u,c]of n)c.v!==hs&&!(u in a)&&l.push(u);return l},setPrototypeOf(){Bde()}})}function bF(t){try{if(t!==null&&typeof t=="object"&&lc in t)return t[lc]}catch{}return t}function mpe(t,e){return Object.is(bF(t),bF(e))}var qA,_q,xq,Sq;function VA(){if(qA===void 0){qA=window,_q=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;xq=$f(e,"firstChild").get,Sq=$f(e,"nextSibling").get,mF(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),mF(n)&&(n.__t=void 0)}}function Na(t=""){return document.createTextNode(t)}function Ts(t){return xq.call(t)}function pu(t){return Sq.call(t)}function H(t,e){if(!Wt)return Ts(t);var n=Ts(wn);if(n===null)n=wn.appendChild(Na());else if(e&&n.nodeType!==ik){var r=Na();return n?.before(r),Is(r),r}return Is(n),n}function Be(t,e=!1){if(!Wt){var n=Ts(t);return n instanceof Comment&&n.data===""?pu(n):n}if(e&&wn?.nodeType!==ik){var r=Na();return wn?.before(r),Is(r),r}return wn}function ae(t,e=1,n=!1){let r=Wt?wn:t;for(var i;e--;)i=r,r=pu(r);if(!Wt)return r;if(n&&r?.nodeType!==ik){var s=Na();return r===null?i?.after(s):r.before(s),Is(s),s}return Is(r),r}function kq(t){t.textContent=""}function Cq(){return!1}function gpe(t,e){if(e){const n=document.body;t.autofocus=!0,eh(()=>{document.activeElement===n&&t.focus()})}}let vF=!1;function Aq(){vF||(vF=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function D1(t){var e=bn,n=rn;Uo(null),bc(null);try{return t()}finally{Uo(e),bc(n)}}function ype(t,e,n,r=n){t.addEventListener(e,()=>D1(n));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),Aq()}function Eq(t){rn===null&&bn===null&&Ide(),bn!==null&&(bn.f&pl)!==0&&rn===null&&$de(),S0&&Rde()}function bpe(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Fc(t,e,n,r=!0){var i=rn;i!==null&&(i.f&Ra)!==0&&(t|=Ra);var s={ctx:fr,deps:null,nodes_start:null,nodes_end:null,f:t|Go,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Ig(s),s.f|=rk}catch(l){throw ls(s),l}else e!==null&&Jp(s);if(r){var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&A1)===0&&(o=o.first,(t&$c)!==0&&(t&Xf)!==0&&o!==null&&(o.f|=Xf)),o!==null&&(o.parent=i,i!==null&&bpe(o,i),bn!==null&&(bn.f&Bs)!==0&&(t&_0)===0)){var a=bn;(a.effects??=[]).push(o)}}return s}function vpe(){return bn!==null&&!Yl}function _O(t){const e=Fc(tk,null,!1);return bs(e,gs),e.teardown=t,e}function su(t){Eq();var e=rn.f,n=!bn&&(e&Jf)!==0&&(e&rk)===0;if(n){var r=fr;(r.e??=[]).push(t)}else return Tq(t)}function Tq(t){return Fc(ek|rq,t,!1)}function or(t){return Eq(),Fc(tk|rq,t,!0)}function Ope(t){mp.ensure();const e=Fc(_0|A1,t,!0);return(n={})=>new Promise(r=>{n.outro?Wm(e,()=>{ls(e),r(void 0)}):(ls(e),r(void 0))})}function P1(t){return Fc(ek,t,!1)}function wpe(t,e){var n=fr,r={effect:null,ran:!1,deps:t};n.l.$.push(r),r.effect=R1(()=>{t(),!r.ran&&(r.ran=!0,vs(e))})}function _pe(){var t=fr;R1(()=>{for(var e of t.l.$){e.deps();var n=e.effect;(n.f&gs)!==0&&bs(n,Ic),$1(n)&&Ig(n),e.ran=!1}})}function xpe(t){return Fc(JT|A1,t,!0)}function R1(t,e=0){return Fc(tk|e,t,!0)}function Pe(t,e=[],n=[],r=[],i=!1){yq(r,e,n,s=>{Fc(i?ek:tk,()=>t(...s.map(w)),!0)})}function Pd(t,e=0){var n=Fc($c|e,t,!0);return n}function $o(t,e=!0){return Fc(Jf|A1,t,!0,e)}function Dq(t){var e=t.teardown;if(e!==null){const n=S0,r=bn;wF(!0),Uo(null);try{e.call(null)}finally{wF(n),Uo(r)}}}function Pq(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&D1(()=>{i.abort(Pm)});var r=n.next;(n.f&_0)!==0?n.parent=null:ls(n,e),n=r}}function Spe(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Jf)===0&&ls(e),e=n}}function ls(t,e=!0){var n=!1;(e||(t.f&nq)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(Rq(t.nodes_start,t.nodes_end),n=!0),Pq(t,e&&!n),$x(t,0),bs(t,If);var r=t.transitions;if(r!==null)for(const s of r)s.stop();Dq(t);var i=t.parent;i!==null&&i.first!==null&&$q(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function Rq(t,e){for(;t!==null;){var n=t===e?null:pu(t);t.remove(),t=n}}function $q(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Wm(t,e,n=!0){var r=[];sD(t,r,!0),Iq(r,()=>{n&&ls(t),e&&e()})}function Iq(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function sD(t,e,n){if((t.f&Ra)===0){if(t.f^=Ra,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&Xf)!==0||(r.f&Jf)!==0&&(t.f&$c)!==0;sD(r,e,s?n:!1),r=i}}}function oD(t){Fq(t,!0)}function Fq(t,e){if((t.f&Ra)!==0){t.f^=Ra,(t.f&gs)===0&&(bs(t,Go),Jp(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&Xf)!==0||(n.f&Jf)!==0;Fq(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function Mq(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:pu(n);e.append(n),n=i}}let Ym=!1;function OF(t){Ym=t}let S0=!1;function wF(t){S0=t}let bn=null,Yl=!1;function Uo(t){bn=t}let rn=null;function bc(t){rn=t}let Ff=null;function Lq(t){bn!==null&&(Ff===null?Ff=[t]:Ff.push(t))}let eo=null,ya=0,Ja=null;function kpe(t){Ja=t}let Nq=1,rv=0,Np=rv;function _F(t){Np=t}let Nh=!1;function Qq(){return++Nq}function $1(t){var e=t.f;if((e&Go)!==0)return!0;if((e&Ic)!==0){var n=t.deps,r=(e&pl)!==0;if(e&Bs&&(t.f&=~Dx),n!==null){var i,s,o=(e&Tx)!==0,a=r&&rn!==null&&!Nh,l=n.length;if((o||a)&&(rn===null||(rn.f&If)===0)){var u=t,c=u.parent;for(i=0;i<l;i++)s=n[i],(o||!s?.reactions?.includes(u))&&(s.reactions??=[]).push(u);o&&(u.f^=Tx),a&&c!==null&&(c.f&pl)===0&&(u.f^=pl)}for(i=0;i<l;i++)if(s=n[i],$1(s)&&vq(s),s.wv>t.wv)return!0}(!r||rn!==null&&!Nh)&&bs(t,gs)}return!1}function Bq(t,e,n=!0){var r=t.reactions;if(r!==null&&!Ff?.includes(t))for(var i=0;i<r.length;i++){var s=r[i];(s.f&Bs)!==0?Bq(s,e,!1):e===s&&(n?bs(s,Go):(s.f&gs)!==0&&bs(s,Ic),Jp(s))}}function zq(t){var e=eo,n=ya,r=Ja,i=bn,s=Nh,o=Ff,a=fr,l=Yl,u=Np,c=t.f;eo=null,ya=0,Ja=null,Nh=(c&pl)!==0&&(Yl||!Ym||bn===null),bn=(c&(Jf|_0))===0?t:null,Ff=null,Pg(t.ctx),Yl=!1,Np=++rv,t.ac!==null&&(D1(()=>{t.ac.abort(Pm)}),t.ac=null);try{t.f|=BA;var f=t.fn,h=f(),d=t.deps;if(eo!==null){var m;if($x(t,ya),d!==null&&ya>0)for(d.length=ya+eo.length,m=0;m<eo.length;m++)d[ya+m]=eo[m];else t.deps=d=eo;if(!Nh||(c&Bs)!==0&&t.reactions!==null)for(m=ya;m<d.length;m++)(d[m].reactions??=[]).push(t)}else d!==null&&ya<d.length&&($x(t,ya),d.length=ya);if(T1()&&Ja!==null&&!Yl&&d!==null&&(t.f&(Bs|Ic|Go))===0)for(m=0;m<Ja.length;m++)Bq(Ja[m],t);return i!==null&&i!==t&&(rv++,Ja!==null&&(r===null?r=Ja:r.push(...Ja))),(t.f&Yh)!==0&&(t.f^=Yh),h}catch(g){return fq(g)}finally{t.f^=BA,eo=e,ya=n,Ja=r,bn=i,Nh=s,Ff=o,Pg(a),Yl=l,Np=u}}function Cpe(t,e){let n=e.reactions;if(n!==null){var r=Cde.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&Bs)!==0&&(eo===null||!eo.includes(e))&&(bs(e,Ic),(e.f&(pl|Tx))===0&&(e.f^=Tx),bq(e),$x(e,0))}function $x(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Cpe(t,n[r])}function Ig(t){var e=t.f;if((e&If)===0){bs(t,gs);var n=rn,r=Ym;rn=t,Ym=!0;try{(e&$c)!==0?Spe(t):Pq(t),Dq(t);var i=zq(t);t.teardown=typeof i=="function"?i:null,t.wv=Nq;var s;Jj&&ipe&&(t.f&Go)!==0&&t.deps}finally{Ym=r,rn=n}}}async function Uq(){await Promise.resolve(),hq()}function w(t){var e=t.f,n=(e&Bs)!==0;if(bn!==null&&!Yl){var r=rn!==null&&(rn.f&If)!==0;if(!r&&!Ff?.includes(t)){var i=bn.deps;if((bn.f&BA)!==0)t.rv<rv&&(t.rv=rv,eo===null&&i!==null&&i[ya]===t?ya++:eo===null?eo=[t]:(!Nh||!eo.includes(t))&&eo.push(t));else{(bn.deps??=[]).push(t);var s=t.reactions;s===null?t.reactions=[bn]:s.includes(bn)||s.push(bn)}}}else if(n&&t.deps===null&&t.effects===null){var o=t,a=o.parent;a!==null&&(a.f&pl)===0&&(o.f^=pl)}if(S0){if(Gh.has(t))return Gh.get(t);if(n){o=t;var l=o.v;return((o.f&gs)===0&&o.reactions!==null||jq(o))&&(l=iD(o)),Gh.set(o,l),l}}else if(n){if(o=t,Wl?.has(o))return Wl.get(o);$1(o)&&vq(o)}if(Wl?.has(t))return Wl.get(t);if((t.f&Yh)!==0)throw t.v;return t.v}function jq(t){if(t.v===hs)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Gh.has(e)||(e.f&Bs)!==0&&jq(e))return!0;return!1}function vs(t){var e=Yl;try{return Yl=!0,t()}finally{Yl=e}}const Ape=-7169;function bs(t,e){t.f=t.f&Ape|e}function aD(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(lc in t)XA(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&lc in n&&XA(n)}}}function XA(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{XA(t[r],e)}catch{}const n=KT(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=eq(n);for(let i in r){const s=r[i].get;if(s)try{s.call(t)}catch{}}}}}function Epe(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const Tpe=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Dpe(t){return Tpe.includes(t)}const Ppe={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Rpe(t){return t=t.toLowerCase(),Ppe[t]??t}const $pe=["touchstart","touchmove"];function Ipe(t){return $pe.includes(t)}const qq=new Set,ZA=new Set;function Vq(t,e,n,r={}){function i(s){if(r.capture||ib.call(e,s),!s.cancelBubble)return D1(()=>n?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?eh(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function Qp(t,e,n,r,i){var s={capture:r,passive:i},o=Vq(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&_O(()=>{e.removeEventListener(t,o,s)})}function Dr(t){for(var e=0;e<t.length;e++)qq.add(t[e]);for(var n of ZA)n(t)}let xF=null;function ib(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],s=i[0]||t.target;xF=t;var o=0,a=xF===t&&t.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=i.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(s=i[o]||t.target,s!==e){HT(t,"currentTarget",{configurable:!0,get(){return s||n}});var c=bn,f=rn;Uo(null),bc(null);try{for(var h,d=[];s!==null;){var m=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];g!=null&&(!s.disabled||t.target===s)&&g.call(s,t)}catch(b){h?d.push(b):h=b}if(t.cancelBubble||m===e||m===null)break;s=m}if(h){for(let b of d)queueMicrotask(()=>{throw b});throw h}}finally{t.__root=e,delete t.currentTarget,Uo(c),bc(f)}}}function lD(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function $a(t,e){var n=rn;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function ce(t,e){var n=(e&sq)!==0,r=(e&Jde)!==0,i,s=!t.startsWith("<!>");return()=>{if(Wt)return $a(wn,null),wn;i===void 0&&(i=lD(s?t:"<!>"+t),n||(i=Ts(i)));var o=r||_q?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=Ts(o),l=o.lastChild;$a(a,l)}else $a(o,o);return o}}function Fpe(t,e,n="svg"){var r=!t.startsWith("<!>"),i=(e&sq)!==0,s=`<${n}>${r?t:"<!>"+t}</${n}>`,o;return()=>{if(Wt)return $a(wn,null),wn;if(!o){var a=lD(s),l=Ts(a);if(i)for(o=document.createDocumentFragment();Ts(l);)o.appendChild(Ts(l));else o=Ts(l)}var u=o.cloneNode(!0);if(i){var c=Ts(u),f=u.lastChild;$a(c,f)}else $a(u,u);return u}}function Jt(t,e){return Fpe(t,e,"svg")}function xa(t=""){if(!Wt){var e=Na(t+"");return $a(e,e),e}var n=wn;return n.nodeType!==ik&&(n.before(n=Na()),Is(n)),$a(n,n),n}function At(){if(Wt)return $a(wn,null),wn;var t=document.createDocumentFragment(),e=document.createComment(""),n=Na();return t.append(e,n),$a(e,n),t}function j(t,e){if(Wt){rn.nodes_end=wn,ld();return}t!==null&&t.before(e)}let WA=!0;function Tt(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function uD(t,e){return Xq(t,e)}function Mpe(t,e){VA(),e.intro=e.intro??!1;const n=e.target,r=Wt,i=wn;try{for(var s=Ts(n);s&&(s.nodeType!==x0||s.data!==oq);)s=pu(s);if(!s)throw Hp;nu(!0),Is(s);const o=Xq(t,{...e,anchor:s});return nu(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(a=>a.startsWith("https://svelte.dev/e/")))throw o;return o!==Hp&&console.warn("Failed to hydrate: ",o),e.recover===!1&&Mde(),VA(),kq(n),nu(!1),uD(t,e)}finally{nu(r),Is(i)}}const om=new Map;function Xq(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:o=!0}){VA();var a=new Set,l=f=>{for(var h=0;h<f.length;h++){var d=f[h];if(!a.has(d)){a.add(d);var m=Ipe(d);e.addEventListener(d,ib,{passive:m});var g=om.get(d);g===void 0?(document.addEventListener(d,ib,{passive:m}),om.set(d,1)):om.set(d,g+1)}}};l(GT(qq)),ZA.add(l);var u=void 0,c=Ope(()=>{var f=n??e.appendChild(Na());return gq(f,{pending:()=>{}},h=>{if(s){Ke({});var d=fr;d.c=s}if(i&&(r.$$events=i),Wt&&$a(h,null),WA=o,u=t(h,r)||{},WA=!0,Wt&&(rn.nodes_end=wn,wn===null||wn.nodeType!==x0||wn.data!==tD))throw OO(),Hp;s&&Je()}),()=>{for(var h of a){e.removeEventListener(h,ib);var d=om.get(h);--d===0?(document.removeEventListener(h,ib),om.delete(h)):om.set(h,d)}ZA.delete(l),f!==n&&f.parentNode?.removeChild(f)}});return YA.set(u,c),u}let YA=new WeakMap;function Lpe(t,e){const n=YA.get(t);return n?(YA.delete(t),n(e)):Promise.resolve()}class ck{anchor;#e=new Map;#t=new Map;#n=new Map;#r=!0;constructor(e,n=!0){this.anchor=e,this.#r=n}#l=()=>{var e=Mr;if(this.#e.has(e)){var n=this.#e.get(e),r=this.#t.get(n);if(r)oD(r);else{var i=this.#n.get(n);i&&(this.#t.set(n,i.effect),this.#n.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,o]of this.#e){if(this.#e.delete(s),s===e)break;const a=this.#n.get(o);a&&(ls(a.effect),this.#n.delete(o))}for(const[s,o]of this.#t){if(s===n)continue;const a=()=>{if(Array.from(this.#e.values()).includes(s)){var u=document.createDocumentFragment();Mq(o,u),u.append(Na()),this.#n.set(s,{effect:o,fragment:u})}else ls(o);this.#t.delete(s)};this.#r||!r?Wm(o,a,!1):a()}}};#a=e=>{this.#e.delete(e);const n=Array.from(this.#e.values());for(const[r,i]of this.#n)n.includes(r)||(ls(i.effect),this.#n.delete(r))};ensure(e,n){var r=Mr,i=Cq();if(n&&!this.#t.has(e)&&!this.#n.has(e))if(i){var s=document.createDocumentFragment(),o=Na();s.append(o),this.#n.set(e,{effect:$o(()=>n(o)),fragment:s})}else this.#t.set(e,$o(()=>n(this.anchor)));if(this.#e.set(r,e),i){for(const[a,l]of this.#t)a===e?r.skipped_effects.delete(l):r.skipped_effects.add(l);for(const[a,l]of this.#n)a===e?r.skipped_effects.delete(l.effect):r.skipped_effects.add(l.effect);r.oncommit(this.#l),r.ondiscard(this.#a)}else Wt&&(this.anchor=wn),this.#l()}}function Oe(t,e,n=!1){Wt&&ld();var r=new ck(t),i=n?Xf:0;function s(o,a){if(Wt){const u=aq(t)===lk;if(o===u){var l=Px();Is(l),r.anchor=l,nu(!1),r.ensure(o,a),nu(!0);return}}r.ensure(o,a)}Pd(()=>{var o=!1;e((a,l=!0)=>{o=!0,s(l,a)}),o||s(!1,null)},i)}function cD(t,e,n){Wt&&ld();var r=new ck(t),i=!T1();Pd(()=>{var s=e();i&&s!==null&&typeof s=="object"&&(s={}),r.ensure(s,n)})}let E_=null;function Rn(t,e){return e}function Npe(t,e,n){for(var r=t.items,i=[],s=e.length,o=0;o<s;o++)sD(e[o].e,i,!0);var a=s>0&&i.length===0&&n!==null;if(a){var l=n.parentNode;kq(l),l.append(n),r.clear(),Fu(t,e[0].prev,e[s-1].next)}Iq(i,()=>{for(var u=0;u<s;u++){var c=e[u];a||(r.delete(c.k),Fu(t,c.prev,c.next)),ls(c.e,!a)}})}function Zt(t,e,n,r,i,s=null){var o=t,a={flags:e,items:new Map,first:null},l=(e&iq)!==0;if(l){var u=t;o=Wt?Is(Ts(u)):u.appendChild(Na())}Wt&&ld();var c=null,f=!1,h=new Map,d=rD(()=>{var v=n();return vO(v)?v:v==null?[]:GT(v)}),m,g;function b(){Qpe(g,m,a,h,o,i,e,r,n),s!==null&&(m.length===0?c?oD(c):c=$o(()=>s(o)):c!==null&&Wm(c,()=>{c=null}))}Pd(()=>{g??=rn,m=w(d);var v=m.length;if(f&&v===0)return;f=v===0;let O=!1;if(Wt){var x=aq(o)===lk;x!==(v===0)&&(o=Px(),Is(o),nu(!1),O=!0)}if(Wt){for(var C=null,S,A=0;A<v;A++){if(wn.nodeType===x0&&wn.data===tD){o=wn,O=!0,nu(!1);break}var k=m[A],T=r(k,A);S=GA(wn,a,C,null,k,T,A,i,e,n),a.items.set(T,S),C=S}v>0&&Is(Px())}if(Wt)v===0&&s&&(c=$o(()=>s(o)));else if(Cq()){var D=new Set,$=Mr;for(A=0;A<v;A+=1){k=m[A],T=r(k,A);var M=a.items.get(T)??h.get(T);M?(e&(ok|ak))!==0&&Zq(M,k,A,e):(S=GA(null,a,null,null,k,T,A,i,e,n,!0),h.set(T,S)),D.add(T)}for(const[L,R]of a.items)D.has(L)||$.skipped_effects.add(R.e);$.oncommit(b)}else b();O&&nu(!0),w(d)}),Wt&&(o=wn)}function Qpe(t,e,n,r,i,s,o,a,l){var u=(o&jde)!==0,c=(o&(ok|ak))!==0,f=e.length,h=n.items,d=n.first,m=d,g,b=null,v,O=[],x=[],C,S,A,k;if(u)for(k=0;k<f;k+=1)C=e[k],S=a(C,k),A=h.get(S),A!==void 0&&(A.a?.measure(),(v??=new Set).add(A));for(k=0;k<f;k+=1){if(C=e[k],S=a(C,k),A=h.get(S),A===void 0){var T=r.get(S);if(T!==void 0){r.delete(S),h.set(S,T);var D=b?b.next:m;Fu(n,b,T),Fu(n,T,D),sC(T,D,i),b=T}else{var $=m?m.e.nodes_start:i;b=GA($,n,b,b===null?n.first:b.next,C,S,k,s,o,l)}h.set(S,b),O=[],x=[],m=b.next;continue}if(c&&Zq(A,C,k,o),(A.e.f&Ra)!==0&&(oD(A.e),u&&(A.a?.unfix(),(v??=new Set).delete(A))),A!==m){if(g!==void 0&&g.has(A)){if(O.length<x.length){var M=x[0],L;b=M.prev;var R=O[0],I=O[O.length-1];for(L=0;L<O.length;L+=1)sC(O[L],M,i);for(L=0;L<x.length;L+=1)g.delete(x[L]);Fu(n,R.prev,I.next),Fu(n,b,R),Fu(n,I,M),m=M,b=I,k-=1,O=[],x=[]}else g.delete(A),sC(A,m,i),Fu(n,A.prev,A.next),Fu(n,A,b===null?n.first:b.next),Fu(n,b,A),b=A;continue}for(O=[],x=[];m!==null&&m.k!==S;)(m.e.f&Ra)===0&&(g??=new Set).add(m),x.push(m),m=m.next;if(m===null)continue;A=m}O.push(A),b=A,m=A.next}if(m!==null||g!==void 0){for(var B=g===void 0?[]:GT(g);m!==null;)(m.e.f&Ra)===0&&B.push(m),m=m.next;var z=B.length;if(z>0){var Z=(o&iq)!==0&&f===0?i:null;if(u){for(k=0;k<z;k+=1)B[k].a?.measure();for(k=0;k<z;k+=1)B[k].a?.fix()}Npe(n,B,Z)}}u&&eh(()=>{if(v!==void 0)for(A of v)A.a?.apply()}),t.first=n.first&&n.first.e,t.last=b&&b.e;for(var J of r.values())ls(J.e);r.clear()}function Zq(t,e,n,r){(r&ok)!==0&&$g(t.v,e),(r&ak)!==0?$g(t.i,n):t.i=n}function GA(t,e,n,r,i,s,o,a,l,u,c){var f=E_,h=(l&ok)!==0,d=(l&qde)===0,m=h?d?Zm(i,!1,!1):e0(i):i,g=(l&ak)===0?o:e0(o),b={i:g,v:m,k:s,a:null,e:null,prev:n,next:r};E_=b;try{if(t===null){var v=document.createDocumentFragment();v.append(t=Na())}return b.e=$o(()=>a(t,m,g,u),Wt),b.e.prev=n&&n.e,b.e.next=r&&r.e,n===null?c||(e.first=b):(n.next=b,n.e.next=b.e),r!==null&&(r.prev=b,r.e.prev=b.e),b}finally{E_=f}}function sC(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var o=pu(s);i.before(s),s=o}}function Fu(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Wq(t,e,n=!1,r=!1,i=!1){var s=t,o="";Pe(()=>{var a=rn;if(o===(o=e()??"")){Wt&&ld();return}if(a.nodes_start!==null&&(Rq(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),o!==""){if(Wt){wn.data;for(var l=ld(),u=l;l!==null&&(l.nodeType!==x0||l.data!=="");)u=l,l=pu(l);if(l===null)throw OO(),Hp;$a(wn,u),s=Is(l);return}var c=o+"";n?c=`<svg>${c}</svg>`:r&&(c=`<math>${c}</math>`);var f=lD(c);if((n||r)&&(f=Ts(f)),$a(Ts(f),f.lastChild),n||r)for(;Ts(f);)s.before(Ts(f));else s.before(f)}})}function vc(t,e,...n){var r=new ck(t);Pd(()=>{const i=e()??null;r.ensure(i,i&&(s=>i(s,...n)))},Xf)}function Zf(t,e,n){Wt&&ld();var r=new ck(t);Pd(()=>{var i=e()??null;r.ensure(i,i&&(s=>n(s,i)))},Xf)}function ei(t,e,n){P1(()=>{var r=vs(()=>e(t,n?.())||{});if(n&&r?.update){var i=!1,s={};R1(()=>{var o=n();aD(o),i&&nD(s,o)&&(s=o,r.update(o))}),i=!0}if(r?.destroy)return()=>r.destroy()})}function Bpe(t,e){var n=void 0,r;Pd(()=>{n!==(n=e())&&(r&&(ls(r),r=null),n&&(r=$o(()=>{P1(()=>n(t))})))})}function Yq(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Yq(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zpe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Yq(t))&&(r&&(r+=" "),r+=e);return r}function xO(t){return typeof t=="object"?zpe(t):t??""}const SF=[...` 	
\r\fÂ \v\uFEFF`];function Upe(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var a=o+s;(o===0||SF.includes(r[o-1]))&&(a===r.length||SF.includes(r[a]))?r=(o===0?"":r.substring(0,o))+r.substring(a+1):o=a}}return r===""?null:r}function kF(t,e=!1){var n=e?" !important;":";",r="";for(var i in t){var s=t[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function oC(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function jpe(t,e){if(e){var n="",r,i;if(Array.isArray(e)?(r=e[0],i=e[1]):r=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,a=!1,l=[];r&&l.push(...Object.keys(r).map(oC)),i&&l.push(...Object.keys(i).map(oC));var u=0,c=-1;const g=t.length;for(var f=0;f<g;f++){var h=t[f];if(a?h==="/"&&t[f-1]==="*"&&(a=!1):s?s===h&&(s=!1):h==="/"&&t[f+1]==="*"?a=!0:h==='"'||h==="'"?s=h:h==="("?o++:h===")"&&o--,!a&&s===!1&&o===0){if(h===":"&&c===-1)c=f;else if(h===";"||f===g-1){if(c!==-1){var d=oC(t.substring(u,c).trim());if(!l.includes(d)){h!==";"&&f++;var m=t.substring(u,f).trim();n+=" "+m+";"}}u=f+1,c=-1}}}}return r&&(n+=kF(r)),i&&(n+=kF(i,!0)),n=n.trim(),n===""?null:n}return t==null?null:String(t)}function ur(t,e,n,r,i,s){var o=t.__className;if(Wt||o!==n||o===void 0){var a=Upe(n,r,s);(!Wt||a!==t.getAttribute("class"))&&(a==null?t.removeAttribute("class"):e?t.className=a:t.setAttribute("class",a)),t.__className=n}else if(s&&i!==s)for(var l in s){var u=!!s[l];(i==null||u!==!!i[l])&&t.classList.toggle(l,u)}return s}function aC(t,e={},n,r){for(var i in n){var s=n[i];e[i]!==s&&(n[i]==null?t.style.removeProperty(i):t.style.setProperty(i,s,r))}}function ot(t,e,n,r){var i=t.__style;if(Wt||i!==e){var s=jpe(e,r);(!Wt||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=e}else r&&(Array.isArray(r)?(aC(t,n?.[0],r[0]),aC(t,n?.[1],r[1],"important")):aC(t,n,r));return r}function Ix(t,e,n=!1){if(t.multiple){if(e==null)return;if(!vO(e))return npe();for(var r of t.options)r.selected=e.includes(CF(r));return}for(r of t.options){var i=CF(r);if(mpe(i,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Gq(t){var e=new MutationObserver(()=>{Ix(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),_O(()=>{e.disconnect()})}function CF(t){return"__value"in t?t.__value:t.value}const Ay=Symbol("class"),Ey=Symbol("style"),Hq=Symbol("is custom element"),Kq=Symbol("is html");function fD(t){if(Wt){var e=!1,n=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;pe(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var i=t.checked;pe(t,"checked",null),t.checked=i}}};t.__on_r=n,eh(n),Aq()}}function qpe(t,e){var n=hD(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Vpe(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function pe(t,e,n,r){var i=hD(t);Wt&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=n)&&(e==="loading"&&(t[Dde]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Jq(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Xpe(t,e,n,r,i=!1,s=!1){if(Wt&&i&&t.tagName==="INPUT"){var o=t,a=o.type==="checkbox"?"defaultChecked":"defaultValue";a in n||fD(o)}var l=hD(t),u=l[Hq],c=!l[Kq];let f=Wt&&u;f&&nu(!1);var h=e||{},d=t.tagName==="OPTION";for(var m in e)m in n||(n[m]=null);n.class?n.class=xO(n.class):n[Ay]&&(n.class=null),n[Ey]&&(n.style??=null);var g=Jq(t);for(const A in n){let k=n[A];if(d&&A==="value"&&k==null){t.value=t.__value="",h[A]=k;continue}if(A==="class"){var b=t.namespaceURI==="http://www.w3.org/1999/xhtml";ur(t,b,k,r,e?.[Ay],n[Ay]),h[A]=k,h[Ay]=n[Ay];continue}if(A==="style"){ot(t,k,e?.[Ey],n[Ey]),h[A]=k,h[Ey]=n[Ey];continue}var v=h[A];if(!(k===v&&!(k===void 0&&t.hasAttribute(A)))){h[A]=k;var O=A[0]+A[1];if(O!=="$$")if(O==="on"){const T={},D="$$"+A;let $=A.slice(2);var x=Dpe($);if(Epe($)&&($=$.slice(0,-7),T.capture=!0),!x&&v){if(k!=null)continue;t.removeEventListener($,h[D],T),h[D]=null}if(k!=null)if(x)t[`__${$}`]=k,Dr([$]);else{let M=function(L){h[A].call(this,L)};h[D]=Vq($,t,M,T)}else x&&(t[`__${$}`]=void 0)}else if(A==="style")pe(t,A,k);else if(A==="autofocus")gpe(t,!!k);else if(!u&&(A==="__value"||A==="value"&&k!=null))t.value=t.__value=k;else if(A==="selected"&&d)Vpe(t,k);else{var C=A;c||(C=Rpe(C));var S=C==="defaultValue"||C==="defaultChecked";if(k==null&&!u&&!S)if(l[A]=null,C==="value"||C==="checked"){let T=t;const D=e===void 0;if(C==="value"){let $=T.defaultValue;T.removeAttribute(C),T.defaultValue=$,T.value=T.__value=D?$:null}else{let $=T.defaultChecked;T.removeAttribute(C),T.defaultChecked=$,T.checked=D?$:!1}}else t.removeAttribute(A);else S||g.includes(C)&&(u||typeof k!="string")?(t[C]=k,C in l&&(l[C]=hs)):typeof k!="function"&&pe(t,C,k)}}}return f&&nu(!0),h}function fi(t,e,n=[],r=[],i=[],s,o=!1,a=!1){yq(i,n,r,l=>{var u=void 0,c={},f=t.nodeName==="SELECT",h=!1;if(Pd(()=>{var m=e(...l.map(w)),g=Xpe(t,u,m,s,o,a);h&&f&&"value"in m&&Ix(t,m.value);for(let v of Object.getOwnPropertySymbols(c))m[v]||ls(c[v]);for(let v of Object.getOwnPropertySymbols(m)){var b=m[v];v.description===tpe&&(!u||b!==u[v])&&(c[v]&&ls(c[v]),c[v]=$o(()=>Bpe(t,()=>b))),g[v]=b}u=g}),f){var d=t;P1(()=>{Ix(d,u.value,!0),Gq(d)})}h=!0})}function hD(t){return t.__attributes??={[Hq]:t.nodeName.includes("-"),[Kq]:t.namespaceURI===epe}}var AF=new Map;function Jq(t){var e=t.getAttribute("is")||t.nodeName,n=AF.get(e);if(n)return n;AF.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=eq(i);for(var o in r)r[o].set&&n.push(o);i=KT(i)}return n}const Zpe=()=>performance.now(),vf={tick:t=>requestAnimationFrame(t),now:()=>Zpe(),tasks:new Set};function eV(){const t=vf.now();vf.tasks.forEach(e=>{e.c(t)||(vf.tasks.delete(e),e.f())}),vf.tasks.size!==0&&vf.tick(eV)}function Wpe(t){let e;return vf.tasks.size===0&&vf.tick(eV),{promise:new Promise(n=>{vf.tasks.add(e={c:t,f:n})}),abort(){vf.tasks.delete(e)}}}function aw(t,e){D1(()=>{t.dispatchEvent(new CustomEvent(e))})}function Ype(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function EF(t){const e={},n=t.split(";");for(const r of n){const[i,s]=r.split(":");if(!i||s===void 0)break;const o=Ype(i.trim());e[o]=s.trim()}return e}const Gpe=t=>t;function TF(t,e,n){var r=E_,i,s,o,a=null;r.a??={element:t,measure(){i=this.element.getBoundingClientRect()},apply(){if(o?.abort(),s=this.element.getBoundingClientRect(),i.left!==s.left||i.right!==s.right||i.top!==s.top||i.bottom!==s.bottom){const l=e()(this.element,{from:i,to:s},n?.());o=Fx(this.element,l,void 0,1,()=>{o?.abort(),o=void 0})}},fix(){if(!t.getAnimations().length){var{position:l,width:u,height:c}=getComputedStyle(t);if(l!=="absolute"&&l!=="fixed"){var f=t.style;a={position:f.position,width:f.width,height:f.height,transform:f.transform},f.position="absolute",f.width=u,f.height=c;var h=t.getBoundingClientRect();if(i.left!==h.left||i.top!==h.top){var d=`translate(${i.left-h.left}px, ${i.top-h.top}px)`;f.transform=f.transform?`${f.transform} ${d}`:d}}}},unfix(){if(a){var l=t.style;l.position=a.position,l.width=a.width,l.height=a.height,l.transform=a.transform}}},r.a.element=t}function Qh(t,e,n,r){var i=(t&Gde)!==0,s=(t&Hde)!==0,o=i&&s,a=(t&Kde)!==0,l=o?"both":i?"in":"out",u,c=e.inert,f=e.style.overflow,h,d;function m(){return D1(()=>u??=n()(e,r?.()??{},{direction:l}))}var g={is_global:a,in(){if(e.inert=c,!i){d?.abort(),d?.reset?.();return}s||h?.abort(),aw(e,"introstart"),h=Fx(e,m(),d,1,()=>{aw(e,"introend"),h?.abort(),h=u=void 0,e.style.overflow=f})},out(x){if(!s){x?.(),u=void 0;return}e.inert=!0,aw(e,"outrostart"),d=Fx(e,m(),h,0,()=>{aw(e,"outroend"),x?.()})},stop:()=>{h?.abort(),d?.abort()}},b=rn;if((b.transitions??=[]).push(g),i&&WA){var v=a;if(!v){for(var O=b.parent;O&&(O.f&Xf)!==0;)for(;(O=O.parent)&&(O.f&$c)===0;);v=!O||(O.f&rk)!==0}v&&P1(()=>{vs(()=>g.in())})}}function Fx(t,e,n,r,i){var s=r===1;if(gm(e)){var o,a=!1;return eh(()=>{if(!a){var b=e({direction:s?"in":"out"});o=Fx(t,b,n,r,i)}}),{abort:()=>{a=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(n?.deactivate(),!e?.duration)return i(),{abort:yr,deactivate:yr,reset:yr,t:()=>r};const{delay:l=0,css:u,tick:c,easing:f=Gpe}=e;var h=[];if(s&&n===void 0&&(c&&c(0,1),u)){var d=EF(u(0,1));h.push(d,d)}var m=()=>1-r,g=t.animate(h,{duration:l,fill:"forwards"});return g.onfinish=()=>{g.cancel();var b=n?.t()??1-r;n?.abort();var v=r-b,O=e.duration*Math.abs(v),x=[];if(O>0){var C=!1;if(u)for(var S=Math.ceil(O/16.666666666666668),A=0;A<=S;A+=1){var k=b+v*f(A/S),T=EF(u(k,1-k));x.push(T),C||=T.overflow==="hidden"}C&&(t.style.overflow="hidden"),m=()=>{var D=g.currentTime;return b+v*f(D/O)},c&&Wpe(()=>{if(g.playState!=="running")return!1;var D=m();return c(D,1-D),!0})}g=t.animate(x,{duration:O,fill:"forwards"}),g.onfinish=()=>{m=()=>r,c?.(r,1-r),i()}},{abort:()=>{g&&(g.cancel(),g.effect=null,g.onfinish=yr)},deactivate:()=>{i=yr},reset:()=>{r===0&&c?.(1,0)},t:()=>m()}}function Hpe(t,e,n=e){var r=new WeakSet;ype(t,"input",async i=>{var s=i?t.defaultValue:t.value;if(s=lC(t)?uC(s):s,n(s),Mr!==null&&r.add(Mr),await Uq(),s!==(s=e())){var o=t.selectionStart,a=t.selectionEnd,l=t.value.length;if(t.value=s??"",a!==null){var u=t.value.length;o===a&&a===l&&u>l?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=o,t.selectionEnd=Math.min(a,u))}}}),(Wt&&t.defaultValue!==t.value||vs(e)==null&&t.value)&&(n(lC(t)?uC(t.value):t.value),Mr!==null&&r.add(Mr)),R1(()=>{var i=e();if(t===document.activeElement){var s=A_??Mr;if(r.has(s))return}lC(t)&&i===uC(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function lC(t){var e=t.type;return e==="number"||e==="range"}function uC(t){return t===""?null:+t}function Kpe(t,e,n){var r=$f(t,e);r&&r.set&&(t[e]=n,_O(()=>{t[e]=null}))}class dD{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(e){this.#n=e}observe(e,n){var r=this.#e.get(e)||new Set;return r.add(n),this.#e.set(e,r),this.#r().observe(e,this.#n),()=>{var i=this.#e.get(e);i.delete(n),i.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#r(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var n of e){dD.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var Jpe=new dD({box:"border-box"});function Oc(t,e,n){var r=Jpe.observe(t,()=>n(t[e]));P1(()=>(vs(()=>n(t[e])),r))}function DF(t,e){return t===e||t?.[lc]===e}function Ol(t={},e,n,r){return P1(()=>{var i,s;return R1(()=>{i=s,s=[],vs(()=>{t!==n(...s)&&(e(t,...s),i&&DF(n(...i),t)&&e(null,...i))})}),()=>{eh(()=>{s&&DF(n(...s),t)&&e(null,...s)})}}),t}function pD(t=!1){const e=fr,n=e.l.u;if(!n)return;let r=()=>aD(e.s);if(t){let i=0,s={};const o=wO(()=>{let a=!1;const l=e.s;for(const u in l)l[u]!==s[u]&&(s[u]=l[u],a=!0);return a&&i++,i});r=()=>w(o)}n.b.length&&or(()=>{PF(e,r),Ex(n.b)}),su(()=>{const i=vs(()=>n.m.map(Tde));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&su(()=>{PF(e,r),Ex(n.a)})}function PF(t,e){if(t.l.s)for(const n of t.l.s)w(n);e()}function RF(t,e){var n=t.$$events?.[e.type],r=vO(n)?n.slice():n==null?[]:[n];for(var i of r)i.call(this,e)}function mD(t,e,n){if(t==null)return e(void 0),n&&n(void 0),yr;const r=vs(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}const am=[];function tV(t,e){return{subscribe:Da(t,e).subscribe}}function Da(t,e=yr){let n=null;const r=new Set;function i(a){if(nD(t,a)&&(t=a,n)){const l=!am.length;for(const u of r)u[1](),am.push(u,t);if(l){for(let u=0;u<am.length;u+=2)am[u][0](am[u+1]);am.length=0}}}function s(a){i(a(t))}function o(a,l=yr){const u=[a,l];return r.add(u),r.size===1&&(n=e(i,s)||yr),a(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function SO(t,e,n){const r=!Array.isArray(t),i=r?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return tV(n,(o,a)=>{let l=!1;const u=[];let c=0,f=yr;const h=()=>{if(c)return;f();const m=e(r?u[0]:u,o,a);s?o(m):f=typeof m=="function"?m:yr},d=i.map((m,g)=>mD(m,b=>{u[g]=b,c&=~(1<<g),l&&h()},()=>{c|=1<<g}));return l=!0,h(),function(){Ex(d),f(),l=!1}})}function e0e(t){let e;return mD(t,n=>e=n)(),e}let lw=!1,HA=Symbol();function ki(t,e,n){const r=n[e]??={store:null,source:Zm(void 0),unsubscribe:yr};if(r.store!==t&&!(HA in n))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=yr;else{var i=!0;r.unsubscribe=mD(t,s=>{i?r.source.v=s:se(r.source,s)}),i=!1}return t&&HA in n?e0e(t):w(r.source)}function $F(t,e){return t.set(e),e}function za(){const t={};function e(){_O(()=>{for(var n in t)t[n].unsubscribe();HT(t,HA,{enumerable:!1,value:!0})})}return[t,e]}function t0e(t){var e=lw;try{return lw=!1,[t(),lw]}finally{lw=e}}const n0e={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function Xr(t,e,n){return new Proxy({props:t,exclude:e},n0e)}const r0e={get(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(gm(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,n){let r=t.props.length;for(;r--;){let i=t.props[r];gm(i)&&(i=i());const s=$f(i,e);if(s&&s.set)return s.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(gm(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const i=$f(r,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(t,e){if(e===lc||e===eD)return!1;for(let n of t.props)if(gm(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props)if(gm(n)&&(n=n()),!!n){for(const r in n)e.includes(r)||e.push(r);for(const r of Object.getOwnPropertySymbols(n))e.includes(r)||e.push(r)}return e}};function Fg(...t){return new Proxy({props:t},r0e)}function ht(t,e,n,r){var i=!E1||(n&Xde)!==0,s=(n&Wde)!==0,o=(n&Yde)!==0,a=r,l=!0,u=()=>(l&&(l=!1,a=o?vs(r):r),a),c;if(s){var f=lc in t||eD in t;c=$f(t,e)?.set??(f&&e in t?x=>t[e]=x:void 0)}var h,d=!1;s?[h,d]=t0e(()=>t[e]):h=t[e],h===void 0&&r!==void 0&&(h=u(),c&&(i&&Nde(),c(h)));var m;if(i?m=()=>{var x=t[e];return x===void 0?u():(l=!0,x)}:m=()=>{var x=t[e];return x!==void 0&&(a=void 0),x===void 0?a:x},i&&(n&Zde)===0)return m;if(c){var g=t.$$legacy;return(function(x,C){return arguments.length>0?((!i||!C||g||d)&&c(C?m():x),x):m()})}var b=!1,v=((n&Vde)!==0?wO:rD)(()=>(b=!1,m()));s&&w(v);var O=rn;return(function(x,C){if(arguments.length>0){const S=C?w(v):i&&s?gp(x):x;return se(v,S),b=!0,a!==void 0&&(a=S),x}return S0&&b||(O.f&If)!==0?v.v:w(v)})}function i0e(t){return new s0e(t)}class s0e{#e;#t;constructor(e){var n=new Map,r=(s,o)=>{var a=Zm(o,!1,!1);return n.set(s,a),a};const i=new Proxy({...e.props||{},$$events:{}},{get(s,o){return w(n.get(o)??r(o,Reflect.get(s,o)))},has(s,o){return o===eD?!0:(w(n.get(o)??r(o,Reflect.get(s,o))),Reflect.has(s,o))},set(s,o,a){return se(n.get(o)??r(o,a),a),Reflect.set(s,o,a)}});this.#t=(e.hydrate?Mpe:uD)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||e.sync===!1)&&hq(),this.#e=i.$$events;for(const s of Object.keys(this.#t))s==="$set"||s==="$destroy"||s==="$on"||HT(this,s,{get(){return this.#t[s]},set(o){this.#t[s]=o},enumerable:!0});this.#t.$set=s=>{Object.assign(i,s)},this.#t.$destroy=()=>{Lpe(this.#t)}}$set(e){this.#t.$set(e)}$on(e,n){this.#e[e]=this.#e[e]||[];const r=(...i)=>n.call(this,...i);return this.#e[e].push(r),()=>{this.#e[e]=this.#e[e].filter(i=>i!==r)}}$destroy(){this.#t.$destroy()}}function kO(t){fr===null&&sk(),E1&&fr.l!==null?nV(fr).m.push(t):su(()=>{const e=vs(t);if(typeof e=="function")return e})}function fk(t){fr===null&&sk(),kO(()=>()=>vs(t))}function o0e(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function a0e(){const t=fr;return t===null&&sk(),(e,n,r)=>{const i=t.s.$$events?.[e];if(i){const s=vO(i)?i.slice():[i],o=o0e(e,n,r);for(const a of s)a.call(t.x,o);return!o.defaultPrevented}return!0}}function l0e(t){fr===null&&sk(),fr.l===null&&Lde(),nV(fr).a.push(t)}function nV(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const u0e="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(u0e);spe();function c0e(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push("wild"),a+="/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+"/?$","i")}}function IF(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let r="";return n>-1&&(r=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:r}}const gD=tV(null,function(e){e(IF());const n=()=>{e(IF())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});SO(gD,t=>t.location);SO(gD,t=>t.querystring);const FF=Da(void 0);function f0e(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function h0e(t,e){Ke(e,!1);let n=ht(e,"routes",24,()=>({})),r=ht(e,"prefix",8,""),i=ht(e,"restoreScrollState",8,!1);class s{constructor(A,k){if(!k||typeof k!="function"&&(typeof k!="object"||k._sveltesparouter!==!0))throw Error("Invalid component object");if(!A||typeof A=="string"&&(A.length<1||A.charAt(0)!="/"&&A.charAt(0)!="*")||typeof A=="object"&&!(A instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:T,keys:D}=c0e(A);this.path=A,typeof k=="object"&&k._sveltesparouter===!0?(this.component=k.component,this.conditions=k.conditions||[],this.userData=k.userData,this.props=k.props||{}):(this.component=()=>Promise.resolve(k),this.conditions=[],this.props={}),this._pattern=T,this._keys=D}match(A){if(r()){if(typeof r()=="string")if(A.startsWith(r()))A=A.substr(r().length)||"/";else return null;else if(r()instanceof RegExp){const $=A.match(r());if($&&$[0])A=A.substr($[0].length)||"/";else return null}}const k=this._pattern.exec(A);if(k===null)return null;if(this._keys===!1)return k;const T={};let D=0;for(;D<this._keys.length;){try{T[this._keys[D]]=decodeURIComponent(k[D+1]||"")||null}catch{T[this._keys[D]]=null}D++}return T}async checkConditions(A){for(let k=0;k<this.conditions.length;k++)if(!await this.conditions[k](A))return!1;return!0}}const o=[];n()instanceof Map?n().forEach((S,A)=>{o.push(new s(A,S))}):Object.keys(n()).forEach(S=>{o.push(new s(S,n()[S]))});let a=Zm(null),l=Zm(null),u=Zm({});const c=a0e();async function f(S,A){await Uq(),c(S,A)}let h=null,d=null;i()&&(d=S=>{S.state&&(S.state.__svelte_spa_router_scrollY||S.state.__svelte_spa_router_scrollX)?h=S.state:h=null},window.addEventListener("popstate",d),l0e(()=>{f0e(h)}));let m=null,g=null;const b=gD.subscribe(async S=>{m=S;let A=0;for(;A<o.length;){const k=o[A].match(S.location);if(!k){A++;continue}const T={route:o[A].path,location:S.location,querystring:S.querystring,userData:o[A].userData,params:k&&typeof k=="object"&&Object.keys(k).length?k:null};if(!await o[A].checkConditions(T)){se(a,null),g=null,f("conditionsFailed",T);return}f("routeLoading",Object.assign({},T));const D=o[A].component;if(g!=D){D.loading?(se(a,D.loading),g=D,se(l,D.loadingParams),se(u,{}),f("routeLoaded",Object.assign({},T,{component:w(a),name:w(a).name,params:w(l)}))):(se(a,null),g=null);const $=await D();if(S!=m)return;se(a,$&&$.default||$),g=D}k&&typeof k=="object"&&Object.keys(k).length?se(l,k):se(l,null),se(u,o[A].props),f("routeLoaded",Object.assign({},T,{component:w(a),name:w(a).name,params:w(l)})).then(()=>{FF.set(w(l))});return}se(a,null),g=null,FF.set(void 0)});fk(()=>{b(),d&&window.removeEventListener("popstate",d)}),wpe(()=>aD(i()),()=>{history.scrollRestoration=i()?"manual":"auto"}),_pe(),pD();var v=At(),O=Be(v);{var x=S=>{var A=At(),k=Be(A);Zf(k,()=>w(a),(T,D)=>{D(T,Fg({get params(){return w(l)}},()=>w(u),{$$events:{routeEvent($){RF.call(this,e,$)}}}))}),j(S,A)},C=S=>{var A=At(),k=Be(A);Zf(k,()=>w(a),(T,D)=>{D(T,Fg(()=>w(u),{$$events:{routeEvent($){RF.call(this,e,$)}}}))}),j(S,A)};Oe(O,S=>{w(l)?S(x):S(C,!1)})}j(t,v),Je()}const MF={};function d0e(t,e=!1){let n,r,i=MF;function s(u){n=t(u)?.catch(()=>{}).finally(()=>{if(r){const{event:c}=r;r=null,s(c)}else n=null})||null}function o(u){r={event:u}}function a(u){n?o(u):s(u)}function l(u){i!==u&&requestAnimationFrame(()=>{const c=i;i=MF,a(c)}),i=u}return e?l:a}class hk{_filterBy;_requestUpdate;_coordinator;_pending;_enabled;_initialized;_request;constructor(e){this._filterBy=e,this._requestUpdate=d0e(()=>this.requestQuery(),!0),this._coordinator=null,this._pending=Promise.resolve(),this._enabled=!0,this._initialized=!1,this._request=null}get coordinator(){return this._coordinator}set coordinator(e){this._coordinator=e}get enabled(){return this._enabled}set enabled(e){e=!!e,this._enabled!==e&&(this._enabled=e,e&&(this._initialized?this._request&&this.requestQuery(this._request===!0?void 0:this._request):this.initialize(),this._request=null))}get pending(){return this._pending}get filterBy(){return this._filterBy}get filterStable(){return!0}async prepare(){}query(e){return null}queryPending(){return this}queryResult(e){return this}queryError(e){return this}requestQuery(e){if(this._enabled){const n=e||this.query(this.filterBy?.predicate(this));return this._coordinator.requestQuery(this,n)}else return this._request=e??!0,null}requestUpdate(){this._enabled?this._requestUpdate():this.requestQuery()}initialize(){this._enabled?this._coordinator&&(this._initialized=!0,this._pending=this.prepare().then(()=>this.requestQuery())):this._initialized=!1}destroy(){this._enabled=!1,this.coordinator?.disconnect(this)}update(){return this}}const rV=Uint8Array.of(65,82,82,79,87,49),dk={V1:0,V4:3,V5:4},Of={NONE:0,Schema:1,DictionaryBatch:2,RecordBatch:3,Tensor:4,SparseTensor:5},xe={Dictionary:-1,NONE:0,Null:1,Int:2,Float:3,Binary:4,Utf8:5,Bool:6,Decimal:7,Date:8,Time:9,Timestamp:10,Interval:11,List:12,Struct:13,Union:14,FixedSizeBinary:15,FixedSizeList:16,Map:17,Duration:18,LargeBinary:19,LargeUtf8:20,LargeList:21,RunEndEncoded:22,BinaryView:23,Utf8View:24,ListView:25,LargeListView:26},iV={HALF:0,SINGLE:1,DOUBLE:2},Mx={DAY:0,MILLISECOND:1},jo={SECOND:0,MILLISECOND:1,MICROSECOND:2,NANOSECOND:3},Gm={YEAR_MONTH:0,DAY_TIME:1,MONTH_DAY_NANO:2},yD={Sparse:0,Dense:1},p0e=Uint8Array,sV=Uint16Array,m0e=Uint32Array,oV=BigUint64Array,aV=Int8Array,g0e=Int16Array,mu=Int32Array,Mc=BigInt64Array,y0e=Float32Array,pk=Float64Array;function b0e(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function v0e(t,e){const n=Math.log2(t)-3;return(e?[aV,g0e,mu,Mc]:[p0e,sV,m0e,oV])[n]}function bD(t,e){let n=0,r=t.length;if(r<=2147483648)do{const i=n+r>>>1;t[i]<=e?n=i+1:r=i}while(n<r);else do{const i=Math.trunc((n+r)/2);t[i]<=e?n=i+1:r=i}while(n<r);return n}function vD(t,e,n){if(e(t))return t;throw new Error(n(t))}function Lc(t,e,n){return e=Array.isArray(e)?e:Object.values(e),vD(t,r=>e.includes(r),n??(()=>`${t} must be one of ${e}`))}function lV(t,e){for(const[n,r]of Object.entries(t))if(r===e)return n;return"<Unknown>"}const OD=t=>`Unsupported data type: "${lV(xe,t)}" (id ${t})`,uV=(t,e,n=!0,r=null)=>({name:t,type:e,nullable:n,metadata:r});function cV(t){return Object.hasOwn(t,"name")&&fV(t.type)}function fV(t){return typeof t?.typeId=="number"}function ud(t,e="",n=!0){return cV(t)?t:uV(e,vD(t,fV,()=>"Data type expected."),n)}const O0e=(t,e,n=!1,r=-1)=>({typeId:xe.Dictionary,id:r,dictionary:t,indices:e||dV(),ordered:n}),hV=(t=32,e=!0)=>({typeId:xe.Int,bitWidth:Lc(t,[8,16,32,64]),signed:e,values:v0e(t,e)}),dV=()=>hV(32),w0e=(t=2)=>({typeId:xe.Float,precision:Lc(t,iV),values:[sV,y0e,pk][t]}),_0e=()=>({typeId:xe.Binary,offsets:mu}),x0e=()=>({typeId:xe.Utf8,offsets:mu}),S0e=(t,e,n=128)=>({typeId:xe.Decimal,precision:t,scale:e,bitWidth:Lc(n,[32,64,128,256]),values:n===32?mu:oV}),k0e=t=>({typeId:xe.Date,unit:Lc(t,Mx),values:t===Mx.DAY?mu:Mc}),C0e=(t=jo.MILLISECOND)=>{t=Lc(t,jo);const e=t===jo.SECOND||t===jo.MILLISECOND?32:64;return{typeId:xe.Time,unit:t,bitWidth:e,values:e===32?mu:Mc}},A0e=(t=jo.MILLISECOND,e=null)=>({typeId:xe.Timestamp,unit:Lc(t,jo),timezone:e,values:Mc}),E0e=(t=Gm.MONTH_DAY_NANO)=>({typeId:xe.Interval,unit:Lc(t,Gm),values:t===Gm.MONTH_DAY_NANO?void 0:mu}),T0e=t=>({typeId:xe.List,children:[ud(t)],offsets:mu}),D0e=t=>({typeId:xe.Struct,children:Array.isArray(t)&&cV(t[0])?t:Object.entries(t).map(([e,n])=>uV(e,n))}),P0e=(t,e,n,r)=>(n??=e.map((i,s)=>s),{typeId:xe.Union,mode:Lc(t,yD),typeIds:n,typeMap:n.reduce((i,s,o)=>(i[s]=o,i),{}),children:e.map((i,s)=>ud(i,`_${s}`)),typeIdForValue:r,offsets:mu}),R0e=t=>({typeId:xe.FixedSizeBinary,stride:t}),$0e=(t,e)=>({typeId:xe.FixedSizeList,stride:e,children:[ud(t)]}),I0e=(t,e)=>({typeId:xe.Map,keysSorted:t,children:[e],offsets:mu}),F0e=(t=jo.MILLISECOND)=>({typeId:xe.Duration,unit:Lc(t,jo),values:Mc}),M0e=()=>({typeId:xe.LargeBinary,offsets:Mc}),L0e=()=>({typeId:xe.LargeUtf8,offsets:Mc}),N0e=t=>({typeId:xe.LargeList,children:[ud(t)],offsets:Mc}),Q0e=(t,e)=>({typeId:xe.RunEndEncoded,children:[vD(ud(t,"run_ends"),n=>n.type.typeId===xe.Int,()=>"Run-ends must have an integer type."),ud(e,"values")]}),B0e=t=>({typeId:xe.ListView,children:[ud(t,"value")],offsets:mu}),z0e=t=>({typeId:xe.LargeListView,children:[ud(t,"value")],offsets:Mc}),U0e=new pk(2),j0e=U0e.buffer;new Mc(j0e);function cd(t){if(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER)throw Error(`BigInt exceeds integer number representation: ${t}`);return Number(t)}function wD(t,e){return Number(t/e)+Number(t%e)/Number(e)}const Rm=t=>BigInt.asUintN(64,t);function q0e(t,e){return BigInt.asIntN(64,t[e])}function V0e(t,e){const n=e<<1;let r;return BigInt.asIntN(64,t[n+1])<0?(r=Rm(~t[n])|Rm(~t[n+1])<<64n,r=-(r+1n)):r=t[n]|t[n+1]<<64n,r}function X0e(t,e){const n=e<<2;let r;return BigInt.asIntN(64,t[n+3])<0?(r=Rm(~t[n])|Rm(~t[n+1])<<64n|Rm(~t[n+2])<<128n|Rm(~t[n+3])<<192n,r=-(r+1n)):r=t[n]|t[n+1]<<64n|t[n+2]<<128n|t[n+3]<<192n,r}const Z0e=new TextDecoder("utf-8");new TextEncoder;function mk(t){return Z0e.decode(t)}const iv=4;function pV(t,e){return(t[e>>3]&1<<e%8)!==0}function th(t,e){const n=e+ti(t,e),r=n-ti(t,n),i=nl(t,r);return(s,o,a=null)=>{if(s<i){const l=nl(t,r+s);if(l)return o(t,n+l)}return a}}function yp(t,e){return e}function sv(t,e){return!!W0e(t,e)}function W0e(t,e){return _D(t,e)<<24>>24}function _D(t,e){return t[e]}function nl(t,e){return Y0e(t,e)<<16>>16}function Y0e(t,e){return t[e]|t[e+1]<<8}function ti(t,e){return t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24}function LF(t,e){return ti(t,e)>>>0}function sl(t,e){return cd(BigInt.asIntN(64,BigInt(LF(t,e))+(BigInt(LF(t,e+iv))<<32n)))}function Lx(t,e){let n=e+ti(t,e);const r=ti(t,n);return n+=iv,mk(t.subarray(n,n+r))}function Hh(t,e,n,r){if(!e)return[];const i=e+ti(t,e);return Array.from({length:ti(t,i)},(s,o)=>r(t,i+iv+o*n))}const cC=Symbol("rowIndex");function KA(t,e){class n{constructor(s){this[cC]=s}toJSON(){return gV(t,e,this[cC])}}const r=n.prototype;for(let i=0;i<t.length;++i){if(Object.hasOwn(r,t[i]))continue;const s=e[i];Object.defineProperty(r,t[i],{get(){return s.at(this[cC])},enumerable:!0})}return i=>new n(i)}function mV(t,e){return n=>gV(t,e,n)}function gV(t,e,n){const r={};for(let i=0;i<t.length;++i)r[t[i]]=e[i].at(n);return r}function G0e(t){return t instanceof sb}class gk{static ArrayType=null;constructor({length:e,nullCount:n,type:r,validity:i,values:s,offsets:o,sizes:a,children:l}){this.length=e,this.nullCount=n,this.type=r,this.validity=i,this.values=s,this.offsets=o,this.sizes=a,this.children=l,(!n||!this.validity)&&(this.at=u=>this.value(u))}get[Symbol.toStringTag](){return"Batch"}at(e){return this.isValid(e)?this.value(e):null}isValid(e){return pV(this.validity,e)}value(e){return this.values[e]}slice(e,n){const r=n-e,i=Array(r);for(let s=0;s<r;++s)i[s]=this.at(e+s);return i}*[Symbol.iterator](){for(let e=0;e<this.length;++e)yield this.at(e)}}class sb extends gk{constructor(e){super(e);const{length:n,values:r}=this;this.values=r.subarray(0,n)}slice(e,n){return this.nullCount?super.slice(e,n):this.values.subarray(e,n)}[Symbol.iterator](){return this.nullCount?super[Symbol.iterator]():this.values[Symbol.iterator]()}}class yk extends gk{static ArrayType=pk}class Ei extends gk{static ArrayType=Array}class H0e extends Ei{value(e){return null}}class I1 extends yk{value(e){return cd(this.values[e])}}class K0e extends yk{value(e){const n=this.values[e],r=(n&31744)>>10,i=(n&1023)/1024,s=(-1)**((n&32768)>>15);switch(r){case 31:return s*(i?Number.NaN:1/0);case 0:return s*(i?6103515625e-14*i:0)}return s*2**(r-15)*(1+i)}}class J0e extends Ei{value(e){return pV(this.values,e)}}class eme extends yk{constructor(e){super(e);const{scale:n}=this.type;this.scale=10**n}value(e){return this.values[e]/this.scale}}class yV extends gk{constructor(e){super(e);const{bitWidth:n,scale:r}=this.type;this.decimal=n===64?q0e:n===128?V0e:X0e,this.scale=10n**BigInt(r)}}class tme extends yV{static ArrayType=pk;value(e){return wD(this.decimal(this.values,e),this.scale)}}class nme extends yV{static ArrayType=Array;value(e){return this.decimal(this.values,e)}}class NF extends Ei{constructor(e){super(e),this.source=e}value(e){return new Date(this.source.value(e))}}class rme extends yk{value(e){return 864e5*this.values[e]}}const ime=I1;class sme extends I1{value(e){return super.value(e)*1e3}}const ome=I1;class ame extends I1{value(e){return wD(this.values[e],1000n)}}class lme extends I1{value(e){return wD(this.values[e],1000000n)}}class ume extends Ei{value(e){return this.values.subarray(e<<1,e+1<<1)}}class cme extends Ei{value(e){const n=this.values,r=e<<4;return Float64Array.of(ti(n,r),ti(n,r+4),sl(n,r+8))}}const bV=({values:t,offsets:e},n)=>t.subarray(e[n],e[n+1]),vV=({values:t,offsets:e},n)=>t.subarray(cd(e[n]),cd(e[n+1]));class fme extends Ei{value(e){return bV(this,e)}}class hme extends Ei{value(e){return vV(this,e)}}class dme extends Ei{value(e){return mk(bV(this,e))}}class pme extends Ei{value(e){return mk(vV(this,e))}}class mme extends Ei{value(e){const n=this.offsets;return this.children[0].slice(n[e],n[e+1])}}class gme extends Ei{value(e){const n=this.offsets;return this.children[0].slice(cd(n[e]),cd(n[e+1]))}}class yme extends Ei{value(e){const n=this.offsets[e],r=n+this.sizes[e];return this.children[0].slice(n,r)}}class bme extends Ei{value(e){const n=this.offsets[e],r=n+this.sizes[e];return this.children[0].slice(cd(n),cd(r))}}class OV extends Ei{constructor(e){super(e),this.stride=this.type.stride}}class vme extends OV{value(e){const{stride:n,values:r}=this;return r.subarray(e*n,(e+1)*n)}}class Ome extends OV{value(e){const{children:n,stride:r}=this;return n[0].slice(e*r,(e+1)*r)}}function wV({children:t,offsets:e},n){const[r,i]=t[0].children,s=e[n],o=e[n+1],a=[];for(let l=s;l<o;++l)a.push([r.at(l),i.at(l)]);return a}class wme extends Ei{value(e){return wV(this,e)}}class _me extends Ei{value(e){return new Map(wV(this,e))}}class _V extends Ei{constructor({typeIds:e,...n}){super(n),this.typeIds=e,this.typeMap=this.type.typeMap}value(e,n=e){const{typeIds:r,children:i,typeMap:s}=this;return i[s[r[e]]].at(n)}}class xme extends _V{value(e){return super.value(e,this.offsets[e])}}class xV extends Ei{constructor(e,n=mV){super(e),this.names=this.type.children.map(r=>r.name),this.factory=n(this.names,this.children)}value(e){return this.factory(e)}}class Sme extends xV{constructor(e){super(e,KA)}}class kme extends Ei{value(e){const[{values:n},r]=this.children;return r.at(bD(n,e))}}let Cme=class extends Ei{setDictionary(e){return this.dictionary=e,this.cache=e.cache(),this}value(e){return this.cache[this.key(e)]}key(e){return this.values[e]}};class SV extends Ei{constructor({data:e,...n}){super(n),this.data=e}view(e){const{values:n,data:r}=this,i=e<<4;let s=i+4,o=n;const a=ti(o,i);return a>12&&(s=ti(o,i+12),o=r[ti(o,i+8)]),o.subarray(s,s+a)}}class Ame extends SV{value(e){return this.view(e)}}class Eme extends SV{value(e){return mk(this.view(e))}}function QF(t){let e=[];return{add(n){return e.push(n),this},clear:()=>e=[],done:()=>new Tme(e,t)}}class Tme{constructor(e,n=e[0]?.type){this.type=n,this.length=e.reduce((s,o)=>s+o.length,0),this.nullCount=e.reduce((s,o)=>s+o.nullCount,0),this.data=e;const r=e.length,i=new Int32Array(r+1);if(r===1){const[s]=e;i[1]=s.length,this.at=o=>s.at(o)}else for(let s=0,o=0;s<r;++s)i[s+1]=o+=e[s].length;this.offsets=i}get[Symbol.toStringTag](){return"Column"}[Symbol.iterator](){const e=this.data;return e.length===1?e[0][Symbol.iterator]():Dme(e)}at(e){const{data:n,offsets:r}=this,i=bD(r,e)-1;return n[i]?.at(e-r[i])}get(e){return this.at(e)}toArray(){const{length:e,nullCount:n,data:r}=this,i=!n&&G0e(r[0]),s=r.length;if(i&&s===1)return r[0].values;const o=!s||n>0?Array:r[0].constructor.ArrayType??r[0].values.constructor,a=new o(e);return i?Pme(a,r):Rme(a,r)}cache(){return this._cache??(this._cache=this.toArray())}}function*Dme(t){for(let e=0;e<t.length;++e){const n=t[e][Symbol.iterator]();for(let r=n.next();!r.done;r=n.next())yield r.value}}function Pme(t,e){for(let n=0,r=0;n<e.length;++n){const{values:i}=e[n];t.set(i,r),r+=i.length}return t}function Rme(t,e){let n=-1;for(let r=0;r<e.length;++r){const i=e[r];for(let s=0;s<i.length;++s)t[++n]=i.at(s)}return t}let $me=class kV{constructor(e,n,r=!1){const i=e.fields.map(o=>o.name);this.schema=e,this.names=i,this.children=n,this.factory=r?KA:mV;const s=[];this.getFactory=o=>s[o]??(s[o]=this.factory(i,n.map(a=>a.data[o])))}get[Symbol.toStringTag](){return"Table"}get numCols(){return this.names.length}get numRows(){return this.children[0]?.length??0}getChildAt(e){return this.children[e]}getChild(e){const n=this.names.findIndex(r=>r===e);return n>-1?this.children[n]:void 0}selectAt(e,n=[]){const{children:r,factory:i,schema:s}=this,{fields:o}=s;return new kV({...s,fields:e.map((a,l)=>Ime(o[a],n[l]))},e.map(a=>r[a]),i===KA)}select(e,n){const r=this.names,i=e.map(s=>r.indexOf(s));return this.selectAt(i,n)}toColumns(){const{children:e,names:n}=this,r={};return n.forEach((i,s)=>r[i]=e[s]?.toArray()??[]),r}toArray(){const{children:e,getFactory:n,numRows:r}=this,i=e[0]?.data??[],s=Array(r);for(let o=0,a=-1;o<i.length;++o){const l=n(o);for(let u=0;u<i[o].length;++u)s[++a]=l(u)}return s}*[Symbol.iterator](){const{children:e,getFactory:n}=this,r=e[0]?.data??[];for(let i=0;i<r.length;++i){const s=n(i);for(let o=0;o<r[i].length;++o)yield s(o)}}at(e){const{children:n,getFactory:r,numRows:i}=this;if(e<0||e>=i)return null;const[{offsets:s}]=n,o=bD(s,e)-1;return r(o)(e-s[o])}get(e){return this.at(e)}};function Ime(t,e){return e!=null&&e!==t.name?{...t,name:e}:t}function Fme(t,e={}){const{typeId:n,bitWidth:r,mode:i,precision:s,unit:o}=t,{useBigInt:a,useDate:l,useDecimalInt:u,useMap:c,useProxy:f}=e;switch(n){case xe.Null:return H0e;case xe.Bool:return J0e;case xe.Int:case xe.Time:case xe.Duration:return a||r<64?sb:I1;case xe.Float:return s?sb:K0e;case xe.Date:return BF(o===Mx.DAY?rme:ime,l&&NF);case xe.Timestamp:return BF(o===jo.SECOND?sme:o===jo.MILLISECOND?ome:o===jo.MICROSECOND?ame:lme,l&&NF);case xe.Decimal:return r===32?u?sb:eme:u?nme:tme;case xe.Interval:return o===Gm.DAY_TIME?ume:o===Gm.YEAR_MONTH?sb:cme;case xe.FixedSizeBinary:return vme;case xe.Utf8:return dme;case xe.LargeUtf8:return pme;case xe.Binary:return fme;case xe.LargeBinary:return hme;case xe.BinaryView:return Ame;case xe.Utf8View:return Eme;case xe.List:return mme;case xe.LargeList:return gme;case xe.Map:return c?_me:wme;case xe.ListView:return yme;case xe.LargeListView:return bme;case xe.FixedSizeList:return Ome;case xe.Struct:return f?Sme:xV;case xe.RunEndEncoded:return kme;case xe.Dictionary:return Cme;case xe.Union:return i?xme:_V}throw new Error(OD(n))}function BF(t,e){return e?class extends e{constructor(r){super(new t(r))}}:t}function Mme(t,e){return{offset:sl(t,e),metadataLength:ti(t,e+8),bodyLength:sl(t,e+16)}}function zF(t,e){return Hh(t,e,24,Mme)}function CV(t,e,n){const r=th(t,e);if(r(10,yp,0))throw new Error("Record batch compression not implemented");const i=n<dk.V4?8:0;return{length:r(4,sl,0),nodes:Hh(t,r(6,yp),16,(s,o)=>({length:sl(s,o),nullCount:sl(s,o+8)})),regions:Hh(t,r(8,yp),16+i,(s,o)=>({offset:sl(s,o+i),length:sl(s,o+i+8)})),variadic:Hh(t,r(12,yp),8,sl)}}function Lme(t,e,n){const r=th(t,e);return{id:r(4,sl,0),data:r(6,(i,s)=>CV(i,s,n)),isDelta:r(8,sv,!1)}}function AV(t,e,n,r){Lc(n,xe,OD);const i=th(t,e);switch(n){case xe.Binary:return _0e();case xe.Utf8:return x0e();case xe.LargeBinary:return M0e();case xe.LargeUtf8:return L0e();case xe.List:return T0e(r[0]);case xe.ListView:return B0e(r[0]);case xe.LargeList:return N0e(r[0]);case xe.LargeListView:return z0e(r[0]);case xe.Struct:return D0e(r);case xe.RunEndEncoded:return Q0e(r[0],r[1]);case xe.Int:return hV(i(4,ti,0),i(6,sv,!1));case xe.Float:return w0e(i(4,nl,iV.HALF));case xe.Decimal:return S0e(i(4,ti,0),i(6,ti,0),i(8,ti,128));case xe.Date:return k0e(i(4,nl,Mx.MILLISECOND));case xe.Time:return C0e(i(4,nl,jo.MILLISECOND));case xe.Timestamp:return A0e(i(4,nl,jo.SECOND),i(6,Lx));case xe.Interval:return E0e(i(4,nl,Gm.YEAR_MONTH));case xe.Duration:return F0e(i(4,nl,jo.MILLISECOND));case xe.FixedSizeBinary:return R0e(i(4,ti,0));case xe.FixedSizeList:return $0e(r[0],i(4,ti,0));case xe.Map:return I0e(i(4,sv,!1),r[0]);case xe.Union:return P0e(i(4,nl,yD.Sparse),r,Hh(t,i(6,yp),4,ti))}return{typeId:n}}function xD(t,e){const n=Hh(t,e,4,(r,i)=>{const s=th(r,i);return[s(4,Lx),s(6,Lx)]});return n.length?new Map(n):null}function EV(t,e,n){const r=th(t,e);return{version:n,endianness:r(4,nl,0),fields:r(6,Nme,[]),metadata:r(8,xD)}}function Nme(t,e){return Hh(t,e,4,TV)}function TV(t,e){const n=th(t,e),r=n(8,_D,xe.NONE),i=n(10,yp,0),s=n(12,Bme),o=n(14,(l,u)=>Qme(l,u));let a=AV(t,i,r,o);return s&&(s.dictionary=a,a=s),{name:n(4,Lx),type:a,nullable:n(6,sv,!1),metadata:n(16,xD)}}function Qme(t,e){const n=Hh(t,e,4,TV);return n.length?n:null}function Bme(t,e){if(!e)return null;const n=th(t,e);return O0e(null,n(6,zme,dV()),n(8,sv,!1),n(4,sl,0))}function zme(t,e){return AV(t,e,xe.Int)}const Ume=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,jme=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`,qme=t=>`Unsupported message type: ${t} (${lV(Of,t)})`;function JA(t,e){let n=ti(t,e)||0;if(e+=iv,n===-1&&(n=ti(t,e)||0,e+=iv),n===0)return null;const r=t.subarray(e,e+=n);if(r.byteLength<n)throw new Error(Ume(n,r.byteLength));const i=th(r,0),s=i(4,nl,dk.V1),o=i(6,_D,Of.NONE),a=i(8,yp,0),l=i(10,sl,0);let u;if(a){const c=o===Of.Schema?EV:o===Of.DictionaryBatch?Lme:o===Of.RecordBatch?CV:null;if(!c)throw new Error(qme(o));if(u=c(r,a,s),l>0){const f=t.subarray(e,e+=l);if(f.byteLength<l)throw new Error(jme(l,f.byteLength));u.body=f}else o!==Of.Schema&&(u.body=new Uint8Array(0))}return{version:s,type:o,index:e,content:u}}function Vme(t){const e=b0e(t)?new Uint8Array(t):t;return e instanceof Uint8Array&&Xme(e)?Wme(e):Zme(e)}function Xme(t){if(!t||t.length<4)return!1;for(let e=0;e<6;++e)if(rV[e]!==t[e])return!1;return!0}function Zme(t){const e=[t].flat();let n;const r=[],i=[];for(const s of e){if(!(s instanceof Uint8Array))throw new Error("IPC data batch was not a Uint8Array.");let o=0;for(;;){const a=JA(s,o);if(a===null)break;if(o=a.index,!!a.content)switch(a.type){case Of.Schema:n||(n=a.content);break;case Of.RecordBatch:r.push(a.content);break;case Of.DictionaryBatch:i.push(a.content);break}}}return{schema:n,dictionaries:i,records:r,metadata:null}}function Wme(t){const e=t.byteLength-(rV.length+4),n=ti(t,e),r=th(t,e-n),i=r(4,nl,dk.V1),s=r(8,zF,[]),o=r(10,zF,[]);return{schema:r(6,(a,l)=>EV(a,l,i)),dictionaries:s.map(({offset:a})=>JA(t,a).content),records:o.map(({offset:a})=>JA(t,a).content),metadata:r(12,xD)}}function Yme(t,e){return Gme(Vme(t),e)}function Gme(t,e={}){const{schema:n={fields:[]},dictionaries:r,records:i}=t,{version:s,fields:o}=n,a=new Map,l=Kme(e,s,a),u=new Map;Hme(n,h=>{const d=h.type;d.typeId===xe.Dictionary&&u.set(d.id,d.dictionary)});const c=new Map;for(const h of r){const{id:d,data:m,isDelta:g,body:b}=h,v=u.get(d),O=eE(v,l({...m,body:b}));if(c.has(d)){const x=c.get(d);g||x.clear(),x.add(O)}else{if(g)throw new Error("Delta update can not be first dictionary batch.");c.set(d,QF(v).add(O))}}c.forEach((h,d)=>a.set(d,h.done()));const f=o.map(h=>QF(h.type));for(const h of i){const d=l(h);o.forEach((m,g)=>f[g].add(eE(m.type,d)))}return new $me(n,f.map(h=>h.done()),e.useProxy)}function Hme(t,e){t.fields.forEach(function n(r){e(r),r.type.dictionary?.children?.forEach(n),r.type.children?.forEach(n)})}function Kme(t,e,n){const r={version:e,options:t,dictionary:i=>n.get(i)};return i=>{const{length:s,nodes:o,regions:a,variadic:l,body:u}=i;let c=-1,f=-1,h=-1;return{...r,length:s,node:()=>o[++c],buffer:d=>{const{length:m,offset:g}=a[++f];return d?new d(u.buffer,u.byteOffset+g,m/d.BYTES_PER_ELEMENT):u.subarray(g,g+m)},variadic:()=>l[++h],visit(d){return d.map(m=>eE(m.type,this))}}}}function eE(t,e){const{typeId:n}=t,{options:r,node:i,buffer:s,variadic:o,version:a}=e,l=Fme(t,r),u={...i(),type:t};if(n===xe.Null)return new l({...u,nullCount:u.length});switch(n){case xe.Bool:case xe.Int:case xe.Time:case xe.Duration:case xe.Float:case xe.Decimal:case xe.Date:case xe.Timestamp:case xe.Interval:case xe.FixedSizeBinary:return new l({...u,validity:s(),values:s(t.values)});case xe.Utf8:case xe.LargeUtf8:case xe.Binary:case xe.LargeBinary:return new l({...u,validity:s(),offsets:s(t.offsets),values:s()});case xe.BinaryView:case xe.Utf8View:return new l({...u,validity:s(),values:s(),data:Array.from({length:o()},()=>s())});case xe.List:case xe.LargeList:case xe.Map:return new l({...u,validity:s(),offsets:s(t.offsets),children:e.visit(t.children)});case xe.ListView:case xe.LargeListView:return new l({...u,validity:s(),offsets:s(t.offsets),sizes:s(t.offsets),children:e.visit(t.children)});case xe.FixedSizeList:case xe.Struct:return new l({...u,validity:s(),children:e.visit(t.children)});case xe.RunEndEncoded:return new l({...u,children:e.visit(t.children)});case xe.Dictionary:{const{id:c,indices:f}=t;return new l({...u,validity:s(),values:s(f.values)}).setDictionary(e.dictionary(c))}case xe.Union:return a<dk.V5&&s(),new l({...u,typeIds:s(aV),offsets:t.mode===yD.Sparse?null:s(t.offsets),children:e.visit(t.children)});default:throw new Error(OD(n))}}new Uint16Array(new Uint8Array([1,0]).buffer)[0];function Nx(t,e={useDate:!0}){return Yme(t,e)}function Jme(t){return new DV(t)}class DV{_uri;_queue;_connected;_request;_ws;_events;constructor({uri:e="ws://localhost:3000/",ipc:n=void 0}={}){this._uri=e,this._queue=[],this._connected=!1,this._request=null,this._ws=null;const r=this;this._events={open(){r._connected=!0,r.next()},close(){for(r._connected=!1,r._request=null,r._ws=null;r._queue.length;)r._queue.shift().reject("Socket closed")},error(i){if(r._request){const{reject:s}=r._request;r._request=null,r.next(),s(i)}else console.error("WebSocket error: ",i)},message(i){const{data:s}=i;if(r._request){const{query:o,resolve:a,reject:l}=r._request;if(r._request=null,r.next(),typeof s=="string"){const u=JSON.parse(s);u.error?l(u.error):a(u)}else if(o.type==="exec")a();else if(o.type==="arrow")a(Nx(s,n));else throw new Error(`Unexpected socket data: ${s}`)}else console.log("WebSocket message: ",s)}}}get connected(){return this._connected}init(){this._ws=new WebSocket(this._uri),this._ws.binaryType="arraybuffer";for(const e in this._events)this._ws.addEventListener(e,this._events[e])}enqueue(e,n,r){this._ws==null&&this.init(),this._queue.push({query:e,resolve:n,reject:r}),this._connected&&!this._request&&this.next()}next(){this._queue.length&&(this._request=this._queue.shift(),this._ws.send(JSON.stringify(this._request.query)))}query(e){return new Promise((n,r)=>this.enqueue(e,n,r))}}function ou(t){return t instanceof Nc}let PV;function ege(t){PV=t}class Nc{type;constructor(e){this.type=e}clone(){const e=new this.constructor(this.type);for(const n in this)n!=="type"&&(e[n]=this[n]);return e}toString(e=PV){if(!e)throw new Error("No visitor provided and no default visitor set.");return e.toString(this)}}class Li extends Nc{}function RV(t){return t.split(".")}function Gd(t){return`"${t.replaceAll('"','""')}"`}function fC(t){return t&&tge(t)?t.slice(1,-1):t}function tge(t){return t[0]==='"'&&t[t.length-1]==='"'}const bk="COLUMN_REF",vk="COLUMN_PARAM",$V="TABLE_REF",IV="LITERAL",nge="INTERVAL",rge="LIST",FV="UNNEST",SD="ORDER_BY",kD="CAST",CD="CASE",AD="WHEN",MV="COLLATE",ED="UNARY",TD="UNARY_POSTFIX",DD="BINARY",PD="BETWEEN",LV="NOT_BETWEEN",RD="LOGICAL_OPERATOR",$D="IN",ID="FUNCTION",CO="AGGREGATE",Ok="WINDOW",FD="WINDOW_FUNCTION",MD="WINDOW_DEF",NV="WINDOW_FRAME",LD="WINDOW_EXTENT_EXPR",QV="EXPRESSION",wk="FRAGMENT",ND="VERBATIM",QD="PARAM",BD="WITH_CLAUSE",zD="WINDOW_CLAUSE",UD="SELECT_CLAUSE",jD="FROM_CLAUSE",BV="JOIN_CLAUSE",zV="SAMPLE_CLAUSE",qD="SELECT_QUERY",VD="DESCRIBE_QUERY",XD="SET_OPERATION",UV="SCALAR_SUBQUERY";class jV extends Li{value;constructor(e){super(IV),this.value=e}}function UF(t){switch(typeof t){case"number":return Number.isFinite(t)?`${t}`:"NULL";case"string":return`'${t.replaceAll("'","''")}'`;case"boolean":return t?"TRUE":"FALSE";default:if(t==null)return"NULL";if(t instanceof Date){const e=+t;if(Number.isNaN(e))return"NULL";const n=t.getUTCFullYear(),r=t.getUTCMonth(),i=t.getUTCDate();return e===Date.UTC(n,r,i)?`DATE '${n}-${r+1}-${i}'`:`epoch_ms(${e})`}else return t instanceof RegExp?`'${t.source}'`:`${t}`}}class ige{toString(e){if(!e)throw new Error("Node is null or undefined");if(typeof e.type!="string")throw new Error(`Node type is not a string: ${typeof e.type}, value: ${e.type}`);if(e.type==="CUSTOM")return e.toString(this);const n=this.getVisitMethod(e.type);if(typeof n=="function")return n.call(this,e);throw new Error(`No visitor method for node type: '${e.type}'`)}getVisitMethod(e){switch(e){case CO:return this.visitAggregate;case PD:return this.visitBetween;case DD:return this.visitBinary;case CD:return this.visitCase;case kD:return this.visitCast;case MV:return this.visitCollate;case vk:return this.visitColumnParam;case bk:return this.visitColumnRef;case VD:return this.visitDescribeQuery;case QV:return this.visitExpression;case wk:return this.visitFragment;case jD:return this.visitFromClause;case ID:return this.visitFunction;case $D:return this.visitIn;case nge:return this.visitInterval;case BV:return this.visitJoinClause;case rge:return this.visitList;case IV:return this.visitLiteral;case RD:return this.visitLogicalOperator;case LV:return this.visitNotBetween;case SD:return this.visitOrderBy;case QD:return this.visitParam;case zV:return this.visitSampleClause;case UV:return this.visitScalarSubquery;case UD:return this.visitSelectClause;case qD:return this.visitSelectQuery;case XD:return this.visitSetOperation;case $V:return this.visitTableRef;case ED:return this.visitUnary;case TD:return this.visitUnaryPostfix;case FV:return this.visitUnnest;case ND:return this.visitVerbatim;case AD:return this.visitWhen;case Ok:return this.visitWindow;case zD:return this.visitWindowClause;case MD:return this.visitWindowDef;case LD:return this.visitWindowExtentExpr;case NV:return this.visitWindowFrame;case FD:return this.visitWindowFunction;case BD:return this.visitWithClause;default:throw new Error(`Unknown node type: '${e}'`)}}mapToString(e){return e.map(n=>this.toString(n))}}function fd(t){return typeof t=="string"}function tE(t){return Array.isArray(t)}function ZD(t){if(t){const e=t;return typeof e?.addEventListener=="function"&&e.dynamic!==!1&&"value"in e}return!1}class WD extends Li{param;constructor(e){super(QD),this.param=e}get value(){return this.param.value}}const sge="PRECEDING",oge="FOLLOWING",qV="CURRENT ROW",VV="UNBOUNDED";class age extends ige{visitAggregate(e){const{name:n,args:r,isDistinct:i,filter:s,order:o}=e,a=[i?"DISTINCT":"",r?.length?this.mapToString(r).join(", "):n.toLowerCase()==="count"?"*":"",o.length?`ORDER BY ${this.mapToString(o).join(", ")}`:""].filter(u=>u).join(" "),l=s?` FILTER (WHERE ${this.toString(s)})`:"";return`${n}(${a})${l}`}visitBetween(e){return jF(this,e,"BETWEEN")}visitBinary(e){const{left:n,right:r,op:i}=e;return`(${this.toString(n)} ${i} ${this.toString(r)})`}visitCase(e){const{expr:n,_when:r,_else:i}=e;return"CASE "+(n?`${this.toString(n)} `:"")+this.mapToString(r).join(" ")+(i?` ELSE ${this.toString(i)}`:"")+" END"}visitCast(e){const{expr:n,cast:r}=e;return`(${this.toString(n)})::${r}`}visitCollate(e){const{expr:n,collation:r}=e;return`${this.toString(n)} COLLATE ${r}`}visitColumnParam(e){return this.visitColumnRef(e)}visitColumnRef(e){const{column:n,table:r}=e,i=r?`${this.toString(r)}.`:"",s=n==="*"?"*":Gd(n);return`${i}${s}`}visitDescribeQuery(e){const{query:n}=e;return`DESC ${this.toString(n)}`}visitExpression(e){throw new Error(`Unexpected EXPRESSION node type. Node: ${JSON.stringify(e)}`)}visitFragment(e){const{spans:n}=e;return n.map(r=>typeof r=="string"?r:this.toString(r)).join("")}visitFromClause(e){const{expr:n,alias:r,sample:i}=e,s=tX(n)?`(${this.toString(n)})`:`${this.toString(n)}`;return`${r&&!(Qx(n)&&n.table?.join(".")===r)?`${s} AS ${Gd(r)}`:`${s}`}${i?` TABLESAMPLE ${this.toString(i)}`:""}`}visitFunction(e){const{name:n,args:r}=e;return`${n}(${this.mapToString(r).join(", ")})`}visitIn(e){const{expr:n,values:r}=e;return`(${this.toString(n)} IN (${this.mapToString(r).join(", ")}))`}visitInterval(e){const{steps:n,name:r}=e;return`INTERVAL ${n} ${r}`}visitJoinClause(e){const{left:n,right:r,joinVariant:i,joinType:s,condition:o,using:a,sample:l}=e,u=i==="REGULAR"?"":`${i} `;let c="",f="";i!=="CROSS"&&(c=s!=="INNER"?`${s} `:"",f=o?` ON ${this.toString(o)}`:a?` USING (${this.mapToString(a).join(", ")})`:"");const h=l?` USING SAMPLE ${this.toString(l)}`:"";return`${this.toString(n)} ${u}${c}JOIN ${this.toString(r)}${f}${h}`}visitList(e){const{values:n}=e;return`[${this.mapToString(n).join(", ")}]`}visitLiteral(e){const{value:n}=e;return UF(n)}visitLogicalOperator(e){const{clauses:n,op:r}=e,i=this.mapToString(n);return i.length===0?"":i.length===1?`${i[0]}`:`(${i.join(` ${r} `)})`}visitNotBetween(e){return jF(this,e,"NOT BETWEEN")}visitOrderBy(e){const{expr:n,desc:r,nullsFirst:i}=e,s=r?" DESC":r===!1?" ASC":"",o=i?" NULLS FIRST":i===!1?" NULLS LAST":"";return`${this.toString(n)}${s}${o}`}visitParam(e){const{param:n}=e;return UF(n.value)}visitSampleClause(e){const{size:n,perc:r,method:i,seed:s}=e,o=i?`${i} `:"",a=s!=null?` REPEATABLE (${s})`:"";return`${o}(${n}${r?"%":" ROWS"})${a}`}visitScalarSubquery(e){return`(${this.toString(e.subquery)})`}visitSelectClause(e){const{expr:n,alias:r}=e;return!r||lge(n,r)?this.toString(n):`${this.toString(n)} AS ${Gd(r)}`}visitSelectQuery(e){const{_with:n,_select:r,_distinct:i,_from:s,_sample:o,_where:a,_groupby:l,_having:u,_window:c,_qualify:f,_orderby:h,_limitPerc:d,_limit:m,_offset:g}=e,b=[];if(n.length&&b.push(`WITH ${this.mapToString(n).join(", ")}`),b.push(`SELECT${i?" DISTINCT":""} ${this.mapToString(r).join(", ")}`),s.length&&b.push(`FROM ${this.mapToString(s).join(", ")}`),o&&b.push(`USING SAMPLE ${this.toString(o)}`),a.length){const v=this.mapToString(a).filter(O=>O).join(" AND ");v&&b.push(`WHERE ${v}`)}if(l.length&&b.push(`GROUP BY ${this.mapToString(l).join(", ")}`),u.length){const v=this.mapToString(u).filter(O=>O).join(" AND ");v&&b.push(`HAVING ${v}`)}if(c.length&&b.push(`WINDOW ${this.mapToString(c).join(", ")}`),f.length){const v=this.mapToString(f).filter(O=>O).join(" AND ");v&&b.push(`QUALIFY ${v}`)}return h.length&&b.push(`ORDER BY ${this.mapToString(h).join(", ")}`),m&&b.push(`LIMIT ${this.toString(m)}${d?"%":""}`),g!=null&&b.push(`OFFSET ${this.toString(g)}`),b.join(" ")}visitSetOperation(e){const{op:n,queries:r,_with:i,_orderby:s,_limitPerc:o,_limit:a,_offset:l}=e,u=[];return i.length&&u.push(`WITH ${this.mapToString(i).join(", ")}`),u.push(r.join(` ${n} `)),s.length&&u.push(`ORDER BY ${this.mapToString(s).join(", ")}`),a&&u.push(`LIMIT ${this.toString(a)}${o?"%":""}`),l&&u.push(`OFFSET ${this.toString(l)}`),u.join(" ")}visitTableRef(e){const{table:n}=e;return n.map(r=>Gd(r)).join(".")}visitUnary(e){const{expr:n,op:r}=e;return`(${r} ${this.toString(n)})`}visitUnaryPostfix(e){const{expr:n,op:r}=e;return`(${this.toString(n)} ${r})`}visitUnnest(e){const{expr:n,recursive:r,maxDepth:i}=e,s=[this.toString(n)];return r&&s.push("recursive := true"),i!=null&&i>0&&s.push(`max_depth := ${i}`),`UNNEST(${s.join(", ")})`}visitVerbatim(e){const{value:n}=e;return n}visitWhen(e){const{when:n,then:r}=e;return`WHEN ${this.toString(n)} THEN ${this.toString(r)}`}visitWindow(e){const{func:n,def:r}=e;return`${this.toString(n)} OVER ${this.toString(r)}`}visitWindowClause(e){const{name:n,def:r}=e;return`${Gd(n)} AS ${this.toString(r)}`}visitWindowDef(e){const{name:n,partition:r,order:i,framedef:s}=e,o=n&&Gd(n),a=[o,r?.length&&`PARTITION BY ${this.mapToString(r).join(", ")}`,i?.length&&`ORDER BY ${this.mapToString(i).join(", ")}`,s&&this.toString(s)].filter(l=>l);return o&&a.length<2?o:`(${a.join(" ")})`}visitWindowExtentExpr(e){const{scope:n,expr:r}=e;return n===qV?n:`${ou(r)?this.toString(r):r??VV} ${n}`}visitWindowFrame(e){const{frameType:n,exclude:r,extent:i}=e,[s,o]=ou(i)?i.value:i,a=qF(this,s,sge),l=qF(this,o,oge);return`${n} BETWEEN ${a} AND ${l}${r?` ${r}`:""}`}visitWindowFunction(e){const{name:n,args:r,ignoreNulls:i,order:s}=e,o=[this.mapToString(r).join(", "),s.length?`ORDER BY ${this.mapToString(s).join(", ")}`:"",i?"IGNORE NULLS":""].filter(a=>a).join(" ");return`${n}(${o})`}visitWithClause(e){const{name:n,query:r,materialized:i}=e,s=i===!0?"MATERIALIZED ":i===!1?"NOT MATERIALIZED ":"";return`${Gd(n)} AS ${s}(${this.toString(r)})`}}function lge(t,e){return t instanceof _k&&t.table==null&&t.column===e}function jF(t,e,n){const{extent:r,expr:i}=e;if(!r)return"";const[s,o]=t.mapToString(r);return`(${t.toString(i)} ${n} ${s} AND ${o})`}function qF(t,e,n){const r=ou(e)?t.toString(e):e;return ou(e)&&e.type===LD?r:r!=null&&typeof r!="number"?`${r} ${n}`:r===0?qV:r&&Number.isFinite(r)?`${Math.abs(r)} ${n}`:`${VV} ${n}`}const uge=new age;ege(uge);class cge extends Li{name;args;constructor(e,n=[]){super(ID),this.name=e,this.args=n}}function El(t,...e){return new cge(t,YD(e).map(lr))}function Os(t,...e){return new Ib(t,YD(e).map(lr))}function fge(t,...e){return new bp(new dge(t,YD(e).map(lr)))}function Rb(t,e){return t.flat().filter(n=>n!=null).map(n=>e(n))}function hd(t){return Rb(t,lr)}function YD(t){const e=t.length;let n=e;for(;n>0&&t[n-1]===void 0;--n);return n<e?t.slice(0,n):t}class hge extends Nc{name;def;constructor(e,n){super(zD),this.name=e,this.def=n}}class bp extends Li{func;def;constructor(e,n=new XV){super(Ok),this.func=e,this.def=n}over(e){return new bp(this.func,this.def.over(e))}partitionby(...e){return new bp(this.func,this.def.partitionby(...e))}orderby(...e){return new bp(this.func,this.def.orderby(...e))}frame(e){return new bp(this.func,this.def.frame(e))}}class dge extends Li{name;args;ignoreNulls;order;constructor(e,n=[],r=!1,i=[]){super(FD),this.name=e,this.args=n,this.ignoreNulls=r,this.order=hd([i])}}class XV extends Nc{name;partition;order;framedef;constructor(e,n,r,i){super(MD),this.name=e,this.partition=n,this.order=r,this.framedef=i}over(e){return uw(this,{name:e})}partitionby(...e){return uw(this,{partition:hd(e)})}orderby(...e){return uw(this,{order:hd(e)})}frame(e){return uw(this,{framedef:e})}}function uw(t,e){return new XV(e.name??t.name,e.partition??t.partition,e.order??t.order,e.framedef??t.framedef)}function GD(t){return t instanceof _k}class _k extends Li{table;constructor(e,n){super(e),this.table=n}get column(){return""}}class ZV extends _k{name;constructor(e,n){super(bk,n),this.name=e}get column(){return this.name}}class pge extends _k{param;constructor(e,n){super(vk,n),this.param=e}get column(){return`${this.param.value}`}}function be(t,e){const n=GV(e);return ZD(t)?new pge(new WD(t),n):new ZV(t,n)}class WV extends Li{value;hint;constructor(e,n){super(ND),this.value=e,this.hint=n}}function et(t){return new jV(t)}function mge(t,e){return new WV(t,e)}function Qx(t){return t instanceof HD}class HD extends Li{table;constructor(e){super($V),this.table=[e].flat()}get name(){return this.table[this.table.length-1]}}function KD(...t){const e=Rb(t,String);return e?.length?new HD(e):void 0}function lr(t){return fd(t)?yge(t):YV(t)}function $b(t){return fd(t)?mge(t):YV(t)}function YV(t){return t instanceof Li?t:ZD(t)?new WD(t):et(t)}function GV(t){return HV(t)}function gge(t){return HV(t)}function HV(t){return fd(t)?bge(t):tE(t)?KD(t):t}function yge(t){const e=RV(t);return be(e.pop(),KD(e))}function bge(t){return KD(RV(t))}class Ib extends Li{name;args;isDistinct;filter;order;constructor(e,n,r=!1,i=null,s=[]){super(CO),this.name=e,this.args=n,this.isDistinct=r,this.filter=i,this.order=hd([s])}distinct(e=!0){return new Ib(this.name,this.args,e,this.filter,this.order)}where(e){return fd(e)&&(e=$b(e)),new Ib(this.name,this.args,this.isDistinct,e,this.order)}argOrder(e){return new Ib(this.name,this.args,this.isDistinct,this.filter,e)}window(){return new bp(this)}partitionby(...e){return this.window().partitionby(...e)}orderby(...e){return this.window().orderby(...e)}frame(e){return this.window().frame(e)}}const vge=["any_value","approx_count_distinct","approx_quantile","arbitrary","arg_max","arg_max_null","arg_min","arg_min_null","array_agg","avg","bit_and","bit_or","bit_xor","bitstring_agg","bool_and","bool_or","corr","count","count_star","covar_pop","covar_samp","entropy","favg","first","fsum","geomean","kurtosis_pop","kurtosis","last","mad","max","max_by","median","min","min_by","mode","product","quantile","quantile_cont","quantile_disc","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_sxx","regr_sxy","regr_syy","regr_slope","reservoir_quantile","skewness","stddev","stddev_pop","stddev_samp","string_agg","sum","variance","var_pop","var_samp"];class Oge extends Li{expr;extent;constructor(e,n,r){super(e),this.expr=n,this.extent=r}toSQL(e){const{extent:n,expr:r}=this;return n?`(${r} ${e} ${n[0]} AND ${n[1]})`:""}}class wge extends Oge{constructor(e,n){super(PD,e,n)}}class _ge extends Li{op;left;right;constructor(e,n,r){super(DD),this.op=e,this.left=n,this.right=r}}class ov extends Li{expr;_when;_else;constructor(e=void 0,n=[],r=void 0){super(CD),this.expr=e,this._when=n,this._else=r}when(e,n){return new ov(this.expr,this._when.concat(new KV(lr(e),lr(n))),this._else)}else(e){return new ov(this.expr,this._when,lr(e))}}class KV extends Nc{when;then;constructor(e,n){super(AD),this.when=e,this.then=n}}class xge extends Li{expr;cast;constructor(e,n){super(kD),this.expr=e,this.cast=n}}class Sge extends Li{spans;constructor(e){super(wk),this.spans=e}}class JV extends Nc{}class av extends JV{expr;alias;sample;constructor(e,n,r){super(jD),this.expr=e,this.alias=n,this.sample=r}as(e){return new av(this.expr,e,this.sample)}}class kge extends Li{expr;values;constructor(e,n){super($D),this.expr=e,this.values=n}}class eX extends Li{op;clauses;constructor(e,n){super(RD),this.op=e,this.clauses=n}}class Cge extends eX{constructor(e){super("AND",e)}}class Age extends eX{constructor(e){super("OR",e)}}class Ege extends Li{expr;desc;nullsFirst;constructor(e,n,r){super(SD),this.expr=e,this.desc=n,this.nullsFirst=r}}class Tge extends Nc{size;perc;method;seed;constructor(e,n=!1,r,i){super(zV),this.size=e,this.perc=n,this.method=r,this.seed=i}}class Dge extends Nc{expr;alias;constructor(e,n){super(UD),this.expr=e,this.alias=n}}class VF extends Nc{name;query;materialized;constructor(e,n,r=null){super(BD),this.name=e,this.query=n,this.materialized=r}}function tX(t){return t instanceof lt}function xk(t){return t instanceof Mg}function Pge(t){return t instanceof Sk}class lt extends Li{static with(...e){return new Rge(...e)}static select(...e){return new Mg().select(...e)}static from(...e){return new Mg().from(...e)}static union(...e){return new Mu("UNION",e.flat())}static unionByName(...e){return new Mu("UNION BY NAME",e.flat())}static unionAll(...e){return new Mu("UNION ALL",e.flat())}static unionAllByName(...e){return new Mu("UNION ALL BY NAME",e.flat())}static intersect(...e){return new Mu("INTERSECT",e.flat())}static intersectAll(...e){return new Mu("INTERSECT ALL",e.flat())}static except(...e){return new Mu("EXCEPT",e.flat())}static exceptAll(...e){return new Mu("EXCEPT ALL",e.flat())}static describe(e){return new Sk(e)}_with=[];_orderby=[];_limitPerc=!1;_limit;_offset;cteFor=null;constructor(e){super(e)}get subqueries(){return[]}clone(){return this}setCteFor(e){this.cteFor=e}with(...e){const n=[],r=(i,s)=>{const o=s.clone();o.setCteFor(this),n.push(new VF(i,o))};return e.flat().forEach(i=>{if(i instanceof VF)n.push(i);else if(i!=null)for(const s in i)r(s,i[s])}),this._with=this._with.concat(n),this}orderby(...e){return this._orderby=this._orderby.concat(hd(e)),this}limitPercent(e){return this._limitPerc=!0,this._limit=lr(e),this}limit(e){return this._limitPerc=!1,this._limit=lr(e),this}offset(e){return this._offset=lr(e),this}}class Mg extends lt{_select=[];_from=[];_where=[];_sample;_groupby=[];_having=[];_window=[];_qualify=[];_distinct=!1;constructor(){super(qD)}get subqueries(){const e=this.cteFor||this,r=(e instanceof Mg?e._with:[]).reduce((s,o)=>(s[o.name]=o.query,s),{}),i=[];return this._from.forEach(s=>{if(s instanceof av){const{expr:o}=s;if(tX(o))i.push(o);else if(Qx(o)){const a=r[o.name];a&&i.push(a)}}}),i}clone(){return Object.assign(new Mg,this)}select(...e){const n=new Set,r=[],i=(s,o)=>{const a=fC(o);n.add(a),s&&r.push(new Dge(lr(s),a))};return e.flat().forEach(s=>{if(s!=null)if(fd(s))i(s,s);else if(GD(s))i(s,s.column);else if(tE(s))i(s[1],s[0]);else if(ou(s))i(s,`${s}`);else for(const o in s)i(s[o],o)}),this._select=this._select.filter(s=>!n.has(s.alias)).concat(r),this}setSelect(...e){return this._select=[],this.select(...e)}distinct(e=!0){return this._distinct=!!e,this}from(...e){const n=[],r=(i,s)=>{n.push(new av(gge(i),fC(s)))};return e.flat().forEach(i=>{if(i!=null)if(i instanceof JV)n.push(i);else if(fd(i))r(i,i);else if(Qx(i))r(i,i.name);else if(ou(i))r(i);else if(tE(i))r(i[1],i[0]);else for(const s in i)r(i[s],s)}),this._from=this._from.concat(n),this}setFrom(...e){return this._from=[],this.from(...e)}sample(e,n,r){let i;if(typeof e=="number"){const s=e>0&&e<1,o=s?e*100:Math.floor(e);i=new Tge(o,s,n,r)}else i=e;return this._sample=i??void 0,this}where(...e){return this._where=this._where.concat(Rb(e,$b)),this}setWhere(...e){return this._where=[],this.where(...e)}groupby(...e){return this._groupby=this._groupby.concat(hd(e)),this}setGroupby(...e){return this._groupby=[],this.groupby(...e)}having(...e){return this._having=this._having.concat(Rb(e,$b)),this}window(...e){const n=[];return e.flat().forEach(r=>{if(r!=null)for(const i in r)n.push(new hge(fC(i),r[i]))}),this._window=this._window.concat(n),this}qualify(...e){return this._qualify=this._qualify.concat(Rb(e,$b)),this}}class Sk extends Nc{query;constructor(e){super(VD),this.query=e}clone(){return new Sk(this.query.clone())}}class Mu extends lt{op;queries;constructor(e,n){super(XD),this.op=e,this.queries=n}setCteFor(e){super.setCteFor(e);const{queries:n,cteFor:r}=this;r&&n.forEach(i=>i.setCteFor(r))}get subqueries(){return this.queries}clone(){const{op:e,queries:n,...r}=this;return Object.assign(new Mu(e,n),r)}}class Rge{_with;constructor(...e){this._with=e}select(...e){return lt.select(...e).with(...this._with)}from(...e){return lt.from(...e).with(...this._with)}union(...e){return lt.union(...e).with(...this._with)}unionByName(...e){return lt.unionByName(...e).with(...this._with)}unionAll(...e){return lt.unionAll(...e).with(...this._with)}unionAllByName(...e){return lt.unionAllByName(...e).with(...this._with)}intersect(...e){return lt.intersect(...e).with(...this._with)}intersectAll(...e){return lt.intersectAll(...e).with(...this._with)}except(...e){return lt.except(...e).with(...this._with)}exceptAll(...e){return lt.exceptAll(...e).with(...this._with)}}class nX extends Li{op;expr;constructor(e,n,r){super(e),this.op=n,this.expr=r}}class $ge extends nX{constructor(e,n){super(ED,e,n)}}class Ige extends nX{constructor(e,n){super(TD,e,n)}}function Fge(t,e){return Os("arg_max",t,e)}function Mge(t,e){return Os("arg_min",t,e)}function Bx(t){return Os("avg",t)}function _i(t){return Os("count",t)}function AO(t){return Os("max",t)}function JD(t){return Os("median",t)}function Lg(t){return Os("min",t)}function Lge(t){return Os("product",t)}function Nge(t,e){return Os("quantile",t,e)}function Qge(t,e){return Os("regr_avgx",t,e)}function Bge(t,e){return Os("regr_avgy",t,e)}function zge(t,e){return Os("regr_count",t,e)}function Uge(t){return Os("stddev",t)}function jge(t){return Os("stddev_pop",t)}function Wi(t){return Os("sum",t)}function qge(t){return Os("var_samp",t)}function Vge(t){return Os("var_pop",t)}function vp(t,e,n){return t?new ov(void 0,[new KV(lr(t),lr(e))],lr(n)):new ov}function hi(t,e){return new xge(lr(t),e)}function Xge(t){return hi(t,"INTEGER")}function XF(t){return hi(t,"DOUBLE")}function Zge(t){return El("epoch_ms",t)}function Kh(t){return El("isfinite",t)}function eP(t){return El("exp",t)}function rX(t){return El("log",t)}function Hm(t){return El("ln",t)}function t0(t){return El("sign",t)}function Ng(t){return El("abs",t)}function zx(t){return El("sqrt",t)}function Wge(t){return El("ceil",t)}function Ux(t){return El("floor",t)}function Yge(t,e){return El("round",t,e)}function Gge(t,e){return new $ge(t,lr(e))}function iX(t,e){return new Ige(t,lr(e))}function gu(t,e,n){return new _ge(t,lr(e),lr(n))}function Ia(...t){return new Cge(hd(t))}function uc(...t){return new Age(hd(t))}function lv(t){return Gge("NOT",t)}function Mf(t){return iX("IS NULL",t)}function uv(t){return iX("IS NOT NULL",t)}function tP(t,e){return gu("+",t,e)}function Fi(t,e){return gu("-",t,e)}function Ci(t,e){return gu("*",t,e)}function os(t,e){return gu("/",t,e)}function Hge(t,e){return gu("%",t,e)}function wl(t,e){return gu("**",t,e)}function Sa(t,e){return gu("=",t,e)}function hC(t,e){return gu("<",t,e)}function kk(t,e){return gu(">",t,e)}function ZF(t,e){return gu("<=",t,e)}function Kge(t,e){return gu("IS NOT DISTINCT FROM",t,e)}function Bh(t,e){return new wge(lr(t),e?.map(lr))}function Qg(t,e){return new kge(lr(t),e.map(lr))}function EO(t,e){return new Ege(lr(t),!0,e)}function Pt(t,...e){return new Sge(Jge(t,e))}function Jge(t,e){const n=[t[0]],r=e.length;for(let i=0,s=0;i<r;){const o=e[i];ou(o)?n[++s]=o:ZD(o)?n[++s]=new WD(o):n[s]+=fd(o)?o:`${et(o)}`;const a=t[++i];ou(n[s])?n[++s]=a:n[s]+=a}return n.filter(i=>i).map(i=>fd(i)?new WV(i):i)}function sX(...t){return El("coalesce",...t)}function e1e(){return fge("row_number")}const oX={[CO]:["args","order","filter"],[PD]:["expr","extent"],[DD]:["left","right"],[CD]:["expr","_when","_else"],[kD]:["expr"],[MV]:["expr"],[vk]:["param","table"],[bk]:["table"],[VD]:["query"],[QV]:["node"],[wk]:["spans"],[jD]:["expr"],[ID]:["args"],[$D]:["expr","values"],[BV]:["left","right","on","using","sample"],[RD]:["clauses"],[LV]:["expr","extent"],[SD]:["expr"],[QD]:["value"],[UV]:["subquery"],[UD]:["expr"],[qD]:["_with","_select","_from","_where","_sample","_groupby","_having","_window","_qualify","_orderby"],[XD]:["queries","_orderby"],[ED]:["expr"],[TD]:["expr"],[FV]:["expr"],[AD]:["when","then"],[Ok]:["func","def"],[zD]:["def"],[MD]:["partition","order","framedef"],[LD]:["expr"],[NV]:["extent"],[FD]:["args"],[BD]:["query"]};function nE(t,e){if(e.has(t))return e.get(t);if(ou(t)){const n=oX[t.type],r=n?.length??0;if(r>0){t=t.clone();for(let i=0;i<r;++i){const s=n[i],o=t[s];if(Array.isArray(o)){const a=t[s]=o.slice(),l=o.length;for(let u=0;u<l;++u)a[u]=nE(o[u],e)}else o&&(t[s]=nE(o,e))}}}return t}function cv(t,e){if(!ou(t))return;const n=e(t);if(n)return n;const r=oX[t.type],i=r?.length??0;for(let s=0;s<i;++s){const o=t[r[s]];if(Array.isArray(o)){const a=o.length;for(let l=0;l<a;++l)if(o[l]&&Number(cv(o[l],e))<0)return n}else if(o&&Number(cv(o,e))<0)return-1}}const t1e=new RegExp(`^(${vge.join("|")})$`),n1e=/(\\'|\\"|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\w+\()/g;function r1e(t){return t.split(n1e).some(e=>e.endsWith("(")&&t1e.test(e.slice(0,-1)))}function Ck(t){let e=0;return cv(t,n=>{switch(n.type){case Ok:return-1;case CO:return e|=1,-1;case wk:case ND:{let r=`${n}`.toLowerCase();const i=r.indexOf("(select ");return i>=0&&(r=r.slice(0,i)),r.includes(") over ")?-1:r1e(r)?(e|=2,-1):1}}}),e}function i1e(t){const e=new Set;return cv(t,n=>{n.type===CO&&e.add(n)}),Array.from(e)}function aX(t){const e={};return cv(t,n=>{(n.type===bk||n.type===vk)&&(e[`${n}`]=n)}),Object.values(e)}function s1e(t,e,{replace:n=!1,temp:r=!1,view:i=!1}={}){return"CREATE"+(n?" OR REPLACE ":" ")+(r?"TEMP ":"")+(i?"VIEW":"TABLE")+(n?" ":" IF NOT EXISTS ")+t+" AS "+e}function T_(t){return t}function WF(){return{apply:T_,invert:T_,sqlApply:lr,sqlInvert:T_}}function o1e({base:t=null}={}){if(t==null||t===Math.E)return{apply:Math.log,invert:Math.exp,sqlApply:e=>Hm(e),sqlInvert:e=>eP(e)};if(t===10)return{apply:Math.log10,invert:e=>Math.pow(10,e),sqlApply:e=>rX(e),sqlInvert:e=>wl(10,e)};{const e=+t;return{apply:n=>Math.log(n)/Math.log(e),invert:n=>Math.pow(e,n),sqlApply:n=>os(Hm(n),Hm(e)),sqlInvert:n=>wl(e,n)}}}function a1e({constant:t=1}={}){const e=+t;return{apply:n=>Math.sign(n)*Math.log1p(Math.abs(n)),invert:n=>Math.sign(n)*Math.exp(Math.abs(n)-e),sqlApply:n=>(n=lr(n),Ci(t0(n),Hm(tP(e,Ng(n))))),sqlInvert:n=>Ci(t0(n),Fi(eP(Ng(n)),e))}}function l1e(){return{apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*t*t,sqlApply:t=>(t=lr(t),Ci(t0(t),zx(Ng(t)))),sqlInvert:t=>Ci(t0(t),wl(t,2))}}function u1e({exponent:t=1}={}){const e=+t;return{apply:n=>Math.sign(n)*Math.pow(Math.abs(n),e),invert:n=>Math.sign(n)*Math.pow(Math.abs(n),1/e),sqlApply:n=>(n=lr(n),Ci(t0(n),wl(Ng(n),e))),sqlInvert:n=>Ci(t0(n),wl(Ng(n),os(1,e)))}}function YF(){return{apply:t=>Number(t),invert:t=>new Date(t),sqlApply:t=>t instanceof Date?et(+t):h1e(t)?et(Number(t.value)):Zge(t),sqlInvert:T_}}const c1e={identity:WF,linear:WF,log:o1e,symlog:a1e,sqrt:l1e,pow:u1e,time:YF,utc:YF};function f1e(t){const e=c1e[t.type];if(!e)throw new Error(`Unrecognized scale type: ${t.type}`);return{...t,...e(t)}}function h1e(t){return t instanceof jV&&t.value instanceof Date}function lX(t){let e=2166136261;for(let n=0,r=t.length;n<r;++n){const i=t.charCodeAt(n),s=i&65280;s&&(e=GF(e^s>>8)),e=GF(e^i&255)}return d1e(e)>>>0}function GF(t){return t+(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}function d1e(t){return t+=t<<13,t^=t>>>7,t+=t<<3,t^=t>>>17,t+=t<<5,t&4294967295}function p1e(t,e,n){switch(t.name){case"count":case"count_star":return m1e(e,t);case"sum":return cX(e,t);case"avg":return g1e(e,t);case"geomean":return y1e(e,t);case"arg_max":return b1e(e,t);case"arg_min":return v1e(e,t);case"variance":case"var_samp":return cw(e,t,n);case"var_pop":return cw(e,t,n,!1);case"stddev":case"stddev_samp":return zx(cw(e,t,n));case"stddev_pop":return zx(cw(e,t,n,!1));case"covar_samp":return D_(e,t,n);case"covar_pop":return D_(e,t,n,!1);case"corr":return HF(e,t,n);case"regr_count":return F1(e,t).expr;case"regr_avgx":return hX(e,t);case"regr_avgy":return dX(e,t);case"regr_syy":return iE(e,0,t,n);case"regr_sxx":return iE(e,1,t,n);case"regr_sxy":return D_(e,t,n,null);case"regr_slope":return pX(e,t,n);case"regr_intercept":return O1e(e,t,n);case"regr_r2":return wl(HF(e,t,n),2);case"max":case"min":case"bit_and":case"bit_or":case"bit_xor":case"bool_and":case"bool_or":case"product":{const r=uX(t);return e[r]=t,Pt`${t.name}("${r}")`}default:return null}}function uX(t){return"pre_"+lX(`${t}`).toString(16)}function zs(t,e,n){const r=n?.filter;r&&(e=e.filter?e.where(Ia(r,e.filter)):e.where(r));const i=uX(e);return t[i]=e,i}function nP(t,e){const n=zs(t,_i(e.args[0]),e);return{expr:sX(Wi(n),0),name:n}}function m1e(t,e){return sX(cX(t,e),0)}function cX(t,e){return Wi(zs(t,e))}function g1e(t,e){const n=zs(t,e),{expr:r,name:i}=nP(t,e);return os(Wi(Ci(n,i)),r)}function y1e(t,e){const n=e.args[0],r=zs(t,Wi(Hm(n)),e),{expr:i}=nP(t,e);return eP(os(Wi(r),i))}function b1e(t,e){const n=zs(t,e),r=zs(t,AO(e.args[1]),e);return Fge(n,r)}function v1e(t,e){const n=zs(t,e),r=zs(t,Lg(e.args[1]),e);return Mge(n,r)}function cw(t,e,n,r=!0){const i=e.args[0],{expr:s}=nP(t,e),o=Fi(i,n(i)),a=zs(t,Wi(wl(o,2)),e),l=zs(t,Wi(o),e),u=r?Fi(s,1):s;return os(Fi(Wi(a),os(wl(Wi(l),2),s)),u)}function D_(t,e,n,r=!0){const{expr:i}=F1(t,e),s=fX(t,e,n),o=fv(t,1,e,n),a=fv(t,0,e,n),l=Fi(s,os(Ci(o,a),i));return r===null?l:r?os(l,Fi(i,1)):os(l,i)}function HF(t,e,n){const{expr:r}=F1(t,e),i=fX(t,e,n),s=rE(t,1,e,n),o=rE(t,0,e,n),a=fv(t,1,e,n),l=fv(t,0,e,n),u=Fi(s,os(wl(a,2),r)),c=Fi(o,os(wl(l,2),r));return os(Fi(i,os(Ci(a,l),r)),zx(Ci(u,c)))}function F1(t,e){const[n,r]=e.args,i=zs(t,zge(n,r),e);return{expr:Wi(i),name:i}}function fv(t,e,n,r){const i=n.args,s=i[e],o=i[1-e],a=Wi(Fi(s,r(s))).where(uv(o));return Wi(zs(t,a,n))}function rE(t,e,n,r){const i=n.args,s=i[e],o=i[1-e],a=Wi(wl(Fi(s,r(s)),2)).where(uv(o));return Wi(zs(t,a,n))}function fX(t,e,n){const[r,i]=e.args,s=Wi(Ci(Fi(i,n(i)),Fi(r,n(r))));return Wi(zs(t,s,e))}function hX(t,e){const[n,r]=e.args,{expr:i,name:s}=F1(t,e),o=zs(t,Qge(n,r),e);return os(Wi(Ci(o,s)),i)}function dX(t,e){const[n,r]=e.args,{expr:i,name:s}=F1(t,e),o=zs(t,Bge(n,r),e);return os(Wi(Ci(o,s)),i)}function iE(t,e,n,r){const{expr:i}=F1(t,n),s=fv(t,e,n,r),o=rE(t,e,n,r);return Fi(o,os(wl(s,2),i))}function pX(t,e,n){const r=D_(t,e,n,null),i=iE(t,1,e,n);return os(r,i)}function O1e(t,e,n){const r=hX(t,e),i=dX(t,e),s=pX(t,e,n);return Fi(i,Ci(s,r))}function w1e(t){if(!t.filterStable)return null;const e=t.query();if(!xk(e))return null;const n=jx(e,l=>{const u=l._from[0],c=u instanceof av&&u.expr;return Qx(c)?c.name:c});if(typeof n!="string")return null;const r=new Map,i={},s={},o=[],a=l=>{const u=l.column,c=jx(e,f=>f._select.find(h=>h.alias===u)?.expr);return Pt`(SELECT avg(${c??l}) FROM "${n}")`};for(const{alias:l,expr:u}of e._select){if(Ck(u)>1)return null;const c=i1e(u);if(c.length===0)o.push(l),i[l]=u;else{for(const f of c){if(f.isDistinct)return null;const h=p1e(f,i,a);if(!h)return null;r.set(f,h)}s[l]=nE(u,r)}}return r.size?{group:o,preagg:i,output:s}:null}function jx(t,e){const n=t.subqueries;if(xk(t)&&n.length===0)return e(t);const r=jx(n[0],e);for(let i=1;i<n.length;++i){const s=jx(n[i],e);if(s!==void 0&&s!==r)return NaN}return r}const _1e={skip:!0,result:null};class x1e{entries;active;mc;_schema;_enabled;constructor(e,{schema:n="mosaic",enabled:r=!0}={}){this.entries=new Map,this.active=null,this.mc=e,this._schema=n,this._enabled=r}set enabled(e){this._enabled!==e&&(e||this.clear(),this._enabled=e)}get enabled(){return this._enabled}set schema(e){this._schema!==e&&(this.clear(),this._schema=e)}get schema(){return this._schema}dropSchema(){return this.clear(),this.mc.exec(`DROP SCHEMA IF EXISTS "${this.schema}" CASCADE`)}clear(){this.entries.clear(),this.active=null}request(e,n,r){if(!this.enabled||r==null)return null;const{entries:i,mc:s,schema:o}=this,{source:a}=r;if(!a||this.active&&(this.active.source!==a&&this.clear(),this.active?.source===null))return null;let{active:l}=this;if(!l&&(r.predicate==null||(this.active=l=S1e(r),l.source===null)))return null;if(i.has(e))return i.get(e);const u=w1e(e);let c;if(!u)c=null;else if(n.skip(e,r))c=_1e;else{const f=n.remove(a).predicate(e);c=A1e(e.query(f),l,u,o),c.result=s.exec([`CREATE SCHEMA IF NOT EXISTS ${o}`,s1e(c.table,c.create,{temp:!1})]),c.result.catch(h=>s.logger().error(h))}return i.set(e,c),c}}function S1e(t){const{source:e,meta:n}=t,r=t.predicate,i=aX(r).map(a=>a.column);let s,o;if(!n||!i)return{source:null,columns:o,predicate:s};switch(n.type){case"point":s=a=>a,o=Object.fromEntries(i.map(a=>[`${a}`,lr(a)]));break;case"interval":{const{scales:a,bin:l,pixelSize:u=1}=n;if(!a)break;const c=a.map(f=>C1e(f,u,l));c.some(f=>!f)||(c.length===1?(s=f=>f?Bh("active0",f.extent?.map(c[0])):[],o={active0:c[0](r.expr)}):(s=f=>f?Ia(f.clauses.map((h,d)=>Bh(`active${d}`,h.extent?.map(c[d])))):[],o=Object.fromEntries(r.clauses.map((f,h)=>[`active${h}`,c[h](f.expr)]))))}}return{source:o?e:null,columns:o,predicate:s}}const k1e={ceil:Wge,round:Yge};function C1e(t,e,n){const{type:r,domain:i,range:s,apply:o,sqlApply:a}=f1e(t);if(!o)return;const l=k1e[`${n}`.toLowerCase()]||Ux,u=i.map(g=>Number(g)),c=o(Math.min(...u)),f=o(Math.max(...u)),h=(r==="identity"?1:Math.abs(s[1]-s[0])/(f-c))/e,d=h===1?g=>g:g=>Ci(XF(h),g),m=c===0?g=>g:g=>Fi(g,XF(c));return g=>Xge(l(d(m(a(g)))))}function A1e(t,e,n,r){const{group:i,output:s,preagg:o}=n,{columns:a}=e,l=t.setSelect({...o,...a}).groupby(Object.keys(a)),[u]=l.subqueries;if(u){const b=Object.values(a).flatMap(v=>aX(v).map(O=>O.column));E1e(u,b)}const c=l._having,f=l._orderby;l._having=[],l._orderby=[];const h=l.toString(),d=(lX(h)>>>0).toString(16),m=`${r}.preagg_${d}`,g=lt.select(i,s).from(m).groupby(i).having(c).orderby(f);return new D1e({table:m,create:h,active:e,select:g})}function E1e(t,e){const n=new Set,r=i=>{if(!n.has(i)){if(n.add(i),xk(i)&&i._from.length&&(i.select(e),T1e(i))){const s=new Set(i._groupby.flatMap(o=>o instanceof ZV?[o.name]:[]));i.groupby(e.filter(o=>!s.has(o)))}i.subqueries.forEach(r)}};r(t)}function T1e(t){return t._groupby.length>0||t._select.some(e=>Ck(e))}class D1e{table;create;result;active;select;skip;constructor({table:e,create:n,active:r,select:i}){this.table=e,this.create=n,this.result=null,this.active=r,this.select=i,this.skip=!1}query(e){return this.select.clone().where(this.active.predicate(e))}}function sE(){return{debug(){},info(){},log(){},warn(){},error(){},group(){},groupCollapsed(){},groupEnd(){}}}const Op=Object.freeze({pending:Symbol("pending"),ready:Symbol("ready"),error:Symbol("error"),done:Symbol("done")});class rP extends Promise{_resolve;_reject;_state;_value;constructor(){let e,n;super((r,i)=>{e=r,n=i}),this._resolve=e,this._reject=n,this._state=Op.pending,this._value=void 0}fulfill(e){if(this._value!==void 0){if(e!==void 0)throw Error("Promise is ready and fulfill has a provided value");this._resolve(this._value)}else{if(e===void 0)throw Error("Promise is neither ready nor has provided value");this._resolve(e)}return this._state=Op.done,this}ready(e){return this._state=Op.ready,this._value=e,this}reject(e){return this._state=Op.error,this._reject(e),this}get state(){return this._state}}rP.prototype.constructor=Promise;function P1e(t){return typeof requestAnimationFrame<"u"?requestAnimationFrame(t):typeof setImmediate<"u"?setImmediate(t):setTimeout(t)}function R1e(t,e){let n=[],r=0;function i(){const s=$1e(n,e);n=[],r=0;for(const o of s)F1e(o,t),N1e(o,e)}return{add(s,o){s.request.type==="arrow"?(r||=P1e(()=>i()),n.push({entry:s,priority:o,index:n.length})):t(s,o)}}}function $1e(t,e){const n=[],r=new Map;for(const i of t){const{entry:{request:s}}=i,o=I1e(s.query,e);if(!r.has(o)){const a=[];n.push(a),r.set(o,a)}r.get(o).push(i)}return n}function I1e(t,e){const n=`${t}`;if(xk(t)&&!e.get(n)){if(t._where.length||t._qualify.length||t._having.length||t._orderby.length||t._distinct)return n;const r=t.clone().setSelect("*"),i=t._groupby;if(i.length){const s={};t._select.forEach(({alias:o,expr:a})=>s[o]=a),r.setGroupby(i.map(o=>GD(o)&&s[o.column]||o))}else t._select.some(s=>Ck(s.expr))&&r.setGroupby("ALL");return`${r}`}else return n}function F1e(t,e){if(M1e(t))e({request:{type:"arrow",cache:!1,query:t.query=L1e(t)},result:t.result=new rP});else for(const{entry:n,priority:r}of t)e(n,r)}function M1e(t){if(t.length>1){const e=`${t[0].entry.request.query}`;for(let n=1;n<t.length;++n)if(e!==`${t[n].entry.request.query}`)return!0}return!1}function L1e(t){const e=t.maps=[],n=new Map;for(const s of t){const o=s.entry.request.query,a=[];e.push(a);for(const{alias:l,expr:u}of o._select){const c=`${u}`;n.has(c)||n.set(c,[`col${n.size}`,u]);const[f]=n.get(c);a.push([f,l])}}const r=t[0].entry.request.query.clone(),i=r._groupby;if(i.length){const s={};t.maps[0].forEach(([o,a])=>s[a]=o),r.setGroupby(i.map(o=>GD(o)&&s[o.column]||o))}return r.setSelect(Array.from(n.values()))}async function N1e(t,e){const{maps:n,query:r,result:i}=t;if(!n)return;let s;try{s=await i}catch(a){for(const{entry:l}of t)l.result.reject(a);return}const o=Pge(r);t.forEach(({entry:a},l)=>{const{request:u,result:c}=a,f=n[l],h=o&&f?B1e(s,f):f?Q1e(s,f):s;u.cache&&e.set(String(u.query),h),c.fulfill(h)})}function Q1e(t,e){return t.select(e.map(n=>n[0]),e.map(n=>n[1]))}function B1e(t,e){const n=new Map(e),r=[];for(const i of t)n.has(i.column_name)&&r.push({...i,column_name:n.get(i.column_name)});return r}const z1e=typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout;function U1e(){return{get:()=>{},set:(t,e)=>e,clear:()=>{}}}function j1e({max:t=1e3,ttl:e=10800*1e3}={}){let n=new Map;function r(){const i=performance.now()-e;let s=null,o=1/0;for(const[a,l]of n){const{last:u}=l;u<o&&(s=a,o=u),i>u&&n.delete(a)}s&&n.delete(s)}return{get(i){const s=n.get(i);if(s)return s.last=performance.now(),s.value},set(i,s){return n.set(i,{last:performance.now(),value:s}),n.size>t&&z1e(r),s},clear(){n=new Map}}}class q1e{queue;constructor(e){this.queue=Array.from({length:e},()=>({head:null,tail:null}))}isEmpty(){return this.queue.every(e=>!e.head)}insert(e,n){const r=this.queue[n];if(!r)throw new Error(`Invalid queue priority rank: ${n}`);const i={item:e,next:null};r.head===null?r.head=r.tail=i:r.tail=r.tail.next=i}remove(e){for(const n of this.queue){let{head:r,tail:i}=n;for(let s=null,o=r;o;s=o,o=o.next)e(o.item)&&(o===r?r=o.next:s.next=o.next,o===i&&(i=s||r));n.head=r,n.tail=i}}next(){for(const e of this.queue){const{head:n}=e;if(n!==null)return e.head=n.next,e.tail===n&&(e.tail=null),n.item}}}const $m=Object.freeze({High:0,Normal:1,Low:2});class V1e{queue;db;clientCache;_logger;_logQueries;_consolidate;pendingResults;maxConcurrentRequests;pendingExec;constructor(e=32){this.queue=new q1e(3),this.db=null,this.clientCache=null,this._logger=sE(),this._logQueries=!1,this._consolidate=null,this.pendingResults=[],this.maxConcurrentRequests=e,this.pendingExec=!1}next(){if(this.queue.isEmpty()||this.pendingResults.length>this.maxConcurrentRequests||this.pendingExec)return;const e=this.queue.next();if(!e)return;const{request:n,result:r}=e;this.pendingResults.push(r),n.type==="exec"&&(this.pendingExec=!0),this.submit(n,r).finally(()=>{for(;this.pendingResults.length&&this.pendingResults[0].state!==Op.pending;){const i=this.pendingResults.shift();i.state===Op.ready?i.fulfill():i.state===Op.done&&this._logger.warn("Found resolved query in pending results.")}n.type==="exec"&&(this.pendingExec=!1),this.next()})}enqueue(e,n=$m.Normal){this.queue.insert(e,n),this.next()}async submit(e,n){try{const{query:r,type:i,cache:s=!1,options:o}=e,a=r?`${r}`:null;if(s){const f=this.clientCache.get(a);if(f){const h=await f;this._logger.debug("Cache"),n.ready(h);return}}const l=performance.now();this._logQueries&&this._logger.debug("Query",{type:i,sql:a,...o});const u=this.db.query({type:i,sql:a,...o});s&&this.clientCache.set(a,u);const c=await u;s&&this.clientCache.set(a,c),this._logger.debug(`Request: ${(performance.now()-l).toFixed(1)}`),n.ready(i==="exec"?null:c)}catch(r){n.reject(r)}}cache(e){return e!==void 0?this.clientCache=e===!0?j1e():e||U1e():this.clientCache}logger(e){return e?this._logger=e:this._logger}logQueries(e){return e!==void 0?this._logQueries=!!e:this._logQueries}connector(e){return e?this.db=e:this.db}consolidate(e){e&&!this._consolidate?this._consolidate=R1e(this.enqueue.bind(this),this.clientCache):!e&&this._consolidate&&(this._consolidate=null)}request(e,n=$m.Normal){const r=new rP,i={request:e,result:r};return this._consolidate?this._consolidate.add(i,n):this.enqueue(i,n),r}cancel(e){const n=new Set(e);if(n.size){this.queue.remove(({result:r})=>n.has(r)?(r.reject("Canceled"),!0):!1);for(const r of this.pendingResults)n.has(r)&&r.reject("Canceled")}}clear(){this.queue.remove(({result:e})=>(e.reject("Cleared"),!0));for(const e of this.pendingResults)e.reject("Cleared");this.pendingResults=[]}}let fw;function TO(t){return t?fw=t:fw==null&&(fw=new X1e),fw}class X1e{manager;preaggregator;clients=new Set;filterGroups=new Map;_logger=sE();constructor(e=new DV,n={}){const{logger:r=console,manager:i=new V1e,cache:s=!0,consolidate:o=!0,preagg:a={}}=n;this.manager=i,this.manager.cache(s),this.manager.consolidate(o),this.databaseConnector(e),this.logger(r),this.clear(),this.preaggregator=new x1e(this,a)}clear(e={}){const{clients:n=!0,cache:r=!0}=e;this.manager.clear(),n&&(this.filterGroups?.forEach(i=>i.disconnect()),this.filterGroups=new Map,this.clients?.forEach(i=>this.disconnect(i)),this.clients=new Set),r&&this.manager.cache().clear()}databaseConnector(e){return e?this.manager.connector(e):this.manager.connector()}logger(e){return arguments.length&&(this._logger=e||sE(),this.manager.logger(this._logger)),this._logger}cancel(e){this.manager.cancel(e)}exec(e,n={}){const{priority:r=$m.Normal}=n;return e=Array.isArray(e)?e.filter(i=>i).join(`;
`):e,this.manager.request({type:"exec",query:e},r)}query(e,n={}){const{type:r="arrow",cache:i=!0,priority:s=$m.Normal,...o}=n;return this.manager.request({type:r,query:e,cache:i,options:o},s)}prefetch(e,n={}){return this.query(e,{...n,cache:!0,priority:$m.Low})}updateClient(e,n,r=$m.Normal){return e.queryPending(),e._pending=this.query(n,{priority:r}).then(i=>e.queryResult(i).update(),i=>{this._logger?.error(i),e.queryError(i)}).catch(i=>this._logger?.error(i))}requestQuery(e,n){return this.preaggregator.clear(),n?this.updateClient(e,n):Promise.resolve(e.update())}connect(e){const{clients:n}=this;if(n?.has(e))throw new Error("Client already connected.");n?.add(e),e.coordinator=this,e.initialize(),Z1e(this,e.filterBy,e)}disconnect(e){const{clients:n,filterGroups:r}=this;if(!n?.has(e))return;n.delete(e),e.coordinator=null;const i=r?.get(e.filterBy);i&&i.clients.delete(e)}}function Z1e(t,e,n){if(!e)return;let r=t.filterGroups?.get(e);if(!r){const i=o=>W1e(t,e,o),s=()=>Y1e(t,e);e.addEventListener("activate",i),e.addEventListener("value",s),r={selection:e,clients:new Set,disconnect(){e.removeEventListener("activate",i),e.removeEventListener("value",s)}},t.filterGroups?.set(e,r)}r.clients.add(n)}function W1e(t,e,n){const{preaggregator:r,filterGroups:i}=t,{clients:s}=i.get(e);for(const o of s)o.enabled&&r.request(o,e,n)}function Y1e(t,e){const{preaggregator:n,filterGroups:r}=t,{clients:i}=r.get(e),{active:s}=e;return Promise.allSettled(Array.from(i,o=>{if(!o.enabled)return o.requestQuery();const a=n.request(o,e,s),l=a?null:e.predicate(o);if(a?.skip||!a&&!l)return;const u=a?.query(s.predicate)??o.query(l);return t.updateClient(o,u)}))}function M1(t){const{coordinator:e=TO(),...n}=t,r=new G1e(n);return e.connect(r),r}class G1e extends hk{_methods;_filterStable;constructor({selection:e=void 0,enabled:n=!0,filterStable:r=!0,...i}){super(e),this.enabled=n,this._methods=i,this._filterStable=r}get filterStable(){return this._filterStable}async prepare(){await this._methods.prepare?.()}query(e){return this._methods.query?.(e)??null}queryResult(e){return this._methods.queryResult?.(e),this}queryPending(){return this._methods.queryPending?.(),this}queryError(e){return this._methods.queryError?.(e),this}}class H1e{_callbacks;constructor(){this._callbacks=new Map}addEventListener(e,n){this._callbacks.has(e)||this._callbacks.set(e,{callbacks:new Set,pending:null,queue:new K1e}),this._callbacks.get(e).callbacks.add(n)}removeEventListener(e,n){const r=this._callbacks.get(e);r&&r.callbacks.delete(n)}willEmit(e,n){return n}emitQueueFilter(e,n){return null}cancel(e){this._callbacks.get(e)?.queue.clear()}async pending(e){await this._callbacks.get(e)?.pending}emit(e,n){const r=this._callbacks.get(e)||{};if(r.pending)r.queue.enqueue(n,this.emitQueueFilter(e,n));else{const i=this.willEmit(e,n),{callbacks:s,queue:o}=r;if(s?.size){const a=Array.from(s,l=>l(i));r.pending=Promise.allSettled(a).then(()=>{r.pending=null,o.isEmpty()||this.emit(e,o.dequeue())})}}}}class K1e{next=null;constructor(){this.clear()}clear(){this.next=null}isEmpty(){return!this.next}enqueue(e,n){const r={value:e};if(n&&this.next){let i=this;for(;i.next;)n(i.next.value)?i=i.next:i.next=i.next.next;i.next=r}else this.next=r}dequeue(){const{next:e}=this;return this.next=e?.next||null,e?.value}}function J1e(t,e){return t===e?!1:t instanceof Date&&e instanceof Date?+t!=+e:Array.isArray(t)&&Array.isArray(e)?eye(t,e):!0}function eye(t,e){if(t.length!==e.length)return!0;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!0;return!1}function dC(t){return t instanceof Km}class Km extends H1e{_value;constructor(e){super(),this._value=e}static value(e){return new Km(e)}static array(e){if(e.some(n=>dC(n))){const n=new Km,r=()=>{n.update(e.map(i=>dC(i)?i.value:i))};return r(),e.forEach(i=>dC(i)?i.addEventListener("value",r):0),n}return new Km(e)}get value(){return this._value}update(e,{force:n}={}){return J1e(this._value,e)||n?this.emit("value",e):this.cancel("value"),this}willEmit(e,n){return e==="value"&&(this._value=n),n}}function KF(t){return t instanceof iP}function hw(t,e){return new iP(new gX(t),e?[e].flat():void 0)}let iP=class mX extends Km{_resolved;_resolver;_relay;static intersect({cross:e=!1,empty:n=!1,include:r=[]}={}){return hw({cross:e,empty:n},r)}static union({cross:e=!1,empty:n=!1,include:r=[]}={}){return hw({cross:e,empty:n,union:!0},r)}static single({cross:e=!1,empty:n=!1,include:r=[]}={}){return hw({cross:e,empty:n,single:!0},r)}static crossfilter({empty:e=!1,include:n=[]}={}){return hw({cross:!0,empty:e},n)}constructor(e=new gX,n=[]){if(super([]),this._resolved=this._value,this._resolver=e,this._relay=new Set,Array.isArray(n))for(const r of n)r._relay.add(this)}clone(){const e=new mX(this._resolver);return e._value=e._resolved=this._value,e}remove(e){const n=this.clone();return n._value=n._resolved=n._resolver.resolve(this._resolved,{source:e}),n._value.active={source:e},n}get resolver(){return this._resolver}get single(){return this._resolver.single}get clauses(){return super.value}get active(){return this.clauses.active}get value(){return this.active?.value}valueFor(e){return this.clauses.find(n=>n.source===e)?.value}activate(e){this.emit("activate",e),this._relay.forEach(n=>n.activate(e))}update(e){return this._resolved=this._resolver.resolve(this._resolved,e,!0),this._resolved.active=e,this._relay.forEach(n=>n.update(e)),super.update(this._resolved)}reset(e){return e??=this._resolved,e.forEach(n=>n.source?.reset?.()),this._resolved=this._resolved.filter(n=>!e.includes(n)),this._relay.forEach(n=>n.reset(e)),super.update(this._resolved)}willEmit(e,n){return e==="value"?(this._value=n,this.value):n}emitQueueFilter(e,n){return e==="value"?this._resolver.queueFilter(n):null}skip(e,n){return this._resolver.skip(e,n)}predicate(e=void 0,n=!1){const{clauses:r}=this,i=n?null:r.active;return this._resolver.predicate(r,i,e)}};class gX{union;cross;single;empty;constructor({union:e,cross:n,single:r,empty:i}={}){this.union=!!e,this.cross=!!n,this.single=!!r,this.empty=!!i}resolve(e,n,r=!1){const{source:i,predicate:s}=n,o=e.filter(l=>i!==l.source),a=this.single?[]:o;return this.single&&r&&o.forEach(l=>l.source?.reset?.()),s&&a.push(n),a}skip(e,n){return e==null?!1:!!(this.cross&&n?.clients?.has(e))}predicate(e,n,r){const{empty:i,union:s}=this;if(i&&!e.length)return[et(!1)];if(this.skip(r,n))return;const o=e.filter(a=>!this.skip(r,a)).map(a=>a.predicate);return s&&o.length>1?uc(o):o}queueFilter(e){if(this.cross){const n=e.active?.source;return r=>r.active?.source!==n}return null}}function tye(t){return new nye(t)}class nye{_uri;_ipc;constructor({uri:e="http://localhost:3000/",ipc:n=void 0}={}){this._uri=e,this._ipc=n}async query(e){const n=fetch(this._uri,{method:"POST",mode:"cors",credentials:"omit",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await n;if(!r.ok)throw new Error(`Query failed with HTTP status ${r.status}: ${await r.text()}`);return e.type==="exec"?n:e.type==="arrow"?Nx(await r.arrayBuffer(),this._ipc):r.json()}}function Ft(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function JF(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kt(t){return this instanceof Kt?(this.v=t,this):new Kt(t)}function Ju(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(d){return function(m){return Promise.resolve(m).then(d,f)}}function a(d,m){r[d]&&(i[d]=function(g){return new Promise(function(b,v){s.push([d,g,b,v])>1||l(d,g)})},m&&(i[d]=m(i[d])))}function l(d,m){try{u(r[d](m))}catch(g){h(s[0][3],g)}}function u(d){d.value instanceof Kt?Promise.resolve(d.value.v).then(c,f):h(s[0][2],d)}function c(d){l("next",d)}function f(d){l("throw",d)}function h(d,m){d(m),s.shift(),s.length&&l(s[0][0],s[0][1])}}function P_(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Kt(t[i](o)),done:!1}:s?s(o):o}:s}}function Bp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof JF=="function"?JF(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}const rye=new TextDecoder("utf-8"),oE=t=>rye.decode(t),iye=new TextEncoder,sP=t=>iye.encode(t),sye=t=>typeof t=="number",yX=t=>typeof t=="boolean",Vi=t=>typeof t=="function",Ho=t=>t!=null&&Object(t)===t,n0=t=>Ho(t)&&Vi(t.then),DO=t=>Ho(t)&&Vi(t[Symbol.iterator]),L1=t=>Ho(t)&&Vi(t[Symbol.asyncIterator]),aE=t=>Ho(t)&&Ho(t.schema),bX=t=>Ho(t)&&"done"in t&&"value"in t,vX=t=>Ho(t)&&Vi(t.stat)&&sye(t.fd),OX=t=>Ho(t)&&oP(t.body),Ak=t=>"_getDOMStream"in t&&"_getNodeStream"in t,oye=t=>Ho(t)&&Vi(t.abort)&&Vi(t.getWriter)&&!Ak(t),oP=t=>Ho(t)&&Vi(t.cancel)&&Vi(t.getReader)&&!Ak(t),aye=t=>Ho(t)&&Vi(t.end)&&Vi(t.write)&&yX(t.writable)&&!Ak(t),wX=t=>Ho(t)&&Vi(t.read)&&Vi(t.pipe)&&yX(t.readable)&&!Ak(t),lye=t=>Ho(t)&&Vi(t.clear)&&Vi(t.bytes)&&Vi(t.position)&&Vi(t.setPosition)&&Vi(t.capacity)&&Vi(t.getBufferIdentifier)&&Vi(t.createLong),aP=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function uye(t){const e=t[0]?[t[0]]:[];let n,r,i,s;for(let o,a,l=0,u=0,c=t.length;++l<c;){if(o=e[u],a=t[l],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(e[++u]=a);continue}if({byteOffset:n,byteLength:i}=o,{byteOffset:r,byteLength:s}=a,n+i<r||r+s<n){a&&(e[++u]=a);continue}e[u]=new Uint8Array(o.buffer,n,r-n+s)}return e}function eM(t,e,n=0,r=e.byteLength){const i=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,i),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,i));return s.set(o,n),t}function wc(t,e){const n=uye(t),r=n.reduce((c,f)=>c+f.byteLength,0);let i,s,o,a=0,l=-1;const u=Math.min(e||Number.POSITIVE_INFINITY,r);for(const c=n.length;++l<c;){if(i=n[l],s=i.subarray(0,Math.min(i.length,u-a)),u<=a+s.length){s.length<i.length?n[l]=i.subarray(s.length):s.length===i.length&&l++,o?eM(o,s,a):o=s;break}eM(o||(o=new Uint8Array(u)),s,a),a+=s.length}return[o||new Uint8Array(0),n.slice(l),r-(o?o.byteLength:0)]}function rr(t,e){let n=bX(e)?e.value:e;return n instanceof t?t===Uint8Array?new t(n.buffer,n.byteOffset,n.byteLength):n:n?(typeof n=="string"&&(n=sP(n)),n instanceof ArrayBuffer?new t(n):n instanceof aP?new t(n):lye(n)?rr(t,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new t(0):new t(n.buffer,n.byteOffset,n.byteLength/t.BYTES_PER_ELEMENT):t.from(n)):new t(0)}const Ty=t=>rr(Int32Array,t),tM=t=>rr(BigInt64Array,t),xn=t=>rr(Uint8Array,t),lE=t=>(t.next(),t);function*cye(t,e){const n=function*(i){yield i},r=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof aP?n(e):DO(e)?e:n(e);return yield*lE((function*(i){let s=null;do s=i.next(yield rr(t,s));while(!s.done)})(r[Symbol.iterator]())),new t}const fye=t=>cye(Uint8Array,t);function _X(t,e){return Ju(this,arguments,function*(){if(n0(e))return yield Kt(yield Kt(yield*P_(Bp(_X(t,yield Kt(e))))));const r=function(o){return Ju(this,arguments,function*(){yield yield Kt(yield Kt(o))})},i=function(o){return Ju(this,arguments,function*(){yield Kt(yield*P_(Bp(lE((function*(a){let l=null;do l=a.next(yield l?.value);while(!l.done)})(o[Symbol.iterator]())))))})},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof aP?r(e):DO(e)?i(e):L1(e)?e:r(e);return yield Kt(yield*P_(Bp(lE((function(o){return Ju(this,arguments,function*(){let a=null;do a=yield Kt(o.next(yield yield Kt(rr(t,a))));while(!a.done)})})(s[Symbol.asyncIterator]()))))),yield Kt(new t)})}const hye=t=>_X(Uint8Array,t);function xX(t,e,n){if(t!==0){n=n.slice(0,e);for(let r=-1,i=n.length;++r<i;)n[r]+=t}return n.subarray(0,e)}function dye(t,e){let n=0;const r=t.length;if(r!==e.length)return!1;if(r>0)do if(t[n]!==e[n])return!1;while(++n<r);return!0}const rl={fromIterable(t){return dw(pye(t))},fromAsyncIterable(t){return dw(mye(t))},fromDOMStream(t){return dw(gye(t))},fromNodeStream(t){return dw(bye(t))},toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},dw=t=>(t.next(),t);function*pye(t){let e,n=!1,r=[],i,s,o,a=0;function l(){return s==="peek"?wc(r,o)[0]:([i,r,a]=wc(r,o),i)}({cmd:s,size:o}=(yield null)||{cmd:"read",size:0});const u=fye(t)[Symbol.iterator]();try{do if({done:e,value:i}=Number.isNaN(o-a)?u.next():u.next(o-a),!e&&i.byteLength>0&&(r.push(i),a+=i.byteLength),e||o<=a)do({cmd:s,size:o}=yield l());while(o<a);while(!e)}catch(c){(n=!0)&&typeof u.throw=="function"&&u.throw(c)}finally{n===!1&&typeof u.return=="function"&&u.return(null)}return null}function mye(t){return Ju(this,arguments,function*(){let n,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?wc(i,a)[0]:([s,i,l]=wc(i,a),s)}({cmd:o,size:a}=(yield yield Kt(null))||{cmd:"read",size:0});const c=hye(t)[Symbol.asyncIterator]();try{do if({done:n,value:s}=Number.isNaN(a-l)?yield Kt(c.next()):yield Kt(c.next(a-l)),!n&&s.byteLength>0&&(i.push(s),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield Kt(u()));while(a<l);while(!n)}catch(f){(r=!0)&&typeof c.throw=="function"&&(yield Kt(c.throw(f)))}finally{r===!1&&typeof c.return=="function"&&(yield Kt(c.return(new Uint8Array(0))))}return yield Kt(null)})}function gye(t){return Ju(this,arguments,function*(){let n=!1,r=!1,i=[],s,o,a,l=0;function u(){return o==="peek"?wc(i,a)[0]:([s,i,l]=wc(i,a),s)}({cmd:o,size:a}=(yield yield Kt(null))||{cmd:"read",size:0});const c=new yye(t);try{do if({done:n,value:s}=Number.isNaN(a-l)?yield Kt(c.read()):yield Kt(c.read(a-l)),!n&&s.byteLength>0&&(i.push(xn(s)),l+=s.byteLength),n||a<=l)do({cmd:o,size:a}=yield yield Kt(u()));while(a<l);while(!n)}catch(f){(r=!0)&&(yield Kt(c.cancel(f)))}finally{r===!1?yield Kt(c.cancel()):t.locked&&c.releaseLock()}return yield Kt(null)})}class yye{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return Ft(this,void 0,void 0,function*(){const{reader:n,source:r}=this;n&&(yield n.cancel(e).catch(()=>{})),r&&r.locked&&this.releaseLock()})}read(e){return Ft(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const n=yield this.reader.read();return!n.done&&(n.value=xn(n)),n})}}const pC=(t,e)=>{const n=i=>r([e,i]);let r;return[e,n,new Promise(i=>(r=i)&&t.once(e,n))]};function bye(t){return Ju(this,arguments,function*(){const n=[];let r="error",i=!1,s=null,o,a,l=0,u=[],c;function f(){return o==="peek"?wc(u,a)[0]:([c,u,l]=wc(u,a),c)}if({cmd:o,size:a}=(yield yield Kt(null))||{cmd:"read",size:0},t.isTTY)return yield yield Kt(new Uint8Array(0)),yield Kt(null);try{n[0]=pC(t,"end"),n[1]=pC(t,"error");do{if(n[2]=pC(t,"readable"),[r,s]=yield Kt(Promise.race(n.map(d=>d[2]))),r==="error")break;if((i=r==="end")||(Number.isFinite(a-l)?(c=xn(t.read(a-l)),c.byteLength<a-l&&(c=xn(t.read()))):c=xn(t.read()),c.byteLength>0&&(u.push(c),l+=c.byteLength)),i||a<=l)do({cmd:o,size:a}=yield yield Kt(f()));while(a<l)}while(!i)}finally{yield Kt(h(n,r==="error"?s:null))}return yield Kt(null);function h(d,m){return c=u=null,new Promise((g,b)=>{for(const[v,O]of d)t.off(v,O);try{const v=t.destroy;v&&v.call(t,m),m=void 0}catch(v){m=v||m}finally{m!=null?b(m):g()}})}})}var xi;(function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"})(xi||(xi={}));var Us;(function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"})(Us||(Us={}));var Fs;(function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"})(Fs||(Fs={}));var _l;(function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"})(_l||(_l={}));var _t;(function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"})(_t||(_t={}));var _c;(function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(_c||(_c={}));const mC=2,ju=4,wf=4,Kn=4,Dh=new Int32Array(2),nM=new Float32Array(Dh.buffer),rM=new Float64Array(Dh.buffer),pw=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var uE;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(uE||(uE={}));let Bg=class SX{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new SX(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return Dh[0]=this.readInt32(e),nM[0]}readFloat64(e){return Dh[pw?0:1]=this.readInt32(e),Dh[pw?1:0]=this.readInt32(e+4),rM[0]}writeInt8(e,n){this.bytes_[e]=n}writeUint8(e,n){this.bytes_[e]=n}writeInt16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeUint16(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8}writeInt32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeUint32(e,n){this.bytes_[e]=n,this.bytes_[e+1]=n>>8,this.bytes_[e+2]=n>>16,this.bytes_[e+3]=n>>24}writeInt64(e,n){this.writeInt32(e,Number(BigInt.asIntN(32,n))),this.writeInt32(e+4,Number(BigInt.asIntN(32,n>>BigInt(32))))}writeUint64(e,n){this.writeUint32(e,Number(BigInt.asUintN(32,n))),this.writeUint32(e+4,Number(BigInt.asUintN(32,n>>BigInt(32))))}writeFloat32(e,n){nM[0]=n,this.writeInt32(e,Dh[0])}writeFloat64(e,n){rM[0]=n,this.writeInt32(e,Dh[pw?0:1]),this.writeInt32(e+4,Dh[pw?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+ju+wf)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let n=0;n<wf;n++)e+=String.fromCharCode(this.readInt8(this.position_+ju+n));return e}__offset(e,n){const r=e-this.readInt32(e);return n<this.readInt16(r)?this.readInt16(r+n):0}__union(e,n){return e.bb_pos=n+this.readInt32(n),e.bb=this,e}__string(e,n){e+=this.readInt32(e);const r=this.readInt32(e);e+=ju;const i=this.bytes_.subarray(e,e+r);return n===uE.UTF8_BYTES?i:this.text_decoder_.decode(i)}__union_with_string(e,n){return typeof e=="string"?this.__string(n):this.__union(e,n)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+ju}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=wf)throw new Error("FlatBuffers: file identifier must be length "+wf);for(let n=0;n<wf;n++)if(e.charCodeAt(n)!=this.readInt8(this.position()+ju+n))return!1;return!0}createScalarList(e,n){const r=[];for(let i=0;i<n;++i){const s=e(i);s!==null&&r.push(s)}return r}createObjList(e,n){const r=[];for(let i=0;i<n;++i){const s=e(i);s!==null&&r.push(s.unpack())}return r}},kX=class CX{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let n;e?n=e:n=1024,this.bb=Bg.allocate(n),this.space=n}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,n){e>this.minalign&&(this.minalign=e);const r=~(this.bb.capacity()-this.space+n)+1&e-1;for(;this.space<r+e+n;){const i=this.bb.capacity();this.bb=CX.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}pad(e){for(let n=0;n<e;n++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,n,r){(this.force_defaults||n!=r)&&(this.addInt8(n),this.slot(e))}addFieldInt16(e,n,r){(this.force_defaults||n!=r)&&(this.addInt16(n),this.slot(e))}addFieldInt32(e,n,r){(this.force_defaults||n!=r)&&(this.addInt32(n),this.slot(e))}addFieldInt64(e,n,r){(this.force_defaults||n!==r)&&(this.addInt64(n),this.slot(e))}addFieldFloat32(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat32(n),this.slot(e))}addFieldFloat64(e,n,r){(this.force_defaults||n!=r)&&(this.addFloat64(n),this.slot(e))}addFieldOffset(e,n,r){(this.force_defaults||n!=r)&&(this.addOffset(n),this.slot(e))}addFieldStruct(e,n,r){n!=r&&(this.nested(n),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const n=e.capacity();if(n&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=n<<1,i=Bg.allocate(r);return i.setPosition(r-n),i.bytes().set(e.bytes(),r-n),i}addOffset(e){this.prep(ju,0),this.writeInt32(this.offset()-e+ju)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let n=0;n<e;n++)this.vtable[n]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let n=this.vtable_in_use-1;for(;n>=0&&this.vtable[n]==0;n--);const r=n+1;for(;n>=0;n--)this.addInt16(this.vtable[n]!=0?e-this.vtable[n]:0);const i=2;this.addInt16(e-this.object_start);const s=(r+i)*mC;this.addInt16(s);let o=0;const a=this.space;e:for(n=0;n<this.vtables.length;n++){const l=this.bb.capacity()-this.vtables[n];if(s==this.bb.readInt16(l)){for(let u=mC;u<s;u+=mC)if(this.bb.readInt16(a+u)!=this.bb.readInt16(l+u))continue e;o=this.vtables[n];break}}return o?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,o-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,n,r){const i=r?Kn:0;if(n){const s=n;if(this.prep(this.minalign,ju+wf+i),s.length!=wf)throw new TypeError("FlatBuffers: file identifier must be length "+wf);for(let o=wf-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,ju+i),this.addOffset(e),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,n){this.finish(e,n,!0)}requiredField(e,n){const r=this.bb.capacity()-e,i=r-this.bb.readInt32(r);if(!(n<this.bb.readInt16(i)&&this.bb.readInt16(i+n)!=0))throw new TypeError("FlatBuffers: field "+n+" must be set")}startVector(e,n,r){this.notNested(),this.vector_num_elems=n,this.prep(ju,e*n),this.prep(r,e*n)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const n=this.createString(e);return this.string_maps.set(e,n),n}createString(e){if(e==null)return 0;let n;return e instanceof Uint8Array?n=e:n=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,n.length,1),this.bb.setPosition(this.space-=n.length),this.bb.bytes().set(n,this.space),this.endVector()}createByteVector(e){return e==null?0:(this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector())}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const n=[];for(let r=0;r<e.length;++r){const i=e[r];if(i!==null)n.push(this.createObjectOffset(i));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return n}createStructOffsetList(e,n){return n(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}};var qx;(function(t){t[t.BUFFER=0]="BUFFER"})(qx||(qx={}));var Vx;(function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"})(Vx||(Vx={}));class Ph{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBodyCompression(e,n){return(n||new Ph).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,n){return e.setPosition(e.position()+Kn),(n||new Ph).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):Vx.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):qx.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,n){e.addFieldInt8(0,n,Vx.LZ4_FRAME)}static addMethod(e,n){e.addFieldInt8(1,n,qx.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,n,r){return Ph.startBodyCompression(e),Ph.addCodec(e,n),Ph.addMethod(e,r),Ph.endBodyCompression(e)}}let AX=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,n,r){return e.prep(8,16),e.writeInt64(BigInt(r??0)),e.writeInt64(BigInt(n??0)),e.offset()}},EX=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,n,r){return e.prep(8,16),e.writeInt64(BigInt(r??0)),e.writeInt64(BigInt(n??0)),e.offset()}},ff=class cE{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsRecordBatch(e,n){return(n||new cE).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,n){return e.setPosition(e.position()+Kn),(n||new cE).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}nodes(e,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new EX).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new AX).__init(this.bb.__vector(this.bb_pos+r)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new Ph).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addNodes(e,n){e.addFieldOffset(1,n,0)}static startNodesVector(e,n){e.startVector(16,n,8)}static addBuffers(e,n){e.addFieldOffset(2,n,0)}static startBuffersVector(e,n){e.startVector(16,n,8)}static addCompression(e,n){e.addFieldOffset(3,n,0)}static endRecordBatch(e){return e.endObject()}},ym=class fE{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryBatch(e,n){return(n||new fE).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,n){return e.setPosition(e.position()+Kn),(n||new fE).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}data(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new ff).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addData(e,n){e.addFieldOffset(1,n,0)}static addIsDelta(e,n){e.addFieldInt8(2,+n,0)}static endDictionaryBatch(e){return e.endObject()}};var zg;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(zg||(zg={}));var Xx;(function(t){t[t.DenseArray=0]="DenseArray"})(Xx||(Xx={}));class ka{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInt(e,n){return(n||new ka).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,n){return e.setPosition(e.position()+Kn),(n||new ka).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,n){e.addFieldInt32(0,n,0)}static addIsSigned(e,n){e.addFieldInt8(1,+n,0)}static endInt(e){return e.endObject()}static createInt(e,n,r){return ka.startInt(e),ka.addBitWidth(e,n),ka.addIsSigned(e,r),ka.endInt(e)}}class _f{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDictionaryEncoding(e,n){return(n||new _f).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,n){return e.setPosition(e.position()+Kn),(n||new _f).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}indexType(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new ka).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):Xx.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,n){e.addFieldInt64(0,n,BigInt("0"))}static addIndexType(e,n){e.addFieldOffset(1,n,0)}static addIsOrdered(e,n){e.addFieldInt8(2,+n,0)}static addDictionaryKind(e,n){e.addFieldInt16(3,n,Xx.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class Zi{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsKeyValue(e,n){return(n||new Zi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,n){return e.setPosition(e.position()+Kn),(n||new Zi).__init(e.readInt32(e.position())+e.position(),e)}key(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}value(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,n){e.addFieldOffset(0,n,0)}static addValue(e,n){e.addFieldOffset(1,n,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,n,r){return Zi.startKeyValue(e),Zi.addKey(e,n),Zi.addValue(e,r),Zi.endKeyValue(e)}}let iM=class ob{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBinary(e,n){return(n||new ob).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,n){return e.setPosition(e.position()+Kn),(n||new ob).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return ob.startBinary(e),ob.endBinary(e)}},sM=class ab{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsBool(e,n){return(n||new ab).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,n){return e.setPosition(e.position()+Kn),(n||new ab).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return ab.startBool(e),ab.endBool(e)}},R_=class bm{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDate(e,n){return(n||new bm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,n){return e.setPosition(e.position()+Kn),(n||new bm).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):_l.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,_l.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,n){return bm.startDate(e),bm.addUnit(e,n),bm.endDate(e)}},vm=class Th{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDecimal(e,n){return(n||new Th).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,n){return e.setPosition(e.position()+Kn),(n||new Th).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,n){e.addFieldInt32(0,n,0)}static addScale(e,n){e.addFieldInt32(1,n,0)}static addBitWidth(e,n){e.addFieldInt32(2,n,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,n,r,i){return Th.startDecimal(e),Th.addPrecision(e,n),Th.addScale(e,r),Th.addBitWidth(e,i),Th.endDecimal(e)}},$_=class Om{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsDuration(e,n){return(n||new Om).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,n){return e.setPosition(e.position()+Kn),(n||new Om).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):_t.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,_t.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,n){return Om.startDuration(e),Om.addUnit(e,n),Om.endDuration(e)}},I_=class wm{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeBinary(e,n){return(n||new wm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,n){return e.setPosition(e.position()+Kn),(n||new wm).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,n){return wm.startFixedSizeBinary(e),wm.addByteWidth(e,n),wm.endFixedSizeBinary(e)}},F_=class _m{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFixedSizeList(e,n){return(n||new _m).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,n){return e.setPosition(e.position()+Kn),(n||new _m).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,n){e.addFieldInt32(0,n,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,n){return _m.startFixedSizeList(e),_m.addListSize(e,n),_m.endFixedSizeList(e)}};class qu{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFloatingPoint(e,n){return(n||new qu).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,n){return e.setPosition(e.position()+Kn),(n||new qu).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Fs.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,n){e.addFieldInt16(0,n,Fs.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,n){return qu.startFloatingPoint(e),qu.addPrecision(e,n),qu.endFloatingPoint(e)}}class Vu{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsInterval(e,n){return(n||new Vu).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,n){return e.setPosition(e.position()+Kn),(n||new Vu).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):_c.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,n){e.addFieldInt16(0,n,_c.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,n){return Vu.startInterval(e),Vu.addUnit(e,n),Vu.endInterval(e)}}let oM=class lb{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsLargeBinary(e,n){return(n||new lb).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,n){return e.setPosition(e.position()+Kn),(n||new lb).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return lb.startLargeBinary(e),lb.endLargeBinary(e)}},aM=class ub{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsLargeUtf8(e,n){return(n||new ub).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,n){return e.setPosition(e.position()+Kn),(n||new ub).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return ub.startLargeUtf8(e),ub.endLargeUtf8(e)}},lM=class cb{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsList(e,n){return(n||new cb).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,n){return e.setPosition(e.position()+Kn),(n||new cb).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return cb.startList(e),cb.endList(e)}},M_=class xm{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMap(e,n){return(n||new xm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,n){return e.setPosition(e.position()+Kn),(n||new xm).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,n){e.addFieldInt8(0,+n,0)}static endMap(e){return e.endObject()}static createMap(e,n){return xm.startMap(e),xm.addKeysSorted(e,n),xm.endMap(e)}},uM=class fb{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsNull(e,n){return(n||new fb).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,n){return e.setPosition(e.position()+Kn),(n||new fb).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return fb.startNull(e),fb.endNull(e)}};class wp{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsStruct_(e,n){return(n||new wp).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,n){return e.setPosition(e.position()+Kn),(n||new wp).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return wp.startStruct_(e),wp.endStruct_(e)}}class ol{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTime(e,n){return(n||new ol).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,n){return e.setPosition(e.position()+Kn),(n||new ol).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):_t.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,_t.MILLISECOND)}static addBitWidth(e,n){e.addFieldInt32(1,n,32)}static endTime(e){return e.endObject()}static createTime(e,n,r){return ol.startTime(e),ol.addUnit(e,n),ol.addBitWidth(e,r),ol.endTime(e)}}class al{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsTimestamp(e,n){return(n||new al).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,n){return e.setPosition(e.position()+Kn),(n||new al).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):_t.SECOND}timezone(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.__string(this.bb_pos+n,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,n){e.addFieldInt16(0,n,_t.SECOND)}static addTimezone(e,n){e.addFieldOffset(1,n,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,n,r){return al.startTimestamp(e),al.addUnit(e,n),al.addTimezone(e,r),al.endTimestamp(e)}}class Lo{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUnion(e,n){return(n||new Lo).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,n){return e.setPosition(e.position()+Kn),(n||new Lo).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Us.Sparse}typeIds(e){const n=this.bb.__offset(this.bb_pos,6);return n?this.bb.readInt32(this.bb.__vector(this.bb_pos+n)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,n){e.addFieldInt16(0,n,Us.Sparse)}static addTypeIds(e,n){e.addFieldOffset(1,n,0)}static createTypeIdsVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addInt32(n[r]);return e.endVector()}static startTypeIdsVector(e,n){e.startVector(4,n,4)}static endUnion(e){return e.endObject()}static createUnion(e,n,r){return Lo.startUnion(e),Lo.addMode(e,n),Lo.addTypeIds(e,r),Lo.endUnion(e)}}let cM=class hb{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsUtf8(e,n){return(n||new hb).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,n){return e.setPosition(e.position()+Kn),(n||new hb).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return hb.startUtf8(e),hb.endUtf8(e)}};var kr;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList",t[t.RunEndEncoded=22]="RunEndEncoded"})(kr||(kr={}));let Ha=class L_{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsField(e,n){return(n||new L_).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,n){return e.setPosition(e.position()+Kn),(n||new L_).__init(e.readInt32(e.position())+e.position(),e)}name(e){const n=this.bb.__offset(this.bb_pos,4);return n?this.bb.__string(this.bb_pos+n,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):kr.NONE}type(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(e,this.bb_pos+n):null}dictionary(e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new _f).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}children(e,n){const r=this.bb.__offset(this.bb_pos,14);return r?(n||new L_).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,16);return r?(n||new Zi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,n){e.addFieldOffset(0,n,0)}static addNullable(e,n){e.addFieldInt8(1,+n,0)}static addTypeType(e,n){e.addFieldInt8(2,n,kr.NONE)}static addType(e,n){e.addFieldOffset(3,n,0)}static addDictionary(e,n){e.addFieldOffset(4,n,0)}static addChildren(e,n){e.addFieldOffset(5,n,0)}static createChildrenVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startChildrenVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(6,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endField(e){return e.endObject()}},Lu=class sf{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsSchema(e,n){return(n||new sf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,n){return e.setPosition(e.position()+Kn),(n||new sf).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):zg.Little}fields(e,n){const r=this.bb.__offset(this.bb_pos,6);return r?(n||new Ha).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new Zi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.readInt64(this.bb.__vector(this.bb_pos+n)+e*8):BigInt(0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,n){e.addFieldInt16(0,n,zg.Little)}static addFields(e,n){e.addFieldOffset(1,n,0)}static createFieldsVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startFieldsVector(e,n){e.startVector(4,n,4)}static addCustomMetadata(e,n){e.addFieldOffset(2,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static addFeatures(e,n){e.addFieldOffset(3,n,0)}static createFeaturesVector(e,n){e.startVector(8,n.length,8);for(let r=n.length-1;r>=0;r--)e.addInt64(n[r]);return e.endVector()}static startFeaturesVector(e,n){e.startVector(8,n,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,n){e.finish(n)}static finishSizePrefixedSchemaBuffer(e,n){e.finish(n,void 0,!0)}static createSchema(e,n,r,i,s){return sf.startSchema(e),sf.addEndianness(e,n),sf.addFields(e,r),sf.addCustomMetadata(e,i),sf.addFeatures(e,s),sf.endSchema(e)}};var Fn;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})(Fn||(Fn={}));var Y;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth",t[t.DurationSecond=-27]="DurationSecond",t[t.DurationMillisecond=-28]="DurationMillisecond",t[t.DurationMicrosecond=-29]="DurationMicrosecond",t[t.DurationNanosecond=-30]="DurationNanosecond"})(Y||(Y={}));var hf;(function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"})(hf||(hf={}));const vye=void 0;function hv(t){if(t===null)return"null";if(t===vye)return"undefined";switch(typeof t){case"number":return`${t}`;case"bigint":return`${t}`;case"string":return`"${t}"`}return typeof t[Symbol.toPrimitive]=="function"?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?`[${[...t].map(e=>hv(e))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(e,n)=>typeof n=="bigint"?`${n}`:n)}function br(t){if(typeof t=="bigint"&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw new TypeError(`${t} is not safe to convert to a number.`);return Number(t)}function TX(t,e){return br(t/e)+br(t%e)/br(e)}const Oye=Symbol.for("isArrowBigNum");function yu(t,...e){return e.length===0?Object.setPrototypeOf(rr(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...e),this.constructor.prototype)}yu.prototype[Oye]=!0;yu.prototype.toJSON=function(){return`"${pv(this)}"`};yu.prototype.valueOf=function(t){return DX(this,t)};yu.prototype.toString=function(){return pv(this)};yu.prototype[Symbol.toPrimitive]=function(t="default"){switch(t){case"number":return DX(this);case"string":return pv(this);case"default":return xye(this)}return pv(this)};function Jm(...t){return yu.apply(this,t)}function eg(...t){return yu.apply(this,t)}function dv(...t){return yu.apply(this,t)}Object.setPrototypeOf(Jm.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(eg.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(dv.prototype,Object.create(Uint32Array.prototype));Object.assign(Jm.prototype,yu.prototype,{constructor:Jm,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array});Object.assign(eg.prototype,yu.prototype,{constructor:eg,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array});Object.assign(dv.prototype,yu.prototype,{constructor:dv,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});const wye=BigInt(4294967296)*BigInt(4294967296),_ye=wye-BigInt(1);function DX(t,e){const{buffer:n,byteOffset:r,byteLength:i,signed:s}=t,o=new BigUint64Array(n,r,i/8),a=s&&o.at(-1)&BigInt(1)<<BigInt(63);let l=BigInt(0),u=0;if(a){for(const c of o)l|=(c^_ye)*(BigInt(1)<<BigInt(64*u++));l*=BigInt(-1),l-=BigInt(1)}else for(const c of o)l|=c*(BigInt(1)<<BigInt(64*u++));if(typeof e=="number"){const c=BigInt(Math.pow(10,e)),f=l/c,h=l%c;return br(f)+br(h)/br(c)}return br(l)}function pv(t){if(t.byteLength===8)return`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`;if(!t.signed)return gC(t);let e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(new Int16Array([e.at(-1)])[0]>=0)return gC(t);e=e.slice();let r=1;for(let s=0;s<e.length;s++){const o=e[s],a=~o+r;e[s]=a,r&=o===0?1:0}return`-${gC(e)}`}function xye(t){return t.byteLength===8?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:pv(t)}function gC(t){let e="";const n=new Uint32Array(2);let r=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(n[0]=r[s=0];s<o;)r[s++]=n[1]=n[0]/10,n[0]=(n[0]-n[1]*10<<16)+r[s];r[s]=n[1]=n[0]/10,n[0]=n[0]-n[1]*10,e=`${n[0]}${e}`}while(i[0]||i[1]||i[2]||i[3]);return e??"0"}class lP{static new(e,n){switch(n){case!0:return new Jm(e);case!1:return new eg(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new Jm(e)}return e.byteLength===16?new dv(e):new eg(e)}static signed(e){return new Jm(e)}static unsigned(e){return new eg(e)}static decimal(e){return new dv(e)}constructor(e,n){return lP.new(e,n)}}var PX,RX,$X,IX,FX,MX,LX,NX,QX,BX,zX,UX,jX,qX,VX,XX,ZX,WX,YX,GX,HX,KX;class st{static isNull(e){return e?.typeId===Y.Null}static isInt(e){return e?.typeId===Y.Int}static isFloat(e){return e?.typeId===Y.Float}static isBinary(e){return e?.typeId===Y.Binary}static isLargeBinary(e){return e?.typeId===Y.LargeBinary}static isUtf8(e){return e?.typeId===Y.Utf8}static isLargeUtf8(e){return e?.typeId===Y.LargeUtf8}static isBool(e){return e?.typeId===Y.Bool}static isDecimal(e){return e?.typeId===Y.Decimal}static isDate(e){return e?.typeId===Y.Date}static isTime(e){return e?.typeId===Y.Time}static isTimestamp(e){return e?.typeId===Y.Timestamp}static isInterval(e){return e?.typeId===Y.Interval}static isDuration(e){return e?.typeId===Y.Duration}static isList(e){return e?.typeId===Y.List}static isStruct(e){return e?.typeId===Y.Struct}static isUnion(e){return e?.typeId===Y.Union}static isFixedSizeBinary(e){return e?.typeId===Y.FixedSizeBinary}static isFixedSizeList(e){return e?.typeId===Y.FixedSizeList}static isMap(e){return e?.typeId===Y.Map}static isDictionary(e){return e?.typeId===Y.Dictionary}static isDenseUnion(e){return st.isUnion(e)&&e.mode===Us.Dense}static isSparseUnion(e){return st.isUnion(e)&&e.mode===Us.Sparse}constructor(e){this.typeId=e}}PX=Symbol.toStringTag;st[PX]=(t=>(t.children=null,t.ArrayType=Array,t.OffsetArrayType=Int32Array,t[Symbol.toStringTag]="DataType"))(st.prototype);let dd=class extends st{constructor(){super(Y.Null)}toString(){return"Null"}};RX=Symbol.toStringTag;dd[RX]=(t=>t[Symbol.toStringTag]="Null")(dd.prototype);class r0 extends st{constructor(e,n){super(Y.Int),this.isSigned=e,this.bitWidth=n}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}$X=Symbol.toStringTag;r0[$X]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(r0.prototype);class mv extends r0{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(mv.prototype,"ArrayType",{value:Int32Array});class Zx extends st{constructor(e){super(Y.Float),this.precision=e}get ArrayType(){switch(this.precision){case Fs.HALF:return Uint16Array;case Fs.SINGLE:return Float32Array;case Fs.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}IX=Symbol.toStringTag;Zx[IX]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Zx.prototype);class Wx extends st{constructor(){super(Y.Binary)}toString(){return"Binary"}}FX=Symbol.toStringTag;Wx[FX]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(Wx.prototype);class Yx extends st{constructor(){super(Y.LargeBinary)}toString(){return"LargeBinary"}}MX=Symbol.toStringTag;Yx[MX]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeBinary"))(Yx.prototype);class Gx extends st{constructor(){super(Y.Utf8)}toString(){return"Utf8"}}LX=Symbol.toStringTag;Gx[LX]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(Gx.prototype);class Hx extends st{constructor(){super(Y.LargeUtf8)}toString(){return"LargeUtf8"}}NX=Symbol.toStringTag;Hx[NX]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeUtf8"))(Hx.prototype);let Kx=class extends st{constructor(){super(Y.Bool)}toString(){return"Bool"}};QX=Symbol.toStringTag;Kx[QX]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Kx.prototype);class Jx extends st{constructor(e,n,r=128){super(Y.Decimal),this.scale=e,this.precision=n,this.bitWidth=r}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}BX=Symbol.toStringTag;Jx[BX]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(Jx.prototype);class eS extends st{constructor(e){super(Y.Date),this.unit=e}toString(){return`Date${(this.unit+1)*32}<${_l[this.unit]}>`}get ArrayType(){return this.unit===_l.DAY?Int32Array:BigInt64Array}}zX=Symbol.toStringTag;eS[zX]=(t=>(t.unit=null,t[Symbol.toStringTag]="Date"))(eS.prototype);class tS extends st{constructor(e,n){super(Y.Time),this.unit=e,this.bitWidth=n}toString(){return`Time${this.bitWidth}<${_t[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}UX=Symbol.toStringTag;tS[UX]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(tS.prototype);class nS extends st{constructor(e,n){super(Y.Timestamp),this.unit=e,this.timezone=n}toString(){return`Timestamp<${_t[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}jX=Symbol.toStringTag;nS[jX]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Timestamp"))(nS.prototype);class rS extends st{constructor(e){super(Y.Interval),this.unit=e}toString(){return`Interval<${_c[this.unit]}>`}}qX=Symbol.toStringTag;rS[qX]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(rS.prototype);class iS extends st{constructor(e){super(Y.Duration),this.unit=e}toString(){return`Duration<${_t[this.unit]}>`}}VX=Symbol.toStringTag;iS[VX]=(t=>(t.unit=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Duration"))(iS.prototype);class sS extends st{constructor(e){super(Y.List),this.children=[e]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}XX=Symbol.toStringTag;sS[XX]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(sS.prototype);class ao extends st{constructor(e){super(Y.Struct),this.children=e}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}ZX=Symbol.toStringTag;ao[ZX]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(ao.prototype);class oS extends st{constructor(e,n,r){super(Y.Union),this.mode=e,this.children=r,this.typeIds=n=Int32Array.from(n),this.typeIdToChildIndex=n.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}WX=Symbol.toStringTag;oS[WX]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(oS.prototype);class aS extends st{constructor(e){super(Y.FixedSizeBinary),this.byteWidth=e}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}YX=Symbol.toStringTag;aS[YX]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(aS.prototype);class lS extends st{constructor(e,n){super(Y.FixedSizeList),this.listSize=e,this.children=[n]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}GX=Symbol.toStringTag;lS[GX]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(lS.prototype);class uS extends st{constructor(e,n=!1){var r,i,s;if(super(Y.Map),this.children=[e],this.keysSorted=n,e&&(e.name="entries",!((r=e?.type)===null||r===void 0)&&r.children)){const o=(i=e?.type)===null||i===void 0?void 0:i.children[0];o&&(o.name="key");const a=(s=e?.type)===null||s===void 0?void 0:s.children[1];a&&(a.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}HX=Symbol.toStringTag;uS[HX]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(uS.prototype);const Sye=(t=>()=>++t)(-1);class Ug extends st{constructor(e,n,r,i){super(Y.Dictionary),this.indices=n,this.dictionary=e,this.isOrdered=i||!1,this.id=r==null?Sye():br(r)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}KX=Symbol.toStringTag;Ug[KX]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(Ug.prototype);function df(t){const e=t;switch(t.typeId){case Y.Decimal:return t.bitWidth/32;case Y.Interval:return 1+e.unit;case Y.FixedSizeList:return e.listSize;case Y.FixedSizeBinary:return e.byteWidth;default:return 1}}class an{visitMany(e,...n){return e.map((r,i)=>this.visit(r,...n.map(s=>s[i])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,n=!0){return kye(this,e,n)}getVisitFnByTypeId(e,n=!0){return Sm(this,e,n)}visitNull(e,...n){return null}visitBool(e,...n){return null}visitInt(e,...n){return null}visitFloat(e,...n){return null}visitUtf8(e,...n){return null}visitLargeUtf8(e,...n){return null}visitBinary(e,...n){return null}visitLargeBinary(e,...n){return null}visitFixedSizeBinary(e,...n){return null}visitDate(e,...n){return null}visitTimestamp(e,...n){return null}visitTime(e,...n){return null}visitDecimal(e,...n){return null}visitList(e,...n){return null}visitStruct(e,...n){return null}visitUnion(e,...n){return null}visitDictionary(e,...n){return null}visitInterval(e,...n){return null}visitDuration(e,...n){return null}visitFixedSizeList(e,...n){return null}visitMap(e,...n){return null}}function kye(t,e,n=!0){return typeof e=="number"?Sm(t,e,n):typeof e=="string"&&e in Y?Sm(t,Y[e],n):e&&e instanceof st?Sm(t,fM(e),n):e?.type&&e.type instanceof st?Sm(t,fM(e.type),n):Sm(t,Y.NONE,n)}function Sm(t,e,n=!0){let r=null;switch(e){case Y.Null:r=t.visitNull;break;case Y.Bool:r=t.visitBool;break;case Y.Int:r=t.visitInt;break;case Y.Int8:r=t.visitInt8||t.visitInt;break;case Y.Int16:r=t.visitInt16||t.visitInt;break;case Y.Int32:r=t.visitInt32||t.visitInt;break;case Y.Int64:r=t.visitInt64||t.visitInt;break;case Y.Uint8:r=t.visitUint8||t.visitInt;break;case Y.Uint16:r=t.visitUint16||t.visitInt;break;case Y.Uint32:r=t.visitUint32||t.visitInt;break;case Y.Uint64:r=t.visitUint64||t.visitInt;break;case Y.Float:r=t.visitFloat;break;case Y.Float16:r=t.visitFloat16||t.visitFloat;break;case Y.Float32:r=t.visitFloat32||t.visitFloat;break;case Y.Float64:r=t.visitFloat64||t.visitFloat;break;case Y.Utf8:r=t.visitUtf8;break;case Y.LargeUtf8:r=t.visitLargeUtf8;break;case Y.Binary:r=t.visitBinary;break;case Y.LargeBinary:r=t.visitLargeBinary;break;case Y.FixedSizeBinary:r=t.visitFixedSizeBinary;break;case Y.Date:r=t.visitDate;break;case Y.DateDay:r=t.visitDateDay||t.visitDate;break;case Y.DateMillisecond:r=t.visitDateMillisecond||t.visitDate;break;case Y.Timestamp:r=t.visitTimestamp;break;case Y.TimestampSecond:r=t.visitTimestampSecond||t.visitTimestamp;break;case Y.TimestampMillisecond:r=t.visitTimestampMillisecond||t.visitTimestamp;break;case Y.TimestampMicrosecond:r=t.visitTimestampMicrosecond||t.visitTimestamp;break;case Y.TimestampNanosecond:r=t.visitTimestampNanosecond||t.visitTimestamp;break;case Y.Time:r=t.visitTime;break;case Y.TimeSecond:r=t.visitTimeSecond||t.visitTime;break;case Y.TimeMillisecond:r=t.visitTimeMillisecond||t.visitTime;break;case Y.TimeMicrosecond:r=t.visitTimeMicrosecond||t.visitTime;break;case Y.TimeNanosecond:r=t.visitTimeNanosecond||t.visitTime;break;case Y.Decimal:r=t.visitDecimal;break;case Y.List:r=t.visitList;break;case Y.Struct:r=t.visitStruct;break;case Y.Union:r=t.visitUnion;break;case Y.DenseUnion:r=t.visitDenseUnion||t.visitUnion;break;case Y.SparseUnion:r=t.visitSparseUnion||t.visitUnion;break;case Y.Dictionary:r=t.visitDictionary;break;case Y.Interval:r=t.visitInterval;break;case Y.IntervalDayTime:r=t.visitIntervalDayTime||t.visitInterval;break;case Y.IntervalYearMonth:r=t.visitIntervalYearMonth||t.visitInterval;break;case Y.Duration:r=t.visitDuration;break;case Y.DurationSecond:r=t.visitDurationSecond||t.visitDuration;break;case Y.DurationMillisecond:r=t.visitDurationMillisecond||t.visitDuration;break;case Y.DurationMicrosecond:r=t.visitDurationMicrosecond||t.visitDuration;break;case Y.DurationNanosecond:r=t.visitDurationNanosecond||t.visitDuration;break;case Y.FixedSizeList:r=t.visitFixedSizeList;break;case Y.Map:r=t.visitMap;break}if(typeof r=="function")return r;if(!n)return()=>null;throw new Error(`Unrecognized type '${Y[e]}'`)}function fM(t){switch(t.typeId){case Y.Null:return Y.Null;case Y.Int:{const{bitWidth:e,isSigned:n}=t;switch(e){case 8:return n?Y.Int8:Y.Uint8;case 16:return n?Y.Int16:Y.Uint16;case 32:return n?Y.Int32:Y.Uint32;case 64:return n?Y.Int64:Y.Uint64}return Y.Int}case Y.Float:switch(t.precision){case Fs.HALF:return Y.Float16;case Fs.SINGLE:return Y.Float32;case Fs.DOUBLE:return Y.Float64}return Y.Float;case Y.Binary:return Y.Binary;case Y.LargeBinary:return Y.LargeBinary;case Y.Utf8:return Y.Utf8;case Y.LargeUtf8:return Y.LargeUtf8;case Y.Bool:return Y.Bool;case Y.Decimal:return Y.Decimal;case Y.Time:switch(t.unit){case _t.SECOND:return Y.TimeSecond;case _t.MILLISECOND:return Y.TimeMillisecond;case _t.MICROSECOND:return Y.TimeMicrosecond;case _t.NANOSECOND:return Y.TimeNanosecond}return Y.Time;case Y.Timestamp:switch(t.unit){case _t.SECOND:return Y.TimestampSecond;case _t.MILLISECOND:return Y.TimestampMillisecond;case _t.MICROSECOND:return Y.TimestampMicrosecond;case _t.NANOSECOND:return Y.TimestampNanosecond}return Y.Timestamp;case Y.Date:switch(t.unit){case _l.DAY:return Y.DateDay;case _l.MILLISECOND:return Y.DateMillisecond}return Y.Date;case Y.Interval:switch(t.unit){case _c.DAY_TIME:return Y.IntervalDayTime;case _c.YEAR_MONTH:return Y.IntervalYearMonth}return Y.Interval;case Y.Duration:switch(t.unit){case _t.SECOND:return Y.DurationSecond;case _t.MILLISECOND:return Y.DurationMillisecond;case _t.MICROSECOND:return Y.DurationMicrosecond;case _t.NANOSECOND:return Y.DurationNanosecond}return Y.Duration;case Y.Map:return Y.Map;case Y.List:return Y.List;case Y.Struct:return Y.Struct;case Y.Union:switch(t.mode){case Us.Dense:return Y.DenseUnion;case Us.Sparse:return Y.SparseUnion}return Y.Union;case Y.FixedSizeBinary:return Y.FixedSizeBinary;case Y.FixedSizeList:return Y.FixedSizeList;case Y.Dictionary:return Y.Dictionary}throw new Error(`Unrecognized type '${Y[t.typeId]}'`)}an.prototype.visitInt8=null;an.prototype.visitInt16=null;an.prototype.visitInt32=null;an.prototype.visitInt64=null;an.prototype.visitUint8=null;an.prototype.visitUint16=null;an.prototype.visitUint32=null;an.prototype.visitUint64=null;an.prototype.visitFloat16=null;an.prototype.visitFloat32=null;an.prototype.visitFloat64=null;an.prototype.visitDateDay=null;an.prototype.visitDateMillisecond=null;an.prototype.visitTimestampSecond=null;an.prototype.visitTimestampMillisecond=null;an.prototype.visitTimestampMicrosecond=null;an.prototype.visitTimestampNanosecond=null;an.prototype.visitTimeSecond=null;an.prototype.visitTimeMillisecond=null;an.prototype.visitTimeMicrosecond=null;an.prototype.visitTimeNanosecond=null;an.prototype.visitDenseUnion=null;an.prototype.visitSparseUnion=null;an.prototype.visitIntervalDayTime=null;an.prototype.visitIntervalYearMonth=null;an.prototype.visitDuration=null;an.prototype.visitDurationSecond=null;an.prototype.visitDurationMillisecond=null;an.prototype.visitDurationMicrosecond=null;an.prototype.visitDurationNanosecond=null;const JX=new Float64Array(1),lm=new Uint32Array(JX.buffer);function eZ(t){const e=(t&31744)>>10,n=(t&1023)/1024,r=Math.pow(-1,(t&32768)>>15);switch(e){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,e-15)*(1+n)}function Cye(t){if(t!==t)return 32256;JX[0]=t;const e=(lm[1]&2147483648)>>16&65535;let n=lm[1]&2146435072,r=0;return n>=1089470464?lm[0]>0?n=31744:(n=(n&2080374784)>>16,r=(lm[1]&1048575)>>10):n<=1056964608?(r=1048576+(lm[1]&1048575),r=1048576+(r<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=(lm[1]&1048575)+512>>10),e|n|r&65535}class xt extends an{}function Dt(t){return(e,n,r)=>{if(e.setValid(n,r!=null))return t(e,n,r)}}const Aye=(t,e,n)=>{t[e]=Math.floor(n/864e5)},tZ=(t,e,n,r)=>{if(n+1<e.length){const i=br(e[n]),s=br(e[n+1]);t.set(r.subarray(0,s-i),i)}},Eye=({offset:t,values:e},n,r)=>{const i=t+n;r?e[i>>3]|=1<<i%8:e[i>>3]&=~(1<<i%8)},nh=({values:t},e,n)=>{t[e]=n},uP=({values:t},e,n)=>{t[e]=n},nZ=({values:t},e,n)=>{t[e]=Cye(n)},Tye=(t,e,n)=>{switch(t.type.precision){case Fs.HALF:return nZ(t,e,n);case Fs.SINGLE:case Fs.DOUBLE:return uP(t,e,n)}},rZ=({values:t},e,n)=>{Aye(t,e,n.valueOf())},iZ=({values:t},e,n)=>{t[e]=BigInt(n)},Dye=({stride:t,values:e},n,r)=>{e.set(r.subarray(0,t),t*n)},sZ=({values:t,valueOffsets:e},n,r)=>tZ(t,e,n,r),oZ=({values:t,valueOffsets:e},n,r)=>tZ(t,e,n,sP(r)),Pye=(t,e,n)=>{t.type.unit===_l.DAY?rZ(t,e,n):iZ(t,e,n)},aZ=({values:t},e,n)=>{t[e]=BigInt(n/1e3)},lZ=({values:t},e,n)=>{t[e]=BigInt(n)},uZ=({values:t},e,n)=>{t[e]=BigInt(n*1e3)},cZ=({values:t},e,n)=>{t[e]=BigInt(n*1e6)},Rye=(t,e,n)=>{switch(t.type.unit){case _t.SECOND:return aZ(t,e,n);case _t.MILLISECOND:return lZ(t,e,n);case _t.MICROSECOND:return uZ(t,e,n);case _t.NANOSECOND:return cZ(t,e,n)}},fZ=({values:t},e,n)=>{t[e]=n},hZ=({values:t},e,n)=>{t[e]=n},dZ=({values:t},e,n)=>{t[e]=n},pZ=({values:t},e,n)=>{t[e]=n},$ye=(t,e,n)=>{switch(t.type.unit){case _t.SECOND:return fZ(t,e,n);case _t.MILLISECOND:return hZ(t,e,n);case _t.MICROSECOND:return dZ(t,e,n);case _t.NANOSECOND:return pZ(t,e,n)}},Iye=({values:t,stride:e},n,r)=>{t.set(r.subarray(0,e),e*n)},Fye=(t,e,n)=>{const r=t.children[0],i=t.valueOffsets,s=xl.getVisitFn(r);if(Array.isArray(n))for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,n[++o]);else for(let o=-1,a=i[e],l=i[e+1];a<l;)s(r,a++,n.get(++o))},Mye=(t,e,n)=>{const r=t.children[0],{valueOffsets:i}=t,s=xl.getVisitFn(r);let{[e]:o,[e+1]:a}=i;const l=n instanceof Map?n.entries():Object.entries(n);for(const u of l)if(s(r,o,u),++o>=a)break},Lye=(t,e)=>(n,r,i,s)=>r&&n(r,t,e[s]),Nye=(t,e)=>(n,r,i,s)=>r&&n(r,t,e.get(s)),Qye=(t,e)=>(n,r,i,s)=>r&&n(r,t,e.get(i.name)),Bye=(t,e)=>(n,r,i,s)=>r&&n(r,t,e[i.name]),zye=(t,e,n)=>{const r=t.type.children.map(s=>xl.getVisitFn(s.type)),i=n instanceof Map?Qye(e,n):n instanceof Wn?Nye(e,n):Array.isArray(n)?Lye(e,n):Bye(e,n);t.type.children.forEach((s,o)=>i(r[o],t.children[o],s,o))},Uye=(t,e,n)=>{t.type.mode===Us.Dense?mZ(t,e,n):gZ(t,e,n)},mZ=(t,e,n)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[r];xl.visit(i,t.valueOffsets[e],n)},gZ=(t,e,n)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],i=t.children[r];xl.visit(i,e,n)},jye=(t,e,n)=>{var r;(r=t.dictionary)===null||r===void 0||r.set(t.values[e],n)},qye=(t,e,n)=>{t.type.unit===_c.DAY_TIME?yZ(t,e,n):bZ(t,e,n)},yZ=({values:t},e,n)=>{t.set(n.subarray(0,2),2*e)},bZ=({values:t},e,n)=>{t[e]=n[0]*12+n[1]%12},vZ=({values:t},e,n)=>{t[e]=n},OZ=({values:t},e,n)=>{t[e]=n},wZ=({values:t},e,n)=>{t[e]=n},_Z=({values:t},e,n)=>{t[e]=n},Vye=(t,e,n)=>{switch(t.type.unit){case _t.SECOND:return vZ(t,e,n);case _t.MILLISECOND:return OZ(t,e,n);case _t.MICROSECOND:return wZ(t,e,n);case _t.NANOSECOND:return _Z(t,e,n)}},Xye=(t,e,n)=>{const{stride:r}=t,i=t.children[0],s=xl.getVisitFn(i);if(Array.isArray(n))for(let o=-1,a=e*r;++o<r;)s(i,a+o,n[o]);else for(let o=-1,a=e*r;++o<r;)s(i,a+o,n.get(o))};xt.prototype.visitBool=Dt(Eye);xt.prototype.visitInt=Dt(nh);xt.prototype.visitInt8=Dt(nh);xt.prototype.visitInt16=Dt(nh);xt.prototype.visitInt32=Dt(nh);xt.prototype.visitInt64=Dt(nh);xt.prototype.visitUint8=Dt(nh);xt.prototype.visitUint16=Dt(nh);xt.prototype.visitUint32=Dt(nh);xt.prototype.visitUint64=Dt(nh);xt.prototype.visitFloat=Dt(Tye);xt.prototype.visitFloat16=Dt(nZ);xt.prototype.visitFloat32=Dt(uP);xt.prototype.visitFloat64=Dt(uP);xt.prototype.visitUtf8=Dt(oZ);xt.prototype.visitLargeUtf8=Dt(oZ);xt.prototype.visitBinary=Dt(sZ);xt.prototype.visitLargeBinary=Dt(sZ);xt.prototype.visitFixedSizeBinary=Dt(Dye);xt.prototype.visitDate=Dt(Pye);xt.prototype.visitDateDay=Dt(rZ);xt.prototype.visitDateMillisecond=Dt(iZ);xt.prototype.visitTimestamp=Dt(Rye);xt.prototype.visitTimestampSecond=Dt(aZ);xt.prototype.visitTimestampMillisecond=Dt(lZ);xt.prototype.visitTimestampMicrosecond=Dt(uZ);xt.prototype.visitTimestampNanosecond=Dt(cZ);xt.prototype.visitTime=Dt($ye);xt.prototype.visitTimeSecond=Dt(fZ);xt.prototype.visitTimeMillisecond=Dt(hZ);xt.prototype.visitTimeMicrosecond=Dt(dZ);xt.prototype.visitTimeNanosecond=Dt(pZ);xt.prototype.visitDecimal=Dt(Iye);xt.prototype.visitList=Dt(Fye);xt.prototype.visitStruct=Dt(zye);xt.prototype.visitUnion=Dt(Uye);xt.prototype.visitDenseUnion=Dt(mZ);xt.prototype.visitSparseUnion=Dt(gZ);xt.prototype.visitDictionary=Dt(jye);xt.prototype.visitInterval=Dt(qye);xt.prototype.visitIntervalDayTime=Dt(yZ);xt.prototype.visitIntervalYearMonth=Dt(bZ);xt.prototype.visitDuration=Dt(Vye);xt.prototype.visitDurationSecond=Dt(vZ);xt.prototype.visitDurationMillisecond=Dt(OZ);xt.prototype.visitDurationMicrosecond=Dt(wZ);xt.prototype.visitDurationNanosecond=Dt(_Z);xt.prototype.visitFixedSizeList=Dt(Xye);xt.prototype.visitMap=Dt(Mye);const xl=new xt,Ul=Symbol.for("parent"),tg=Symbol.for("rowIndex");class cP{constructor(e,n){return this[Ul]=e,this[tg]=n,new Proxy(this,new Wye)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[tg],n=this[Ul],r=n.type.children,i={};for(let s=-1,o=r.length;++s<o;)i[r[s].name]=Ko.visit(n.children[s],e);return i}toString(){return`{${[...this].map(([e,n])=>`${hv(e)}: ${hv(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Zye(this[Ul],this[tg])}}class Zye{constructor(e,n){this.childIndex=0,this.children=e.children,this.rowIndex=n,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,Ko.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(cP.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Ul]:{writable:!0,enumerable:!1,configurable:!1,value:null},[tg]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Wye{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[Ul].type.children.map(n=>n.name)}has(e,n){return e[Ul].type.children.findIndex(r=>r.name===n)!==-1}getOwnPropertyDescriptor(e,n){if(e[Ul].type.children.findIndex(r=>r.name===n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const r=e[Ul].type.children.findIndex(i=>i.name===n);if(r!==-1){const i=Ko.visit(e[Ul].children[r],e[tg]);return Reflect.set(e,n,i),i}}set(e,n,r){const i=e[Ul].type.children.findIndex(s=>s.name===n);return i!==-1?(xl.visit(e[Ul].children[i],e[tg],r),Reflect.set(e,n,r)):Reflect.has(e,n)||typeof n=="symbol"?Reflect.set(e,n,r):!1}}class mt extends an{}function St(t){return(e,n)=>e.getValid(n)?t(e,n):null}const Yye=(t,e)=>864e5*t[e],Gye=(t,e)=>null,xZ=(t,e,n)=>{if(n+1>=e.length)return null;const r=br(e[n]),i=br(e[n+1]);return t.subarray(r,i)},Hye=({offset:t,values:e},n)=>{const r=t+n;return(e[r>>3]&1<<r%8)!==0},SZ=({values:t},e)=>Yye(t,e),kZ=({values:t},e)=>br(t[e]),Rd=({stride:t,values:e},n)=>e[t*n],Kye=({stride:t,values:e},n)=>eZ(e[t*n]),CZ=({values:t},e)=>t[e],Jye=({stride:t,values:e},n)=>e.subarray(t*n,t*(n+1)),AZ=({values:t,valueOffsets:e},n)=>xZ(t,e,n),EZ=({values:t,valueOffsets:e},n)=>{const r=xZ(t,e,n);return r!==null?oE(r):null},ebe=({values:t},e)=>t[e],tbe=({type:t,values:e},n)=>t.precision!==Fs.HALF?e[n]:eZ(e[n]),nbe=(t,e)=>t.type.unit===_l.DAY?SZ(t,e):kZ(t,e),TZ=({values:t},e)=>1e3*br(t[e]),DZ=({values:t},e)=>br(t[e]),PZ=({values:t},e)=>TX(t[e],BigInt(1e3)),RZ=({values:t},e)=>TX(t[e],BigInt(1e6)),rbe=(t,e)=>{switch(t.type.unit){case _t.SECOND:return TZ(t,e);case _t.MILLISECOND:return DZ(t,e);case _t.MICROSECOND:return PZ(t,e);case _t.NANOSECOND:return RZ(t,e)}},$Z=({values:t},e)=>t[e],IZ=({values:t},e)=>t[e],FZ=({values:t},e)=>t[e],MZ=({values:t},e)=>t[e],ibe=(t,e)=>{switch(t.type.unit){case _t.SECOND:return $Z(t,e);case _t.MILLISECOND:return IZ(t,e);case _t.MICROSECOND:return FZ(t,e);case _t.NANOSECOND:return MZ(t,e)}},sbe=({values:t,stride:e},n)=>lP.decimal(t.subarray(e*n,e*(n+1))),obe=(t,e)=>{const{valueOffsets:n,stride:r,children:i}=t,{[e*r]:s,[e*r+1]:o}=n,l=i[0].slice(s,o-s);return new Wn([l])},abe=(t,e)=>{const{valueOffsets:n,children:r}=t,{[e]:i,[e+1]:s}=n,o=r[0];return new fP(o.slice(i,s-i))},lbe=(t,e)=>new cP(t,e),ube=(t,e)=>t.type.mode===Us.Dense?LZ(t,e):NZ(t,e),LZ=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];return Ko.visit(r,t.valueOffsets[e])},NZ=(t,e)=>{const n=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[n];return Ko.visit(r,e)},cbe=(t,e)=>{var n;return(n=t.dictionary)===null||n===void 0?void 0:n.get(t.values[e])},fbe=(t,e)=>t.type.unit===_c.DAY_TIME?QZ(t,e):BZ(t,e),QZ=({values:t},e)=>t.subarray(2*e,2*(e+1)),BZ=({values:t},e)=>{const n=t[e],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r},zZ=({values:t},e)=>t[e],UZ=({values:t},e)=>t[e],jZ=({values:t},e)=>t[e],qZ=({values:t},e)=>t[e],hbe=(t,e)=>{switch(t.type.unit){case _t.SECOND:return zZ(t,e);case _t.MILLISECOND:return UZ(t,e);case _t.MICROSECOND:return jZ(t,e);case _t.NANOSECOND:return qZ(t,e)}},dbe=(t,e)=>{const{stride:n,children:r}=t,s=r[0].slice(e*n,n);return new Wn([s])};mt.prototype.visitNull=St(Gye);mt.prototype.visitBool=St(Hye);mt.prototype.visitInt=St(ebe);mt.prototype.visitInt8=St(Rd);mt.prototype.visitInt16=St(Rd);mt.prototype.visitInt32=St(Rd);mt.prototype.visitInt64=St(CZ);mt.prototype.visitUint8=St(Rd);mt.prototype.visitUint16=St(Rd);mt.prototype.visitUint32=St(Rd);mt.prototype.visitUint64=St(CZ);mt.prototype.visitFloat=St(tbe);mt.prototype.visitFloat16=St(Kye);mt.prototype.visitFloat32=St(Rd);mt.prototype.visitFloat64=St(Rd);mt.prototype.visitUtf8=St(EZ);mt.prototype.visitLargeUtf8=St(EZ);mt.prototype.visitBinary=St(AZ);mt.prototype.visitLargeBinary=St(AZ);mt.prototype.visitFixedSizeBinary=St(Jye);mt.prototype.visitDate=St(nbe);mt.prototype.visitDateDay=St(SZ);mt.prototype.visitDateMillisecond=St(kZ);mt.prototype.visitTimestamp=St(rbe);mt.prototype.visitTimestampSecond=St(TZ);mt.prototype.visitTimestampMillisecond=St(DZ);mt.prototype.visitTimestampMicrosecond=St(PZ);mt.prototype.visitTimestampNanosecond=St(RZ);mt.prototype.visitTime=St(ibe);mt.prototype.visitTimeSecond=St($Z);mt.prototype.visitTimeMillisecond=St(IZ);mt.prototype.visitTimeMicrosecond=St(FZ);mt.prototype.visitTimeNanosecond=St(MZ);mt.prototype.visitDecimal=St(sbe);mt.prototype.visitList=St(obe);mt.prototype.visitStruct=St(lbe);mt.prototype.visitUnion=St(ube);mt.prototype.visitDenseUnion=St(LZ);mt.prototype.visitSparseUnion=St(NZ);mt.prototype.visitDictionary=St(cbe);mt.prototype.visitInterval=St(fbe);mt.prototype.visitIntervalDayTime=St(QZ);mt.prototype.visitIntervalYearMonth=St(BZ);mt.prototype.visitDuration=St(hbe);mt.prototype.visitDurationSecond=St(zZ);mt.prototype.visitDurationMillisecond=St(UZ);mt.prototype.visitDurationMicrosecond=St(jZ);mt.prototype.visitDurationNanosecond=St(qZ);mt.prototype.visitFixedSizeList=St(dbe);mt.prototype.visitMap=St(abe);const Ko=new mt,km=Symbol.for("keys"),ng=Symbol.for("vals"),Cm=Symbol.for("kKeysAsStrings"),hE=Symbol.for("_kKeysAsStrings");class fP{constructor(e){return this[km]=new Wn([e.children[0]]).memoize(),this[ng]=e.children[1],new Proxy(this,new mbe)}get[Cm](){return this[hE]||(this[hE]=Array.from(this[km].toArray(),String))}[Symbol.iterator](){return new pbe(this[km],this[ng])}get size(){return this[km].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[km],n=this[ng],r={};for(let i=-1,s=e.length;++i<s;)r[e.get(i)]=Ko.visit(n,i);return r}toString(){return`{${[...this].map(([e,n])=>`${hv(e)}: ${hv(n)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class pbe{constructor(e,n){this.keys=e,this.vals=n,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),Ko.visit(this.vals,e)]})}}class mbe{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[Cm]}has(e,n){return e[Cm].includes(n)}getOwnPropertyDescriptor(e,n){if(e[Cm].indexOf(n)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,n){if(Reflect.has(e,n))return e[n];const r=e[Cm].indexOf(n);if(r!==-1){const i=Ko.visit(Reflect.get(e,ng),r);return Reflect.set(e,n,i),i}}set(e,n,r){const i=e[Cm].indexOf(n);return i!==-1?(xl.visit(Reflect.get(e,ng),i,r),Reflect.set(e,n,r)):Reflect.has(e,n)?Reflect.set(e,n,r):!1}}Object.defineProperties(fP.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[km]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ng]:{writable:!0,enumerable:!1,configurable:!1,value:null},[hE]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let hM;function VZ(t,e,n,r){const{length:i=0}=t;let s=typeof e!="number"?0:e,o=typeof n!="number"?i:n;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(hM=s,s=o,o=hM),o>i&&(o=i),r?r(t,s,o):[s,o]}const hP=(t,e)=>t<0?e+t:t,dM=t=>t!==t;function N1(t){if(typeof t!=="object"||t===null)return dM(t)?dM:n=>n===t;if(t instanceof Date){const n=t.valueOf();return r=>r instanceof Date?r.valueOf()===n:!1}return ArrayBuffer.isView(t)?n=>n?dye(t,n):!1:t instanceof Map?ybe(t):Array.isArray(t)?gbe(t):t instanceof Wn?bbe(t):vbe(t,!0)}function gbe(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=N1(t[n]);return Ek(e)}function ybe(t){let e=-1;const n=[];for(const r of t.values())n[++e]=N1(r);return Ek(n)}function bbe(t){const e=[];for(let n=-1,r=t.length;++n<r;)e[n]=N1(t.get(n));return Ek(e)}function vbe(t,e=!1){const n=Object.keys(t);if(!e&&n.length===0)return()=>!1;const r=[];for(let i=-1,s=n.length;++i<s;)r[i]=N1(t[n[i]]);return Ek(r,n)}function Ek(t,e){return n=>{if(!n||typeof n!="object")return!1;switch(n.constructor){case Array:return Obe(t,n);case Map:return pM(t,n,n.keys());case fP:case cP:case Object:case void 0:return pM(t,n,e||Object.keys(n))}return n instanceof Wn?wbe(t,n):!1}}function Obe(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e[r]))return!1;return!0}function wbe(t,e){const n=t.length;if(e.length!==n)return!1;for(let r=-1;++r<n;)if(!t[r](e.get(r)))return!1;return!0}function pM(t,e,n){const r=n[Symbol.iterator](),i=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const a=t.length;let l=s.next(),u=r.next(),c=i.next();for(;o<a&&!u.done&&!c.done&&!l.done&&!(u.value!==c.value||!t[o](l.value));++o,u=r.next(),c=i.next(),l=s.next());return o===a&&u.done&&c.done&&l.done?!0:(r.return&&r.return(),i.return&&i.return(),s.return&&s.return(),!1)}function XZ(t,e,n,r){return(n&1<<r)!==0}function _be(t,e,n,r){return(n&1<<r)>>r}function cS(t,e,n){const r=n.byteLength+7&-8;if(t>0||n.byteLength<r){const i=new Uint8Array(r);return i.set(t%8===0?n.subarray(t>>3):fS(new dP(n,t,e,null,XZ)).subarray(0,r)),i}return n}function fS(t){const e=[];let n=0,r=0,i=0;for(const o of t)o&&(i|=1<<r),++r===8&&(e[n++]=i,i=r=0);(n===0||r>0)&&(e[n++]=i);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class dP{constructor(e,n,r,i,s){this.bytes=e,this.length=r,this.context=i,this.get=s,this.bit=n%8,this.byteIndex=n>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function dE(t,e,n){if(n-e<=0)return 0;if(n-e<8){let s=0;for(const o of new dP(t,e,n-e,t,_be))s+=o;return s}const r=n>>3<<3,i=e+(e%8===0?0:8-e%8);return dE(t,e,i)+dE(t,r,n)+xbe(t,i>>3,r-i>>3)}function xbe(t,e,n){let r=0,i=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=n===void 0?t.byteLength:i+n;for(;o-i>=4;)r+=yC(s.getUint32(i)),i+=4;for(;o-i>=2;)r+=yC(s.getUint16(i)),i+=2;for(;o-i>=1;)r+=yC(s.getUint8(i)),i+=1;return r}function yC(t){let e=Math.trunc(t);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const Sbe=-1;class tr{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:e}=this;return st.isSparseUnion(e)?this.children.some(n=>n.nullable):st.isDenseUnion(e)?this.children.some(n=>n.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let e=0;const{valueOffsets:n,values:r,nullBitmap:i,typeIds:s}=this;return n&&(e+=n.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s&&(e+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,e)}get nullCount(){if(st.isUnion(this.type))return this.children.reduce((r,i)=>r+i.nullCount,0);let e=this._nullCount,n;return e<=Sbe&&(n=this.nullBitmap)&&(this._nullCount=e=n.length===0?0:this.length-dE(n,this.offset,this.offset+this.length)),e}constructor(e,n,r,i,s,o=[],a){this.type=e,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let l;s instanceof tr?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=df(e),s&&((l=s[0])&&(this.valueOffsets=l),(l=s[1])&&(this.values=l),(l=s[2])&&(this.nullBitmap=l),(l=s[3])&&(this.typeIds=l)))}getValid(e){const{type:n}=this;if(st.isUnion(n)){const r=n,i=this.children[r.typeIdToChildIndex[this.typeIds[e]]],s=r.mode===Us.Dense?this.valueOffsets[e]:e;return i.getValid(s)}if(this.nullable&&this.nullCount>0){const r=this.offset+e;return(this.nullBitmap[r>>3]&1<<r%8)!==0}return!0}setValid(e,n){let r;const{type:i}=this;if(st.isUnion(i)){const s=i,o=this.children[s.typeIdToChildIndex[this.typeIds[e]]],a=s.mode===Us.Dense?this.valueOffsets[e]:e;r=o.getValid(a),o.setValid(a,n)}else{let{nullBitmap:s}=this;const{offset:o,length:a}=this,l=o+e,u=1<<l%8,c=l>>3;(!s||s.byteLength<=c)&&(s=new Uint8Array((o+a+63&-64)>>3).fill(255),this.nullCount>0?(s.set(cS(o,a,this.nullBitmap),0),Object.assign(this,{nullBitmap:s})):Object.assign(this,{nullBitmap:s,_nullCount:0}));const f=s[c];r=(f&u)!==0,s[c]=n?f|u:f&~u}return r!==!!n&&(this._nullCount=this.nullCount+(n?-1:1)),n}clone(e=this.type,n=this.offset,r=this.length,i=this._nullCount,s=this,o=this.children){return new tr(e,n,r,i,s,o,this.dictionary)}slice(e,n){const{stride:r,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?r:1,l=this._sliceBuffers(e,n,r,i);return this.clone(this.type,this.offset+e,n,o,l,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*e,a*n))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===Y.Null)return this.clone(this.type,0,e,0);const{length:n,nullCount:r}=this,i=new Uint8Array((e+63&-64)>>3).fill(255,0,n>>3);i[n>>3]=(1<<n-(n&-8))-1,r>0&&i.set(cS(this.offset,n,this.nullBitmap),0);const s=this.buffers;return s[hf.VALIDITY]=i,this.clone(this.type,0,e,r+(e-n),s)}_sliceBuffers(e,n,r,i){let s;const{buffers:o}=this;return(s=o[hf.TYPE])&&(o[hf.TYPE]=s.subarray(e,e+n)),(s=o[hf.OFFSET])&&(o[hf.OFFSET]=s.subarray(e,e+n+1))||(s=o[hf.DATA])&&(o[hf.DATA]=i===6?s:s.subarray(r*e,r*(e+n))),o}_sliceChildren(e,n,r){return e.map(i=>i.slice(n,r))}}tr.prototype.children=Object.freeze([]);class Fb extends an{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:n,["offset"]:r=0,["length"]:i=0}=e;return new tr(n,r,i,i)}visitBool(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.nullBitmap),s=rr(n.ArrayType,e.data),{["length"]:o=s.length>>3,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new tr(n,r,o,a,[void 0,s,i])}visitInt(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.nullBitmap),s=rr(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new tr(n,r,o,a,[void 0,s,i])}visitFloat(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.nullBitmap),s=rr(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new tr(n,r,o,a,[void 0,s,i])}visitUtf8(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.data),s=xn(e.nullBitmap),o=Ty(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new tr(n,r,a,l,[o,i,s])}visitLargeUtf8(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.data),s=xn(e.nullBitmap),o=tM(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new tr(n,r,a,l,[o,i,s])}visitBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.data),s=xn(e.nullBitmap),o=Ty(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new tr(n,r,a,l,[o,i,s])}visitLargeBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.data),s=xn(e.nullBitmap),o=tM(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new tr(n,r,a,l,[o,i,s])}visitFixedSizeBinary(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.nullBitmap),s=rr(n.ArrayType,e.data),{["length"]:o=s.length/df(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new tr(n,r,o,a,[void 0,s,i])}visitDate(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.nullBitmap),s=rr(n.ArrayType,e.data),{["length"]:o=s.length/df(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new tr(n,r,o,a,[void 0,s,i])}visitTimestamp(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.nullBitmap),s=rr(n.ArrayType,e.data),{["length"]:o=s.length/df(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new tr(n,r,o,a,[void 0,s,i])}visitTime(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.nullBitmap),s=rr(n.ArrayType,e.data),{["length"]:o=s.length/df(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new tr(n,r,o,a,[void 0,s,i])}visitDecimal(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.nullBitmap),s=rr(n.ArrayType,e.data),{["length"]:o=s.length/df(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new tr(n,r,o,a,[void 0,s,i])}visitList(e){const{["type"]:n,["offset"]:r=0,["child"]:i}=e,s=xn(e.nullBitmap),o=Ty(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new tr(n,r,a,l,[o,void 0,s],[i])}visitStruct(e){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=e,s=xn(e.nullBitmap),{length:o=i.reduce((l,{length:u})=>Math.max(l,u),0),nullCount:a=e.nullBitmap?-1:0}=e;return new tr(n,r,o,a,[void 0,void 0,s],i)}visitUnion(e){const{["type"]:n,["offset"]:r=0,["children"]:i=[]}=e,s=rr(n.ArrayType,e.typeIds),{["length"]:o=s.length,["nullCount"]:a=-1}=e;if(st.isSparseUnion(n))return new tr(n,r,o,a,[void 0,void 0,void 0,s],i);const l=Ty(e.valueOffsets);return new tr(n,r,o,a,[l,void 0,void 0,s],i)}visitDictionary(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.nullBitmap),s=rr(n.indices.ArrayType,e.data),{["dictionary"]:o=new Wn([new Fb().visit({type:n.dictionary})])}=e,{["length"]:a=s.length,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new tr(n,r,a,l,[void 0,s,i],[],o)}visitInterval(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.nullBitmap),s=rr(n.ArrayType,e.data),{["length"]:o=s.length/df(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new tr(n,r,o,a,[void 0,s,i])}visitDuration(e){const{["type"]:n,["offset"]:r=0}=e,i=xn(e.nullBitmap),s=rr(n.ArrayType,e.data),{["length"]:o=s.length,["nullCount"]:a=e.nullBitmap?-1:0}=e;return new tr(n,r,o,a,[void 0,s,i])}visitFixedSizeList(e){const{["type"]:n,["offset"]:r=0,["child"]:i=new Fb().visit({type:n.valueType})}=e,s=xn(e.nullBitmap),{["length"]:o=i.length/df(n),["nullCount"]:a=e.nullBitmap?-1:0}=e;return new tr(n,r,o,a,[void 0,void 0,s],[i])}visitMap(e){const{["type"]:n,["offset"]:r=0,["child"]:i=new Fb().visit({type:n.childType})}=e,s=xn(e.nullBitmap),o=Ty(e.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:l=e.nullBitmap?-1:0}=e;return new tr(n,r,a,l,[o,void 0,s],[i])}}const kbe=new Fb;function ln(t){return kbe.visit(t)}class mM{constructor(e=0,n){this.numChunks=e,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Cbe(t){return t.some(e=>e.nullable)}function ZZ(t){return t.reduce((e,n)=>e+n.nullCount,0)}function WZ(t){return t.reduce((e,n,r)=>(e[r+1]=e[r]+n.length,e),new Uint32Array(t.length+1))}function YZ(t,e,n,r){const i=[];for(let s=-1,o=t.length;++s<o;){const a=t[s],l=e[s],{length:u}=a;if(l>=r)break;if(n>=l+u)continue;if(l>=n&&l+u<=r){i.push(a);continue}const c=Math.max(0,n-l),f=Math.min(r-l,u);i.push(a.slice(c,f-c))}return i.length===0&&i.push(t[0].slice(0,0)),i}function pP(t,e,n,r){let i=0,s=0,o=e.length-1;do{if(i>=o-1)return n<e[o]?r(t,i,n-e[i]):null;s=i+Math.trunc((o-i)*.5),n<e[s]?o=s:i=s}while(i<o)}function mP(t,e){return t.getValid(e)}function hS(t){function e(n,r,i){return t(n[r],i)}return function(n){const r=this.data;return pP(r,this._offsets,n,e)}}function GZ(t){let e;function n(r,i,s){return t(r[i],s,e)}return function(r,i){const s=this.data;e=i;const o=pP(s,this._offsets,r,n);return e=void 0,o}}function HZ(t){let e;function n(r,i,s){let o=s,a=0,l=0;for(let u=i-1,c=r.length;++u<c;){const f=r[u];if(~(a=t(f,e,o)))return l+a;o=0,l+=f.length}return-1}return function(r,i){e=r;const s=this.data,o=typeof i!="number"?n(s,0,0):pP(s,this._offsets,i,n);return e=void 0,o}}class gt extends an{}function Abe(t,e){return e===null&&t.length>0?0:-1}function Ebe(t,e){const{nullBitmap:n}=t;if(!n||t.nullCount<=0)return-1;let r=0;for(const i of new dP(n,t.offset+(e||0),t.length,n,XZ)){if(!i)return r;++r}return-1}function It(t,e,n){if(e===void 0)return-1;if(e===null)switch(t.typeId){case Y.Union:break;case Y.Dictionary:break;default:return Ebe(t,n)}const r=Ko.getVisitFn(t),i=N1(e);for(let s=(n||0)-1,o=t.length;++s<o;)if(i(r(t,s)))return s;return-1}function KZ(t,e,n){const r=Ko.getVisitFn(t),i=N1(e);for(let s=(n||0)-1,o=t.length;++s<o;)if(i(r(t,s)))return s;return-1}gt.prototype.visitNull=Abe;gt.prototype.visitBool=It;gt.prototype.visitInt=It;gt.prototype.visitInt8=It;gt.prototype.visitInt16=It;gt.prototype.visitInt32=It;gt.prototype.visitInt64=It;gt.prototype.visitUint8=It;gt.prototype.visitUint16=It;gt.prototype.visitUint32=It;gt.prototype.visitUint64=It;gt.prototype.visitFloat=It;gt.prototype.visitFloat16=It;gt.prototype.visitFloat32=It;gt.prototype.visitFloat64=It;gt.prototype.visitUtf8=It;gt.prototype.visitLargeUtf8=It;gt.prototype.visitBinary=It;gt.prototype.visitLargeBinary=It;gt.prototype.visitFixedSizeBinary=It;gt.prototype.visitDate=It;gt.prototype.visitDateDay=It;gt.prototype.visitDateMillisecond=It;gt.prototype.visitTimestamp=It;gt.prototype.visitTimestampSecond=It;gt.prototype.visitTimestampMillisecond=It;gt.prototype.visitTimestampMicrosecond=It;gt.prototype.visitTimestampNanosecond=It;gt.prototype.visitTime=It;gt.prototype.visitTimeSecond=It;gt.prototype.visitTimeMillisecond=It;gt.prototype.visitTimeMicrosecond=It;gt.prototype.visitTimeNanosecond=It;gt.prototype.visitDecimal=It;gt.prototype.visitList=It;gt.prototype.visitStruct=It;gt.prototype.visitUnion=It;gt.prototype.visitDenseUnion=KZ;gt.prototype.visitSparseUnion=KZ;gt.prototype.visitDictionary=It;gt.prototype.visitInterval=It;gt.prototype.visitIntervalDayTime=It;gt.prototype.visitIntervalYearMonth=It;gt.prototype.visitDuration=It;gt.prototype.visitDurationSecond=It;gt.prototype.visitDurationMillisecond=It;gt.prototype.visitDurationMicrosecond=It;gt.prototype.visitDurationNanosecond=It;gt.prototype.visitFixedSizeList=It;gt.prototype.visitMap=It;const dS=new gt;class yt extends an{}function kt(t){const{type:e}=t;if(t.nullCount===0&&t.stride===1&&(st.isInt(e)&&e.bitWidth!==64||st.isTime(e)&&e.bitWidth!==64||st.isFloat(e)&&e.precision!==Fs.HALF))return new mM(t.data.length,r=>{const i=t.data[r];return i.values.subarray(0,i.length)[Symbol.iterator]()});let n=0;return new mM(t.data.length,r=>{const s=t.data[r].length,o=t.slice(n,n+s);return n+=s,new Tbe(o)})}class Tbe{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}yt.prototype.visitNull=kt;yt.prototype.visitBool=kt;yt.prototype.visitInt=kt;yt.prototype.visitInt8=kt;yt.prototype.visitInt16=kt;yt.prototype.visitInt32=kt;yt.prototype.visitInt64=kt;yt.prototype.visitUint8=kt;yt.prototype.visitUint16=kt;yt.prototype.visitUint32=kt;yt.prototype.visitUint64=kt;yt.prototype.visitFloat=kt;yt.prototype.visitFloat16=kt;yt.prototype.visitFloat32=kt;yt.prototype.visitFloat64=kt;yt.prototype.visitUtf8=kt;yt.prototype.visitLargeUtf8=kt;yt.prototype.visitBinary=kt;yt.prototype.visitLargeBinary=kt;yt.prototype.visitFixedSizeBinary=kt;yt.prototype.visitDate=kt;yt.prototype.visitDateDay=kt;yt.prototype.visitDateMillisecond=kt;yt.prototype.visitTimestamp=kt;yt.prototype.visitTimestampSecond=kt;yt.prototype.visitTimestampMillisecond=kt;yt.prototype.visitTimestampMicrosecond=kt;yt.prototype.visitTimestampNanosecond=kt;yt.prototype.visitTime=kt;yt.prototype.visitTimeSecond=kt;yt.prototype.visitTimeMillisecond=kt;yt.prototype.visitTimeMicrosecond=kt;yt.prototype.visitTimeNanosecond=kt;yt.prototype.visitDecimal=kt;yt.prototype.visitList=kt;yt.prototype.visitStruct=kt;yt.prototype.visitUnion=kt;yt.prototype.visitDenseUnion=kt;yt.prototype.visitSparseUnion=kt;yt.prototype.visitDictionary=kt;yt.prototype.visitInterval=kt;yt.prototype.visitIntervalDayTime=kt;yt.prototype.visitIntervalYearMonth=kt;yt.prototype.visitDuration=kt;yt.prototype.visitDurationSecond=kt;yt.prototype.visitDurationMillisecond=kt;yt.prototype.visitDurationMicrosecond=kt;yt.prototype.visitDurationNanosecond=kt;yt.prototype.visitFixedSizeList=kt;yt.prototype.visitMap=kt;const gP=new yt;var JZ;const eW={},tW={};class Wn{constructor(e){var n,r,i;const s=e[0]instanceof Wn?e.flatMap(a=>a.data):e;if(s.length===0||s.some(a=>!(a instanceof tr)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(n=s[0])===null||n===void 0?void 0:n.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:l,indexOf:u}=eW[o.typeId],c=s[0];this.isValid=f=>mP(c,f),this.get=f=>a(c,f),this.set=(f,h)=>l(c,f,h),this.indexOf=f=>u(c,f),this._offsets=[0,c.length];break}default:Object.setPrototypeOf(this,tW[o.typeId]),this._offsets=WZ(s);break}this.data=s,this.type=o,this.stride=df(o),this.numChildren=(i=(r=o.children)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((e,n)=>e+n.byteLength,0)}get nullable(){return Cbe(this.data)}get nullCount(){return ZZ(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${Y[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}at(e){return this.get(hP(e,this.length))}set(e,n){}indexOf(e,n){return-1}includes(e,n){return this.indexOf(e,n)>-1}[Symbol.iterator](){return gP.visit(this)}concat(...e){return new Wn(this.data.concat(e.flatMap(n=>n.data).flat(Number.POSITIVE_INFINITY)))}slice(e,n){return new Wn(VZ(this,e,n,({data:r,_offsets:i},s,o)=>YZ(r,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:e,data:n,length:r,stride:i,ArrayType:s}=this;switch(e.typeId){case Y.Int:case Y.Float:case Y.Decimal:case Y.Time:case Y.Timestamp:switch(n.length){case 0:return new s;case 1:return n[0].values.subarray(0,r*i);default:return n.reduce((o,{values:a,length:l})=>(o.array.set(a.subarray(0,l*i),o.offset),o.offset+=l*i,o),{array:new s(r*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var n;return this.getChildAt((n=this.type.children)===null||n===void 0?void 0:n.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new Wn(this.data.map(({children:n})=>n[e])):null}get isMemoized(){return st.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(st.isDictionary(this.type)){const e=new pS(this.data[0].dictionary),n=this.data.map(r=>{const i=r.clone();return i.dictionary=e,i});return new Wn(n)}return new pS(this)}unmemoize(){if(st.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),n=this.data.map(r=>{const i=r.clone();return i.dictionary=e,i});return new Wn(n)}return this}}JZ=Symbol.toStringTag;Wn[JZ]=(t=>{t.type=st.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(Y).map(n=>Y[n]).filter(n=>typeof n=="number"&&n!==Y.NONE);for(const n of e){const r=Ko.getVisitFnByTypeId(n),i=xl.getVisitFnByTypeId(n),s=dS.getVisitFnByTypeId(n);eW[n]={get:r,set:i,indexOf:s},tW[n]=Object.create(t,{isValid:{value:hS(mP)},get:{value:hS(Ko.getVisitFnByTypeId(n))},set:{value:GZ(xl.getVisitFnByTypeId(n))},indexOf:{value:HZ(dS.getVisitFnByTypeId(n))}})}return"Vector"})(Wn.prototype);class pS extends Wn{constructor(e){super(e.data);const n=this.get,r=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const l=n.call(this,o);return s[o]=l,l}}),Object.defineProperty(this,"set",{value(o,a){r.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new pS(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Wn(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class pE{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,n,r,i){return e.prep(8,24),e.writeInt64(BigInt(i??0)),e.pad(4),e.writeInt32(r),e.writeInt64(BigInt(n??0)),e.offset()}}class Oa{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsFooter(e,n){return(n||new Oa).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,n){return e.setPosition(e.position()+Kn),(n||new Oa).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):xi.V1}schema(e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Lu).__init(this.bb.__indirect(this.bb_pos+n),this.bb):null}dictionaries(e,n){const r=this.bb.__offset(this.bb_pos,8);return r?(n||new pE).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,n){const r=this.bb.__offset(this.bb_pos,10);return r?(n||new pE).__init(this.bb.__vector(this.bb_pos+r)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Zi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,xi.V1)}static addSchema(e,n){e.addFieldOffset(1,n,0)}static addDictionaries(e,n){e.addFieldOffset(2,n,0)}static startDictionariesVector(e,n){e.startVector(24,n,8)}static addRecordBatches(e,n){e.addFieldOffset(3,n,0)}static startRecordBatchesVector(e,n){e.startVector(24,n,8)}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,n){e.finish(n)}static finishSizePrefixedFooterBuffer(e,n){e.finish(n,void 0,!0)}}let ni=class rp{constructor(e=[],n,r,i=xi.V5){this.fields=e||[],this.metadata=n||new Map,r||(r=mE(this.fields)),this.dictionaries=r,this.metadataVersion=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,n)=>`${n}: ${e}`).join(", ")} }>`}select(e){const n=new Set(e),r=this.fields.filter(i=>n.has(i.name));return new rp(r,this.metadata)}selectAt(e){const n=e.map(r=>this.fields[r]).filter(Boolean);return new rp(n,this.metadata)}assign(...e){const n=e[0]instanceof rp?e[0]:Array.isArray(e[0])?new rp(e[0]):new rp(e),r=[...this.fields],i=mw(mw(new Map,this.metadata),n.metadata),s=n.fields.filter(a=>{const l=r.findIndex(u=>u.name===a.name);return~l?(r[l]=a.clone({metadata:mw(mw(new Map,r[l].metadata),a.metadata)}))&&!1:!0}),o=mE(s,new Map);return new rp([...r,...s],i,new Map([...this.dictionaries,...o]))}};ni.prototype.fields=null;ni.prototype.metadata=null;ni.prototype.dictionaries=null;class Qr{static new(...e){let[n,r,i,s]=e;return e[0]&&typeof e[0]=="object"&&({name:n}=e[0],r===void 0&&(r=e[0].type),i===void 0&&(i=e[0].nullable),s===void 0&&(s=e[0].metadata)),new Qr(`${n}`,r,i,s)}constructor(e,n,r=!1,i){this.name=e,this.type=n,this.nullable=r,this.metadata=i||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[n,r,i,s]=e;return!e[0]||typeof e[0]!="object"?[n=this.name,r=this.type,i=this.nullable,s=this.metadata]=e:{name:n=this.name,type:r=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=e[0],Qr.new(n,r,i,s)}}Qr.prototype.type=null;Qr.prototype.name=null;Qr.prototype.nullable=null;Qr.prototype.metadata=null;function mw(t,e){return new Map([...t||new Map,...e||new Map])}function mE(t,e=new Map){for(let n=-1,r=t.length;++n<r;){const s=t[n].type;if(st.isDictionary(s)){if(!e.has(s.id))e.set(s.id,s.dictionary);else if(e.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&mE(s.children,e)}return e}var Dbe=kX,Pbe=Bg;class gv{static decode(e){e=new Pbe(xn(e));const n=Oa.getRootAsFooter(e),r=ni.decode(n.schema(),new Map,n.version());return new Rbe(r,n)}static encode(e){const n=new Dbe,r=ni.encode(n,e.schema);Oa.startRecordBatchesVector(n,e.numRecordBatches);for(const o of[...e.recordBatches()].slice().reverse())pd.encode(n,o);const i=n.endVector();Oa.startDictionariesVector(n,e.numDictionaries);for(const o of[...e.dictionaryBatches()].slice().reverse())pd.encode(n,o);const s=n.endVector();return Oa.startFooter(n),Oa.addSchema(n,r),Oa.addVersion(n,xi.V5),Oa.addRecordBatches(n,i),Oa.addDictionaries(n,s),Oa.finishFooterBuffer(n,Oa.endFooter(n)),n.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(e,n=xi.V5,r,i){this.schema=e,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}*recordBatches(){for(let e,n=-1,r=this.numRecordBatches;++n<r;)(e=this.getRecordBatch(n))&&(yield e)}*dictionaryBatches(){for(let e,n=-1,r=this.numDictionaries;++n<r;)(e=this.getDictionaryBatch(n))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class Rbe extends gv{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(e,n){super(e,n.version()),this._footer=n}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const n=this._footer.recordBatches(e);if(n)return pd.decode(n)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const n=this._footer.dictionaries(e);if(n)return pd.decode(n)}return null}}class pd{static decode(e){return new pd(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,n){const{metaDataLength:r}=n,i=BigInt(n.offset),s=BigInt(n.bodyLength);return pE.createBlock(e,i,r,s)}constructor(e,n,r){this.metaDataLength=e,this.offset=br(r),this.bodyLength=br(n)}}const ii=Object.freeze({done:!0,value:void 0});class gM{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class yP{tee(){return this._getDOMStream().tee()}pipe(e,n){return this._getNodeStream().pipe(e,n)}pipeTo(e,n){return this._getDOMStream().pipeTo(e,n)}pipeThrough(e,n){return this._getDOMStream().pipeThrough(e,n)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class $be extends yP{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return Ft(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(ii);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return rl.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return rl.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return Ft(this,void 0,void 0,function*(){return yield this.abort(e),ii})}return(e){return Ft(this,void 0,void 0,function*(){return yield this.close(),ii})}read(e){return Ft(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return Ft(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((n,r)=>{this.resolvers.push({resolve:n,reject:r})}):Promise.resolve(ii)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class N_ extends $be{write(e){if((e=xn(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?oE(this.toUint8Array(!0)):this.toUint8Array(!1).then(oE)}toUint8Array(e=!1){return e?wc(this._values)[0]:Ft(this,void 0,void 0,function*(){var n,r,i,s;const o=[];let a=0;try{for(var l=!0,u=Bp(this),c;c=yield u.next(),n=c.done,!n;l=!0){s=c.value,l=!1;const f=s;o.push(f),a+=f.byteLength}}catch(f){r={error:f}}finally{try{!l&&!n&&(i=u.return)&&(yield i.call(u))}finally{if(r)throw r.error}}return wc(o,a)[0]})}}class mS{constructor(e){e&&(this.source=new Ibe(rl.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class jg{constructor(e){e instanceof jg?this.source=e.source:e instanceof N_?this.source=new Hd(rl.fromAsyncIterable(e)):wX(e)?this.source=new Hd(rl.fromNodeStream(e)):oP(e)?this.source=new Hd(rl.fromDOMStream(e)):OX(e)?this.source=new Hd(rl.fromDOMStream(e.body)):DO(e)?this.source=new Hd(rl.fromIterable(e)):n0(e)?this.source=new Hd(rl.fromAsyncIterable(e)):L1(e)&&(this.source=new Hd(rl.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class Ibe{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,n="read"){return this.source.next({cmd:n,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||ii)}return(e){return Object.create(this.source.return&&this.source.return(e)||ii)}}class Hd{constructor(e){this.source=e,this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}cancel(e){return Ft(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return Ft(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return Ft(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e){return Ft(this,arguments,void 0,function*(n,r="read"){return yield this.source.next({cmd:r,size:n})})}throw(e){return Ft(this,void 0,void 0,function*(){const n=this.source.throw&&(yield this.source.throw(e))||ii;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}return(e){return Ft(this,void 0,void 0,function*(){const n=this.source.return&&(yield this.source.return(e))||ii;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(n)})}}class yM extends mS{constructor(e,n){super(),this.position=0,this.buffer=xn(e),this.size=n===void 0?this.buffer.byteLength:n}readInt32(e){const{buffer:n,byteOffset:r}=this.readAt(e,4);return new DataView(n,r).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:n,size:r,position:i}=this;return n&&i<r?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(r,i+Math.min(r-i,e)),n.subarray(i,this.position)):null}readAt(e,n){const r=this.buffer,i=Math.min(this.size,e+n);return r?r.subarray(e,i):new Uint8Array(n)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}class gS extends jg{constructor(e,n){super(),this.position=0,this._handle=e,typeof n=="number"?this.size=n:this._pending=Ft(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending})}readInt32(e){return Ft(this,void 0,void 0,function*(){const{buffer:n,byteOffset:r}=yield this.readAt(e,4);return new DataView(n,r).getInt32(0,!0)})}seek(e){return Ft(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return Ft(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:r,position:i}=this;if(n&&i<r){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let s=i,o=0,a=0;const l=Math.min(r,s+Math.min(r-s,e)),u=new Uint8Array(Math.max(0,(this.position=l)-s));for(;(s+=a)<l&&(o+=a)<u.byteLength;)({bytesRead:a}=yield n.read(u,o,u.byteLength-o,s));return u}return null})}readAt(e,n){return Ft(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:r,size:i}=this;if(r&&e+n<i){const s=Math.min(i,e+n),o=new Uint8Array(s-e);return(yield r.read(o,0,n,e)).buffer}return new Uint8Array(n)})}close(){return Ft(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return Ft(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return Ft(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}}const Fbe=65536;function Im(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const qg=8,bP=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class nW{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){const n=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),r=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]);let i=n[3]*r[3];this.buffer[0]=i&65535;let s=i>>>16;return i=n[2]*r[3],s+=i,i=n[3]*r[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?Fbe:0,this.buffer[1]+=s>>>16,this.buffer[1]+=n[1]*r[3]+n[2]*r[2]+n[3]*r[1],this.buffer[1]+=n[0]*r[3]+n[1]*r[2]+n[2]*r[1]+n[3]*r[0]<<16,this}_plus(e){const n=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],n<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=n}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${Im(this.buffer[1])} ${Im(this.buffer[0])}`}}class nr extends nW{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,n=new Uint32Array(2)){return nr.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return nr.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const r=e.length,i=new nr(n);for(let s=0;s<r;){const o=qg<r-s?qg:r-s,a=new nr(new Uint32Array([Number.parseInt(e.slice(s,s+o),10),0])),l=new nr(new Uint32Array([bP[o],0]));i.times(l),i.plus(a),s+=o}return i}static convertArray(e){const n=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)nr.from(e[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(e,n){return new nr(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new nr(new Uint32Array(e.buffer)).plus(n)}}class Do extends nW{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){const n=this.buffer[1]<<0,r=e.buffer[1]<<0;return n<r||n===r&&this.buffer[0]<e.buffer[0]}static from(e,n=new Uint32Array(2)){return Do.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(2)){return Do.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(2)){const r=e.startsWith("-"),i=e.length,s=new Do(n);for(let o=r?1:0;o<i;){const a=qg<i-o?qg:i-o,l=new Do(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0])),u=new Do(new Uint32Array([bP[a],0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){const n=new Uint32Array(e.length*2);for(let r=-1,i=e.length;++r<i;)Do.from(e[r],new Uint32Array(n.buffer,n.byteOffset+2*r*4,2));return n}static multiply(e,n){return new Do(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new Do(new Uint32Array(e.buffer)).plus(n)}}class Nu{constructor(e){this.buffer=e}high(){return new Do(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Do(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){const n=new nr(new Uint32Array([this.buffer[3],0])),r=new nr(new Uint32Array([this.buffer[2],0])),i=new nr(new Uint32Array([this.buffer[1],0])),s=new nr(new Uint32Array([this.buffer[0],0])),o=new nr(new Uint32Array([e.buffer[3],0])),a=new nr(new Uint32Array([e.buffer[2],0])),l=new nr(new Uint32Array([e.buffer[1],0])),u=new nr(new Uint32Array([e.buffer[0],0]));let c=nr.multiply(s,u);this.buffer[0]=c.low();const f=new nr(new Uint32Array([c.high(),0]));return c=nr.multiply(i,u),f.plus(c),c=nr.multiply(s,l),f.plus(c),this.buffer[1]=f.low(),this.buffer[3]=f.lessThan(c)?1:0,this.buffer[2]=f.high(),new nr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(nr.multiply(r,u)).plus(nr.multiply(i,l)).plus(nr.multiply(s,a)),this.buffer[3]+=nr.multiply(n,u).plus(nr.multiply(r,l)).plus(nr.multiply(i,a)).plus(nr.multiply(s,o)).low(),this}plus(e){const n=new Uint32Array(4);return n[3]=this.buffer[3]+e.buffer[3]>>>0,n[2]=this.buffer[2]+e.buffer[2]>>>0,n[1]=this.buffer[1]+e.buffer[1]>>>0,n[0]=this.buffer[0]+e.buffer[0]>>>0,n[0]<this.buffer[0]>>>0&&++n[1],n[1]<this.buffer[1]>>>0&&++n[2],n[2]<this.buffer[2]>>>0&&++n[3],this.buffer[3]=n[3],this.buffer[2]=n[2],this.buffer[1]=n[1],this.buffer[0]=n[0],this}hex(){return`${Im(this.buffer[3])} ${Im(this.buffer[2])} ${Im(this.buffer[1])} ${Im(this.buffer[0])}`}static multiply(e,n){return new Nu(new Uint32Array(e.buffer)).times(n)}static add(e,n){return new Nu(new Uint32Array(e.buffer)).plus(n)}static from(e,n=new Uint32Array(4)){return Nu.fromString(typeof e=="string"?e:e.toString(),n)}static fromNumber(e,n=new Uint32Array(4)){return Nu.fromString(e.toString(),n)}static fromString(e,n=new Uint32Array(4)){const r=e.startsWith("-"),i=e.length,s=new Nu(n);for(let o=r?1:0;o<i;){const a=qg<i-o?qg:i-o,l=new Nu(new Uint32Array([Number.parseInt(e.slice(o,o+a),10),0,0,0])),u=new Nu(new Uint32Array([bP[a],0,0,0]));s.times(u),s.plus(l),o+=a}return r?s.negate():s}static convertArray(e){const n=new Uint32Array(e.length*4);for(let r=-1,i=e.length;++r<i;)Nu.from(e[r],new Uint32Array(n.buffer,n.byteOffset+16*r,4));return n}}class rW extends an{constructor(e,n,r,i,s=xi.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=n,this.buffers=r,this.dictionaries=i,this.metadataVersion=s}visit(e){return super.visit(e instanceof Qr?e.type:e)}visitNull(e,{length:n}=this.nextFieldNode()){return ln({type:e,length:n})}visitBool(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitInt(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFloat(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitUtf8(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeUtf8(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDate(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTimestamp(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitTime(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDecimal(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitList(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),children:this.visitMany(e.children)})}visitUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return this.metadataVersion<xi.V5&&this.readNullBitmap(e,r),e.mode===Us.Sparse?this.visitSparseUnion(e,{length:n,nullCount:r}):this.visitDenseUnion(e,{length:n,nullCount:r})}visitDenseUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitDuration(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}visitFixedSizeList(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),child:this.visit(e.children[0])})}visitMap(e,{length:n,nullCount:r}=this.nextFieldNode()){return ln({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,n,r=this.nextBufferRange()){return n>0&&this.readData(e,r)||new Uint8Array(0)}readOffsets(e,n){return this.readData(e,n)}readTypeIds(e,n){return this.readData(e,n)}readData(e,{length:n,offset:r}=this.nextBufferRange()){return this.bytes.subarray(r,r+n)}readDictionary(e){return this.dictionaries.get(e.id)}}class Mbe extends rW{constructor(e,n,r,i,s){super(new Uint8Array(0),n,r,i,s),this.sources=e}readNullBitmap(e,n,{offset:r}=this.nextBufferRange()){return n<=0?new Uint8Array(0):fS(this.sources[r])}readOffsets(e,{offset:n}=this.nextBufferRange()){return rr(Uint8Array,rr(e.OffsetArrayType,this.sources[n]))}readTypeIds(e,{offset:n}=this.nextBufferRange()){return rr(Uint8Array,rr(e.ArrayType,this.sources[n]))}readData(e,{offset:n}=this.nextBufferRange()){const{sources:r}=this;return st.isTimestamp(e)||(st.isInt(e)||st.isTime(e))&&e.bitWidth===64||st.isDuration(e)||st.isDate(e)&&e.unit===_l.MILLISECOND?rr(Uint8Array,Do.convertArray(r[n])):st.isDecimal(e)?rr(Uint8Array,Nu.convertArray(r[n])):st.isBinary(e)||st.isLargeBinary(e)||st.isFixedSizeBinary(e)?Lbe(r[n]):st.isBool(e)?fS(r[n]):st.isUtf8(e)||st.isLargeUtf8(e)?sP(r[n].join("")):rr(Uint8Array,rr(e.ArrayType,r[n].map(i=>+i)))}}function Lbe(t){const e=t.join(""),n=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)n[r>>1]=Number.parseInt(e.slice(r,r+2),16);return n}class bt extends an{compareSchemas(e,n){return e===n||n instanceof e.constructor&&this.compareManyFields(e.fields,n.fields)}compareManyFields(e,n){return e===n||Array.isArray(e)&&Array.isArray(n)&&e.length===n.length&&e.every((r,i)=>this.compareFields(r,n[i]))}compareFields(e,n){return e===n||n instanceof e.constructor&&e.name===n.name&&e.nullable===n.nullable&&this.visit(e.type,n.type)}}function Oo(t,e){return e instanceof t.constructor}function k0(t,e){return t===e||Oo(t,e)}function rh(t,e){return t===e||Oo(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function Tk(t,e){return t===e||Oo(t,e)&&t.precision===e.precision}function Nbe(t,e){return t===e||Oo(t,e)&&t.byteWidth===e.byteWidth}function vP(t,e){return t===e||Oo(t,e)&&t.unit===e.unit}function PO(t,e){return t===e||Oo(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function RO(t,e){return t===e||Oo(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function Qbe(t,e){return t===e||Oo(t,e)&&t.children.length===e.children.length&&md.compareManyFields(t.children,e.children)}function Bbe(t,e){return t===e||Oo(t,e)&&t.children.length===e.children.length&&md.compareManyFields(t.children,e.children)}function OP(t,e){return t===e||Oo(t,e)&&t.mode===e.mode&&t.typeIds.every((n,r)=>n===e.typeIds[r])&&md.compareManyFields(t.children,e.children)}function zbe(t,e){return t===e||Oo(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&md.visit(t.indices,e.indices)&&md.visit(t.dictionary,e.dictionary)}function wP(t,e){return t===e||Oo(t,e)&&t.unit===e.unit}function $O(t,e){return t===e||Oo(t,e)&&t.unit===e.unit}function Ube(t,e){return t===e||Oo(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&md.compareManyFields(t.children,e.children)}function jbe(t,e){return t===e||Oo(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&md.compareManyFields(t.children,e.children)}bt.prototype.visitNull=k0;bt.prototype.visitBool=k0;bt.prototype.visitInt=rh;bt.prototype.visitInt8=rh;bt.prototype.visitInt16=rh;bt.prototype.visitInt32=rh;bt.prototype.visitInt64=rh;bt.prototype.visitUint8=rh;bt.prototype.visitUint16=rh;bt.prototype.visitUint32=rh;bt.prototype.visitUint64=rh;bt.prototype.visitFloat=Tk;bt.prototype.visitFloat16=Tk;bt.prototype.visitFloat32=Tk;bt.prototype.visitFloat64=Tk;bt.prototype.visitUtf8=k0;bt.prototype.visitLargeUtf8=k0;bt.prototype.visitBinary=k0;bt.prototype.visitLargeBinary=k0;bt.prototype.visitFixedSizeBinary=Nbe;bt.prototype.visitDate=vP;bt.prototype.visitDateDay=vP;bt.prototype.visitDateMillisecond=vP;bt.prototype.visitTimestamp=PO;bt.prototype.visitTimestampSecond=PO;bt.prototype.visitTimestampMillisecond=PO;bt.prototype.visitTimestampMicrosecond=PO;bt.prototype.visitTimestampNanosecond=PO;bt.prototype.visitTime=RO;bt.prototype.visitTimeSecond=RO;bt.prototype.visitTimeMillisecond=RO;bt.prototype.visitTimeMicrosecond=RO;bt.prototype.visitTimeNanosecond=RO;bt.prototype.visitDecimal=k0;bt.prototype.visitList=Qbe;bt.prototype.visitStruct=Bbe;bt.prototype.visitUnion=OP;bt.prototype.visitDenseUnion=OP;bt.prototype.visitSparseUnion=OP;bt.prototype.visitDictionary=zbe;bt.prototype.visitInterval=wP;bt.prototype.visitIntervalDayTime=wP;bt.prototype.visitIntervalYearMonth=wP;bt.prototype.visitDuration=$O;bt.prototype.visitDurationSecond=$O;bt.prototype.visitDurationMillisecond=$O;bt.prototype.visitDurationMicrosecond=$O;bt.prototype.visitDurationNanosecond=$O;bt.prototype.visitFixedSizeList=Ube;bt.prototype.visitMap=jbe;const md=new bt;function gE(t,e){return md.compareSchemas(t,e)}function bC(t,e){return qbe(t,e.map(n=>n.data.concat()))}function qbe(t,e){const n=[...t.fields],r=[],i={numBatches:e.reduce((f,h)=>Math.max(f,h.length),0)};let s=0,o=0,a=-1;const l=e.length;let u,c=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<l;)c[a]=u=e[a].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(c=Vbe(n,o,c,e,i),o>0&&(r[s++]=ln({type:new ao(n),length:o,nullCount:0,children:c.slice()})))}return[t=t.assign(n),r.map(f=>new No(t,f))]}function Vbe(t,e,n,r,i){var s;const o=(e+63&-64)>>3;for(let a=-1,l=r.length;++a<l;){const u=n[a],c=u?.length;if(c>=e)c===e?n[a]=u:(n[a]=u.slice(0,e),i.numBatches=Math.max(i.numBatches,r[a].unshift(u.slice(e,c-e))));else{const f=t[a];t[a]=f.clone({nullable:!0}),n[a]=(s=u?._changeLengthAndBackfillNullBitmap(e))!==null&&s!==void 0?s:ln({type:f.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return n}var iW;let gd=class ip{constructor(...e){var n,r;if(e.length===0)return this.batches=[],this.schema=new ni([]),this._offsets=[0],this;let i,s;e[0]instanceof ni&&(i=e.shift()),e.at(-1)instanceof Uint32Array&&(s=e.pop());const o=l=>{if(l){if(l instanceof No)return[l];if(l instanceof ip)return l.batches;if(l instanceof tr){if(l.type instanceof ao)return[new No(new ni(l.type.children),l)]}else{if(Array.isArray(l))return l.flatMap(u=>o(u));if(typeof l[Symbol.iterator]=="function")return[...l].flatMap(u=>o(u));if(typeof l=="object"){const u=Object.keys(l),c=u.map(d=>new Wn([l[d]])),f=i??new ni(u.map((d,m)=>new Qr(String(d),c[m].type,c[m].nullable))),[,h]=bC(f,c);return h.length===0?[new No(l)]:h}}}return[]},a=e.flatMap(l=>o(l));if(i=(r=i??((n=a[0])===null||n===void 0?void 0:n.schema))!==null&&r!==void 0?r:new ni([]),!(i instanceof ni))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of a){if(!(l instanceof No))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!gE(i,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??WZ(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,n)=>e+n.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=ZZ(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}at(e){return this.get(hP(e,this.numRows))}set(e,n){}indexOf(e,n){return-1}[Symbol.iterator](){return this.batches.length>0?gP.visit(new Wn(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const n=this.schema,r=this.data.concat(e.flatMap(({data:i})=>i));return new ip(n,r.map(i=>new No(n,i)))}slice(e,n){const r=this.schema;[e,n]=VZ({length:this.numRows},e,n);const i=YZ(this.data,this._offsets,e,n);return new ip(r,i.map(s=>new No(r,s)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(n=>n.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const n=this.data.map(r=>r.children[e]);if(n.length===0){const{type:r}=this.schema.fields[e],i=ln({type:r,length:0,nullCount:0});n.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new Wn(n)}return null}setChild(e,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),n)}setChildAt(e,n){let r=this.schema,i=[...this.batches];if(e>-1&&e<this.numCols){n||(n=new Wn([ln({type:new dd,length:this.numRows})]));const s=r.fields.slice(),o=s[e].clone({type:n.type}),a=this.schema.fields.map((l,u)=>this.getChildAt(u));[s[e],a[e]]=[o,n],[r,i]=bC(r,a)}return new ip(r,i)}select(e){const n=this.schema.fields.reduce((r,i,s)=>r.set(i.name,s),new Map);return this.selectAt(e.map(r=>n.get(r)).filter(r=>r>-1))}selectAt(e){const n=this.schema.selectAt(e),r=this.batches.map(i=>i.selectAt(e));return new ip(n,r)}assign(e){const n=this.schema.fields,[r,i]=e.schema.fields.reduce((a,l,u)=>{const[c,f]=a,h=n.findIndex(d=>d.name===l.name);return~h?f[h]=u:c.push(u),a},[[],[]]),s=this.schema.assign(e.schema),o=[...n.map((a,l)=>[l,i[l]]).map(([a,l])=>l===void 0?this.getChildAt(a):e.getChildAt(l)),...r.map(a=>e.getChildAt(a))].filter(Boolean);return new ip(...bC(s,o))}};iW=Symbol.toStringTag;gd[iW]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=hS(mP),t.get=hS(Ko.getVisitFn(Y.Struct)),t.set=GZ(xl.getVisitFn(Y.Struct)),t.indexOf=HZ(dS.getVisitFn(Y.Struct)),"Table"))(gd.prototype);var sW;let No=class db{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof ni))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=ln({nullCount:0,type:new ao(this.schema.fields),children:this.schema.fields.map(n=>ln({type:n.type,nullCount:0}))})]=e,!(this.data instanceof tr))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=bM(this.schema,this.data.children);break}case 1:{const[n]=e,{fields:r,children:i,length:s}=Object.keys(n).reduce((l,u,c)=>(l.children[c]=n[u],l.length=Math.max(l.length,n[u].length),l.fields[c]=Qr.new({name:u,type:n[u].type,nullable:!0}),l),{length:0,fields:new Array,children:new Array}),o=new ni(r),a=ln({type:new ao(r),length:s,children:i,nullCount:0});[this.schema,this.data]=bM(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=oW(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return Ko.visit(this.data,e)}at(e){return this.get(hP(e,this.numRows))}set(e,n){return xl.visit(this.data,e,n)}indexOf(e,n){return dS.visit(this.data,e,n)}[Symbol.iterator](){return gP.visit(new Wn([this.data]))}toArray(){return[...this]}concat(...e){return new gd(this.schema,[this,...e])}slice(e,n){const[r]=new Wn([this.data]).slice(e,n).data;return new db(this.schema,r)}getChild(e){var n;return this.getChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(r=>r.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new Wn([this.data.children[e]]):null}setChild(e,n){var r;return this.setChildAt((r=this.schema.fields)===null||r===void 0?void 0:r.findIndex(i=>i.name===e),n)}setChildAt(e,n){let r=this.schema,i=this.data;if(e>-1&&e<this.numCols){n||(n=new Wn([ln({type:new dd,length:this.numRows})]));const s=r.fields.slice(),o=i.children.slice(),a=s[e].clone({type:n.type});[s[e],o[e]]=[a,n.data[0]],r=new ni(s,new Map(this.schema.metadata)),i=ln({type:new ao(s),children:o})}return new db(r,i)}select(e){const n=this.schema.select(e),r=new ao(n.fields),i=[];for(const s of e){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new db(n,ln({type:r,length:this.numRows,children:i}))}selectAt(e){const n=this.schema.selectAt(e),r=e.map(s=>this.data.children[s]).filter(Boolean),i=ln({type:new ao(n.fields),length:this.numRows,children:r});return new db(n,i)}};sW=Symbol.toStringTag;No[sW]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(No.prototype);function bM(t,e,n=e.reduce((r,i)=>Math.max(r,i.length),0)){var r;const i=[...t.fields],s=[...e],o=(n+63&-64)>>3;for(const[a,l]of t.fields.entries()){const u=e[a];(!u||u.length!==n)&&(i[a]=l.clone({nullable:!0}),s[a]=(r=u?._changeLengthAndBackfillNullBitmap(n))!==null&&r!==void 0?r:ln({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(o)}))}return[t.assign(i),ln({type:new ao(i),length:n,children:s})]}function oW(t,e,n=new Map){var r,i;if(((r=t?.length)!==null&&r!==void 0?r:0)>0&&t?.length===e?.length)for(let s=-1,o=t.length;++s<o;){const{type:a}=t[s],l=e[s];for(const u of[l,...((i=l?.dictionary)===null||i===void 0?void 0:i.data)||[]])oW(a.children,u?.children,n);if(st.isDictionary(a)){const{id:u}=a;if(!n.has(u))l?.dictionary&&n.set(u,l.dictionary);else if(n.get(u)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return n}class _P extends No{constructor(e){const n=e.fields.map(i=>ln({type:i.type})),r=ln({type:new ao(e.fields),nullCount:0,children:n});super(e,r)}}let Ah=class Pu{constructor(){this.bb=null,this.bb_pos=0}__init(e,n){return this.bb_pos=e,this.bb=n,this}static getRootAsMessage(e,n){return(n||new Pu).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,n){return e.setPosition(e.position()+Kn),(n||new Pu).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):xi.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):Fn.NONE}header(e){const n=this.bb.__offset(this.bb_pos,8);return n?this.bb.__union(e,this.bb_pos+n):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}customMetadata(e,n){const r=this.bb.__offset(this.bb_pos,12);return r?(n||new Zi).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,n){e.addFieldInt16(0,n,xi.V1)}static addHeaderType(e,n){e.addFieldInt8(1,n,Fn.NONE)}static addHeader(e,n){e.addFieldOffset(2,n,0)}static addBodyLength(e,n){e.addFieldInt64(3,n,BigInt("0"))}static addCustomMetadata(e,n){e.addFieldOffset(4,n,0)}static createCustomMetadataVector(e,n){e.startVector(4,n.length,4);for(let r=n.length-1;r>=0;r--)e.addOffset(n[r]);return e.endVector()}static startCustomMetadataVector(e,n){e.startVector(4,n,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,n){e.finish(n)}static finishSizePrefixedMessageBuffer(e,n){e.finish(n,void 0,!0)}static createMessage(e,n,r,i,s,o){return Pu.startMessage(e),Pu.addVersion(e,n),Pu.addHeaderType(e,r),Pu.addHeader(e,i),Pu.addBodyLength(e,s),Pu.addCustomMetadata(e,o),Pu.endMessage(e)}};class Xbe extends an{visit(e,n){return e==null||n==null?void 0:super.visit(e,n)}visitNull(e,n){return uM.startNull(n),uM.endNull(n)}visitInt(e,n){return ka.startInt(n),ka.addBitWidth(n,e.bitWidth),ka.addIsSigned(n,e.isSigned),ka.endInt(n)}visitFloat(e,n){return qu.startFloatingPoint(n),qu.addPrecision(n,e.precision),qu.endFloatingPoint(n)}visitBinary(e,n){return iM.startBinary(n),iM.endBinary(n)}visitLargeBinary(e,n){return oM.startLargeBinary(n),oM.endLargeBinary(n)}visitBool(e,n){return sM.startBool(n),sM.endBool(n)}visitUtf8(e,n){return cM.startUtf8(n),cM.endUtf8(n)}visitLargeUtf8(e,n){return aM.startLargeUtf8(n),aM.endLargeUtf8(n)}visitDecimal(e,n){return vm.startDecimal(n),vm.addScale(n,e.scale),vm.addPrecision(n,e.precision),vm.addBitWidth(n,e.bitWidth),vm.endDecimal(n)}visitDate(e,n){return R_.startDate(n),R_.addUnit(n,e.unit),R_.endDate(n)}visitTime(e,n){return ol.startTime(n),ol.addUnit(n,e.unit),ol.addBitWidth(n,e.bitWidth),ol.endTime(n)}visitTimestamp(e,n){const r=e.timezone&&n.createString(e.timezone)||void 0;return al.startTimestamp(n),al.addUnit(n,e.unit),r!==void 0&&al.addTimezone(n,r),al.endTimestamp(n)}visitInterval(e,n){return Vu.startInterval(n),Vu.addUnit(n,e.unit),Vu.endInterval(n)}visitDuration(e,n){return $_.startDuration(n),$_.addUnit(n,e.unit),$_.endDuration(n)}visitList(e,n){return lM.startList(n),lM.endList(n)}visitStruct(e,n){return wp.startStruct_(n),wp.endStruct_(n)}visitUnion(e,n){Lo.startTypeIdsVector(n,e.typeIds.length);const r=Lo.createTypeIdsVector(n,e.typeIds);return Lo.startUnion(n),Lo.addMode(n,e.mode),Lo.addTypeIds(n,r),Lo.endUnion(n)}visitDictionary(e,n){const r=this.visit(e.indices,n);return _f.startDictionaryEncoding(n),_f.addId(n,BigInt(e.id)),_f.addIsOrdered(n,e.isOrdered),r!==void 0&&_f.addIndexType(n,r),_f.endDictionaryEncoding(n)}visitFixedSizeBinary(e,n){return I_.startFixedSizeBinary(n),I_.addByteWidth(n,e.byteWidth),I_.endFixedSizeBinary(n)}visitFixedSizeList(e,n){return F_.startFixedSizeList(n),F_.addListSize(n,e.listSize),F_.endFixedSizeList(n)}visitMap(e,n){return M_.startMap(n),M_.addKeysSorted(n,e.keysSorted),M_.endMap(n)}}const vC=new Xbe;function Zbe(t,e=new Map){return new ni(Ybe(t,e),Q_(t.metadata),e)}function aW(t){return new Qa(t.count,lW(t.columns),uW(t.columns))}function Wbe(t){return new xc(aW(t.data),t.id,t.isDelta)}function Ybe(t,e){return(t.fields||[]).filter(Boolean).map(n=>Qr.fromJSON(n,e))}function vM(t,e){return(t.children||[]).filter(Boolean).map(n=>Qr.fromJSON(n,e))}function lW(t){return(t||[]).reduce((e,n)=>[...e,new yd(n.count,Gbe(n.VALIDITY)),...lW(n.children)],[])}function uW(t,e=[]){for(let n=-1,r=(t||[]).length;++n<r;){const i=t[n];i.VALIDITY&&e.push(new ec(e.length,i.VALIDITY.length)),i.TYPE_ID&&e.push(new ec(e.length,i.TYPE_ID.length)),i.OFFSET&&e.push(new ec(e.length,i.OFFSET.length)),i.DATA&&e.push(new ec(e.length,i.DATA.length)),e=uW(i.children,e)}return e}function Gbe(t){return(t||[]).reduce((e,n)=>e+ +(n===0),0)}function Hbe(t,e){let n,r,i,s,o,a;return!e||!(s=t.dictionary)?(o=wM(t,vM(t,e)),i=new Qr(t.name,o,t.nullable,Q_(t.metadata))):e.has(n=s.id)?(r=(r=s.indexType)?OM(r):new mv,a=new Ug(e.get(n),r,n,s.isOrdered),i=new Qr(t.name,a,t.nullable,Q_(t.metadata))):(r=(r=s.indexType)?OM(r):new mv,e.set(n,o=wM(t,vM(t,e))),a=new Ug(o,r,n,s.isOrdered),i=new Qr(t.name,a,t.nullable,Q_(t.metadata))),i||null}function Q_(t=[]){return new Map(t.map(({key:e,value:n})=>[e,n]))}function OM(t){return new r0(t.isSigned,t.bitWidth)}function wM(t,e){const n=t.type.name;switch(n){case"NONE":return new dd;case"null":return new dd;case"binary":return new Wx;case"largebinary":return new Yx;case"utf8":return new Gx;case"largeutf8":return new Hx;case"bool":return new Kx;case"list":return new sS((e||[])[0]);case"struct":return new ao(e||[]);case"struct_":return new ao(e||[])}switch(n){case"int":{const r=t.type;return new r0(r.isSigned,r.bitWidth)}case"floatingpoint":{const r=t.type;return new Zx(Fs[r.precision])}case"decimal":{const r=t.type;return new Jx(r.scale,r.precision,r.bitWidth)}case"date":{const r=t.type;return new eS(_l[r.unit])}case"time":{const r=t.type;return new tS(_t[r.unit],r.bitWidth)}case"timestamp":{const r=t.type;return new nS(_t[r.unit],r.timezone)}case"interval":{const r=t.type;return new rS(_c[r.unit])}case"duration":{const r=t.type;return new iS(_t[r.unit])}case"union":{const r=t.type,[i,...s]=(r.mode+"").toLowerCase(),o=i.toUpperCase()+s.join("");return new oS(Us[o],r.typeIds||[],e||[])}case"fixedsizebinary":{const r=t.type;return new aS(r.byteWidth)}case"fixedsizelist":{const r=t.type;return new lS(r.listSize,(e||[])[0])}case"map":{const r=t.type;return new uS((e||[])[0],r.keysSorted)}}throw new Error(`Unrecognized type: "${n}"`)}var Kbe=kX,Jbe=Bg;class lo{static fromJSON(e,n){const r=new lo(0,xi.V5,n);return r._createHeader=eve(e,n),r}static decode(e){e=new Jbe(xn(e));const n=Ah.getRootAsMessage(e),r=n.bodyLength(),i=n.version(),s=n.headerType(),o=new lo(r,i,s);return o._createHeader=tve(n,s),o}static encode(e){const n=new Kbe;let r=-1;return e.isSchema()?r=ni.encode(n,e.header()):e.isRecordBatch()?r=Qa.encode(n,e.header()):e.isDictionaryBatch()&&(r=xc.encode(n,e.header())),Ah.startMessage(n),Ah.addVersion(n,xi.V5),Ah.addHeader(n,r),Ah.addHeaderType(n,e.headerType),Ah.addBodyLength(n,BigInt(e.bodyLength)),Ah.finishMessageBuffer(n,Ah.endMessage(n)),n.asUint8Array()}static from(e,n=0){if(e instanceof ni)return new lo(0,xi.V5,Fn.Schema,e);if(e instanceof Qa)return new lo(n,xi.V5,Fn.RecordBatch,e);if(e instanceof xc)return new lo(n,xi.V5,Fn.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Fn.Schema}isRecordBatch(){return this.headerType===Fn.RecordBatch}isDictionaryBatch(){return this.headerType===Fn.DictionaryBatch}constructor(e,n,r,i){this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=br(e)}}class Qa{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(e,n,r){this._nodes=n,this._buffers=r,this._length=br(e)}}class xc{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(e,n,r=!1){this._data=e,this._isDelta=r,this._id=br(n)}}class ec{constructor(e,n){this.offset=br(e),this.length=br(n)}}class yd{constructor(e,n){this.length=br(e),this.nullCount=br(n)}}function eve(t,e){return(()=>{switch(e){case Fn.Schema:return ni.fromJSON(t);case Fn.RecordBatch:return Qa.fromJSON(t);case Fn.DictionaryBatch:return xc.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${Fn[e]}, type: ${e} }`)})}function tve(t,e){return(()=>{switch(e){case Fn.Schema:return ni.decode(t.header(new Lu),new Map,t.version());case Fn.RecordBatch:return Qa.decode(t.header(new ff),t.version());case Fn.DictionaryBatch:return xc.decode(t.header(new ym),t.version())}throw new Error(`Unrecognized Message type: { name: ${Fn[e]}, type: ${e} }`)})}Qr.encode=hve;Qr.decode=cve;Qr.fromJSON=Hbe;ni.encode=fve;ni.decode=nve;ni.fromJSON=Zbe;Qa.encode=dve;Qa.decode=rve;Qa.fromJSON=aW;xc.encode=pve;xc.decode=ive;xc.fromJSON=Wbe;yd.encode=mve;yd.decode=ove;ec.encode=gve;ec.decode=sve;function nve(t,e=new Map,n=xi.V5){const r=uve(t,e);return new ni(r,B_(t),e,n)}function rve(t,e=xi.V5){if(t.compression()!==null)throw new Error("Record batch compression not implemented");return new Qa(t.length(),ave(t),lve(t,e))}function ive(t,e=xi.V5){return new xc(Qa.decode(t.data(),e),t.id(),t.isDelta())}function sve(t){return new ec(t.offset(),t.length())}function ove(t){return new yd(t.length(),t.nullCount())}function ave(t){const e=[];for(let n,r=-1,i=-1,s=t.nodesLength();++r<s;)(n=t.nodes(r))&&(e[++i]=yd.decode(n));return e}function lve(t,e){const n=[];for(let r,i=-1,s=-1,o=t.buffersLength();++i<o;)(r=t.buffers(i))&&(e<xi.V4&&(r.bb_pos+=8*(i+1)),n[++s]=ec.decode(r));return n}function uve(t,e){const n=[];for(let r,i=-1,s=-1,o=t.fieldsLength();++i<o;)(r=t.fields(i))&&(n[++s]=Qr.decode(r,e));return n}function _M(t,e){const n=[];for(let r,i=-1,s=-1,o=t.childrenLength();++i<o;)(r=t.children(i))&&(n[++s]=Qr.decode(r,e));return n}function cve(t,e){let n,r,i,s,o,a;return!e||!(a=t.dictionary())?(i=SM(t,_M(t,e)),r=new Qr(t.name(),i,t.nullable(),B_(t))):e.has(n=br(a.id()))?(s=(s=a.indexType())?xM(s):new mv,o=new Ug(e.get(n),s,n,a.isOrdered()),r=new Qr(t.name(),o,t.nullable(),B_(t))):(s=(s=a.indexType())?xM(s):new mv,e.set(n,i=SM(t,_M(t,e))),o=new Ug(i,s,n,a.isOrdered()),r=new Qr(t.name(),o,t.nullable(),B_(t))),r||null}function B_(t){const e=new Map;if(t)for(let n,r,i=-1,s=Math.trunc(t.customMetadataLength());++i<s;)(n=t.customMetadata(i))&&(r=n.key())!=null&&e.set(r,n.value());return e}function xM(t){return new r0(t.isSigned(),t.bitWidth())}function SM(t,e){const n=t.typeType();switch(n){case kr.NONE:return new dd;case kr.Null:return new dd;case kr.Binary:return new Wx;case kr.LargeBinary:return new Yx;case kr.Utf8:return new Gx;case kr.LargeUtf8:return new Hx;case kr.Bool:return new Kx;case kr.List:return new sS((e||[])[0]);case kr.Struct_:return new ao(e||[])}switch(n){case kr.Int:{const r=t.type(new ka);return new r0(r.isSigned(),r.bitWidth())}case kr.FloatingPoint:{const r=t.type(new qu);return new Zx(r.precision())}case kr.Decimal:{const r=t.type(new vm);return new Jx(r.scale(),r.precision(),r.bitWidth())}case kr.Date:{const r=t.type(new R_);return new eS(r.unit())}case kr.Time:{const r=t.type(new ol);return new tS(r.unit(),r.bitWidth())}case kr.Timestamp:{const r=t.type(new al);return new nS(r.unit(),r.timezone())}case kr.Interval:{const r=t.type(new Vu);return new rS(r.unit())}case kr.Duration:{const r=t.type(new $_);return new iS(r.unit())}case kr.Union:{const r=t.type(new Lo);return new oS(r.mode(),r.typeIdsArray()||[],e||[])}case kr.FixedSizeBinary:{const r=t.type(new I_);return new aS(r.byteWidth())}case kr.FixedSizeList:{const r=t.type(new F_);return new lS(r.listSize(),(e||[])[0])}case kr.Map:{const r=t.type(new M_);return new uS((e||[])[0],r.keysSorted())}}throw new Error(`Unrecognized type: "${kr[n]}" (${n})`)}function fve(t,e){const n=e.fields.map(s=>Qr.encode(t,s));Lu.startFieldsVector(t,n.length);const r=Lu.createFieldsVector(t,n),i=e.metadata&&e.metadata.size>0?Lu.createCustomMetadataVector(t,[...e.metadata].map(([s,o])=>{const a=t.createString(`${s}`),l=t.createString(`${o}`);return Zi.startKeyValue(t),Zi.addKey(t,a),Zi.addValue(t,l),Zi.endKeyValue(t)})):-1;return Lu.startSchema(t),Lu.addFields(t,r),Lu.addEndianness(t,yve?zg.Little:zg.Big),i!==-1&&Lu.addCustomMetadata(t,i),Lu.endSchema(t)}function hve(t,e){let n=-1,r=-1,i=-1;const s=e.type;let o=e.typeId;st.isDictionary(s)?(o=s.dictionary.typeId,i=vC.visit(s,t),r=vC.visit(s.dictionary,t)):r=vC.visit(s,t);const a=(s.children||[]).map(c=>Qr.encode(t,c)),l=Ha.createChildrenVector(t,a),u=e.metadata&&e.metadata.size>0?Ha.createCustomMetadataVector(t,[...e.metadata].map(([c,f])=>{const h=t.createString(`${c}`),d=t.createString(`${f}`);return Zi.startKeyValue(t),Zi.addKey(t,h),Zi.addValue(t,d),Zi.endKeyValue(t)})):-1;return e.name&&(n=t.createString(e.name)),Ha.startField(t),Ha.addType(t,r),Ha.addTypeType(t,o),Ha.addChildren(t,l),Ha.addNullable(t,!!e.nullable),n!==-1&&Ha.addName(t,n),i!==-1&&Ha.addDictionary(t,i),u!==-1&&Ha.addCustomMetadata(t,u),Ha.endField(t)}function dve(t,e){const n=e.nodes||[],r=e.buffers||[];ff.startNodesVector(t,n.length);for(const o of n.slice().reverse())yd.encode(t,o);const i=t.endVector();ff.startBuffersVector(t,r.length);for(const o of r.slice().reverse())ec.encode(t,o);const s=t.endVector();return ff.startRecordBatch(t),ff.addLength(t,BigInt(e.length)),ff.addNodes(t,i),ff.addBuffers(t,s),ff.endRecordBatch(t)}function pve(t,e){const n=Qa.encode(t,e.data);return ym.startDictionaryBatch(t),ym.addId(t,BigInt(e.id)),ym.addIsDelta(t,e.isDelta),ym.addData(t,n),ym.endDictionaryBatch(t)}function mve(t,e){return EX.createFieldNode(t,BigInt(e.length),BigInt(e.nullCount))}function gve(t,e){return AX.createBuffer(t,BigInt(e.offset),BigInt(e.length))}const yve=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),new Int16Array(t)[0]===256})(),xP=t=>`Expected ${Fn[t]} Message in stream, but was null or length 0.`,SP=t=>`Header pointer of flatbuffer-encoded ${Fn[t]} Message is null or length 0.`,cW=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,fW=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class hW{constructor(e){this.source=e instanceof mS?e:new mS(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?ii:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(xP(e));return n.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);const n=xn(this.source.read(e));if(n.byteLength<e)throw new Error(fW(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()}readSchema(e=!1){const n=Fn.Schema,r=this.readMessage(n),i=r?.header();if(e&&!i)throw new Error(SP(n));return i}readMetadataLength(){const e=this.source.read(Dk),n=e&&new Bg(e),r=n?.readInt32(0)||0;return{done:r===0,value:r}}readMetadata(e){const n=this.source.read(e);if(!n)return ii;if(n.byteLength<e)throw new Error(cW(e,n.byteLength));return{done:!1,value:lo.decode(n)}}}class bve{constructor(e,n){this.source=e instanceof jg?e:vX(e)?new gS(e,n):new jg(e)}[Symbol.asyncIterator](){return this}next(){return Ft(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?ii:e})}throw(e){return Ft(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return Ft(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return Ft(this,void 0,void 0,function*(){let n;if((n=yield this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(xP(e));return n.value})}readMessageBody(e){return Ft(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);const n=xn(yield this.source.read(e));if(n.byteLength<e)throw new Error(fW(e,n.byteLength));return n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice()})}readSchema(){return Ft(this,arguments,void 0,function*(e=!1){const n=Fn.Schema,r=yield this.readMessage(n),i=r?.header();if(e&&!i)throw new Error(SP(n));return i})}readMetadataLength(){return Ft(this,void 0,void 0,function*(){const e=yield this.source.read(Dk),n=e&&new Bg(e),r=n?.readInt32(0)||0;return{done:r===0,value:r}})}readMetadata(e){return Ft(this,void 0,void 0,function*(){const n=yield this.source.read(e);if(!n)return ii;if(n.byteLength<e)throw new Error(cW(e,n.byteLength));return{done:!1,value:lo.decode(n)}})}}class vve extends hW{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof gM?e:new gM(e)}next(){const{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:lo.fromJSON(e.schema,Fn.Schema)};if(this._dictionaryIndex<e.dictionaries.length){const n=e.dictionaries[this._dictionaryIndex++];return this._body=n.data.columns,{done:!1,value:lo.fromJSON(n,Fn.DictionaryBatch)}}if(this._batchIndex<e.batches.length){const n=e.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:lo.fromJSON(n,Fn.RecordBatch)}}return this._body=[],ii}readMessageBody(e){return n(this._body);function n(r){return(r||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE_ID&&[s.TYPE_ID]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...n(s.children)],[])}}readMessage(e){let n;if((n=this.next()).done)return null;if(e!=null&&n.value.headerType!==e)throw new Error(xP(e));return n.value}readSchema(){const e=Fn.Schema,n=this.readMessage(e),r=n?.header();if(!n||!r)throw new Error(SP(e));return r}}const Dk=4,yE="ARROW1",yv=new Uint8Array(yE.length);for(let t=0;t<yE.length;t+=1)yv[t]=yE.codePointAt(t);function kP(t,e=0){for(let n=-1,r=yv.length;++n<r;)if(yv[n]!==t[e+n])return!1;return!0}const IO=yv.length,dW=IO+Dk,Ove=IO*2+Dk;class ml extends yP{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const n=this._impl.open(e);return n0(n)?n.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return rl.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return rl.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof ml?e:aE(e)?Sve(e):vX(e)?Ave(e):n0(e)?Ft(this,void 0,void 0,function*(){return yield ml.from(yield e)}):OX(e)||oP(e)||wX(e)||L1(e)?Cve(new jg(e)):kve(new mS(e))}static readAll(e){return e instanceof ml?e.isSync()?kM(e):CM(e):aE(e)||ArrayBuffer.isView(e)||DO(e)||bX(e)?kM(e):CM(e)}}class yS extends ml{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Ju(this,arguments,function*(){yield Kt(yield*P_(Bp(this[Symbol.iterator]())))})}}class bS extends ml{constructor(e){super(e),this._impl=e}readAll(){return Ft(this,void 0,void 0,function*(){var e,n,r,i;const s=new Array;try{for(var o=!0,a=Bp(this),l;l=yield a.next(),e=l.done,!e;o=!0){i=l.value,o=!1;const u=i;s.push(u)}}catch(u){n={error:u}}finally{try{!o&&!e&&(r=a.return)&&(yield r.call(a))}finally{if(n)throw n.error}}return s})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class pW extends yS{constructor(e){super(e),this._impl=e}}class wve extends bS{constructor(e){super(e),this._impl=e}}class mW{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,n){const r=this._loadVectors(e,n,this.schema.fields),i=ln({type:new ao(this.schema.fields),length:e.length,children:r});return new No(this.schema,i)}_loadDictionaryBatch(e,n){const{id:r,isDelta:i}=e,{dictionaries:s,schema:o}=this,a=s.get(r),l=o.dictionaries.get(r),u=this._loadVectors(e.data,n,[l]);return(a&&i?a.concat(new Wn(u)):new Wn(u)).memoize()}_loadVectors(e,n,r){return new rW(n,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}class vS extends mW{constructor(e,n){super(n),this._reader=aE(e)?new vve(this._handle=e):new hW(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=yW(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):ii}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):ii}next(){if(this.closed)return ii;let e;const{_reader:n}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const r=e.header(),i=n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const r=e.header(),i=n.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new _P(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class OS extends mW{constructor(e,n){super(n),this._reader=new bve(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return Ft(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return Ft(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=yW(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return Ft(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):ii})}return(e){return Ft(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):ii})}next(){return Ft(this,void 0,void 0,function*(){if(this.closed)return ii;let e;const{_reader:n}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const r=e.header(),i=yield n.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(r,i)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const r=e.header(),i=yield n.readMessageBody(e.bodyLength),s=this._loadDictionaryBatch(r,i);this.dictionaries.set(r.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new _P(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return Ft(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}}class gW extends vS{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,n){super(e instanceof yM?e:new yM(e),n)}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var n;if(this.closed)return null;this._footer||this.open();const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(Fn.RecordBatch);if(i?.isRecordBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(e){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(r&&this._handle.seek(r.offset)){const i=this._reader.readMessage(Fn.DictionaryBatch);if(i?.isDictionaryBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){const{_handle:e}=this,n=e.size-dW,r=e.readInt32(n),i=e.readAt(n-r,r);return gv.decode(i)}_readNextMessageAndValidate(e){var n;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(this._recordBatchIndex);if(r&&this._handle.seek(r.offset))return this._reader.readMessage(e)}return null}}class _ve extends OS{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,...n){const r=typeof n[0]!="number"?n.shift():void 0,i=n[0]instanceof Map?n.shift():void 0;super(e instanceof gS?e:new gS(e,r),i)}isFile(){return!0}isAsync(){return!0}open(e){const n=Object.create(null,{open:{get:()=>super.open}});return Ft(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const r of this._footer.dictionaryBatches())r&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield n.open.call(this,e)})}readRecordBatch(e){return Ft(this,void 0,void 0,function*(){var n;if(this.closed)return null;this._footer||(yield this.open());const r=(n=this._footer)===null||n===void 0?void 0:n.getRecordBatch(e);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(Fn.RecordBatch);if(i?.isRecordBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(e){return Ft(this,void 0,void 0,function*(){var n;const r=(n=this._footer)===null||n===void 0?void 0:n.getDictionaryBatch(e);if(r&&(yield this._handle.seek(r.offset))){const i=yield this._reader.readMessage(Fn.DictionaryBatch);if(i?.isDictionaryBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return Ft(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const n=e.size-dW,r=yield e.readInt32(n),i=yield e.readAt(n-r,r);return gv.decode(i)})}_readNextMessageAndValidate(e){return Ft(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=this._footer.getRecordBatch(this._recordBatchIndex);if(n&&(yield this._handle.seek(n.offset)))return yield this._reader.readMessage(e)}return null})}}class xve extends vS{constructor(e,n){super(e,n)}_loadVectors(e,n,r){return new Mbe(n,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(r)}}function yW(t,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:t.autoDestroy}function*kM(t){const e=ml.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function CM(t){return Ju(this,arguments,function*(){const n=yield Kt(ml.from(t));try{if(!(yield Kt(n.open({autoDestroy:!1}))).closed)do yield yield Kt(n);while(!(yield Kt(n.reset().open())).closed)}finally{yield Kt(n.cancel())}})}function Sve(t){return new yS(new xve(t))}function kve(t){const e=t.peek(IO+7&-8);return e&&e.byteLength>=4?kP(e)?new pW(new gW(t.read())):new yS(new vS(t)):new yS(new vS((function*(){})()))}function Cve(t){return Ft(this,void 0,void 0,function*(){const e=yield t.peek(IO+7&-8);return e&&e.byteLength>=4?kP(e)?new pW(new gW(yield t.read())):new bS(new OS(t)):new bS(new OS((function(){return Ju(this,arguments,function*(){})})()))})}function Ave(t){return Ft(this,void 0,void 0,function*(){const{size:e}=yield t.stat(),n=new gS(t,e);return e>=Ove&&kP(yield n.readAt(0,IO+7&-8))?new wve(new _ve(n)):new bS(new OS(n))})}class ai extends an{static assemble(...e){const n=i=>i.flatMap(s=>Array.isArray(s)?n(s):s instanceof No?s.data.children:s.data),r=new ai;return r.visitMany(n(e)),r}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(e){if(e instanceof Wn)return this.visitMany(e.data),this;const{type:n}=e;if(!st.isDictionary(n)){const{length:r}=e;if(r>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(st.isUnion(n))this.nodes.push(new yd(r,0));else{const{nullCount:i}=e;st.isNull(n)||ru.call(this,i<=0?new Uint8Array(0):cS(e.offset,r,e.nullBitmap)),this.nodes.push(new yd(r,i))}}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function ru(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new ec(this._byteLength,e)),this._byteLength+=e,this}function Eve(t){var e;const{type:n,length:r,typeIds:i,valueOffsets:s}=t;if(ru.call(this,i),n.mode===Us.Sparse)return bE.call(this,t);if(n.mode===Us.Dense){if(t.offset<=0)return ru.call(this,s),bE.call(this,t);{const o=new Int32Array(r),a=Object.create(null),l=Object.create(null);for(let u,c,f=-1;++f<r;)(u=i[f])!==void 0&&((c=a[u])===void 0&&(c=a[u]=s[f]),o[f]=s[f]-c,l[u]=((e=l[u])!==null&&e!==void 0?e:0)+1);ru.call(this,o),this.visitMany(t.children.map((u,c)=>{const f=n.typeIds[c],h=a[f],d=l[f];return u.slice(h,Math.min(r,d))}))}}return this}function Tve(t){let e;return t.nullCount>=t.length?ru.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?ru.call(this,cS(t.offset,t.length,e)):ru.call(this,fS(t.values))}function ih(t){return ru.call(this,t.values.subarray(0,t.length*t.stride))}function Pk(t){const{length:e,values:n,valueOffsets:r}=t,i=br(r[0]),s=br(r[e]),o=Math.min(s-i,n.byteLength-i);return ru.call(this,xX(-i,e+1,r)),ru.call(this,n.subarray(i,i+o)),this}function CP(t){const{length:e,valueOffsets:n}=t;if(n){const{[0]:r,[e]:i}=n;return ru.call(this,xX(-r,e+1,n)),this.visit(t.children[0].slice(r,i-r))}return this.visit(t.children[0])}function bE(t){return this.visitMany(t.type.children.map((e,n)=>t.children[n]).filter(Boolean))[0]}ai.prototype.visitBool=Tve;ai.prototype.visitInt=ih;ai.prototype.visitFloat=ih;ai.prototype.visitUtf8=Pk;ai.prototype.visitLargeUtf8=Pk;ai.prototype.visitBinary=Pk;ai.prototype.visitLargeBinary=Pk;ai.prototype.visitFixedSizeBinary=ih;ai.prototype.visitDate=ih;ai.prototype.visitTimestamp=ih;ai.prototype.visitTime=ih;ai.prototype.visitDecimal=ih;ai.prototype.visitList=CP;ai.prototype.visitStruct=bE;ai.prototype.visitUnion=Eve;ai.prototype.visitInterval=ih;ai.prototype.visitDuration=ih;ai.prototype.visitFixedSizeList=CP;ai.prototype.visitMap=CP;class bW extends yP{static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,n){throw new Error('"throughDOM" not available in this environment')}constructor(e){super(),this._position=0,this._started=!1,this._sink=new N_,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,Ho(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return n0(e)?e.then(n=>this.writeAll(n)):L1(e)?DP(this,e):TP(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,n=null){return e===this._sink||e instanceof N_?this._sink=e:(this._sink=new N_,e&&oye(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&aye(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._seenDictionaries=new Map,this._dictionaryDeltaOffsets=new Map,(!n||!gE(n,this._schema))&&(n==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=n,this._writeSchema(n))),this}write(e){let n=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof gd&&!(n=e.schema))return this.finish()&&void 0;if(e instanceof No&&!(n=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(n&&!gE(n,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,n)}e instanceof No?e instanceof _P||this._writeRecordBatch(e):e instanceof gd?this.writeAll(e.batches):DO(e)&&this.writeAll(e)}_writeMessage(e,n=8){const r=n-1,i=lo.encode(e),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+r&~r,l=a-s-o;return e.headerType===Fn.RecordBatch?this._recordBatchBlocks.push(new pd(a,e.bodyLength,this._position)):e.headerType===Fn.DictionaryBatch&&this._dictionaryBlocks.push(new pd(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(l)}_write(e){if(this._started){const n=xn(e);n&&n.byteLength>0&&(this._sink.write(n),this._position+=n.byteLength)}return this}_writeSchema(e){return this._writeMessage(lo.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(yv)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:n,nodes:r,bufferRegions:i,buffers:s}=ai.assemble(e),o=new Qa(e.numRows,r,i),a=lo.from(o,n);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(e,n,r=!1){const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=ai.assemble(new Wn([e])),l=new Qa(e.length,s,o),u=new xc(l,n,r),c=lo.from(u,i);return this._writeMessage(c)._writeBodyBuffers(a)}_writeBodyBuffers(e){let n,r,i;for(let s=-1,o=e.length;++s<o;)(n=e[s])&&(r=n.byteLength)>0&&(this._write(n),(i=(r+7&-8)-r)>0&&this._writePadding(i));return this}_writeDictionaries(e){var n,r;for(const[i,s]of e.dictionaries){const o=(n=s?.data)!==null&&n!==void 0?n:[],a=this._seenDictionaries.get(i),l=(r=this._dictionaryDeltaOffsets.get(i))!==null&&r!==void 0?r:0;if(!a||a.data[0]!==o[0])for(const[u,c]of o.entries())this._writeDictionaryBatch(c,i,u>0);else if(l<o.length)for(const u of o.slice(l))this._writeDictionaryBatch(u,i,!0);this._seenDictionaries.set(i,s),this._dictionaryDeltaOffsets.set(i,o.length)}return this}}class AP extends bW{static writeAll(e,n){const r=new AP(n);return n0(e)?e.then(i=>r.writeAll(i)):L1(e)?DP(r,e):TP(r,e)}}class EP extends bW{static writeAll(e){const n=new EP;return n0(e)?e.then(r=>n.writeAll(r)):L1(e)?DP(n,e):TP(n,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeDictionaryBatch(e,n,r=!1){if(!r&&this._seenDictionaries.has(n))throw new Error("The Arrow File format does not support replacement dictionaries. ");return super._writeDictionaryBatch(e,n,r)}_writeFooter(e){const n=gv.encode(new gv(e,xi.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(n)._write(Int32Array.of(n.byteLength))._writeMagic()}}function TP(t,e){let n=e;e instanceof gd&&(n=e.batches,t.reset(void 0,e.schema));for(const r of n)t.write(r);return t.finish()}function DP(t,e){return Ft(this,void 0,void 0,function*(){var n,r,i,s,o,a,l;try{for(n=!0,r=Bp(e);i=yield r.next(),s=i.done,!s;n=!0){l=i.value,n=!1;const u=l;t.write(u)}}catch(u){o={error:u}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return t.finish()})}function Dve(t,e="stream"){return(e==="stream"?AP:EP).writeAll(t).toUint8Array(!0)}var Pve=Object.create,vW=Object.defineProperty,Rve=Object.getOwnPropertyDescriptor,$ve=Object.getOwnPropertyNames,Ive=Object.getPrototypeOf,Fve=Object.prototype.hasOwnProperty,Mve=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Lve=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $ve(e))!Fve.call(t,i)&&i!==n&&vW(t,i,{get:()=>e[i],enumerable:!(r=Rve(e,i))||r.enumerable});return t},Nve=(t,e,n)=>(n=t!=null?Pve(Ive(t)):{},Lve(!t||!t.__esModule?vW(n,"default",{value:t,enumerable:!0}):n,t)),Qve=Mve((t,e)=>{e.exports=Worker}),Bve=(t=>(t[t.UNDEFINED=0]="UNDEFINED",t[t.AUTOMATIC=1]="AUTOMATIC",t[t.READ_ONLY=2]="READ_ONLY",t[t.READ_WRITE=3]="READ_WRITE",t))(Bve||{}),zve=(t=>(t[t.IDENTIFIER=0]="IDENTIFIER",t[t.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",t[t.STRING_CONSTANT=2]="STRING_CONSTANT",t[t.OPERATOR=3]="OPERATOR",t[t.KEYWORD=4]="KEYWORD",t[t.COMMENT=5]="COMMENT",t))(zve||{}),Uve=(t=>(t[t.NONE=0]="NONE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARNING=3]="WARNING",t[t.ERROR=4]="ERROR",t))(Uve||{}),jve=(t=>(t[t.NONE=0]="NONE",t[t.CONNECT=1]="CONNECT",t[t.DISCONNECT=2]="DISCONNECT",t[t.OPEN=3]="OPEN",t[t.QUERY=4]="QUERY",t[t.INSTANTIATE=5]="INSTANTIATE",t))(jve||{}),qve=(t=>(t[t.NONE=0]="NONE",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR",t[t.START=3]="START",t[t.RUN=4]="RUN",t[t.CAPTURE=5]="CAPTURE",t))(qve||{}),Vve=(t=>(t[t.NONE=0]="NONE",t[t.WEB_WORKER=1]="WEB_WORKER",t[t.NODE_WORKER=2]="NODE_WORKER",t[t.BINDINGS=3]="BINDINGS",t[t.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",t))(Vve||{}),OW=class{log(e){}},wW=class{constructor(e=2){this.level=e}log(e){e.level>=this.level&&console.log(e)}},Xve=(t=>(t[t.SUCCESS=0]="SUCCESS",t[t.MAX_ARROW_ERROR=255]="MAX_ARROW_ERROR",t[t.DUCKDB_WASM_RETRY=256]="DUCKDB_WASM_RETRY",t))(Xve||{}),Zve=class{constructor(e,n){this._bindings=e,this._conn=n}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(e){return e(this._bindings,this._conn)}async query(e){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let n=await this._bindings.runQuery(this._conn,e),r=ml.from(n);return console.assert(r.isSync(),"Reader is not sync"),console.assert(r.isFile(),"Reader is not file"),new gd(r)}async send(e,n=!1){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:e});let r=await this._bindings.startPendingQuery(this._conn,e,n);for(;r==null;)r=await this._bindings.pollPendingQuery(this._conn);let i=new _W(this._bindings,this._conn,r),s=await ml.from(i);return console.assert(s.isAsync()),console.assert(s.isStream()),s}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(e){return await this._bindings.getTableNames(this._conn,e)}async prepare(e){let n=await this._bindings.createPrepared(this._conn,e);return new Wve(this._bindings,this._conn,n)}async insertArrowTable(e,n){let r=Dve(e,"stream");await this.insertArrowFromIPCStream(r,n)}async insertArrowFromIPCStream(e,n){await this._bindings.insertArrowFromIPCStream(this._conn,e,n)}async insertCSVFromPath(e,n){await this._bindings.insertCSVFromPath(this._conn,e,n)}async insertJSONFromPath(e,n){await this._bindings.insertJSONFromPath(this._conn,e,n)}},_W=class{constructor(e,n,r){this.db=e,this.conn=n,this.header=r,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let e=null;for(this._inFlight!=null&&(e=await this._inFlight,this._inFlight=null);e==null;)e=await this.db.fetchQueryResults(this.conn);return this._depleted=e.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:e}}[Symbol.asyncIterator](){return this}},Wve=class{constructor(e,n,r){this.bindings=e,this.connectionId=n,this.statementId=r}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...e){let n=await this.bindings.runPrepared(this.connectionId,this.statementId,e),r=ml.from(n);return console.assert(r.isSync()),console.assert(r.isFile()),new gd(r)}async send(...e){let n=await this.bindings.sendPrepared(this.connectionId,this.statementId,e),r=new _W(this.bindings,this.connectionId,n),i=await ml.from(r);return console.assert(i.isAsync()),console.assert(i.isStream()),i}},Yve=(t=>(t.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",t.CLOSE_PREPARED="CLOSE_PREPARED",t.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",t.REGISTER_OPFS_FILE_NAME="REGISTER_OPFS_FILE_NAME",t.CONNECT="CONNECT",t.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",t.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",t.CREATE_PREPARED="CREATE_PREPARED",t.DISCONNECT="DISCONNECT",t.DROP_FILE="DROP_FILE",t.DROP_FILES="DROP_FILES",t.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",t.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",t.FLUSH_FILES="FLUSH_FILES",t.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",t.GET_TABLE_NAMES="GET_TABLE_NAMES",t.GET_VERSION="GET_VERSION",t.GLOB_FILE_INFOS="GLOB_FILE_INFOS",t.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",t.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",t.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",t.INSTANTIATE="INSTANTIATE",t.OPEN="OPEN",t.PING="PING",t.POLL_PENDING_QUERY="POLL_PENDING_QUERY",t.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",t.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",t.REGISTER_FILE_URL="REGISTER_FILE_URL",t.RESET="RESET",t.RUN_PREPARED="RUN_PREPARED",t.RUN_QUERY="RUN_QUERY",t.SEND_PREPARED="SEND_PREPARED",t.START_PENDING_QUERY="START_PENDING_QUERY",t.TOKENIZE="TOKENIZE",t))(Yve||{}),Gve=(t=>(t.CONNECTION_INFO="CONNECTION_INFO",t.ERROR="ERROR",t.FEATURE_FLAGS="FEATURE_FLAGS",t.FILE_BUFFER="FILE_BUFFER",t.FILE_INFOS="FILE_INFOS",t.FILE_SIZE="FILE_SIZE",t.FILE_STATISTICS="FILE_STATISTICS",t.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",t.LOG="LOG",t.PROGRESS_UPDATE="PROGRESS_UPDATE",t.OK="OK",t.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",t.QUERY_PLAN="QUERY_PLAN",t.QUERY_RESULT="QUERY_RESULT",t.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",t.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",t.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",t.REGISTERED_FILE="REGISTERED_FILE",t.SCRIPT_TOKENS="SCRIPT_TOKENS",t.SUCCESS="SUCCESS",t.TABLE_NAMES="TABLE_NAMES",t.VERSION_STRING="VERSION_STRING",t))(Gve||{}),An=class{constructor(e,n){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=e,this.data=n,this.promise=new Promise((r,i)=>{this.promiseResolver=r,this.promiseRejecter=i})}};function z_(t){switch(t.typeId){case Y.Binary:return{sqlType:"binary"};case Y.Bool:return{sqlType:"bool"};case Y.Date:return{sqlType:"date"};case Y.DateDay:return{sqlType:"date32[d]"};case Y.DateMillisecond:return{sqlType:"date64[ms]"};case Y.Decimal:{let e=t;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case Y.Float:return{sqlType:"float"};case Y.Float16:return{sqlType:"float16"};case Y.Float32:return{sqlType:"float32"};case Y.Float64:return{sqlType:"float64"};case Y.Int:return{sqlType:"int32"};case Y.Int16:return{sqlType:"int16"};case Y.Int32:return{sqlType:"int32"};case Y.Int64:return{sqlType:"int64"};case Y.Uint16:return{sqlType:"uint16"};case Y.Uint32:return{sqlType:"uint32"};case Y.Uint64:return{sqlType:"uint64"};case Y.Uint8:return{sqlType:"uint8"};case Y.IntervalDayTime:return{sqlType:"interval[dt]"};case Y.IntervalYearMonth:return{sqlType:"interval[m]"};case Y.List:return{sqlType:"list",valueType:z_(t.valueType)};case Y.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:t.byteWidth};case Y.Null:return{sqlType:"null"};case Y.Utf8:return{sqlType:"utf8"};case Y.Struct:return{sqlType:"struct",fields:t.children.map(e=>vE(e.name,e.type))};case Y.Map:{let e=t;return{sqlType:"map",keyType:z_(e.keyType),valueType:z_(e.valueType)}}case Y.Time:return{sqlType:"time[s]"};case Y.TimeMicrosecond:return{sqlType:"time[us]"};case Y.TimeMillisecond:return{sqlType:"time[ms]"};case Y.TimeNanosecond:return{sqlType:"time[ns]"};case Y.TimeSecond:return{sqlType:"time[s]"};case Y.Timestamp:return{sqlType:"timestamp",timezone:t.timezone||void 0};case Y.TimestampSecond:return{sqlType:"timestamp[s]",timezone:t.timezone||void 0};case Y.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:t.timezone||void 0};case Y.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:t.timezone||void 0};case Y.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:t.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(t.toString()))}function vE(t,e){let n=z_(e);return n.name=t,n}var Hve=new TextEncoder,xW=class{constructor(e,n=null){this._onInstantiationProgress=[],this._onExecutionProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=e,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),n!=null&&this.attach(n)}get logger(){return this._logger}attach(e){this._worker=e,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((n,r)=>{this._workerShutdownResolver=n})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(e,n=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let r=this._nextMessageId++;return this._pendingRequests.set(r,e),this._worker.postMessage({messageId:r,type:e.type,data:e.data},n),await e.promise}onMessage(e){var n;let r=e.data;switch(r.type){case"PROGRESS_UPDATE":{for(let s of this._onExecutionProgress)s(r.data);return}case"LOG":{this._logger.log(r.data);return}case"INSTANTIATE_PROGRESS":{for(let s of this._onInstantiationProgress)s(r.data);return}}let i=this._pendingRequests.get(r.requestId);if(!i){console.warn("unassociated response: [".concat(r.requestId,", ").concat(r.type.toString(),"]"));return}if(this._pendingRequests.delete(r.requestId),r.type=="ERROR"){let s=new Error(r.data.message);s.name=r.data.name,(n=Object.getOwnPropertyDescriptor(s,"stack"))!=null&&n.writable&&(s.stack=r.data.stack),i.promiseRejecter(s);return}switch(i.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"REGISTER_OPFS_FILE_NAME":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(r.type=="OK"){i.promiseResolver(r.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],r.type=="OK"){i.promiseResolver(r.data);return}break;case"GLOB_FILE_INFOS":if(r.type=="FILE_INFOS"){i.promiseResolver(r.data);return}break;case"GET_VERSION":if(r.type=="VERSION_STRING"){i.promiseResolver(r.data);return}break;case"GET_FEATURE_FLAGS":if(r.type=="FEATURE_FLAGS"){i.promiseResolver(r.data);return}break;case"GET_TABLE_NAMES":if(r.type=="TABLE_NAMES"){i.promiseResolver(r.data);return}break;case"TOKENIZE":if(r.type=="SCRIPT_TOKENS"){i.promiseResolver(r.data);return}break;case"COPY_FILE_TO_BUFFER":if(r.type=="FILE_BUFFER"){i.promiseResolver(r.data);return}break;case"EXPORT_FILE_STATISTICS":if(r.type=="FILE_STATISTICS"){i.promiseResolver(r.data);return}break;case"CONNECT":if(r.type=="CONNECTION_INFO"){i.promiseResolver(r.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(r.type=="QUERY_RESULT"){i.promiseResolver(r.data);return}break;case"SEND_PREPARED":if(r.type=="QUERY_RESULT_HEADER"){i.promiseResolver(r.data);return}break;case"START_PENDING_QUERY":if(r.type=="QUERY_RESULT_HEADER_OR_NULL"){i.promiseResolver(r.data);return}break;case"POLL_PENDING_QUERY":if(r.type=="QUERY_RESULT_HEADER_OR_NULL"){i.promiseResolver(r.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],r.type=="SUCCESS"){i.promiseResolver(r.data);return}break;case"FETCH_QUERY_RESULTS":if(r.type=="QUERY_RESULT_CHUNK"){i.promiseResolver(r.data);return}break;case"CREATE_PREPARED":if(r.type=="PREPARED_STATEMENT_ID"){i.promiseResolver(r.data);return}break}i.promiseRejecter(new Error("unexpected response type: ".concat(r.type.toString())))}onError(e){console.error(e),console.error("error in duckdb worker: ".concat(e.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let e=new An("RESET",null);return await this.postTask(e)}async ping(){let e=new An("PING",null);await this.postTask(e)}async dropFile(e){let n=new An("DROP_FILE",e);return await this.postTask(n)}async dropFiles(){let e=new An("DROP_FILES",null);return await this.postTask(e)}async flushFiles(){let e=new An("FLUSH_FILES",null);return await this.postTask(e)}async instantiate(e,n=null,r=i=>{}){this._onInstantiationProgress.push(r);let i=new An("INSTANTIATE",[e,n]);return await this.postTask(i)}async getVersion(){let e=new An("GET_VERSION",null);return await this.postTask(e)}async getFeatureFlags(){let e=new An("GET_FEATURE_FLAGS",null);return await this.postTask(e)}async open(e){let n=new An("OPEN",e);await this.postTask(n)}async tokenize(e){let n=new An("TOKENIZE",e);return await this.postTask(n)}async connectInternal(){let e=new An("CONNECT",null);return await this.postTask(e)}async connect(){let e=await this.connectInternal();return new Zve(this,e)}async disconnect(e){let n=new An("DISCONNECT",e);await this.postTask(n)}async runQuery(e,n){let r=new An("RUN_QUERY",[e,n]);return await this.postTask(r)}async startPendingQuery(e,n,r=!1){let i=new An("START_PENDING_QUERY",[e,n,r]);return await this.postTask(i)}async pollPendingQuery(e){let n=new An("POLL_PENDING_QUERY",e);return await this.postTask(n)}async cancelPendingQuery(e){let n=new An("CANCEL_PENDING_QUERY",e);return await this.postTask(n)}async fetchQueryResults(e){let n=new An("FETCH_QUERY_RESULTS",e);return await this.postTask(n)}async getTableNames(e,n){let r=new An("GET_TABLE_NAMES",[e,n]);return await this.postTask(r)}async createPrepared(e,n){let r=new An("CREATE_PREPARED",[e,n]);return await this.postTask(r)}async closePrepared(e,n){let r=new An("CLOSE_PREPARED",[e,n]);await this.postTask(r)}async runPrepared(e,n,r){let i=new An("RUN_PREPARED",[e,n,r]);return await this.postTask(i)}async sendPrepared(e,n,r){let i=new An("SEND_PREPARED",[e,n,r]);return await this.postTask(i)}async globFiles(e){let n=new An("GLOB_FILE_INFOS",e);return await this.postTask(n)}async registerFileText(e,n){let r=Hve.encode(n);await this.registerFileBuffer(e,r)}async registerFileURL(e,n,r,i){n===void 0&&(n=e);let s=new An("REGISTER_FILE_URL",[e,n,r,i]);await this.postTask(s)}async registerEmptyFileBuffer(e){}async registerFileBuffer(e,n){let r=new An("REGISTER_FILE_BUFFER",[e,n]);await this.postTask(r,[n.buffer])}async registerFileHandle(e,n,r,i){let s=new An("REGISTER_FILE_HANDLE",[e,n,r,i]);await this.postTask(s,[])}async registerOPFSFileName(e){let n=new An("REGISTER_OPFS_FILE_NAME",[e]);await this.postTask(n,[])}async collectFileStatistics(e,n){let r=new An("COLLECT_FILE_STATISTICS",[e,n]);await this.postTask(r,[])}async exportFileStatistics(e){let n=new An("EXPORT_FILE_STATISTICS",e);return await this.postTask(n,[])}async copyFileToBuffer(e){let n=new An("COPY_FILE_TO_BUFFER",e);return await this.postTask(n)}async copyFileToPath(e,n){let r=new An("COPY_FILE_TO_PATH",[e,n]);await this.postTask(r)}async insertArrowFromIPCStream(e,n,r){if(n.length==0)return;let i=new An("INSERT_ARROW_FROM_IPC_STREAM",[e,n,r]);await this.postTask(i,[n.buffer])}async insertCSVFromPath(e,n,r){if(r.columns!==void 0){let s=[];for(let o in r.columns){let a=r.columns[o];s.push(vE(o,a))}r.columnsFlat=s,delete r.columns}let i=new An("IMPORT_CSV_FROM_PATH",[e,n,r]);await this.postTask(i)}async insertJSONFromPath(e,n,r){if(r.columns!==void 0){let s=[];for(let o in r.columns){let a=r.columns[o];s.push(vE(o,a))}r.columnsFlat=s,delete r.columns}let i=new An("IMPORT_JSON_FROM_PATH",[e,n,r]);await this.postTask(i)}};function Kve(){let t=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode(e))}Kve();var Jve=(t=>(t[t.BUFFER=0]="BUFFER",t[t.NODE_FS=1]="NODE_FS",t[t.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",t[t.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",t[t.HTTP=4]="HTTP",t[t.S3=5]="S3",t))(Jve||{}),eOe=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),tOe=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),nOe=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),rOe=()=>(async t=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),PP={name:"@duckdb/duckdb-wasm",version:"1.30.0"},iOe=PP.name,sOe=PP.version,RP=PP.version.split(".");RP[0];RP[1];RP[2];var oOe=()=>typeof navigator>"u";function aOe(){let t="https://cdn.jsdelivr.net/npm/".concat(iOe,"@").concat(sOe,"/dist/");return{mvp:{mainModule:"".concat(t,"duckdb-mvp.wasm"),mainWorker:"".concat(t,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(t,"duckdb-eh.wasm"),mainWorker:"".concat(t,"duckdb-browser-eh.worker.js")}}}var OC=null,wC=null,_C=null,xC=null,SC=null;async function lOe(){return OC==null&&(OC=typeof BigInt64Array<"u"),wC==null&&(wC=await tOe()),_C==null&&(_C=await rOe()),xC==null&&(xC=await nOe()),SC==null&&(SC=await eOe()),{bigInt64Array:OC,crossOriginIsolated:oOe()||globalThis.crossOriginIsolated||!1,wasmExceptions:wC,wasmSIMD:xC,wasmThreads:_C,wasmBulkMemory:SC}}async function SW(t){let e=await lOe();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&t.coi)return{mainModule:t.coi.mainModule,mainWorker:t.coi.mainWorker,pthreadWorker:t.coi.pthreadWorker};if(t.eh)return{mainModule:t.eh.mainModule,mainWorker:t.eh.mainWorker,pthreadWorker:null}}return{mainModule:t.mvp.mainModule,mainWorker:t.mvp.mainWorker,pthreadWorker:null}}Nve(Qve());function uOe(t={}){return new cOe(t)}class cOe{_ipc;_options;_db;_con;_config;_loadPromise;constructor(e={}){const{ipc:n,duckdb:r,connection:i,config:s,...o}=e;this._ipc=n,this._options=o,this._db=r,this._con=i,this._config=s}async getDuckDB(){return this._db||await AM(this),this._db}async getConnection(){return this._con||await AM(this),this._con}async query(e){const{type:n,sql:r}=e,i=await this.getConnection(),s=await fOe(i,r);return n==="exec"?void 0:n==="arrow"?Nx(s,this._ipc):Nx(s).toArray()}}function fOe(t,e){return new Promise((n,r)=>{t.useUnsafe(async(i,s)=>{try{const o=await i.runQuery(s,e);n(o)}catch(o){r(o)}})})}function AM(t){return t._loadPromise||(t._loadPromise=(t._db?Promise.resolve(t._db):hOe(t._options).then(e=>t._db=e)).then(e=>t._config!=null?e.open(t._config).then(()=>e):e).then(e=>e.connect()).then(e=>t._con=e)),t._loadPromise}async function hOe({log:t=!1}={}){const e=aOe(),n=await SW(e),r=URL.createObjectURL(new Blob([`importScripts("${n.mainWorker}");`],{type:"text/javascript"})),i=new Worker(r),s=t?new wW:new OW,o=new xW(s,i);return await o.instantiate(n.mainModule,n.pthreadWorker),URL.revokeObjectURL(r),o}function kW(t){switch(t){case"BIGINT":case"HUGEINT":case"INTEGER":case"SMALLINT":case"TINYINT":case"UBIGINT":case"UINTEGER":case"USMALLINT":case"UTINYINT":case"DOUBLE":case"FLOAT":case"REAL":return"number";case"DATE":case"TIMESTAMP":case"TIMESTAMPTZ":case"TIMESTAMP WITH TIME ZONE":case"TIME":case"TIMESTAMP_NS":return"date";case"BOOLEAN":return"boolean";case"VARCHAR":case"UUID":case"JSON":return"string";case"ARRAY":case"LIST":return"array";case"BLOB":case"STRUCT":case"MAP":case"GEOMETRY":return"object";default:if(t.startsWith("ENUM"))return"string";if(t.startsWith("DECIMAL"))return"number";if(t.startsWith("STRUCT")||t.startsWith("MAP"))return"object";if(t.endsWith("]"))return"array";throw new Error(`Unsupported type: ${t}`)}}const dOe="count",pOe="nulls",mOe="max",gOe="min",yOe="distinct",bOe={[dOe]:_i,[yOe]:t=>_i(t).distinct(),[mOe]:AO,[gOe]:Lg,[pOe]:t=>_i().where(Mf(t))};function vOe({table:t,column:e,stats:n}){return lt.from(t).select(Array.from(n,r=>({[r]:bOe[r](e)})))}async function OOe(t,e){return e.length===1&&e[0].column==="*"?_Oe(t,e[0].table):(await Promise.all(e.map(n=>wOe(t,n)))).filter(n=>n!==void 0)}async function wOe(t,{table:e,column:n,stats:r}){const i=lt.from({source:e}).select({column:n}).groupby(ou(n)&&Ck(n)?Pt`ALL`:[]),[s]=Array.from(await t.query(lt.describe(i))),o={table:e,column:`${n}`,sqlType:s.column_type,type:kW(s.column_type),nullable:s.null==="YES"};if(!r?.length)return o;const[a]=await t.query(vOe({table:e,column:n,stats:r}),{persist:!0});return Object.assign(o,a)}async function _Oe(t,e){return Array.from(await t.query(`DESC ${GV(e)}`)).map(r=>({table:e,column:r.column_name,sqlType:r.column_type,type:kW(r.column_type),nullable:r.null==="YES"}))}async function xOe(t,e="gzip"){let n=new CompressionStream(e),i=new Blob([t]).stream().pipeThrough(n),o=await(await new Response(i).blob()).arrayBuffer();return new Uint8Array(o)}async function SOe(t,e="gzip"){let n=new DecompressionStream(e),i=new Blob([t]).stream().pipeThrough(n),o=await(await new Response(i).blob()).arrayBuffer();return new Uint8Array(o)}function kOe(t){let n="";for(let r=0;r<t.length;r+=32768)n+=String.fromCharCode(...t.subarray(r,r+32768));return btoa(n)}function COe(t){let e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function CW(t,e=1e3){let n;return(...i)=>{n&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}function bv(t,e){if(t===e)return!0;if(t===null||e===null||typeof t!="object"||typeof e!="object"||Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(e.hasOwnProperty(n)){if(!bv(t[n],e[n]))return!1}else return!1;return!0}function OE(t){let e;return(...n)=>{let r=t(...n);return e!==void 0&&bv(r,e)?e:(e=r,r)}}function Eh(t,e,...n){try{if(n.every(r=>r!==void 0)){const r=t[e];if(typeof r=="function")return r(...n)}}catch(r){console.error(r)}}const AOe=2;function gw(t){return{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,modifiers:{shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey,meta:t.metaKey}}}function Zn(t,e){let n=e,r,i=!1,s=!1;const o=u=>{let c=gw(u);u.preventDefault(),u.stopPropagation(),EOe(),i=!0,r&&(Eh(r,"up"),r=void 0);let f=d=>{let m=gw(d);n.drag&&!r?Math.hypot(c.clientX-m.clientX,c.clientY-m.clientY)>AOe&&(r=Eh(n,"drag",c),r&&Eh(r,"move",m)):r&&Eh(r,"move",m)},h=d=>{let m=gw(d);i=!1,window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",h),r?(Eh(r,"up",d),r=void 0):n.click&&Eh(n,"click",m)};window.addEventListener("mousemove",f,{passive:!0}),window.addEventListener("mouseup",h,{passive:!0})},a=u=>{if(!i){n.hover&&(Eh(n,"hover",gw(u)),s=!0);return}},l=u=>{s&&n.hover&&(Eh(n,"hover",null),s=!1)};return t.addEventListener("mousedown",o,{passive:!1}),t.addEventListener("mousemove",a,{passive:!0}),t.addEventListener("mouseleave",l,{passive:!0}),{update:u=>{n=u},destroy:()=>{t.removeEventListener("mousedown",o),t.removeEventListener("mousemove",a),t.removeEventListener("mouseleave",l)}}}function EOe(){try{document.activeElement&&document.activeElement!==document.body&&document.activeElement.blur?.()}catch{}}function rg(t,e){if(EM(t)&&EM(e)){let n;for(let r in e)if(e[r]!==t[r])if(e[r]===void 0)n===void 0&&(n={...t}),delete n[r];else{let i=rg(t[r],e[r]);i!==void 0&&(n===void 0&&(n={...t}),n[r]=i)}return n}else return bv(t,e)?void 0:e}function Vg(t,e,n,r){switch(n){case"merge":{let i=rg(t,e);return i!==void 0?r(i):void 0}case"replace":return t!==e?r(e):void 0}}function U_(t,e,n,r,i){switch(r){case"merge":{let s=rg(t,{[e]:n});return s!==void 0?i(s):void 0}case"replace":if(t[e]!==n){let s={...t};return s[e]=n,i(s)}else return}}function EM(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const TOe=t=>t;function AW(t){const e=t-1;return e*e*e+1}function EW(t,{delay:e=0,duration:n=400,easing:r=TOe}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:s=>`opacity: ${s*i}`}}function pb(t,{delay:e=0,duration:n=400,easing:r=AW,axis:i="y"}={}){const s=getComputedStyle(t),o=+s.opacity,a=i==="y"?"height":"width",l=parseFloat(s[a]),u=i==="y"?["top","bottom"]:["left","right"],c=u.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),f=parseFloat(s[`padding${c[0]}`]),h=parseFloat(s[`padding${c[1]}`]),d=parseFloat(s[`margin${c[0]}`]),m=parseFloat(s[`margin${c[1]}`]),g=parseFloat(s[`border${c[0]}Width`]),b=parseFloat(s[`border${c[1]}Width`]);return{delay:e,duration:n,easing:r,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*o};${a}: ${v*l}px;padding-${u[0]}: ${v*f}px;padding-${u[1]}: ${v*h}px;margin-${u[0]}: ${v*d}px;margin-${u[1]}: ${v*m}px;border-${u[0]}-width: ${v*g}px;border-${u[1]}-width: ${v*b}px;min-${a}: 0`}}function DOe(t,{delay:e=0,duration:n=400,easing:r=AW,start:i=0,opacity:s=0}={}){const o=getComputedStyle(t),a=+o.opacity,l=o.transform==="none"?"":o.transform,u=1-i,c=a*(1-s);return{delay:e,duration:n,easing:r,css:(f,h)=>`
			transform: ${l} scale(${1-u*h});
			opacity: ${a-c*h}
		`}}var POe=ce("<button> </button>");function $P(t,e){Ke(e,!0);var n=POe();n.__click=()=>{e.disabled||e.onClick?.()};var r=H(n,!0);W(n),Pe(()=>{ur(n,1,`px-2 h-8 w-24 rounded-md text-white text-sm select-none ${e.disabled?"bg-gray-300 dark:text-gray-500 dark:bg-gray-700":"bg-blue-500"}`),n.disabled=e.disabled,Tt(r,e.label)}),j(t,n),Je()}Dr(["click"]);var ROe=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,$Oe=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,IOe=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,kC={Space_Separator:ROe,ID_Start:$Oe,ID_Continue:IOe},Oi={isSpaceSeparator(t){return typeof t=="string"&&kC.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||kC.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t==="â"||t==="â"||kC.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}};let wE,uo,xf,wS,bd,iu,es,IP,Mb;var FOe=function(e,n){wE=String(e),uo="start",xf=[],wS=0,bd=1,iu=0,es=void 0,IP=void 0,Mb=void 0;do es=MOe(),QOe[uo]();while(es.type!=="eof");return typeof n=="function"?_E({"":Mb},"",n):Mb};function _E(t,e,n){const r=t[e];if(r!=null&&typeof r=="object")if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=String(i),o=_E(r,s,n);o===void 0?delete r[s]:Object.defineProperty(r,s,{value:o,writable:!0,enumerable:!0,configurable:!0})}else for(const i in r){const s=_E(r,i,n);s===void 0?delete r[i]:Object.defineProperty(r,i,{value:s,writable:!0,enumerable:!0,configurable:!0})}return n.call(t,e,r)}let nn,Vt,mb,of,yn;function MOe(){for(nn="default",Vt="",mb=!1,of=1;;){yn=Lf();const t=TW[nn]();if(t)return t}}function Lf(){if(wE[wS])return String.fromCodePoint(wE.codePointAt(wS))}function we(){const t=Lf();return t===`
`?(bd++,iu=0):t?iu+=t.length:iu++,t&&(wS+=t.length),t}const TW={default(){switch(yn){case"	":case"\v":case"\f":case" ":case"Â ":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":we();return;case"/":we(),nn="comment";return;case void 0:return we(),Ir("eof")}if(Oi.isSpaceSeparator(yn)){we();return}return TW[uo]()},comment(){switch(yn){case"*":we(),nn="multiLineComment";return;case"/":we(),nn="singleLineComment";return}throw Fr(we())},multiLineComment(){switch(yn){case"*":we(),nn="multiLineCommentAsterisk";return;case void 0:throw Fr(we())}we()},multiLineCommentAsterisk(){switch(yn){case"*":we();return;case"/":we(),nn="default";return;case void 0:throw Fr(we())}we(),nn="multiLineComment"},singleLineComment(){switch(yn){case`
`:case"\r":case"\u2028":case"\u2029":we(),nn="default";return;case void 0:return we(),Ir("eof")}we()},value(){switch(yn){case"{":case"[":return Ir("punctuator",we());case"n":return we(),Kd("ull"),Ir("null",null);case"t":return we(),Kd("rue"),Ir("boolean",!0);case"f":return we(),Kd("alse"),Ir("boolean",!1);case"-":case"+":we()==="-"&&(of=-1),nn="sign";return;case".":Vt=we(),nn="decimalPointLeading";return;case"0":Vt=we(),nn="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Vt=we(),nn="decimalInteger";return;case"I":return we(),Kd("nfinity"),Ir("numeric",1/0);case"N":return we(),Kd("aN"),Ir("numeric",NaN);case'"':case"'":mb=we()==='"',Vt="",nn="string";return}throw Fr(we())},identifierNameStartEscape(){if(yn!=="u")throw Fr(we());we();const t=xE();switch(t){case"$":case"_":break;default:if(!Oi.isIdStartChar(t))throw TM();break}Vt+=t,nn="identifierName"},identifierName(){switch(yn){case"$":case"_":case"â":case"â":Vt+=we();return;case"\\":we(),nn="identifierNameEscape";return}if(Oi.isIdContinueChar(yn)){Vt+=we();return}return Ir("identifier",Vt)},identifierNameEscape(){if(yn!=="u")throw Fr(we());we();const t=xE();switch(t){case"$":case"_":case"â":case"â":break;default:if(!Oi.isIdContinueChar(t))throw TM();break}Vt+=t,nn="identifierName"},sign(){switch(yn){case".":Vt=we(),nn="decimalPointLeading";return;case"0":Vt=we(),nn="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Vt=we(),nn="decimalInteger";return;case"I":return we(),Kd("nfinity"),Ir("numeric",of*(1/0));case"N":return we(),Kd("aN"),Ir("numeric",NaN)}throw Fr(we())},zero(){switch(yn){case".":Vt+=we(),nn="decimalPoint";return;case"e":case"E":Vt+=we(),nn="decimalExponent";return;case"x":case"X":Vt+=we(),nn="hexadecimal";return}return Ir("numeric",of*0)},decimalInteger(){switch(yn){case".":Vt+=we(),nn="decimalPoint";return;case"e":case"E":Vt+=we(),nn="decimalExponent";return}if(Oi.isDigit(yn)){Vt+=we();return}return Ir("numeric",of*Number(Vt))},decimalPointLeading(){if(Oi.isDigit(yn)){Vt+=we(),nn="decimalFraction";return}throw Fr(we())},decimalPoint(){switch(yn){case"e":case"E":Vt+=we(),nn="decimalExponent";return}if(Oi.isDigit(yn)){Vt+=we(),nn="decimalFraction";return}return Ir("numeric",of*Number(Vt))},decimalFraction(){switch(yn){case"e":case"E":Vt+=we(),nn="decimalExponent";return}if(Oi.isDigit(yn)){Vt+=we();return}return Ir("numeric",of*Number(Vt))},decimalExponent(){switch(yn){case"+":case"-":Vt+=we(),nn="decimalExponentSign";return}if(Oi.isDigit(yn)){Vt+=we(),nn="decimalExponentInteger";return}throw Fr(we())},decimalExponentSign(){if(Oi.isDigit(yn)){Vt+=we(),nn="decimalExponentInteger";return}throw Fr(we())},decimalExponentInteger(){if(Oi.isDigit(yn)){Vt+=we();return}return Ir("numeric",of*Number(Vt))},hexadecimal(){if(Oi.isHexDigit(yn)){Vt+=we(),nn="hexadecimalInteger";return}throw Fr(we())},hexadecimalInteger(){if(Oi.isHexDigit(yn)){Vt+=we();return}return Ir("numeric",of*Number(Vt))},string(){switch(yn){case"\\":we(),Vt+=LOe();return;case'"':if(mb)return we(),Ir("string",Vt);Vt+=we();return;case"'":if(!mb)return we(),Ir("string",Vt);Vt+=we();return;case`
`:case"\r":throw Fr(we());case"\u2028":case"\u2029":BOe(yn);break;case void 0:throw Fr(we())}Vt+=we()},start(){switch(yn){case"{":case"[":return Ir("punctuator",we())}nn="value"},beforePropertyName(){switch(yn){case"$":case"_":Vt=we(),nn="identifierName";return;case"\\":we(),nn="identifierNameStartEscape";return;case"}":return Ir("punctuator",we());case'"':case"'":mb=we()==='"',nn="string";return}if(Oi.isIdStartChar(yn)){Vt+=we(),nn="identifierName";return}throw Fr(we())},afterPropertyName(){if(yn===":")return Ir("punctuator",we());throw Fr(we())},beforePropertyValue(){nn="value"},afterPropertyValue(){switch(yn){case",":case"}":return Ir("punctuator",we())}throw Fr(we())},beforeArrayValue(){if(yn==="]")return Ir("punctuator",we());nn="value"},afterArrayValue(){switch(yn){case",":case"]":return Ir("punctuator",we())}throw Fr(we())},end(){throw Fr(we())}};function Ir(t,e){return{type:t,value:e,line:bd,column:iu}}function Kd(t){for(const e of t){if(Lf()!==e)throw Fr(we());we()}}function LOe(){switch(Lf()){case"b":return we(),"\b";case"f":return we(),"\f";case"n":return we(),`
`;case"r":return we(),"\r";case"t":return we(),"	";case"v":return we(),"\v";case"0":if(we(),Oi.isDigit(Lf()))throw Fr(we());return"\0";case"x":return we(),NOe();case"u":return we(),xE();case`
`:case"\u2028":case"\u2029":return we(),"";case"\r":return we(),Lf()===`
`&&we(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw Fr(we());case void 0:throw Fr(we())}return we()}function NOe(){let t="",e=Lf();if(!Oi.isHexDigit(e)||(t+=we(),e=Lf(),!Oi.isHexDigit(e)))throw Fr(we());return t+=we(),String.fromCodePoint(parseInt(t,16))}function xE(){let t="",e=4;for(;e-- >0;){const n=Lf();if(!Oi.isHexDigit(n))throw Fr(we());t+=we()}return String.fromCodePoint(parseInt(t,16))}const QOe={start(){if(es.type==="eof")throw Jd();CC()},beforePropertyName(){switch(es.type){case"identifier":case"string":IP=es.value,uo="afterPropertyName";return;case"punctuator":yw();return;case"eof":throw Jd()}},afterPropertyName(){if(es.type==="eof")throw Jd();uo="beforePropertyValue"},beforePropertyValue(){if(es.type==="eof")throw Jd();CC()},beforeArrayValue(){if(es.type==="eof")throw Jd();if(es.type==="punctuator"&&es.value==="]"){yw();return}CC()},afterPropertyValue(){if(es.type==="eof")throw Jd();switch(es.value){case",":uo="beforePropertyName";return;case"}":yw()}},afterArrayValue(){if(es.type==="eof")throw Jd();switch(es.value){case",":uo="beforeArrayValue";return;case"]":yw()}},end(){}};function CC(){let t;switch(es.type){case"punctuator":switch(es.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=es.value;break}if(Mb===void 0)Mb=t;else{const e=xf[xf.length-1];Array.isArray(e)?e.push(t):Object.defineProperty(e,IP,{value:t,writable:!0,enumerable:!0,configurable:!0})}if(t!==null&&typeof t=="object")xf.push(t),Array.isArray(t)?uo="beforeArrayValue":uo="beforePropertyName";else{const e=xf[xf.length-1];e==null?uo="end":Array.isArray(e)?uo="afterArrayValue":uo="afterPropertyValue"}}function yw(){xf.pop();const t=xf[xf.length-1];t==null?uo="end":Array.isArray(t)?uo="afterArrayValue":uo="afterPropertyValue"}function Fr(t){return _S(t===void 0?`JSON5: invalid end of input at ${bd}:${iu}`:`JSON5: invalid character '${DW(t)}' at ${bd}:${iu}`)}function Jd(){return _S(`JSON5: invalid end of input at ${bd}:${iu}`)}function TM(){return iu-=5,_S(`JSON5: invalid identifier character at ${bd}:${iu}`)}function BOe(t){console.warn(`JSON5: '${DW(t)}' in strings is not valid ECMAScript; consider escaping`)}function DW(t){const e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){const n=t.charCodeAt(0).toString(16);return"\\x"+("00"+n).substring(n.length)}return t}function _S(t){const e=new SyntaxError(t);return e.lineNumber=bd,e.columnNumber=iu,e}var zOe=function(e,n,r){const i=[];let s="",o,a,l="",u;if(n!=null&&typeof n=="object"&&!Array.isArray(n)&&(r=n.space,u=n.quote,n=n.replacer),typeof n=="function")a=n;else if(Array.isArray(n)){o=[];for(const g of n){let b;typeof g=="string"?b=g:(typeof g=="number"||g instanceof String||g instanceof Number)&&(b=String(g)),b!==void 0&&o.indexOf(b)<0&&o.push(b)}}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),typeof r=="number"?r>0&&(r=Math.min(10,Math.floor(r)),l="          ".substr(0,r)):typeof r=="string"&&(l=r.substr(0,10)),c("",{"":e});function c(g,b){let v=b[g];switch(v!=null&&(typeof v.toJSON5=="function"?v=v.toJSON5(g):typeof v.toJSON=="function"&&(v=v.toJSON(g))),a&&(v=a.call(b,g,v)),v instanceof Number?v=Number(v):v instanceof String?v=String(v):v instanceof Boolean&&(v=v.valueOf()),v){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof v=="string")return f(v);if(typeof v=="number")return String(v);if(typeof v=="object")return Array.isArray(v)?m(v):h(v)}function f(g){const b={"'":.1,'"':.2},v={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let O="";for(let C=0;C<g.length;C++){const S=g[C];switch(S){case"'":case'"':b[S]++,O+=S;continue;case"\0":if(Oi.isDigit(g[C+1])){O+="\\x00";continue}}if(v[S]){O+=v[S];continue}if(S<" "){let A=S.charCodeAt(0).toString(16);O+="\\x"+("00"+A).substring(A.length);continue}O+=S}const x=u||Object.keys(b).reduce((C,S)=>b[C]<b[S]?C:S);return O=O.replace(new RegExp(x,"g"),v[x]),x+O+x}function h(g){if(i.indexOf(g)>=0)throw TypeError("Converting circular structure to JSON5");i.push(g);let b=s;s=s+l;let v=o||Object.keys(g),O=[];for(const C of v){const S=c(C,g);if(S!==void 0){let A=d(C)+":";l!==""&&(A+=" "),A+=S,O.push(A)}}let x;if(O.length===0)x="{}";else{let C;if(l==="")C=O.join(","),x="{"+C+"}";else{let S=`,
`+s;C=O.join(S),x=`{
`+s+C+`,
`+b+"}"}}return i.pop(),s=b,x}function d(g){if(g.length===0)return f(g);const b=String.fromCodePoint(g.codePointAt(0));if(!Oi.isIdStartChar(b))return f(g);for(let v=b.length;v<g.length;v++)if(!Oi.isIdContinueChar(String.fromCodePoint(g.codePointAt(v))))return f(g);return g}function m(g){if(i.indexOf(g)>=0)throw TypeError("Converting circular structure to JSON5");i.push(g);let b=s;s=s+l;let v=[];for(let x=0;x<g.length;x++){const C=c(String(x),g);v.push(C!==void 0?C:"null")}let O;if(v.length===0)O="[]";else if(l==="")O="["+v.join(",")+"]";else{let x=`,
`+s,C=v.join(x);O=`[
`+s+C+`,
`+b+"]"}return i.pop(),s=b,O}};const UOe={parse:FOe,stringify:zOe};var Xg=UOe;let SE=[],PW=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?PW:SE).push(n=n+t[e])})();function jOe(t){if(t<768)return!1;for(let e=0,n=SE.length;;){let r=e+n>>1;if(t<SE[r])n=r;else if(t>=PW[r])e=r+1;else return!0;if(e==n)return!1}}function DM(t){return t>=127462&&t<=127487}const PM=8205;function qOe(t,e,n=!0,r=!0){return(n?RW:VOe)(t,e,r)}function RW(t,e,n){if(e==t.length)return e;e&&$W(t.charCodeAt(e))&&IW(t.charCodeAt(e-1))&&e--;let r=AC(t,e);for(e+=RM(r);e<t.length;){let i=AC(t,e);if(r==PM||i==PM||n&&jOe(i))e+=RM(i),r=i;else if(DM(i)){let s=0,o=e-2;for(;o>=0&&DM(AC(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function VOe(t,e,n){for(;e>0;){let r=RW(t,e-2,n);if(r<e)return r;e--}return 0}function AC(t,e){let n=t.charCodeAt(e);if(!IW(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return $W(r)?(n-55296<<10)+(r-56320)+65536:n}function $W(t){return t>=56320&&t<57344}function IW(t){return t>=55296&&t<56320}function RM(t){return t<65536?1:2}let Mn=class FW{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Zg(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Xu.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Zg(this,e,n);let r=[];return this.decompose(e,n,r,0),Xu.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Lb(this),s=new Lb(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new Lb(this,e)}iterRange(e,n=this.length){return new MW(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new LW(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?FW.empty:e.length<=32?new wi(e):Xu.from(wi.split(e,[]))}};class wi extends Mn{constructor(e,n=XOe(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new ZOe(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new wi($M(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=j_(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new wi(a,o.length+s.length));else{let l=a.length>>1;r.push(new wi(a.slice(0,l)),new wi(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof wi))return super.replace(e,n,r);[e,n]=Zg(this,e,n);let i=j_(this.text,j_(r.text,$M(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new wi(i,s):Xu.from(wi.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=Zg(this,e,n);let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new wi(r,i)),r=[],i=-1);return i>-1&&n.push(new wi(r,i)),n}}class Xu extends Mn{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let u=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!u?r.push(a):a.decompose(e-o,n-o,r,u)}o=l+1}}replace(e,n,r){if([e,n]=Zg(this,e,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),u=this.lines-o.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let c=this.children.slice();return c[i]=l,new Xu(c,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Zg(this,e,n);let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Xu))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],u=e.children[s];if(l!=u)return r+l.scanIdentical(u,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let d of e)r+=d.lines;if(r<32){let d=[];for(let m of e)m.flatten(d);return new wi(d,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,u=-1,c=[];function f(d){let m;if(d.lines>s&&d instanceof Xu)for(let g of d.children)f(g);else d.lines>o&&(l>o||!l)?(h(),a.push(d)):d instanceof wi&&l&&(m=c[c.length-1])instanceof wi&&d.lines+m.lines<=32?(l+=d.lines,u+=d.length+1,c[c.length-1]=new wi(m.text.concat(d.text),m.length+1+d.length)):(l+d.lines>i&&h(),l+=d.lines,u+=d.length+1,c.push(d))}function h(){l!=0&&(a.push(c.length==1?c[0]:Xu.from(c,u)),u=-1,l=c.length=0)}for(let d of e)f(d);return h(),a.length==1?a[0]:new Xu(a,n)}}Mn.empty=new wi([""],0);function XOe(t){let e=-1;for(let n of t)e+=n.length+1;return e}function j_(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function $M(t,e,n){return j_(t,[""],e,n)}class Lb{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof wi?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof wi?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof wi){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof wi?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class MW{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Lb(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LW{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Mn.prototype[Symbol.iterator]=function(){return this.iter()},Lb.prototype[Symbol.iterator]=MW.prototype[Symbol.iterator]=LW.prototype[Symbol.iterator]=function(){return this});let ZOe=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function Zg(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function ys(t,e,n=!0,r=!0){return qOe(t,e,n,r)}function WOe(t){return t>=56320&&t<57344}function YOe(t){return t>=55296&&t<56320}function Qo(t,e){let n=t.charCodeAt(e);if(!YOe(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return WOe(r)?(n-55296<<10)+(r-56320)+65536:n}function FP(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Zu(t){return t<65536?1:2}const kE=/\r\n?|\n/;var ms=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(ms||(ms={}));class cc{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){CE(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new cc(e)}composeDesc(e){return this.empty?e:e.empty?this:NW(this,e)}mapDesc(e,n=!1){return e.empty?this:AE(this,e,n)}mapPos(e,n=-1,r=ms.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],u=i+a;if(l<0){if(u>e)return s+(e-i);s+=a}else{if(r!=ms.Simple&&u>=e&&(r==ms.TrackDel&&i<e&&u>e||r==ms.TrackBefore&&i<e||r==ms.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new cc(e)}static create(e){return new cc(e)}}class Xi extends cc{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return CE(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return AE(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(Mn.empty);r.push(o?e.slice(s,s+o):Mn.empty)}s+=o}return new Xi(n,r)}compose(e){return this.empty?e:e.empty?this:NW(this,e,!0)}map(e,n=!1){return e.empty?this:AE(this,e,n,!0)}iterChanges(e,n=!1){CE(this,e,n)}get desc(){return cc.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new vv(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-a);Es(i,c,-1);let f=s.ins==-1?-1:s.off==0?s.ins:0;Es(n,c,f),f>0&&zh(r,n,s.text),s.forward(c),a+=c}let u=e[o++];for(;a<u;){if(s.done)break e;let c=Math.min(s.len,u-a);Es(n,c,-1),Es(i,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),a+=c}}return{changes:new Xi(n,r),filtered:cc.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(c=!1){if(!c&&!i.length)return;o<n&&Es(i,n-o,-1);let f=new Xi(i,s);a=a?a.compose(f.map(a)):f,i=[],s=[],o=0}function u(c){if(Array.isArray(c))for(let f of c)u(f);else if(c instanceof Xi){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:f,to:h=f,insert:d}=c;if(f>h||f<0||h>n)throw new RangeError(`Invalid change range ${f} to ${h} (in doc of length ${n})`);let m=d?typeof d=="string"?Mn.of(d.split(r||kE)):d:Mn.empty,g=m.length;if(f==h&&g==0)return;f<o&&l(),f>o&&Es(i,f-o,-1),Es(i,h-f,g),zh(s,i,m),o=h}}return u(e),l(!a),a}static empty(e){return new Xi(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(Mn.empty);r[i]=Mn.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new Xi(n,r)}static createSet(e,n){return new Xi(e,n)}}function Es(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function zh(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Mn.empty);t.push(n)}}function CE(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let u=i,c=s,f=Mn.empty;for(;u+=a,c+=l,l&&r&&(f=f.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,u,s,c,f),i=u,s=c}}}function AE(t,e,n,r=!1){let i=[],s=r?[]:null,o=new vv(t),a=new vv(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let u=Math.min(o.len,a.len);Es(i,u,-1),o.forward(u),a.forward(u)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let u=a.len;for(Es(i,a.ins,-1);u;){let c=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=c&&(Es(i,0,o.ins),s&&zh(s,i,o.text),l=o.i),o.forward(c),u-=c}a.next()}else if(o.ins>=0){let u=0,c=o.len;for(;c;)if(a.ins==-1){let f=Math.min(c,a.len);u+=f,c-=f,a.forward(f)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;Es(i,u,l<o.i?o.ins:0),s&&l<o.i&&zh(s,i,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return s?Xi.createSet(i,s):cc.create(i);throw new Error("Mismatched change set lengths")}}}function NW(t,e,n=!1){let r=[],i=n?[]:null,s=new vv(t),o=new vv(e);for(let a=!1;;){if(s.done&&o.done)return i?Xi.createSet(r,i):cc.create(r);if(s.ins==0)Es(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)Es(r,0,o.ins,a),i&&zh(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),u=r.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;Es(r,l,c,a),i&&c&&zh(i,r,o.text)}else o.ins==-1?(Es(r,s.off?0:s.len,l,a),i&&zh(i,r,s.textBit(l))):(Es(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&zh(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>u),s.forward2(l),o.forward(l)}}}}class vv{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Mn.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Mn.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class _p{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new _p(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return he.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return he.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return he.range(e.anchor,e.head)}static create(e,n,r){return new _p(e,n,r)}}class he{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:he.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new he([this.main],0)}addRange(e,n=!0){return he.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,he.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new he(e.ranges.map(n=>_p.fromJSON(n)),e.main)}static single(e,n=e){return new he([he.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return he.normalized(e.slice(),n);r=s.to}return new he(e,n)}static cursor(e,n=0,r,i){return _p.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?_p.create(n,e,48|s):_p.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?he.range(l,a):he.range(a,l))}}return new he(e,n)}}function QW(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let MP=0;class Ze{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=MP++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Ze(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:LP),!!e.static,e.enables)}of(e){return new q_([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new q_(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new q_(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function LP(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class q_{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=MP++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,u=!1,c=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?u=!0:(((n=e[f.id])!==null&&n!==void 0?n:1)&1)==0&&c.push(e[f.id]);return{create(f){return f.values[o]=r(f),1},update(f,h){if(l&&h.docChanged||u&&(h.docChanged||h.selection)||EE(f,c)){let d=r(f);if(a?!IM(d,f.values[o],i):!i(d,f.values[o]))return f.values[o]=d,1}return 0},reconfigure:(f,h)=>{let d,m=h.config.address[s];if(m!=null){let g=SS(h,m);if(this.dependencies.every(b=>b instanceof Ze?h.facet(b)===f.facet(b):b instanceof Ni?h.field(b,!1)==f.field(b,!1):!0)||(a?IM(d=r(f),g,i):i(d=r(f),g)))return f.values[o]=g,0}else d=r(f);return f.values[o]=d,1}}}}function IM(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function EE(t,e){let n=!1;for(let r of e)Nb(t,r)&1&&(n=!0);return n}function GOe(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let u=[];for(let c=0;c<r.length;c++){let f=SS(l,r[c]);if(i[c]==2)for(let h of f)u.push(h);else u.push(f)}return e.combine(u)}return{create(l){for(let u of r)Nb(l,u);return l.values[o]=a(l),1},update(l,u){if(!EE(l,s))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,u){let c=EE(l,r),f=u.config.facets[e.id],h=u.facet(e);if(f&&!c&&LP(n,f))return l.values[o]=h,0;let d=a(l);return e.compare(d,h)?(l.values[o]=h,0):(l.values[o]=d,1)}}}const bw=Ze.define({static:!0});class Ni{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new Ni(MP++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(bw).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>{let s=r.facet(bw),o=i.facet(bw),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(r.values[n]=a.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,bw.of({field:this,create:e})]}get extension(){return this}}const cp={lowest:4,low:3,default:2,high:1,highest:0};function Dy(t){return e=>new BW(e,t)}const sh={highest:Dy(cp.highest),high:Dy(cp.high),default:Dy(cp.default),low:Dy(cp.low),lowest:Dy(cp.lowest)};class BW{constructor(e,n){this.inner=e,this.prec=n}}class Rk{of(e){return new TE(this,e)}reconfigure(e){return Rk.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class TE{constructor(e,n){this.compartment=e,this.inner=n}}class xS{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let h of HOe(e,n,o))h instanceof Ni?i.push(h):(s[h.facet.id]||(s[h.facet.id]=[])).push(h);let a=Object.create(null),l=[],u=[];for(let h of i)a[h.id]=u.length<<1,u.push(d=>h.slot(d));let c=r?.config.facets;for(let h in s){let d=s[h],m=d[0].facet,g=c&&c[h]||[];if(d.every(b=>b.type==0))if(a[m.id]=l.length<<1|1,LP(g,d))l.push(r.facet(m));else{let b=m.combine(d.map(v=>v.value));l.push(r&&m.compare(b,r.facet(m))?r.facet(m):b)}else{for(let b of d)b.type==0?(a[b.id]=l.length<<1|1,l.push(b.value)):(a[b.id]=u.length<<1,u.push(v=>b.dynamicSlot(v)));a[m.id]=u.length<<1,u.push(b=>GOe(b,m,d))}}let f=u.map(h=>h(a));return new xS(e,o,f,a,l,s)}}function HOe(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let u=r[l].indexOf(o);u>-1&&r[l].splice(u,1),o instanceof TE&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let u of o)s(u,a);else if(o instanceof TE){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;n.set(o.compartment,u),s(u,a)}else if(o instanceof BW)s(o.inner,o.prec);else if(o instanceof Ni)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof q_)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,cp.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,a)}}return s(t,cp.default),r.reduce((o,a)=>o.concat(a))}function Nb(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function SS(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const zW=Ze.define(),DE=Ze.define({combine:t=>t.some(e=>e),static:!0}),UW=Ze.define({combine:t=>t.length?t[0]:void 0,static:!0}),jW=Ze.define(),qW=Ze.define(),VW=Ze.define(),XW=Ze.define({combine:t=>t.length?t[0]:!1});class oh{constructor(e,n){this.type=e,this.value=n}static define(){return new KOe}}class KOe{of(e){return new oh(this,e)}}class JOe{constructor(e){this.map=e}of(e){return new Yt(this,e)}}class Yt{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Yt(this.type,n)}is(e){return this.type==e}static define(e={}){return new JOe(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}Yt.reconfigure=Yt.define();Yt.appendConfig=Yt.define();class Ii{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&QW(r,n.newLength),s.some(a=>a.type==Ii.time)||(this.annotations=s.concat(Ii.time.of(Date.now())))}static create(e,n,r,i,s,o){return new Ii(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Ii.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Ii.time=oh.define();Ii.userEvent=oh.define();Ii.addToHistory=oh.define();Ii.remote=oh.define();function e2e(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function ZW(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=Xi.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Yt.mapEffects(t.effects,i).concat(Yt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function PE(t,e,n){let r=e.selection,i=ig(e.annotations);return e.userEvent&&(i=i.concat(Ii.userEvent.of(e.userEvent))),{changes:e.changes instanceof Xi?e.changes:Xi.of(e.changes||[],n,t.facet(UW)),selection:r&&(r instanceof he?r:he.single(r.anchor,r.head)),effects:ig(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function WW(t,e,n){let r=PE(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=ZW(r,PE(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=Ii.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return n2e(n?t2e(i):i)}function t2e(t){let e=t.startState,n=!0;for(let i of e.facet(jW)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:e2e(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=Xi.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=Ii.create(e,i,t.selection&&t.selection.map(s),Yt.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(qW);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof Ii?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Ii?t=s[0]:t=WW(e,ig(s),!1)}return t}function n2e(t){let e=t.startState,n=e.facet(VW),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=ZW(r,PE(e,s,t.changes.newLength),!0))}return r==t?t:Ii.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const r2e=[];function ig(t){return t==null?r2e:Array.isArray(t)?t:[t]}var qr=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(qr||(qr={}));const i2e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let RE;try{RE=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function s2e(t){if(RE)return RE.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>"Â"&&(n.toUpperCase()!=n.toLowerCase()||i2e.test(n)))return!0}return!1}function o2e(t){return e=>{if(!/\S/.test(e))return qr.Space;if(s2e(e))return qr.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return qr.Word;return qr.Other}}class Dn{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Nb(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Nb(this,r),SS(this,r)}update(...e){return WW(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(Rk.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,u)=>i.set(u,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(Yt.reconfigure)?(n=null,r=a.value):a.is(Yt.appendConfig)&&(n=null,r=ig(r).concat(a.value));let s;n?s=e.startState.values.slice():(n=xS.resolve(r,i,this),s=new Dn(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let o=e.startState.facet(DE)?e.newSelection:e.newSelection.asSingle();new Dn(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:he.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=ig(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),u=this.changes(l.changes),c=u.map(i);for(let h=0;h<a;h++)s[h]=s[h].map(c);let f=i.mapDesc(u,!0);s.push(l.range.map(f)),i=i.compose(c),o=Yt.mapEffects(o,c).concat(Yt.mapEffects(ig(l.effects),f))}return{changes:i,selection:he.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof Xi?e:Xi.of(e,this.doc.length,this.facet(Dn.lineSeparator))}toText(e){return Mn.of(e.split(this.facet(Dn.lineSeparator)||kE))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Nb(this,n),SS(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Ni&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return Dn.create({doc:e.doc,selection:he.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=xS.resolve(e.extensions||[],new Map),r=e.doc instanceof Mn?e.doc:Mn.of((e.doc||"").split(n.staticFacet(Dn.lineSeparator)||kE)),i=e.selection?e.selection instanceof he?e.selection:he.single(e.selection.anchor,e.selection.head):he.single(0);return QW(i,r.length),n.staticFacet(DE)||(i=i.asSingle()),new Dn(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Dn.tabSize)}get lineBreak(){return this.facet(Dn.lineSeparator)||`
`}get readOnly(){return this.facet(XW)}phrase(e,...n){for(let r of this.facet(Dn.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(zW))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return o2e(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=ys(n,o,!1);if(s(n.slice(l,o))!=qr.Word)break;o=l}for(;a<i;){let l=ys(n,a);if(s(n.slice(a,l))!=qr.Word)break;a=l}return o==a?null:he.range(o+r,a+r)}}Dn.allowMultipleSelections=DE;Dn.tabSize=Ze.define({combine:t=>t.length?t[0]:4});Dn.lineSeparator=UW;Dn.readOnly=XW;Dn.phrases=Ze.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Dn.languageData=zW;Dn.changeFilter=jW;Dn.transactionFilter=qW;Dn.transactionExtender=VW;Rk.reconfigure=Yt.define();function ah(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class i0{eq(e){return this==e}range(e,n=e){return $E.create(e,n,this)}}i0.prototype.startSide=i0.prototype.endSide=0;i0.prototype.point=!1;i0.prototype.mapMode=ms.TrackDel;let $E=class YW{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new YW(e,n,r)}};function IE(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class NP{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,u=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return u>=0?o:a;u>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,f=this.to[l]+e,h,d;if(c==f){let m=n.mapPos(c,u.startSide,u.mapMode);if(m==null||(h=d=m,u.startSide!=u.endSide&&(d=n.mapPos(c,u.endSide),d<h)))continue}else if(h=n.mapPos(c,u.startSide),d=n.mapPos(f,u.endSide),h>d||h==d&&u.startSide>0&&u.endSide<=0)continue;(d-h||u.endSide-u.startSide)<0||(o<0&&(o=h),u.point&&(a=Math.max(a,d-h)),r.push(u),i.push(h-o),s.push(d-o))}return{mapped:r.length?new NP(i,s,r,a):null,pos:o}}}class zn{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new zn(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(IE)),this.isEmpty)return n.length?zn.of(n):this;let a=new GW(this,null,-1).goto(0),l=0,u=[],c=new vd;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let f=n[l++];c.addInner(f.from,f.to,f.value)||u.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||u.push($E.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?zn.empty:this.nextLayer.update({add:u,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(a,a+l.length);if(u===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(u===!0){let{mapped:c,pos:f}=l.map(a,e);c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(f))}}let s=this.nextLayer.map(e);return n.length==0?s:new zn(r,n,s||zn.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Ov.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Ov.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),a=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),l=FM(o,a,r),u=new Py(o,l,s),c=new Py(a,l,s);r.iterGaps((f,h,d)=>MM(u,f,c,h,d,i)),r.empty&&r.length==0&&MM(u,0,c,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let s=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),o=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=FM(s,o),l=new Py(s,a,0).goto(r),u=new Py(o,a,0).goto(r);for(;;){if(l.to!=u.to||!FE(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,n,r,i,s=-1){let o=new Py(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let u=Math.min(o.to,r);if(o.point){let c=o.activeForPoint(o.to),f=o.pointFrom<n?c.length+1:o.point.startSide<0?c.length:Math.min(c.length,l);i.point(a,u,o.point,c,f,o.pointRank),l=Math.min(o.openEnd(u),c.length)}else u>a&&(i.span(a,u,o.active,l),l=o.openEnd(u));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new vd;for(let i of e instanceof $E?[e]:n?a2e(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return zn.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=zn.empty;i=i.nextLayer)n=new zn(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}zn.empty=new zn([],[],null,-1);function a2e(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(IE(e,r)>0)return t.slice().sort(IE);e=r}return t}zn.empty.nextLayer=zn.empty;class vd{finishChunk(e){this.chunks.push(new NP(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new vd)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(zn.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=zn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function FM(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!n?.touchesRange(a,a+s.chunk[o].length)&&i.add(s.chunk[o])}return i}class GW{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Ov{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new GW(o,n,r,s));return i.length==1?i[0]:new Ov(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)EC(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)EC(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),EC(this.heap,0)}}}function EC(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Py{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ov.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){vw(this.active,e),vw(this.activeTo,e),vw(this.activeRank,e),this.minActive=LM(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;Ow(this.active,n,r),Ow(this.activeTo,n,i),Ow(this.activeRank,n,s),e&&Ow(e,n,this.cursor.from),this.minActive=LM(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&vw(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function MM(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e;for(;;){let u=t.to+l-n.to,c=u||t.endSide-n.endSide,f=c<0?t.to+l:n.to,h=Math.min(f,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&FE(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,h,t.point,n.point):h>a&&!FE(t.active,n.active)&&s.compareRange(a,h,t.active,n.active),f>o)break;(u||t.openEnd!=n.openEnd)&&s.boundChange&&s.boundChange(f),a=f,c<=0&&t.next(),c>=0&&n.next()}}function FE(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function vw(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Ow(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function LM(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function au(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=ys(t,i));return r}function ME(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=ys(t,i)}return r===!0?-1:t.length}const LE="Í¼",NM=typeof Symbol>"u"?"__"+LE:Symbol.for(LE),NE=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),QM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Od{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,u){let c=[],f=/^@(\w+)\b/.exec(o[0]),h=f&&f[1]=="keyframes";if(f&&a==null)return l.push(o[0]+";");for(let d in a){let m=a[d];if(/&/.test(d))s(d.split(/,\s*/).map(g=>o.map(b=>g.replace(/&/,b))).reduce((g,b)=>g.concat(b)),m,l);else if(m&&typeof m=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");s(i(d),m,c,h)}else m!=null&&c.push(d.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+m+";")}(c.length||h)&&l.push((r&&!f&&!u?o.map(r):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=QM[NM]||1;return QM[NM]=e+1,LE+e.toString(36)}static mount(e,n,r){let i=e[NE],s=r&&r.nonce;i?s&&i.setNonce(s):i=new l2e(e,s),i.mount(Array.isArray(n)?n:[n],e)}}let BM=new Map;class l2e{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=BM.get(r);if(s)return e[NE]=s;this.sheet=new i.CSSStyleSheet,BM.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[NE]=this}mount(e,n){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let u=0;u<a.rules.length;u++)r.insertRule(a.rules[u],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var wd={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},wv={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},u2e=typeof navigator<"u"&&/Mac/.test(navigator.platform),c2e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ps=0;ps<10;ps++)wd[48+ps]=wd[96+ps]=String(ps);for(var ps=1;ps<=24;ps++)wd[ps+111]="F"+ps;for(var ps=65;ps<=90;ps++)wd[ps]=String.fromCharCode(ps+32),wv[ps]=String.fromCharCode(ps);for(var TC in wd)wv.hasOwnProperty(TC)||(wv[TC]=wd[TC]);function f2e(t){var e=u2e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||c2e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?wv:wd)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function pr(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)HW(t,arguments[e]);return t}function HW(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)HW(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}let io=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},QE=typeof document<"u"?document:{documentElement:{style:{}}};const BE=/Edge\/(\d+)/.exec(io.userAgent),KW=/MSIE \d/.test(io.userAgent),zE=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(io.userAgent),$k=!!(KW||zE||BE),zM=!$k&&/gecko\/(\d+)/i.test(io.userAgent),DC=!$k&&/Chrome\/(\d+)/.exec(io.userAgent),h2e="webkitFontSmoothing"in QE.documentElement.style,UE=!$k&&/Apple Computer/.test(io.vendor),UM=UE&&(/Mobile\/\w+/.test(io.userAgent)||io.maxTouchPoints>2);var qe={mac:UM||/Mac/.test(io.platform),windows:/Win/.test(io.platform),linux:/Linux|X11/.test(io.platform),ie:$k,ie_version:KW?QE.documentMode||6:zE?+zE[1]:BE?+BE[1]:0,gecko:zM,gecko_version:zM?+(/Firefox\/(\d+)/.exec(io.userAgent)||[0,0])[1]:0,chrome:!!DC,chrome_version:DC?+DC[1]:0,ios:UM,android:/Android\b/.test(io.userAgent),webkit_version:h2e?+(/\bAppleWebKit\/(\d+)/.exec(io.userAgent)||[0,0])[1]:0,safari:UE,safari_version:UE?+(/\bVersion\/(\d+(\.\d+)?)/.exec(io.userAgent)||[0,0])[1]:0,tabSize:QE.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function _v(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function jE(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function V_(t,e){if(!e.anchorNode)return!1;try{return jE(t,e.anchorNode)}catch{return!1}}function xv(t){return t.nodeType==3?o0(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Qb(t,e,n,r){return n?jM(t,e,n,r,-1)||jM(t,e,n,r,1):!1}function s0(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function kS(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function jM(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Sc(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=s0(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Sc(t):0}else return!1}}function Sc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ik(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function d2e(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function JW(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function p2e(t,e,n,r,i,s,o,a){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t,f=!1;c&&!f;)if(c.nodeType==1){let h,d=c==l.body,m=1,g=1;if(d)h=d2e(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(f=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let O=c.getBoundingClientRect();({scaleX:m,scaleY:g}=JW(c,O)),h={left:O.left,right:O.left+c.clientWidth*m,top:O.top,bottom:O.top+c.clientHeight*g}}let b=0,v=0;if(i=="nearest")e.top<h.top?(v=e.top-(h.top+o),n>0&&e.bottom>h.bottom+v&&(v=e.bottom-h.bottom+o)):e.bottom>h.bottom&&(v=e.bottom-h.bottom+o,n<0&&e.top-v<h.top&&(v=e.top-(h.top+o)));else{let O=e.bottom-e.top,x=h.bottom-h.top;v=(i=="center"&&O<=x?e.top+O/2-x/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-x+o)-h.top}if(r=="nearest"?e.left<h.left?(b=e.left-(h.left+s),n>0&&e.right>h.right+b&&(b=e.right-h.right+s)):e.right>h.right&&(b=e.right-h.right+s,n<0&&e.left<h.left+b&&(b=e.left-(h.left+s))):b=(r=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:r=="start"==a?e.left-s:e.right-(h.right-h.left)+s)-h.left,b||v)if(d)u.scrollBy(b,v);else{let O=0,x=0;if(v){let C=c.scrollTop;c.scrollTop+=v/g,x=(c.scrollTop-C)*g}if(b){let C=c.scrollLeft;c.scrollLeft+=b/m,O=(c.scrollLeft-C)*m}e={left:e.left-O,top:e.top-x,right:e.right-O,bottom:e.bottom-x},O&&Math.abs(O-b)<1&&(r="nearest"),x&&Math.abs(x-v)<1&&(i="nearest")}if(d)break;(e.top<h.top||e.bottom>h.bottom||e.left<h.left||e.right>h.right)&&(e={left:Math.max(e.left,h.left),right:Math.min(e.right,h.right),top:Math.max(e.top,h.top),bottom:Math.min(e.bottom,h.bottom)}),c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function m2e(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class g2e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Sc(n):0),r,Math.min(e.focusOffset,r?Sc(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let sp=null;qe.safari&&qe.safari_version>=26&&(sp=!1);function eY(t){if(t.setActive)return t.setActive();if(sp)return t.focus(sp);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(sp==null?{get preventScroll(){return sp={preventScroll:!0},!0}}:void 0),!sp){sp=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let qM;function o0(t,e,n=e){let r=qM||(qM=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function sg(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function y2e(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function tY(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function b2e(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Sc(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Sc(n))}else{if(n==t)return!0;r=s0(n),n=n.parentNode}}function nY(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function rY(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Sc(n)}else if(n.parentNode&&!kS(n))r=s0(n),n=n.parentNode;else return null}}function iY(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!kS(n))r=s0(n)+1,n=n.parentNode;else return null}}class Ds{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Ds(e.parentNode,s0(e),n)}static after(e,n){return new Ds(e.parentNode,s0(e)+1,n)}}const QP=[];class cr{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=cr.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=o.dom&&(n.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=VM(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=VM(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=Sc(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!cr.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,u=r,c=r;l<this.children.length;l++){let f=this.children[l],h=u+f.length;if(u<e&&h>n)return f.domBoundsAround(e,n,u);if(h>=e&&i==-1&&(i=l,s=u),u>n&&f.dom.parentNode==this.dom){o=l,a=c;break}c=h,u=h+f.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=QP){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new sY(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}cr.prototype.breakAfter=0;function VM(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class sY{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function oY(t,e,n,r,i,s,o,a,l){let{children:u}=t,c=u.length?u[e]:null,f=s.length?s[s.length-1]:null,h=f?f.breakAfter:o;if(!(e==r&&c&&!o&&!h&&s.length<2&&c.merge(n,i,s.length?f:null,n==0,a,l))){if(r<u.length){let d=u[r];d&&(i<d.length||d.breakAfter&&f?.breakAfter)?(e==r&&(d=d.split(i),i=0),!h&&f&&d.merge(0,i,f,!0,0,l)?s[s.length-1]=d:((i||d.children.length&&!d.children[0].length)&&d.merge(0,i,null,!1,0,l),s.push(d))):d?.breakAfter&&(f?f.breakAfter=1:o=1),r++}for(c&&(c.breakAfter=o,n>0&&(!o&&s.length&&c.merge(n,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,a,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(u[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,a,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function aY(t,e,n,r,i,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:u,off:c}=o.findPos(e,-1),f=e-n;for(let h of r)f+=h.length;t.length+=f,oY(t,u,c,a,l,r,0,i,s)}const v2e=256;class lu extends cr{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof lu)||this.length-(n-e)+r.length>v2e||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new lu(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Ds(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return O2e(this.dom,e,n)}}class Wf extends cr{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(tY(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,s,o){return r&&(!(r instanceof Wf&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(aY(this,e,n,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Wf(this.mark,n,o)}domAtPos(e){return lY(this,e)}coordsAt(e,n){return cY(this,e,n)}}function O2e(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?qe.chrome||qe.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=o0(t,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return qe.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,u=>u.width)||l),o?Ik(l,o<0):l||null}class Af extends cr{static create(e,n,r){return new Af(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=Af.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,s,o){return r&&(!(r instanceof Af)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Af&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Mn.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Mn.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Ds.before(this.dom):Ds.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return Ik(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Wg extends cr{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Wg&&e.side==this.side}split(){return new Wg(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Ds.before(this.dom):Ds.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Mn.empty}get isHidden(){return!0}}lu.prototype.children=Af.prototype.children=Wg.prototype.children=QP;function lY(t,e){let n=t.dom,{children:r}=t,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new Ds(n,0)}function uY(t,e,n){let r,{children:i}=t;n>0&&e instanceof Wf&&i.length&&(r=i[i.length-1])instanceof Wf&&r.mark.eq(e.mark)?uY(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function cY(t,e,n){let r=null,i=-1,s=null,o=-1;function a(u,c){for(let f=0,h=0;f<u.children.length&&h<=c;f++){let d=u.children[f],m=h+d.length;m>=c&&(d.children.length?a(d,c-h):(!s||s.isHidden&&(n>0||_2e(s,d)))&&(m>c||h==m&&d.getSide()>0)?(s=d,o=c-h):(h<c||h==m&&d.getSide()<0&&!d.isHidden)&&(r=d,i=c-h)),h=m}}a(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):w2e(t)}function w2e(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=xv(e);return n[n.length-1]||null}function _2e(t,e){let n=t.coordsAt(0,1),r=e.coordsAt(0,1);return n&&r&&r.top<n.bottom}function qE(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const XM=Object.create(null);function CS(t,e,n){if(t==e)return!0;t||(t=XM),e||(e=XM);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function VE(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function x2e(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class C0{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var ho=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(ho||(ho={}));class Et extends i0{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new FO(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new _d(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=fY(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new _d(e,r,i,n,e.widget||null,!0)}static line(e){return new MO(e)}static set(e,n=!1){return zn.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Et.none=zn.empty;class FO extends Et{constructor(e){let{start:n,end:r}=fY(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof FO&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&CS(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}FO.prototype.point=!1;class MO extends Et{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof MO&&this.spec.class==e.spec.class&&CS(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}MO.prototype.mapMode=ms.TrackBefore;MO.prototype.point=!0;class _d extends Et{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?ms.TrackBefore:ms.TrackAfter:ms.TrackDel}get type(){return this.startSide!=this.endSide?ho.WidgetRange:this.startSide<=0?ho.WidgetBefore:ho.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof _d&&S2e(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}_d.prototype.point=!0;function fY(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function S2e(t,e){return t==e||!!(t&&e&&t.compare(e))}function X_(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Ri extends cr{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,o){if(r){if(!(r instanceof Ri))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),aY(this,e,n,r?r.children.slice():[],s,o),!0}split(e){let n=new Ri;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){CS(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){uY(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=qE(n,this.attrs||{})),r&&(this.attrs=qE({class:r},this.attrs||{}))}domAtPos(e){return lY(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(tY(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(VE(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&cr.get(i)instanceof Wf;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=cr.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!qe.ios||!this.children.some(s=>s instanceof lu))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof lu)||/[^ -~]/.test(r.text))return null;let i=xv(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=cY(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof Ri&&this.children.length==0&&e.children.length==0&&CS(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=n){if(s instanceof Ri)return s;if(o>n)break}i=o+s.breakAfter}return null}}class Nf extends cr{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,o){return r&&(!(r instanceof Nf)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Ds.before(this.dom):Ds.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new Nf(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return QP}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Mn.empty}domBoundsAround(){return null}become(e){return e instanceof Nf&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof XE?null:Ik(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class XE extends C0{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Bb{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Nf&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ri),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(ww(new Wg(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Nf)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e),s=Math.min(i,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(ww(new lu(this.text.slice(this.textOff,this.textOff+s)),n),r),this.atCursorPos=!0,this.textOff+=s,e-=s,r=i<=s?0:n.length}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof _d){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof _d)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Nf(r.widget||Yg.block,a,r));else{let l=Af.create(r.widget||Yg.inline,a,a?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<n||r.startSide>0),c=!l.isEditable&&(e<n||s>i.length||r.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(f.append(ww(new Wg(1),i),s),s=i.length+Math.max(0,s-i.length)),f.append(ww(l,i),s),this.atCursorPos=c,this.pendingBuffer=c?e<n||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let o=new Bb(e,n,r,s);return o.openEnd=zn.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function ww(t,e){for(let n of e)t=new Wf(n,[t],t.length);return t}class Yg extends C0{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Yg.inline=new Yg("span");Yg.block=new Yg("div");var Nr=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(Nr||(Nr={}));const a0=Nr.LTR,BP=Nr.RTL;function hY(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const k2e=hY("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),C2e=hY("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),ZE=Object.create(null),Eu=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);ZE[e]=n,ZE[n]=-e}function dY(t){return t<=247?k2e[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?C2e[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const A2e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Uh{get dir(){return this.level%2?BP:a0}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function pY(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!pY(r.inner,i.inner))return!1}return!0}const gr=[];function E2e(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:n,l=s?256:i;for(let u=o,c=l,f=l;u<a;u++){let h=dY(t.charCodeAt(u));h==512?h=c:h==8&&f==4&&(h=16),gr[u]=h==4?2:h,h&7&&(f=h),c=h}for(let u=o,c=l,f=l;u<a;u++){let h=gr[u];if(h==128)u<a-1&&c==gr[u+1]&&c&24?h=gr[u]=c:gr[u]=256;else if(h==64){let d=u+1;for(;d<a&&gr[d]==64;)d++;let m=u&&c==8||d<n&&gr[d]==8?f==1?1:8:256;for(let g=u;g<d;g++)gr[g]=m;u=d-1}else h==8&&f==1&&(gr[u]=1);c=h,h&7&&(f=h)}}}function T2e(t,e,n,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let u=o?r[o-1].to:e,c=o<r.length?r[o].from:n;for(let f=u,h,d,m;f<c;f++)if(d=ZE[h=t.charCodeAt(f)])if(d<0){for(let g=a-3;g>=0;g-=3)if(Eu[g+1]==-d){let b=Eu[g+2],v=b&2?i:b&4?b&1?s:i:0;v&&(gr[f]=gr[Eu[g]]=v),a=g;break}}else{if(Eu.length==189)break;Eu[a++]=f,Eu[a++]=h,Eu[a++]=l}else if((m=gr[f])==2||m==1){let g=m==i;l=g?0:1;for(let b=a-3;b>=0;b-=3){let v=Eu[b+2];if(v&2)break;if(g)Eu[b+2]|=2;else{if(v&4)break;Eu[b+2]|=4}}}}}function D2e(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=o;l<a;){let u=gr[l];if(u==256){let c=l+1;for(;;)if(c==a){if(i==n.length)break;c=n[i++].to,a=i<n.length?n[i].from:e}else if(gr[c]==256)c++;else break;let f=s==1,h=(c<e?gr[c]:r)==1,d=f==h?f?1:2:r;for(let m=c,g=i,b=g?n[g-1].to:t;m>l;)m==b&&(m=n[--g].from,b=g?n[g-1].to:t),gr[--m]=d;l=c}else s=u,l++}}}function WE(t,e,n,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,u=0;l<n;){let c=!0,f=!1;if(u==s.length||l<s[u].from){let g=gr[l];g!=a&&(c=!1,f=g==16)}let h=!c&&a==1?[]:null,d=c?r:r+1,m=l;e:for(;;)if(u<s.length&&m==s[u].from){if(f)break e;let g=s[u];if(!c)for(let b=g.to,v=u+1;;){if(b==n)break e;if(v<s.length&&s[v].from==b)b=s[v++].to;else{if(gr[b]==a)break e;break}}if(u++,h)h.push(g);else{g.from>l&&o.push(new Uh(l,g.from,d));let b=g.direction==a0!=!(d%2);YE(t,b?r+1:r,i,g.inner,g.from,g.to,o),l=g.to}m=g.to}else{if(m==n||(c?gr[m]!=a:gr[m]==a))break;m++}h?WE(t,l,m,r+1,i,h,o):l<m&&o.push(new Uh(l,m,d)),l=m}else for(let l=n,u=s.length;l>e;){let c=!0,f=!1;if(!u||l>s[u-1].to){let g=gr[l-1];g!=a&&(c=!1,f=g==16)}let h=!c&&a==1?[]:null,d=c?r:r+1,m=l;e:for(;;)if(u&&m==s[u-1].to){if(f)break e;let g=s[--u];if(!c)for(let b=g.from,v=u;;){if(b==e)break e;if(v&&s[v-1].to==b)b=s[--v].from;else{if(gr[b-1]==a)break e;break}}if(h)h.push(g);else{g.to<l&&o.push(new Uh(g.to,l,d));let b=g.direction==a0!=!(d%2);YE(t,b?r+1:r,i,g.inner,g.from,g.to,o),l=g.from}m=g.from}else{if(m==e||(c?gr[m-1]!=a:gr[m-1]==a))break;m--}h?WE(t,m,l,r+1,i,h,o):m<l&&o.push(new Uh(m,l,d)),l=m}}function YE(t,e,n,r,i,s,o){let a=e%2?2:1;E2e(t,i,s,r,a),T2e(t,i,s,r,a),D2e(i,s,r,a),WE(t,i,s,e,n,r,o)}function P2e(t,e,n){if(!t)return[new Uh(0,0,e==BP?1:0)];if(e==a0&&!n.length&&!A2e.test(t))return mY(t.length);if(n.length)for(;t.length>gr.length;)gr[gr.length]=256;let r=[],i=e==a0?0:1;return YE(t,i,i,n,0,t.length,r),r}function mY(t){return[new Uh(0,t,0)]}let gY="";function R2e(t,e,n,r,i){var s;let o=r.head-t.from,a=Uh.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],u=l.side(i,n);if(o==u){let h=a+=i?1:-1;if(h<0||h>=e.length)return null;l=e[a=h],o=l.side(!i,n),u=l.side(i,n)}let c=ys(t.text,o,l.forward(i,n));(c<l.from||c>l.to)&&(c=u),gY=t.text.slice(Math.min(o,c),Math.max(o,c));let f=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return f&&c==u&&f.level+(i?0:1)<l.level?he.cursor(f.side(!i,n)+t.from,f.forward(i,n)?1:-1,f.level):he.cursor(c+t.from,l.forward(i,n)?-1:1,l.level)}function $2e(t,e,n){for(let r=e;r<n;r++){let i=dY(t.charCodeAt(r));if(i==1)return a0;if(i==2||i==4)return BP}return a0}const yY=Ze.define(),bY=Ze.define(),vY=Ze.define(),OY=Ze.define(),GE=Ze.define(),wY=Ze.define(),_Y=Ze.define(),zP=Ze.define(),UP=Ze.define(),xY=Ze.define({combine:t=>t.some(e=>e)}),SY=Ze.define({combine:t=>t.some(e=>e)}),kY=Ze.define();class og{constructor(e,n="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new og(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new og(he.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const _w=Yt.define({map:(t,e)=>t.map(e)}),CY=Yt.define();function co(t,e,n){let r=t.facet(OY);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const Sf=Ze.define({combine:t=>t.length?t[0]:!0});let I2e=0;const Fm=Ze.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class Mi{constructor(e,n,r,i,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Fm.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Fm.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=n||{};return new Mi(I2e++,e,r,i,a=>{let l=[];return o&&l.push(Sv.of(u=>{let c=u.plugin(a);return c?o(c):Et.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return Mi.define((r,i)=>new e(r,i),n)}}class PC{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(co(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){co(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){co(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const AY=Ze.define(),jP=Ze.define(),Sv=Ze.define(),EY=Ze.define(),LO=Ze.define(),TY=Ze.define();function ZM(t,e){let n=t.state.facet(TY);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(t):s),i=[];return zn.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let u=s-e.from,c=o-e.from,f=i;for(let h=a.length-1;h>=0;h--,l--){let d=a[h].spec.bidiIsolate,m;if(d==null&&(d=$2e(e.text,u,c)),l>0&&f.length&&(m=f[f.length-1]).to==u&&m.direction==d)m.to=c,f=m.inner;else{let g={from:u,to:c,direction:d,inner:[]};f.push(g),f=g.inner}}}}),i}const DY=Ze.define();function qP(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(DY)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const gb=Ze.define();class gl{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new gl(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],u=o-a,c=l?l.fromB:1e9;for(;s<n.length&&n[s]<c;){let f=n[s],h=n[s+1],d=Math.max(a,f),m=Math.min(c,h);if(d<=m&&new gl(d+u,m+u,d,m).addToSet(r),h>c)break;s+=2}if(!l)return r;new gl(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class AS{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Xi.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new gl(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new AS(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class WM extends cr{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Et.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Ri],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new gl(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!z2e(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?M2e(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;r=new gl(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(qe.ie||qe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=Q2e(o,a,e.changes);return r=gl.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=qe.chrome||qe.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Nf&&o.widget instanceof XE&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:u,fromB:c,toB:f}=a,h,d,m,g;if(r&&r.range.fromB<f&&r.range.toB>c){let C=Bb.build(this.view.state.doc,c,r.range.fromB,this.decorations,this.dynamicDecorationMap),S=Bb.build(this.view.state.doc,r.range.toB,f,this.decorations,this.dynamicDecorationMap);d=C.breakAtStart,m=C.openStart,g=S.openEnd;let A=this.compositionView(r);S.breakAtStart?A.breakAfter=1:S.content.length&&A.merge(A.length,A.length,S.content[0],!1,S.openStart,0)&&(A.breakAfter=S.content[0].breakAfter,S.content.shift()),C.content.length&&A.merge(0,0,C.content[C.content.length-1],!0,0,C.openEnd)&&C.content.pop(),h=C.content.concat(A).concat(S.content)}else({content:h,breakAtStart:d,openStart:m,openEnd:g}=Bb.build(this.view.state.doc,c,f,this.decorations,this.dynamicDecorationMap));let{i:b,off:v}=s.findPos(u,1),{i:O,off:x}=s.findPos(l,-1);oY(this,O,x,b,v,h,d,m,g)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(CY)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new lu(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new Wf(i,[n],n.length);let r=new Ri;return r.append(n,0),r}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=cr.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],n(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(Sf)||this.dom.tabIndex>-1)&&V_(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),u=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(qe.gecko&&a.empty&&!this.hasComposition&&F2e(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=u=new Ds(f,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||(!Qb(l.node,l.offset,c.anchorNode,c.anchorOffset)||!Qb(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,a))&&(this.view.observer.ignore(()=>{qe.android&&qe.chrome&&this.dom.contains(c.focusNode)&&B2e(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=_v(this.view.root);if(f)if(a.empty){if(qe.gecko){let h=L2e(l.node,l.offset);if(h&&h!=3){let d=(h==1?rY:iY)(l.node,l.offset);d&&(l=new Ds(d.node,d.offset))}}f.collapse(l.node,l.offset),a.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(u.node,u.offset)}catch{}}else{let h=document.createRange();a.anchor>a.head&&([l,u]=[u,l]),h.setEnd(u.node,u.offset),h.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(h)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new Ds(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new Ds(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Qb(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=_v(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=Ri.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(n.head+n.assoc);r.collapse(c.node,c.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&r.collapse(i,s)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let s=cr.get(n.childNodes[i]);s instanceof Ri&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=cr.get(n.childNodes[i]);s instanceof Ri&&(r=s.domAtPos(s.length))}return r?new Ds(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=cr.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof Ri)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,u=l-a.length;if(l<e)break;if(u<=e&&(u<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof Ri&&!(r instanceof Ri&&n>=0)))r=a,i=u;else if(r&&u==e&&l==e&&a instanceof Nf&&Math.abs(n)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=u}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof Ri))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof lu))return null;let s=ys(i.text,r);if(s==r)return null;let o=o0(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Nr.LTR;for(let u=0,c=0;c<this.children.length;c++){let f=this.children[c],h=u+f.length;if(h>i)break;if(u>=r){let d=f.dom.getBoundingClientRect();if(n.push(d.height),o){let m=f.dom.lastChild,g=m?xv(m):[];if(g.length){let b=g[g.length-1],v=l?b.right-d.left:d.right-b.left;v>a&&(a=v,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=h)}}}u=h+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Nr.RTL:Nr.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Ri){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=xv(e.firstChild)[0];n=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new sY(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Et.replace({widget:new XE(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return Et.set(e)}updateDeco(){let e=1,n=this.view.state.facet(Sv).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(EY).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(zn.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(kY))try{if(u(this.view,e.range,e))return!0}catch(c){co(this.view.state,c,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=qP(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;p2e(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Nr.LTR)}lineHasWidget(e){let{i:n}=this.childCursor().findPos(e);if(n==this.children.length)return!1;let r=i=>i instanceof Af||i.children.some(r);return r(this.children[n])}}function F2e(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function PY(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=rY(n.focusNode,n.focusOffset),i=iY(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=cr.get(i.node);if(!a||a instanceof lu&&a.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let l=cr.get(r.node);!l||l instanceof lu&&l.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function M2e(t,e,n){let r=PY(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,u=new gl(l.mapPos(s),l.mapPos(o),s,o),c=[];for(let f=i.parentNode;;f=f.parentNode){let h=cr.get(f);if(h instanceof Wf)c.push({node:f,deco:h.mark});else{if(h instanceof Ri||f.nodeName=="DIV"&&f.parentNode==t.contentDOM)return{range:u,text:i,marks:c,line:f};if(f!=t.contentDOM)c.push({node:f,deco:new FO({inclusive:!0,attributes:x2e(f),tagName:f.tagName.toLowerCase()})});else return null}}}function L2e(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let N2e=class{constructor(){this.changes=[]}compareRange(e,n){X_(e,n,this.changes)}comparePoint(e,n){X_(e,n,this.changes)}boundChange(e){X_(e,e,this.changes)}};function Q2e(t,e,n){let r=new N2e;return zn.compare(t,e,n,r),r.changes}function B2e(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function z2e(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function U2e(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return he.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=ys(i.text,s,!1):a=ys(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let u=ys(i.text,o,!1);if(r(i.text.slice(u,o))!=l)break;o=u}for(;a<i.length;){let u=ys(i.text,a);if(r(i.text.slice(a,u))!=l)break;a=u}return he.range(o+i.from,a+i.from)}function j2e(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function q2e(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function RC(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function YM(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function GM(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function HE(t,e,n){let r,i,s,o,a=!1,l,u,c,f;for(let m=t.firstChild;m;m=m.nextSibling){let g=xv(m);for(let b=0;b<g.length;b++){let v=g[b];i&&RC(i,v)&&(v=YM(GM(v,i.bottom),i.top));let O=j2e(e,v),x=q2e(n,v);if(O==0&&x==0)return m.nodeType==3?HM(m,e,n):HE(m,e,n);(!r||o>x||o==x&&s>O)&&(r=m,i=v,s=O,o=x,a=O?e<v.left?b>0:b<g.length-1:!0),O==0?n>v.bottom&&(!c||c.bottom<v.bottom)?(l=m,c=v):n<v.top&&(!f||f.top>v.top)&&(u=m,f=v):c&&RC(c,v)?c=GM(c,v.bottom):f&&RC(f,v)&&(f=YM(f,v.top))}}if(c&&c.bottom>=n?(r=l,i=c):f&&f.top<=n&&(r=u,i=f),!r)return{node:t,offset:0};let h=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return HM(r,h,n);if(a&&r.contentEditable!="false")return HE(r,h,n);let d=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:d}}function HM(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=o0(t,a,a+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;o||(o=e-c.left);let f=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&f<s){let h=e>=(c.left+c.right)/2,d=h;if((qe.chrome||qe.gecko)&&o0(t,a).getBoundingClientRect().left==c.right&&(d=!h),f<=0)return{node:t,offset:a+(d?1:0)};i=a+(d?1:0),s=f}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function RY(t,e,n,r=-1){var i,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:f}=e,h=f-a;if(h<0)return 0;if(h>u)return t.state.doc.length;for(let C=t.viewState.heightOracle.textHeight/2,S=!1;l=t.elementAtHeight(h),l.type!=ho.Text;)for(;h=r>0?l.bottom+C:l.top-C,!(h>=0&&h<=u);){if(S)return n?null:0;S=!0,r=-r}f=a+h;let d=l.from;if(d<t.viewport.from)return t.viewport.from==0?0:n?null:KM(t,o,l,c,f);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:KM(t,o,l,c,f);let m=t.dom.ownerDocument,g=t.root.elementFromPoint?t.root:m,b=g.elementFromPoint(c,f);b&&!t.contentDOM.contains(b)&&(b=null),b||(c=Math.max(o.left+1,Math.min(o.right-1,c)),b=g.elementFromPoint(c,f),b&&!t.contentDOM.contains(b)&&(b=null));let v,O=-1;if(b&&((i=t.docView.nearest(b))===null||i===void 0?void 0:i.isEditable)!=!1){if(m.caretPositionFromPoint){let C=m.caretPositionFromPoint(c,f);C&&({offsetNode:v,offset:O}=C)}else if(m.caretRangeFromPoint){let C=m.caretRangeFromPoint(c,f);C&&({startContainer:v,startOffset:O}=C)}v&&(!t.contentDOM.contains(v)||qe.safari&&V2e(v,O,c)||qe.chrome&&X2e(v,O,c))&&(v=void 0),v&&(O=Math.min(Sc(v),O))}if(!v||!t.docView.dom.contains(v)){let C=Ri.find(t.docView,d);if(!C)return h>l.top+l.height/2?l.to:l.from;({node:v,offset:O}=HE(C.dom,c,f))}let x=t.docView.nearest(v);if(!x)return null;if(x.isWidget&&((s=x.dom)===null||s===void 0?void 0:s.nodeType)==1){let C=x.dom.getBoundingClientRect();return e.y<C.top||e.y<=C.bottom&&e.x<=(C.left+C.right)/2?x.posAtStart:x.posAtEnd}else return x.localPosFromDOM(v,O)+x.posAtStart}function KM(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+ME(o,s,t.state.tabSize)}function $Y(t,e,n){let r,i=t;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(;;){let s=i.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let o=i.parentNode;if(!o||o.nodeName=="DIV")break;i=o}}return o0(t,r-1,r).getBoundingClientRect().right>n}function V2e(t,e,n){return $Y(t,e,n)}function X2e(t,e,n){if(e!=0)return $Y(t,e,n);for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=t.nodeType==1?t.getBoundingClientRect():o0(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function KE(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==ho.Text&&(i.type!=s.type||(n<0?s.from<e:s.to>e)))&&(i=s)}}return i||r}return r}function Z2e(t,e,n,r){let i=KE(t,e.head,e.assoc||-1),s=!r||i.type!=ho.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==Nr.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return he.cursor(l,n?-1:1)}return he.cursor(n?i.to:i.from,n?-1:1)}function JM(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let u=R2e(i,s,o,a,n),c=gY;if(!u){if(i.number==(n?t.state.doc.lines:1))return a;c=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),u=t.visualLineSide(i,!n)}if(l){if(!l(c))return a}else{if(!r)return u;l=r(c)}a=u}}function W2e(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==qr.Space&&(i=o),i==o}}function Y2e(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return he.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i,e.assoc||-1),c=t.documentTop;if(u)o==null&&(o=u.left-l.left),a=s<0?u.top:u.bottom;else{let d=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-d.from))),a=(s<0?d.top:d.bottom)+c}let f=l.left+o,h=r??t.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let m=a+(h+d)*s,g=RY(t,{x:f,y:m},!1,s);if(m<l.top||m>l.bottom||(s<0?g<i:g>i)){let b=t.docView.coordsForChar(g),v=!b||m<b.top?-1:1;return he.cursor(g,v,void 0,o)}}}function zb(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||n||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function IY(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=zb(t,i.from,0);o!=i.from&&(s=he.cursor(o,-1))}else{let o=zb(t,i.from,-1),a=zb(t,i.to,1);(o!=i.from||a!=i.to)&&(s=he.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?he.create(n,e.mainIndex):e}function $C(t,e,n){let r=zb(t.state.facet(LO).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:he.cursor(r,r<n.from?1:-1)}const yb="ï¿¿";class G2e{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(Dn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=yb}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==n)break;let a=cr.get(i),l=cr.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:kS(i))||kS(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&!K2e(o,n)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let n=cr.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(H2e(e,r.node,r.offset)?n:0))}}function H2e(t,e,n){for(;;){if(!e||n<Sc(e))return!1;if(e==t)return!0;n=s0(e)+1,e=e.parentNode}}function K2e(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=cr.get(t);if(!(r?.isWidget||t.cmIgnore))return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i?.length)return!1}return!0}class eL{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class J2e{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=s||o?[]:twe(e),l=new G2e(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=nwe(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!jE(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),u=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!jE(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),c=e.viewport;if((qe.ios||qe.chrome)&&e.state.selection.main.empty&&l!=u&&(c.from>0||c.to<e.state.doc.length)){let f=Math.min(l,u),h=Math.max(l,u),d=c.from-f,m=c.to-h;(d==0||d==1||f==0)&&(m==0||m==-1||h==e.state.doc.length)&&(l=0,u=e.state.doc.length)}this.newSel=he.single(u,l)}}}function FY(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,u=null;(s===8||qe.android&&e.text.length<a-o)&&(l=i.to,u="end");let c=MY(t.state.doc.sliceString(o,a,yb),e.text,l-o,u);c&&(qe.chrome&&s==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==yb+yb&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:Mn.of(e.text.slice(c.from,c.toB).split(yb))})}else r&&(!t.hasFocus&&t.state.facet(Sf)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(qe.mac||qe.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=he.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Mn.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:qe.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=he.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Mn.of([" "])}),n)return VP(t,n,r,s);if(r&&!r.main.eq(i)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin,a=="select.pointer"&&(r=IY(t.state.facet(LO).map(l=>l(t)),r))),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function VP(t,e,n,r=-1){if(qe.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(qe.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&sg(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&sg(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&sg(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=ewe(t,e,n));return t.state.facet(wY).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function ewe(t,e,n){let r,i=t.state,s=i.selection.main,o=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let l=e.from<s.from?-1:1,u=l<0?s.from:s.to,c=zb(i.facet(LO).map(f=>f(t)),u,l);e.from==c&&(o=c)}if(o>-1)r={changes:e,selection:he.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let l=s.from<e.from?i.sliceDoc(s.from,e.from):"",u=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(l+e.insert.sliceString(0,void 0,t.state.lineBreak)+u))}else{let l=i.changes(e),u=n&&n.main.to<=l.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to+10&&e.to>=s.to-10){let c=t.state.sliceDoc(e.from,e.to),f,h=n&&PY(t,n.main.head);if(h){let g=e.insert.length-(e.to-e.from);f={from:h.from,to:h.to-g}}else f=t.state.doc.lineAt(s.head);let d=s.to-e.to,m=s.to-s.from;r=i.changeByRange(g=>{if(g.from==s.from&&g.to==s.to)return{changes:l,range:u||g.map(l)};let b=g.to-d,v=b-c.length;if(g.to-g.from!=m||t.state.sliceDoc(v,b)!=c||g.to>=f.from&&g.from<=f.to)return{range:g};let O=i.changes({from:v,to:b,insert:e.insert}),x=g.to-s.to;return{changes:O,range:u?he.range(Math.max(0,u.anchor+x),Math.max(0,u.head+x)):g.map(O)}})}else r={changes:l,selection:u&&i.selection.replaceRange(u)}}let a="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:a,scrollIntoView:!0})}function MY(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function twe(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new eL(n,r)),(i!=n||s!=r)&&e.push(new eL(i,s))),e}function nwe(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?he.single(n+e,r+e):null}class rwe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,qe.safari&&e.contentDOM.addEventListener("input",()=>null),qe.gecko&&vwe(e.contentDOM.ownerDocument)}handleEvent(e){!fwe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=iwe(e),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&NY.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),qe.android&&qe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return qe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=LY.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||swe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,sg(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:qe.safari&&!qe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function tL(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){co(n.state,i)}}}function iwe(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,s=i&&i.plugin.domEventHandlers,o=i&&i.plugin.domEventObservers;if(s)for(let a in s){let l=s[a];l&&n(a).handlers.push(tL(r.value,l))}if(o)for(let a in o){let l=o[a];l&&n(a).observers.push(tL(r.value,l))}}for(let r in uu)n(r).handlers.push(uu[r]);for(let r in Sl)n(r).observers.push(Sl[r]);return e}const LY=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],swe="dthko",NY=[16,17,18,20,91,92,224,225],xw=6;function Sw(t){return Math.max(0,t)*.7+8}function owe(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class awe{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=m2e(e.contentDOM),this.atoms=e.state.facet(LO).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Dn.allowMultipleSelections)&&lwe(e,n),this.dragging=cwe(e,n)&&zY(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&owe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=qP(this.view);e.clientX-l.left<=i+xw?n=-Sw(i-e.clientX):e.clientX+l.right>=o-xw&&(n=Sw(e.clientX-o)),e.clientY-l.top<=s+xw?r=-Sw(s-e.clientY):e.clientY+l.bottom>=a-xw&&(r=Sw(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=IY(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function lwe(t,e){let n=t.state.facet(yY);return n.length?n[0](e):qe.mac?e.metaKey:e.ctrlKey}function uwe(t,e){let n=t.state.facet(bY);return n.length?n[0](e):qe.mac?!e.altKey:!e.ctrlKey}function cwe(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=_v(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function fwe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=cr.get(n))&&r.ignoreEvent(e))return!1;return!0}const uu=Object.create(null),Sl=Object.create(null),QY=qe.ie&&qe.ie_version<15||qe.ios&&qe.webkit_version<604;function hwe(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),BY(t,n.value)},50)}function Fk(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function BY(t,e){e=Fk(t.state,zP,e);let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(JE!=null&&n.selection.ranges.every(l=>l.empty)&&JE==s.toString()){let l=-1;r=n.changeByRange(u=>{let c=n.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let f=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:f},range:he.cursor(u.from+f.length)}})}else o?r=n.changeByRange(l=>{let u=s.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:he.cursor(l.from+u.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Sl.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};uu.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Sl.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Sl.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};uu.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(vY))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=mwe(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new awe(t,e,n,r)),r&&t.observer.ignore(()=>{eY(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function nL(t,e,n,r){if(r==1)return he.cursor(e,n);if(r==2)return U2e(t.state,e,n);{let i=Ri.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,he.range(o,a)}}let rL=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function dwe(t,e,n,r){let i=Ri.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&rL(n,r,o))return-1;let a=i.coordsAt(s,1);return a&&rL(n,r,a)?1:o&&o.bottom>=r?-1:1}function iL(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:dwe(t,n,e.clientX,e.clientY)}}const pwe=qe.ie&&qe.ie_version<=11;let sL=null,oL=0,aL=0;function zY(t){if(!pwe)return t.detail;let e=sL,n=aL;return sL=t,aL=Date.now(),oL=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(oL+1)%3:1}function mwe(t,e){let n=iL(t,e),r=zY(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=iL(t,s),u,c=nL(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){let f=nL(t,n.pos,n.bias,r),h=Math.min(f.from,c.from),d=Math.max(f.to,c.to);c=h<c.from?he.range(h,d):he.range(d,h)}return o?i.replaceRange(i.main.extend(c.from,c.to)):a&&r==1&&i.ranges.length>1&&(u=gwe(i,l.pos))?u:a?i.addRange(c):he.create([c])}}}function gwe(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return he.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}uu.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=n.to||o<=n.from)&&(n=he.range(s,o))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",Fk(t.state,UP,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};uu.dragend=t=>(t.inputState.draggedContent=null,!1);function lL(t,e,n,r){if(n=Fk(t.state,zP,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&uwe(t,e)?{from:s.from,to:s.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}uu.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&lL(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return lL(t,e,r,!0),!0}return!1};uu.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=QY?null:e.clipboardData;return n?(BY(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(hwe(t),!1)};function ywe(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function bwe(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:Fk(t,UP,e.join(t.lineBreak)),ranges:n,linewise:r}}let JE=null;uu.copy=uu.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=bwe(t.state);if(!n&&!i)return!1;JE=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=QY?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(ywe(t,n),!1)};const UY=oh.define();function jY(t,e){let n=[];for(let r of t.facet(_Y)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:UY.of(!0)}):null}function qY(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=jY(t.state,e);n?t.dispatch(n):t.update([])}},10)}Sl.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),qY(t)};Sl.blur=t=>{t.observer.clearSelectionRange(),qY(t)};Sl.compositionstart=Sl.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Sl.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,qe.chrome&&qe.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Sl.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};uu.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),u=t.posAtDOM(a.endContainer,a.endOffset);return VP(t,{from:l,to:u,insert:t.state.toText(s)},null),!0}}let i;if(qe.chrome&&qe.android&&(i=LY.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return qe.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),qe.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Sl.compositionend(t,e),20),!1};const uL=new Set;function vwe(t){uL.has(t)||(uL.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const cL=["pre-wrap","normal","pre-line","break-spaces"];let Gg=!1;function fL(){Gg=!1}class Owe{constructor(e){this.lineWrapping=e,this.doc=Mn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return cL.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,o){let a=cL.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<o.length;u++){let c=o[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class wwe{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Wu{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?ho.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof _d?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Wu(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Lr=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(Lr||(Lr={}));const Z_=.001;class po{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Z_&&(Gg=!0),this.height=e)}replace(e,n,r){return po.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:u,fromB:c,toB:f}=i[a],h=s.lineAt(l,Lr.ByPosNoHeight,r.setDoc(n),0,0),d=h.to>=u?h:s.lineAt(u,Lr.ByPosNoHeight,r,0,0);for(f+=d.to-u,u=d.to;a>0&&h.from<=i[a-1].toA;)l=i[a-1].fromA,c=i[a-1].fromB,a--,l<h.from&&(h=s.lineAt(l,Lr.ByPosNoHeight,r,0,0));c+=h.from-l,l=h.from;let m=XP.build(r.setDoc(o),e,c,f);s=ES(s,s.replace(l,u,m))}return s.updateHeight(r,0)}static empty(){return new wa(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new _we(po.of(e.slice(0,n)),o,po.of(e.slice(r)))}}function ES(t,e){return t==e?t:(t.constructor!=e.constructor&&(Gg=!0),e)}po.prototype.size=1;class VY extends po{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new Wu(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class wa extends VY{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new Wu(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof wa||i instanceof ds&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof ds?i=new wa(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):po.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ds extends po{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),c=n.doc.lineAt(u),f=a+c.length*l,h=Math.max(r,e-f/2);return new Wu(c.from,c.length,h,f,0)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:c,length:f}=n.doc.line(s+u);return new Wu(c,f,r+a*u,a,0)}}lineAt(e,n,r,i,s){if(n==Lr.ByHeight)return this.blockAt(e,r,i,s);if(n==Lr.ByPosNoHeight){let{from:d,to:m}=r.doc.lineAt(e);return new Wu(d,m-d,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),u=r.doc.lineAt(e),c=a+u.length*l,f=u.number-o,h=i+a*f+l*(u.from-s-f);return new Wu(u.from,u.length,Math.max(i,Math.min(h,i+this.height-c)),c,0)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:u}=this.heightMetrics(r,s);for(let c=e,f=i;c<=n;){let h=r.doc.lineAt(c);if(c==e){let m=h.number-a;f+=l*m+u*(e-s-m)}let d=l+u*h.length;o(new Wu(h.from,h.length,f,d,0)),f+=d,c=h.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof ds?r[r.length-1]=new ds(s.length+i):r.push(null,new ds(i-1))}if(e>0){let s=r[0];s instanceof ds?r[0]=new ds(e+s.length):r.unshift(new ds(e-1),null)}return po.of(r)}decomposeLeft(e,n){n.push(new ds(e-1),null)}decomposeRight(e,n){n.push(null,new ds(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new ds(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let c=e.doc.lineAt(a).length;o.length&&o.push(null);let f=i.heights[i.index++];l==-1?l=f:Math.abs(f-l)>=Z_&&(l=-2);let h=new wa(c,f);h.outdated=!1,o.push(h),a+=c+1}a<=s&&o.push(null,new ds(s-a).updateHeight(e,a));let u=po.of(o);return(l<0||Math.abs(u.height-this.height)>=Z_||Math.abs(l-this.heightMetrics(e,n).perLine)>=Z_)&&(Gg=!0),ES(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class _we extends po{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==Lr.ByHeight?e<o:e<a,u=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?u.to<a:u.from>a))return u;let c=n==Lr.ByPosNoHeight?Lr.ByPosNoHeight:Lr.ByPos;return l?u.join(this.right.lineAt(a,c,r,o,a)):this.left.lineAt(a,c,r,i,s).join(u)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let u=this.lineAt(l,Lr.ByPos,r,i,s);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,s,o),u.to>=e&&u.from<=n&&o(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&hL(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),hL(s,a)}return po.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?po.of(this.break?[e,null,n]:[e,n]):(this.left=ES(this.left,e),this.right=ES(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function hL(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof ds&&(r=t[e+1])instanceof ds&&t.splice(e-1,3,new ds(n.length+1+r.length))}const xwe=5;class XP{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof wa?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new wa(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new VY(o,i,r)):(o||s||i>=xwe)&&this.addLineDeco(i,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new wa(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new ds(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof wa)return e;let n=new wa(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof wa)&&!this.isCovered?this.nodes.push(new wa(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof wa&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new XP(r,e);return zn.spans(n,r,i,s,0),s.finish(r)}}function Swe(t,e,n){let r=new kwe;return zn.compare(t,e,n,r,0),r.changes}class kwe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&X_(e,n,this.changes,5)}}function Cwe(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let c=u,f=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&f.overflow!="visible"){let h=c.getBoundingClientRect();s=Math.max(s,h.left),o=Math.min(o,h.right),a=Math.max(a,h.top),l=Math.min(u==t.parentNode?i.innerHeight:l,h.bottom)}u=f.position=="absolute"||f.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function Awe(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function Ewe(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class IC{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,n){return Et.replace({widget:new Twe(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class Twe extends C0{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class dL{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=pL,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Nr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(jP).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Owe(n),this.stateDeco=e.facet(Sv).filter(r=>typeof r!="function"),this.heightMap=po.empty().applyChanges(this.stateDeco,Mn.empty,this.heightOracle.setDoc(e.doc),[new gl(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Et.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new kw(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?pL:new ZP(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(bb(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Sv).filter(c=>typeof c!="function");let i=e.changedRanges,s=gl.extendWithRanges(i,Swe(r,this.stateDeco,e?e.changes:Xi.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);fL(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||Gg)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let u=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(SY)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Nr.RTL:Nr.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let u=0,c=0;if(a.width&&a.height){let{scaleX:C,scaleY:S}=JW(n,a);(C>.005&&Math.abs(this.scaleX-C)>.005||S>.005&&Math.abs(this.scaleY-S)>.005)&&(this.scaleX=C,this.scaleY=S,u|=16,o=l=!0)}let f=(parseInt(r.paddingTop)||0)*this.scaleY,h=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=h)&&(this.paddingTop=f,this.paddingBottom=h,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=nY(e.scrollDOM);let m=(this.printing?Ewe:Cwe)(n,this.paddingTop),g=m.top-this.pixelViewport.top,b=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget&&!Awe(e.dom))return 0;let O=a.width;if((this.contentDOMWidth!=O||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),l){let C=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(C)&&(o=!0),o||i.lineWrapping&&Math.abs(O-this.contentDOMWidth)>i.charWidth){let{lineHeight:S,charWidth:A,textHeight:k}=e.docView.measureTextSize();o=S>0&&i.refresh(s,S,A,k,Math.max(5,O/A),C),o&&(e.docView.minWidth=0,u|=16)}g>0&&b>0?c=Math.max(g,b):g<0&&b<0&&(c=Math.min(g,b)),fL();for(let S of this.viewports){let A=S.from==this.viewport.from?C:e.docView.measureVisibleLineHeights(S);this.heightMap=(o?po.empty().applyChanges(this.stateDeco,Mn.empty,this.heightOracle,[new gl(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new wwe(S.from,A))}Gg&&(u|=2)}let x=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(c,this.scrollTarget),u|=this.updateForViewport()),(u&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new kw(i.lineAt(o-r*1e3,Lr.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,Lr.ByHeight,s,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(u,Lr.ByPos,s,0,0),h;n.y=="center"?h=(f.top+f.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&u<l.from?h=f.top:h=f.bottom-c,l=new kw(i.lineAt(h-1e3/2,Lr.ByHeight,s,0,0).from,i.lineAt(h+c+1e3/2,Lr.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new kw(this.heightMap.lineAt(r,Lr.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Lr.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Lr.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,Lr.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new IC(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=Nr.LTR&&!r)return[];let a=[],l=(c,f,h,d)=>{if(f-c<s)return;let m=this.state.selection.main,g=[m.from];m.empty||g.push(m.to);for(let v of g)if(v>c&&v<f){l(c,v-10,h,d),l(v+10,f,h,d);return}let b=Pwe(e,v=>v.from>=h.from&&v.to<=h.to&&Math.abs(v.from-c)<s&&Math.abs(v.to-f)<s&&!g.some(O=>v.from<O&&v.to>O));if(!b){if(f<h.to&&n&&r&&n.visibleRanges.some(x=>x.from<=f&&x.to>=f)){let x=n.moveToLineBoundary(he.cursor(f),!1,!0).head;x>c&&(f=x)}let v=this.gapSize(h,c,f,d),O=r||v<2e6?v:2e6;b=new IC(c,f,v,O)}a.push(b)},u=c=>{if(c.length<o||c.type!=ho.Text)return;let f=Dwe(c.from,c.to,this.stateDeco);if(f.total<o)return;let h=this.scrollTarget?this.scrollTarget.range.head:null,d,m;if(r){let g=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,b,v;if(h!=null){let O=Aw(f,h),x=((this.visibleBottom-this.visibleTop)/2+g)/c.height;b=O-x,v=O+x}else b=(this.visibleTop-c.top-g)/c.height,v=(this.visibleBottom-c.top+g)/c.height;d=Cw(f,b),m=Cw(f,v)}else{let g=f.total*this.heightOracle.charWidth,b=i*this.heightOracle.charWidth,v=0;if(g>2e6)for(let A of e)A.from>=c.from&&A.from<c.to&&A.size!=A.displaySize&&A.from*this.heightOracle.charWidth+v<this.pixelViewport.left&&(v=A.size-A.displaySize);let O=this.pixelViewport.left+v,x=this.pixelViewport.right+v,C,S;if(h!=null){let A=Aw(f,h),k=((x-O)/2+b)/g;C=A-k,S=A+k}else C=(O-b)/g,S=(x+b)/g;d=Cw(f,C),m=Cw(f,S)}d>c.from&&l(c.from,d,c,f),m<c.to&&l(m,c.to,c,f)};for(let c of this.viewportLines)Array.isArray(c.type)?c.type.forEach(u):u(c);return a}gapSize(e,n,r,i){let s=Aw(i,r)-Aw(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){IC.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Et.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];zn.spans(n,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||bb(this.heightMap.lineAt(e,Lr.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||bb(this.heightMap.lineAt(this.scaler.fromDOM(e),Lr.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return bb(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class kw{constructor(e,n){this.from=e,this.to=n}}function Dwe(t,e,n){let r=[],i=t,s=0;return zn.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function Cw({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function Aw(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function Pwe(t,e){for(let n of t)if(e(n))return n}const pL={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class ZP{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let u=n.lineAt(a,Lr.ByPos,e,0,0).top,c=n.lineAt(l,Lr.ByPos,e,0,0).bottom;return i+=c-u,{from:a,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof ZP?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function bb(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Wu(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>bb(i,e)):t._content)}const Ew=Ze.define({combine:t=>t.join(" ")}),e8=Ze.define({combine:t=>t.indexOf(!0)>-1}),t8=Od.newName(),XY=Od.newName(),ZY=Od.newName(),WY={"&light":"."+XY,"&dark":"."+ZY};function n8(t,e,n){return new Od(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const Rwe=n8("."+t8,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},WY),$we={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},FC=qe.ie&&qe.ie_version<=11;class Iwe{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new g2e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(qe.ie&&qe.ie_version<=11||qe.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&qe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(qe.chrome&&qe.chrome_version<126)&&(this.editContext=new Mwe(e),e.state.facet(Sf)&&(e.contentDOM.editContext=this.editContext.editContext)),FC&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Sf)?r.root.activeElement!=this.dom:!V_(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(qe.ie&&qe.ie_version<=11||qe.android&&qe.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Qb(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=_v(e.root);if(!n)return!1;let r=qe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Fwe(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=V_(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&b2e(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,$we),FC&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),FC&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&sg(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&V_(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new J2e(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=FY(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=mL(n,e.previousSibling||e.target.previousSibling,-1),i=mL(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Sf)!=e.state.facet(Sf)&&(e.view.contentDOM.editContext=e.state.facet(Sf)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function mL(t,e,n){for(;e;){let r=cr.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function gL(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return Qb(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Fwe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return gL(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?gL(t,n):null}class Mwe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let u=l-a>r.text.length;a==this.from&&s<this.from?a=s:l==this.to&&s>this.to&&(l=s);let c=MY(e.state.sliceDoc(a,l),r.text,(u?i.from:i.to)-a,u?"end":null);if(!c){let h=he.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));h.main.eq(i)||e.dispatch({selection:h,userEvent:"select"});return}let f={from:c.from+a,to:c.toA+a,insert:Mn.of(r.text.slice(c.from,c.toB).split(`
`))};if((qe.mac||qe.android)&&f.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(f={from:a,to:l,insert:Mn.of([r.text.replace("."," ")])}),this.pendingContextChange=f,!e.state.readOnly){let h=this.to-this.from+(f.to-f.from+f.insert.length);VP(e,f,he.single(this.toEditorPos(r.selectionStart,h),this.toEditorPos(r.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),f.from<f.to&&!f.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(a)){let l=this.toEditorPos(s.rangeStart),u=this.toEditorPos(s.rangeEnd);if(l<u){let c=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(a)?1:2}px`;i.push(Et.mark({attributes:{style:c}}).range(l,u))}}}e.dispatch({effects:CY.of(Et.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=_v(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,u)=>{if(r)return;let c=u.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(u)){i=this.pendingContextChange=null,n+=c,this.to+=c;return}else i=null,this.revertPending(e.state);if(s+=n,o+=n,o<=this.from)this.from+=c,this.to+=c;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),u.toString()),this.to+=c}n+=c}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Xe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||y2e(e.parent)||document,this.viewState=new dL(e.state||Dn.create(e)),e.scrollTo&&e.scrollTo.is(_w)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Fm).map(i=>new PC(i));for(let i of this.plugins)i.update(this);this.observer=new Iwe(this),this.inputState=new rwe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new WM(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Ii?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let h of e){if(h.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=h.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(h=>h.annotation(UY))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=jY(s,o),l||(a=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(Dn.phrases)!=this.state.facet(Dn.phrases))return this.setState(s);i=AS.create(this,s,e),i.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(f&&(f=f.map(h.changes)),h.scrollIntoView){let{main:d}=h.state.selection;f=new og(d.empty?d:he.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of h.effects)d.is(_w)&&(f=d.value.clip(this.state))}this.viewState.update(i,f),this.bidiCache=TS.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(gb)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Ew)!=i.state.facet(Ew)&&(this.viewState.mustMeasureContent=!0),(n||r||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let h of this.state.facet(GE))try{h(i)}catch(d){co(this.state,d,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!FY(this,c)&&u.force&&sg(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new dL(e),this.plugins=e.facet(Fm).map(r=>new PC(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new WM(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Fm),r=e.state.facet(Fm);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new PC(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){co(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(nY(r))s=-1,o=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(i);s=d.from,o=d.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(d=>{try{return d.read(this)}catch(m){return co(this.state,m),yL}}),f=AS.create(this,this.state,[]),h=!1;f.flags|=l,n?n.flags|=l:n=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),h=this.docView.update(f),h&&this.docViewUpdate());for(let d=0;d<u.length;d++)if(c[d]!=yL)try{let m=u[d];m.write&&m.write(c[d],this)}catch(m){co(this.state,m)}if(h&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let m=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(m>1||m<-1){i=i+m,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(GE))a(n)}get themeClasses(){return t8+" "+(this.state.facet(e8)?ZY:XY)+" "+this.state.facet(Ew)}updateAttrs(){let e=bL(this,AY,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Sf)?"true":"false",class:"cm-content",style:`${qe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),bL(this,jP,n);let r=this.observer.ignore(()=>{let i=VE(this.contentDOM,this.contentAttrs,n),s=VE(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(Xe.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(gb);let e=this.state.facet(Xe.cspNonce);Od.mount(this.root,this.styleModules.concat(Rwe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return $C(this,e,JM(this,e,n,r))}moveByGroup(e,n){return $C(this,e,JM(this,e,n,r=>W2e(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return he.cursor(s.side(n,i)+e.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return Z2e(this,e,n,r)}moveVertically(e,n,r){return $C(this,e,Y2e(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),RY(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Uh.find(s,e-i.from,-1,n)];return Ik(r,o.dir==Nr.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(xY)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Lwe)return mY(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||pY(s.isolates,r=ZM(this,e))))return s.order;r||(r=ZM(this,e));let i=P2e(e.text,n,r);return this.bidiCache.push(new TS(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||qe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{eY(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return _w.of(new og(typeof e=="number"?he.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return _w.of(new og(he.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Mi.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Mi.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Od.newName(),i=[Ew.of(r),gb.of(n8(`.${r}`,e))];return n&&n.dark&&i.push(e8.of(!0)),i}static baseTheme(e){return sh.lowest(gb.of(n8("."+t8,e,WY)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&cr.get(r)||cr.get(e);return((n=i?.rootView)===null||n===void 0?void 0:n.view)||null}}Xe.styleModule=gb;Xe.inputHandler=wY;Xe.clipboardInputFilter=zP;Xe.clipboardOutputFilter=UP;Xe.scrollHandler=kY;Xe.focusChangeEffect=_Y;Xe.perLineTextDirection=xY;Xe.exceptionSink=OY;Xe.updateListener=GE;Xe.editable=Sf;Xe.mouseSelectionStyle=vY;Xe.dragMovesSelection=bY;Xe.clickAddsSelectionRange=yY;Xe.decorations=Sv;Xe.outerDecorations=EY;Xe.atomicRanges=LO;Xe.bidiIsolatedRanges=TY;Xe.scrollMargins=DY;Xe.darkTheme=e8;Xe.cspNonce=Ze.define({combine:t=>t.length?t[0]:""});Xe.contentAttributes=jP;Xe.editorAttributes=AY;Xe.lineWrapping=Xe.contentAttributes.of({class:"cm-lineWrapping"});Xe.announce=Yt.define();const Lwe=4096,yL={};class TS{constructor(e,n,r,i,s,o){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Nr.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new TS(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function bL(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&qE(o,n)}return n}const Nwe=qe.mac?"mac":qe.windows?"win":qe.linux?"linux":"key";function Qwe(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const u=n[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Tw(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Bwe=sh.default(Xe.domEventHandlers({keydown(t,e){return GY(YY(e.state),t,e,"editor")}})),NO=Ze.define({enables:Bwe}),vL=new WeakMap;function YY(t){let e=t.facet(NO),n=vL.get(e);return n||vL.set(e,n=jwe(e.reduce((r,i)=>r.concat(i),[]))),n}function zwe(t,e,n){return GY(YY(t.state),e,t,n)}let Mh=null;const Uwe=4e3;function jwe(t,e=Nwe){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,u,c)=>{var f,h;let d=n[o]||(n[o]=Object.create(null)),m=a.split(/ (?!$)/).map(v=>Qwe(v,e));for(let v=1;v<m.length;v++){let O=m.slice(0,v).join(" ");i(O,!0),d[O]||(d[O]={preventDefault:!0,stopPropagation:!1,run:[x=>{let C=Mh={view:x,prefix:O,scope:o};return setTimeout(()=>{Mh==C&&(Mh=null)},Uwe),!0}]})}let g=m.join(" ");i(g,!1);let b=d[g]||(d[g]={preventDefault:!1,stopPropagation:!1,run:((h=(f=d._any)===null||f===void 0?void 0:f.run)===null||h===void 0?void 0:h.slice())||[]});l&&b.run.push(l),u&&(b.preventDefault=!0),c&&(b.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of a){let c=n[u]||(n[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:f}=o;for(let h in c)c[h].run.push(d=>f(d,r8))}let l=o[e]||o.key;if(l)for(let u of a)s(u,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(u,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let r8=null;function GY(t,e,n,r){r8=e;let i=f2e(e),s=Qo(i,0),o=Zu(s)==i.length&&i!=" ",a="",l=!1,u=!1,c=!1;Mh&&Mh.view==n&&Mh.scope==r&&(a=Mh.prefix+" ",NY.indexOf(e.keyCode)<0&&(u=!0,Mh=null));let f=new Set,h=b=>{if(b){for(let v of b.run)if(!f.has(v)&&(f.add(v),v(n)))return b.stopPropagation&&(c=!0),!0;b.preventDefault&&(b.stopPropagation&&(c=!0),u=!0)}return!1},d=t[r],m,g;return d&&(h(d[a+Tw(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(qe.windows&&e.ctrlKey&&e.altKey)&&!(qe.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(m=wd[e.keyCode])&&m!=i?(h(d[a+Tw(m,e,!0)])||e.shiftKey&&(g=wv[e.keyCode])!=i&&g!=m&&h(d[a+Tw(g,e,!1)]))&&(l=!0):o&&e.shiftKey&&h(d[a+Tw(i,e,!0)])&&(l=!0),!l&&h(d._any)&&(l=!0)),u&&(l=!0),l&&c&&e.stopPropagation(),r8=null,l}class QO{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=HY(e);return[new QO(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return qwe(e,n,r)}}function HY(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Nr.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function OL(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let s=t.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=t.posAtCoords({x:s.left+1,y:o}),l=t.posAtCoords({x:s.right-1,y:o});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function qwe(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==Nr.LTR,o=t.contentDOM,a=o.getBoundingClientRect(),l=HY(t),u=o.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),f=a.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),h=a.right-(c?parseInt(c.paddingRight):0),d=KE(t,r,1),m=KE(t,i,-1),g=d.type==ho.Text?d:null,b=m.type==ho.Text?m:null;if(g&&(t.lineWrapping||d.widgetLineBreaks)&&(g=OL(t,r,1,g)),b&&(t.lineWrapping||m.widgetLineBreaks)&&(b=OL(t,i,-1,b)),g&&b&&g.from==b.from&&g.to==b.to)return O(x(n.from,n.to,g));{let S=g?x(n.from,null,g):C(d,!1),A=b?x(null,n.to,b):C(m,!0),k=[];return(g||d).to<(b||m).from-(g&&b?1:0)||d.widgetLineBreaks>1&&S.bottom+t.defaultLineHeight/2<A.top?k.push(v(f,S.bottom,h,A.top)):S.bottom<A.top&&t.elementAtHeight((S.bottom+A.top)/2).type==ho.Text&&(S.bottom=A.top=(S.bottom+A.top)/2),O(S).concat(k).concat(O(A))}function v(S,A,k,T){return new QO(e,S-l.left,A-l.top,k-S,T-A)}function O({top:S,bottom:A,horizontal:k}){let T=[];for(let D=0;D<k.length;D+=2)T.push(v(k[D],S,k[D+1],A));return T}function x(S,A,k){let T=1e9,D=-1e9,$=[];function M(I,B,z,Z,J){let ee=t.coordsAtPos(I,I==k.to?-2:2),ie=t.coordsAtPos(z,z==k.from?2:-2);!ee||!ie||(T=Math.min(ee.top,ie.top,T),D=Math.max(ee.bottom,ie.bottom,D),J==Nr.LTR?$.push(s&&B?f:ee.left,s&&Z?h:ie.right):$.push(!s&&Z?f:ie.left,!s&&B?h:ee.right))}let L=S??k.from,R=A??k.to;for(let I of t.visibleRanges)if(I.to>L&&I.from<R)for(let B=Math.max(I.from,L),z=Math.min(I.to,R);;){let Z=t.state.doc.lineAt(B);for(let J of t.bidiSpans(Z)){let ee=J.from+Z.from,ie=J.to+Z.from;if(ee>=z)break;ie>B&&M(Math.max(ee,B),S==null&&ee<=L,Math.min(ie,z),A==null&&ie>=R,J.dir)}if(B=Z.to+1,B>=z)break}return $.length==0&&M(L,S==null,R,A==null,t.textDirection),{top:T,bottom:D,horizontal:$}}function C(S,A){let k=a.top+(A?S.top:S.bottom);return{top:k,bottom:k,horizontal:[]}}}function Vwe(t,e){return t.constructor==e.constructor&&t.eq(e)}class Xwe{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(W_)!=e.state.facet(W_)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(W_);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!Vwe(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e,qe.safari&&qe.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const W_=Ze.define();function KY(t){return[Mi.define(e=>new Xwe(e,t)),W_.of(t)]}const kv=Ze.define({combine(t){return ah(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function Zwe(t={}){return[kv.of(t),Wwe,Ywe,Gwe,SY.of(!0)]}function JY(t){return t.startState.facet(kv)!=t.state.facet(kv)}const Wwe=KY({above:!0,markers(t){let{state:e}=t,n=e.facet(kv),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||n.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:he.cursor(i.head,i.head>i.anchor?-1:1);for(let l of QO.forRange(t,o,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=JY(t);return n&&wL(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){wL(e.state,t)},class:"cm-cursorLayer"});function wL(t,e){e.style.animationDuration=t.facet(kv).cursorBlinkRate+"ms"}const Ywe=KY({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:QO.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||JY(t)},class:"cm-selectionLayer"}),Gwe=sh.highest(Xe.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),eG=Yt.define({map(t,e){return t==null?null:e.mapPos(t)}}),vb=Ni.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(eG)?r.value:n,t)}}),Hwe=Mi.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(vb);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(vb)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(vb),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(vb)!=t&&this.view.dispatch({effects:eG.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Kwe(){return[vb,Hwe]}function _L(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function Jwe(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class e_e{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,u,c)=>i(c,u,u+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,u,c)=>{let f=r(a,l,u);f&&c(u,u+a[0].length,f)};else if(r)this.addMatch=(a,l,u,c)=>c(u,u+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new vd,r=n.add.bind(n);for(let{from:i,to:s}of Jwe(e,this.maxLength))_L(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>=o){let l=e.state.doc.lineAt(o),u=l.to<a?e.state.doc.lineAt(a):l,c=Math.max(s.from,l.from),f=Math.min(s.to,u.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){c=o;break}for(;a<u.to;a++)if(this.boundary.test(u.text[a-u.from])){f=a;break}}let h=[],d,m=(g,b,v)=>h.push(v.range(g,b));if(l==u)for(this.regexp.lastIndex=c-l.from;(d=this.regexp.exec(l.text))&&d.index<f-l.from;)this.addMatch(d,e,d.index+l.from,m);else _L(e.state.doc,this.regexp,c,f,(g,b)=>this.addMatch(b,e,g,m));n=n.update({filterFrom:c,filterTo:f,filter:(g,b)=>g<c||b>f,add:h})}}return n}}const i8=/x/.unicode!=null?"gu":"g",t_e=new RegExp(`[\0-\b
--ÂÂ­Øâââ\u2028\u2029â­â®â¦â§â©\uFEFFï¿¹-ï¿¼]`,i8),n_e={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let MC=null;function r_e(){var t;if(MC==null&&typeof document<"u"&&document.body){let e=document.body.style;MC=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return MC||!1}const Y_=Ze.define({combine(t){let e=ah(t,{render:null,specialChars:t_e,addSpecialChars:null});return(e.replaceTabs=!r_e())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,i8)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,i8)),e}});function i_e(t={}){return[Y_.of(t),s_e()]}let xL=null;function s_e(){return xL||(xL=Mi.fromClass(class{constructor(t){this.view=t,this.decorations=Et.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Y_)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new e_e({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=Qo(e[0],0);if(s==9){let o=i.lineAt(r),a=n.state.tabSize,l=au(o.text,a,r-o.from);return Et.replace({widget:new u_e((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Et.replace({widget:new l_e(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Y_);t.startState.facet(Y_)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const o_e="â¢";function a_e(t){return t>=32?o_e:t==10?"â¤":String.fromCharCode(9216+t)}class l_e extends C0{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=a_e(this.code),r=e.state.phrase("Control character")+" "+(n_e[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class u_e extends C0{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function c_e(){return h_e}const f_e=Et.line({class:"cm-activeLine"}),h_e=Mi.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(f_e.range(i.from)),e=i.from)}return Et.set(n)}},{decorations:t=>t.decorations}),s8=2e3;function d_e(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>s8||n.off>s8||e.col<0||n.col<0){let o=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let u=t.doc.line(l);u.length<=a&&s.push(he.range(u.from+o,u.to+a))}}else{let o=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let u=t.doc.line(l),c=ME(u.text,o,t.tabSize,!0);if(c<0)s.push(he.cursor(u.to));else{let f=ME(u.text,a,t.tabSize);s.push(he.range(u.from+c,u.from+f))}}}return s}function p_e(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function SL(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>s8?-1:i==r.length?p_e(t,e.clientX):au(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function m_e(t,e){let n=SL(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),o=i.state.doc.lineAt(s);n={line:o.number,col:n.col,off:Math.min(n.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let a=SL(t,i);if(!a)return r;let l=d_e(t.state,n,a);return l.length?o?he.create(l.concat(r.ranges)):he.create(l):r}}:null}function g_e(t){let e=(n=>n.altKey&&n.button==0);return Xe.mouseSelectionStyle.of((n,r)=>e(r)?m_e(n,r):null)}const y_e={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},b_e={style:"cursor: crosshair"};function v_e(t={}){let[e,n]=y_e[t.key||"Alt"],r=Mi.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,Xe.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?b_e:null})]}const Dw="-10000px";class tG{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,n){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let u=s[l],c=-1;if(u){for(let f=0;f<this.tooltips.length;f++){let h=this.tooltips[f];h&&h.create==u.create&&(c=f)}if(c<0)o[l]=this.createTooltipView(u,l?o[l-1]:null),a&&(a[l]=!!u.above);else{let f=o[l]=this.tooltipViews[c];a&&(a[l]=n[c]),f.update&&f.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,u)=>n[u]=l),n.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function O_e(t={}){return G_.of(t)}function w_e(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const G_=Ze.define({combine:t=>{var e,n,r;return{position:qe.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||w_e}}}),kL=new WeakMap,WP=Mi.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(G_);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new tG(t,YP,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(G_);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=Dw,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(qe.safari){let o=s.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}else n=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=qP(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(G_).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],u=this.manager.tooltipViews[a],{dom:c}=u,f=t.pos[a],h=t.size[a];if(!f||l.clip!==!1&&(f.bottom<=Math.max(n.top,r.top)||f.top>=Math.min(n.bottom,r.bottom)||f.right<Math.max(n.left,r.left)-.1||f.left>Math.min(n.right,r.right)+.1)){c.style.top=Dw;continue}let d=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,m=d?7:0,g=h.right-h.left,b=(e=kL.get(u))!==null&&e!==void 0?e:h.bottom-h.top,v=u.offset||x_e,O=this.view.textDirection==Nr.LTR,x=h.width>r.right-r.left?O?r.left:r.right-h.width:O?Math.max(r.left,Math.min(f.left-(d?14:0)+v.x,r.right-g)):Math.min(Math.max(r.left,f.left-g+(d?14:0)-v.x),r.right-g),C=this.above[a];!l.strictSide&&(C?f.top-b-m-v.y<r.top:f.bottom+b+m+v.y>r.bottom)&&C==r.bottom-f.bottom>f.top-r.top&&(C=this.above[a]=!C);let S=(C?f.top-r.top:r.bottom-f.bottom)-m;if(S<b&&u.resize!==!1){if(S<this.view.defaultLineHeight){c.style.top=Dw;continue}kL.set(u,b),c.style.height=(b=S)/s+"px"}else c.style.height&&(c.style.height="");let A=C?f.top-b-m-v.y:f.bottom+m+v.y,k=x+g;if(u.overlap!==!0)for(let T of o)T.left<k&&T.right>x&&T.top<A+b&&T.bottom>A&&(A=C?T.top-b-2-m:T.bottom+m+2);if(this.position=="absolute"?(c.style.top=(A-t.parent.top)/s+"px",CL(c,(x-t.parent.left)/i)):(c.style.top=A/s+"px",CL(c,x/i)),d){let T=f.left+(O?v.x:-v.x)-(x+14-7);d.style.left=T/i+"px"}u.overlap!==!0&&o.push({left:x,top:A,right:k,bottom:A+b}),c.classList.toggle("cm-tooltip-above",C),c.classList.toggle("cm-tooltip-below",!C),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Dw}},{eventObservers:{scroll(){this.maybeMeasure()}}});function CL(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const __e=Xe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),x_e={x:0,y:0},YP=Ze.define({enables:[WP,__e]}),DS=Ze.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class Mk{static create(e){return new Mk(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new tG(e,DS,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const S_e=YP.compute([DS],t=>{let e=t.facet(DS);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:Mk.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class k_e{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,s=1;if(r instanceof Af)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(c=>c.from<=i&&c.to>=i),u=l&&l.dir==Nr.RTL?-1:1;s=n.x<a.left?-u:u}let o=this.source(e,i,s);if(o?.then){let a=this.pending={pos:i};o.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>co(e.state,l,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(WP),n=e?e.manager.tooltips.findIndex(r=>r.create==Mk.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!C_e(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!A_e(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Pw=4;function C_e(t,e){let{left:n,right:r,top:i,bottom:s}=t.getBoundingClientRect(),o;if(o=t.querySelector(".cm-tooltip-arrow")){let a=o.getBoundingClientRect();i=Math.min(a.top,i),s=Math.max(a.bottom,s)}return e.clientX>=n-Pw&&e.clientX<=r+Pw&&e.clientY>=i-Pw&&e.clientY<=s+Pw}function A_e(t,e,n,r,i,s){let o=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,a)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function GP(t,e={}){let n=Yt.define(),r=Ni.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let a of i){let l=s.changes.mapPos(a.pos,-1,ms.TrackDel);if(l!=null){let u=Object.assign(Object.create(null),a);u.pos=l,u.end!=null&&(u.end=s.changes.mapPos(u.end)),o.push(u)}}i=o}for(let o of s.effects)o.is(n)&&(i=o.value),o.is(E_e)&&(i=[]);return i},provide:i=>DS.from(i)});return{active:r,extension:[r,Mi.define(i=>new k_e(i,t,r,n,e.hoverTime||300)),S_e]}}function nG(t,e){let n=t.plugin(WP);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const E_e=Yt.define(),AL=Ze.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Cv(t,e){let n=t.plugin(rG),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const rG=Mi.fromClass(class{constructor(t){this.input=t.state.facet(Av),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(AL);this.top=new Rw(t,!0,e.topContainer),this.bottom=new Rw(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(AL);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Rw(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Rw(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Av);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],o=[],a=[];for(let l of r){let u=this.specs.indexOf(l),c;u<0?(c=l(t.view),a.push(c)):(c=this.panels[u],c.update&&c.update(t)),i.push(c),(c.top?s:o).push(c)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Xe.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Rw{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=EL(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=EL(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function EL(t){let e=t.nextSibling;return t.remove(),e}const Av=Ze.define({enables:rG});class xd extends i0{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}xd.prototype.elementClass="";xd.prototype.toDOM=void 0;xd.prototype.mapMode=ms.TrackBefore;xd.prototype.startSide=xd.prototype.endSide=-1;xd.prototype.point=!0;const H_=Ze.define(),T_e=Ze.define(),K_=Ze.define(),TL=Ze.define({combine:t=>t.some(e=>e)});function D_e(t){return[P_e]}const P_e=Mi.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(K_).map(e=>new PL(t,e)),this.fixed=!t.state.facet(TL);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(TL)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=zn.iter(this.view.state.facet(H_),this.view.viewport.from),r=[],i=this.gutters.map(s=>new R_e(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let a of s.type)if(a.type==ho.Text&&o){o8(n,r,a.from);for(let l of i)l.line(this.view,a,r);o=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(s.type==ho.Text){o8(n,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(K_),n=t.state.facet(K_),r=t.docChanged||t.heightChanged||t.viewportChanged||!zn.eq(t.startState.facet(H_),t.state.facet(H_),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let o=e.indexOf(s);o<0?i.push(new PL(this.view,s)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>Xe.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Nr.LTR?{left:r,right:i}:{right:r,left:i}})});function DL(t){return Array.isArray(t)?t:[t]}function o8(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class R_e{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=zn.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=(n.top-this.height)/e.scaleY,o=n.height/e.scaleY;if(this.i==i.elements.length){let a=new iG(e,o,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,o,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];o8(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let s of e.state.facet(T_e)){let o=s(e,n.widget,n);o&&(i||(i=[])).push(o)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class PL{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let a=e.lineBlockAtHeight(o-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=DL(n.markers(e)),n.initialSpacer&&(this.spacer=new iG(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=DL(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!zn.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class iG{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),$_e(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<n.length?n[s++]:null,u=!1;if(l){let c=l.elementClass;c&&(r+=" "+c);for(let f=o;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,u=!0;break}}else a=this.markers.length;for(;o<a;){let c=this.markers[o++];if(c.toDOM){c.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&o++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function $_e(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const I_e=Ze.define(),F_e=Ze.define(),Mm=Ze.define({combine(t){return ah(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],o=n[i];r[i]=s?(a,l,u)=>s(a,l,u)||o(a,l,u):o}return r}})}});class LC extends xd{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function NC(t,e){return t.state.facet(Mm).formatNumber(e,t.state)}const M_e=K_.compute([Mm],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(I_e)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new LC(NC(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(F_e)){let s=i(e,n,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Mm)!=e.state.facet(Mm),initialSpacer(e){return new LC(NC(e,RL(e.state.doc.lines)))},updateSpacer(e,n){let r=NC(n.view,RL(n.view.state.doc.lines));return r==e.number?e:new LC(r)},domEventHandlers:t.facet(Mm).domEventHandlers,side:"before"}));function L_e(t={}){return[Mm.of(t),D_e(),M_e]}function RL(t){let e=9;for(;e<t;)e=e*10+9;return e}const N_e=new class extends xd{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Q_e=H_.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(N_e.range(i)))}return zn.of(e)});function B_e(){return Q_e}const sG=1024;let z_e=0;class ul{constructor(e,n){this.from=e,this.to=n}}class Mt{constructor(e={}){this.id=z_e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Yi.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Mt.closedBy=new Mt({deserialize:t=>t.split(" ")});Mt.openedBy=new Mt({deserialize:t=>t.split(" ")});Mt.group=new Mt({deserialize:t=>t.split(" ")});Mt.isolate=new Mt({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Mt.contextHash=new Mt({perNode:!0});Mt.lookAhead=new Mt({perNode:!0});Mt.mounted=new Mt({perNode:!0});class Ev{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[Mt.mounted.id]}}const U_e=Object.create(null);class Yi{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):U_e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Yi(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Mt.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Mt.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}}Yi.none=new Yi("",Object.create(null),0,8);class BO{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);if(o){i||(i=Object.assign({},r.props));let a=o[1],l=o[0];l.combine&&l.id in i&&(a=l.combine(i[l.id],a)),i[l.id]=a}}n.push(i?new Yi(r.name,i,r.id,r.flags):r)}return new BO(n)}}const $w=new WeakMap,$L=new WeakMap;var Er;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Er||(Er={}));class Gn{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=Ev.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new PS(this.topNode,e)}cursorAt(e,n=0,r=0){let i=$w.get(this)||this.topNode,s=new PS(i);return s.moveTo(e,n),$w.set(this,s._tree),s}get topNode(){return new Ms(this,0,0,null)}resolve(e,n=0){let r=Tv($w.get(this)||this.topNode,e,n,!1);return $w.set(this,r),r}resolveInner(e,n=0){let r=Tv($L.get(this)||this.topNode,e,n,!0);return $L.set(this,r),r}resolveStack(e,n=0){return V_e(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&Er.IncludeAnonymous)>0;for(let l=this.cursor(o|Er.IncludeAnonymous);;){let u=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:JP(Yi.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Gn(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Gn(Yi.none,n,r,i)))}static build(e){return X_e(e)}}Gn.empty=new Gn(Yi.none,[],[],0);class HP{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new HP(this.buffer,this.index)}}class Sd{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Yi.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(oG(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let u=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,u)}return new Sd(s,o,this.set)}}function oG(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Tv(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof Ms&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:Er.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof Ms&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class aG{cursor(e=0){return new PS(this,e)}getChild(e,n=null,r=null){let i=IL(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return IL(this,e,n,r)}resolve(e,n=0){return Tv(this,e,n,!1)}resolveInner(e,n=0){return Tv(this,e,n,!0)}matchContext(e){return a8(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Ms extends aG{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,u=n>0?a.length:-1;e!=u;e+=n){let c=a[e],f=l[e]+o.from;if(oG(i,r,f,f+c.length)){if(c instanceof Sd){if(s&Er.ExcludeBuffers)continue;let h=c.findChild(0,c.buffer.length,n,r-f,i);if(h>-1)return new tc(new j_e(o,c,e,f),null,h)}else if(s&Er.IncludeAnonymous||!c.type.isAnonymous||KP(c)){let h;if(!(s&Er.IgnoreMounts)&&(h=Ev.get(c))&&!h.overlay)return new Ms(h.tree,f,e,o);let d=new Ms(c,f,e,o);return s&Er.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(s&Er.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&Er.IgnoreOverlays)&&(i=Ev.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new Ms(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function IL(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function a8(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class j_e{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class tc extends aG{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new tc(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&Er.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new tc(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new tc(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new tc(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new Gn(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function lG(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let r=n instanceof Ms&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new q_e(i,n)}class q_e{constructor(e,n){this.heads=e,this.node=n}get next(){return lG(this.heads)}}function V_e(t,e,n){let r=t.resolveInner(e,n),i=null;for(let s=r instanceof Ms?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,n)),s=o}else{let o=Ev.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new Ms(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Tv(a,e,n,!1))}}return i?lG(i):r}class PS{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ms)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ms?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Er.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Er.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Er.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&Er.IncludeAnonymous||a instanceof Sd||!a.type.isAnonymous||KP(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new tc(this.buffer,n,this.stack[i]);return this.bufferNode=new tc(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return a8(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return a8(this._tree,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function KP(t){return t.children.some(e=>e instanceof Sd||!e.type.isAnonymous||KP(e))}function X_e(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=sG,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new HP(n,n.length):n,l=r.types,u=0,c=0;function f(S,A,k,T,D,$){let{id:M,start:L,end:R,size:I}=a,B=c,z=u;if(I<0)if(a.next(),I==-1){let K=s[M];k.push(K),T.push(L-S);return}else if(I==-3){u=M;return}else if(I==-4){c=M;return}else throw new RangeError(`Unrecognized record size: ${I}`);let Z=l[M],J,ee,ie=L-S;if(R-L<=i&&(ee=b(a.pos-A,D))){let K=new Uint16Array(ee.size-ee.skip),fe=a.pos-ee.size,le=K.length;for(;a.pos>fe;)le=v(ee.start,K,le);J=new Sd(K,R-ee.start,r),ie=ee.start-S}else{let K=a.pos-I;a.next();let fe=[],le=[],me=M>=o?M:-1,oe=0,De=R;for(;a.pos>K;)me>=0&&a.id==me&&a.size>=0?(a.end<=De-i&&(m(fe,le,L,oe,a.end,De,me,B,z),oe=fe.length,De=a.end),a.next()):$>2500?h(L,K,fe,le):f(L,K,fe,le,me,$+1);if(me>=0&&oe>0&&oe<fe.length&&m(fe,le,L,oe,L,De,me,B,z),fe.reverse(),le.reverse(),me>-1&&oe>0){let Ve=d(Z,z);J=JP(Z,fe,le,0,fe.length,0,R-L,Ve,Ve)}else J=g(Z,fe,le,R-L,B-R,z)}k.push(J),T.push(ie)}function h(S,A,k,T){let D=[],$=0,M=-1;for(;a.pos>A;){let{id:L,start:R,end:I,size:B}=a;if(B>4)a.next();else{if(M>-1&&R<M)break;M<0&&(M=I-i),D.push(L,R,I),$++,a.next()}}if($){let L=new Uint16Array($*4),R=D[D.length-2];for(let I=D.length-3,B=0;I>=0;I-=3)L[B++]=D[I],L[B++]=D[I+1]-R,L[B++]=D[I+2]-R,L[B++]=B;k.push(new Sd(L,D[2]-R,r)),T.push(R-S)}}function d(S,A){return(k,T,D)=>{let $=0,M=k.length-1,L,R;if(M>=0&&(L=k[M])instanceof Gn){if(!M&&L.type==S&&L.length==D)return L;(R=L.prop(Mt.lookAhead))&&($=T[M]+L.length+R)}return g(S,k,T,D,$,A)}}function m(S,A,k,T,D,$,M,L,R){let I=[],B=[];for(;S.length>T;)I.push(S.pop()),B.push(A.pop()+k-D);S.push(g(r.types[M],I,B,$-D,L-$,R)),A.push(D-k)}function g(S,A,k,T,D,$,M){if($){let L=[Mt.contextHash,$];M=M?[L].concat(M):[L]}if(D>25){let L=[Mt.lookAhead,D];M=M?[L].concat(M):[L]}return new Gn(S,A,k,T,M)}function b(S,A){let k=a.fork(),T=0,D=0,$=0,M=k.end-i,L={size:0,start:0,skip:0};e:for(let R=k.pos-S;k.pos>R;){let I=k.size;if(k.id==A&&I>=0){L.size=T,L.start=D,L.skip=$,$+=4,T+=4,k.next();continue}let B=k.pos-I;if(I<0||B<R||k.start<M)break;let z=k.id>=o?4:0,Z=k.start;for(k.next();k.pos>B;){if(k.size<0)if(k.size==-3)z+=4;else break e;else k.id>=o&&(z+=4);k.next()}D=Z,T+=I,$+=z}return(A<0||T==S)&&(L.size=T,L.start=D,L.skip=$),L.size>4?L:void 0}function v(S,A,k){let{id:T,start:D,end:$,size:M}=a;if(a.next(),M>=0&&T<o){let L=k;if(M>4){let R=a.pos-(M-4);for(;a.pos>R;)k=v(S,A,k)}A[--k]=L,A[--k]=$-S,A[--k]=D-S,A[--k]=T}else M==-3?u=T:M==-4&&(c=T);return k}let O=[],x=[];for(;a.pos>0;)f(t.start||0,t.bufferStart||0,O,x,-1,0);let C=(e=t.length)!==null&&e!==void 0?e:O.length?x[0]+O[0].length:0;return new Gn(l[t.topID],O.reverse(),x.reverse(),C)}const FL=new WeakMap;function J_(t,e){if(!t.isAnonymous||e instanceof Sd||e.type!=t)return 1;let n=FL.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Gn)){n=1;break}n+=J_(t,r)}FL.set(e,n)}return n}function JP(t,e,n,r,i,s,o,a,l){let u=0;for(let m=r;m<i;m++)u+=J_(t,e[m]);let c=Math.ceil(u*1.5/8),f=[],h=[];function d(m,g,b,v,O){for(let x=b;x<v;){let C=x,S=g[x],A=J_(t,m[x]);for(x++;x<v;x++){let k=J_(t,m[x]);if(A+k>=c)break;A+=k}if(x==C+1){if(A>c){let k=m[C];d(k.children,k.positions,0,k.children.length,g[C]+O);continue}f.push(m[C])}else{let k=g[x-1]+m[x-1].length-S;f.push(JP(t,m,g,C,x,S,k,null,l))}h.push(S+O-s)}}return d(e,n,r,i,0),(a||l)(f,h,o)}class uG{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof tc?this.setBuffer(e.context.buffer,e.index,n):e instanceof Ms&&this.map.set(e.tree,n)}get(e){return e instanceof tc?this.getBuffer(e.context.buffer,e.index):e instanceof Ms?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Qf{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new Qf(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,u=0;;a++){let c=a<n.length?n[a]:null,f=c?c.fromA:1e9;if(f-l>=r)for(;o&&o.from<f;){let h=o;if(l>=h.from||f<=h.to||u){let d=Math.max(h.from,l)-u,m=Math.min(h.to,f)-u;h=d>=m?null:new Qf(d,m,h.tree,h.offset+u,a>0,!!c)}if(h&&i.push(h),o.to>f)break;o=s<e.length?e[s++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}let e7=class{startParse(e,n,r){return typeof e=="string"&&(e=new Z_e(e)),r=r?r.length?r.map(i=>new ul(i.from,i.to)):[new ul(0,0)]:[new ul(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}};class Z_e{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function cG(t){return(e,n,r,i)=>new Y_e(e,t,n,r,i)}class ML{constructor(e,n,r,i,s){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.from=s}}function LL(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class W_e{constructor(e,n,r,i,s,o,a){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const l8=new Mt({perNode:!0});class Y_e{constructor(e,n,r,i,s){this.nest=n,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Gn(r.type,r.children,r.positions,r.length,r.propValues.concat([[l8,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Mt.mounted.id]=new Ev(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new K_e(this.fragments),n=null,r=null,i=new PS(new Ms(this.baseTree,this.ranges[0].from,0,null),Er.IncludeAnonymous|Er.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(n){let u=n.mounts.find(c=>c.frag.from<=i.from&&c.frag.to>=i.to&&c.mount.overlay);if(u)for(let c of u.mount.overlay){let f=c.from+u.pos,h=c.to+u.pos;f>=i.from&&h<=i.to&&!n.ranges.some(d=>d.from<h&&d.to>f)&&n.ranges.push({from:f,to:h})}}a=!1}else if(r&&(o=G_e(r.ranges,i.from,i.to)))a=o!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||(H_e(i),n&&n.depth++,r&&r.depth++);let u=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")n=new W_e(s.parser,s.overlay,u,this.inner.length,i.from,i.tree,n);else{let c=BL(this.ranges,s.overlay||(i.from<i.to?[new ul(i.from,i.to)]:[]));c.length&&LL(c),(c.length||!s.overlay)&&this.inner.push(new ML(s.parser,c.length?s.parser.startParse(this.input,zL(u,c),c):s.parser.startParse(""),s.overlay?s.overlay.map(f=>new ul(f.from-i.from,f.to-i.from)):null,i.tree,c.length?c[0].from:i.from)),s.overlay?c.length&&(r={ranges:c,depth:0,prev:r}):a=!1}}else if(n&&(l=n.predicate(i))&&(l===!0&&(l=new ul(i.from,i.to)),l.from<l.to)){let u=n.ranges.length-1;u>=0&&n.ranges[u].to==l.from?n.ranges[u]={from:n.ranges[u].from,to:l.to}:n.ranges.push(l)}if(a&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let u=BL(this.ranges,n.ranges);u.length&&(LL(u),this.inner.splice(n.index,0,new ML(n.parser,n.parser.startParse(this.input,zL(n.mounts,u),u),n.ranges.map(c=>new ul(c.from-n.start,c.to-n.start)),n.target,u[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function G_e(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function NL(t,e,n,r,i,s){if(e<n){let o=t.buffer[e+1];r.push(t.slice(e,n,o)),i.push(o-s)}}function H_e(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,s=i.children.indexOf(r),o=i.children[s],a=o.buffer,l=[s];function u(c,f,h,d,m,g){let b=n[g],v=[],O=[];NL(o,c,b,v,O,d);let x=a[b+1],C=a[b+2];l.push(v.length);let S=g?u(b+4,a[b+3],o.set.types[a[b]],x,C-x,g-1):e.toTree();return v.push(S),O.push(x-d),NL(o,a[b+3],f,v,O,d),new Gn(h,v,O,m)}i.children[s]=u(0,a.length,Yi.none,0,o.length,n.length-1);for(let c of l){let f=t.tree.children[c],h=t.tree.positions[c];t.yield(new Ms(f,h+t.from,c,t._tree))}}class QL{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(Er.IncludeAnonymous|Er.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,Er.IgnoreOverlays|Er.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof Gn)n=n.children[0];else break}return!1}}let K_e=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(l8))!==null&&n!==void 0?n:r.to,this.inner=new QL(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(l8))!==null&&e!==void 0?e:n.to,this.inner=new QL(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(Mt.mounted);if(o&&o.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:s.from-l.offset,mount:o})}}}return i}};function BL(t,e){let n=null,r=e;for(let i=1,s=0;i<t.length;i++){let o=t[i-1].to,a=t[i].from;for(;s<r.length;s++){let l=r[s];if(l.from>=a)break;l.to<=o||(n||(r=n=e.slice()),l.from<o?(n[s]=new ul(l.from,o),l.to>a&&n.splice(s+1,0,new ul(a,l.to))):l.to>a?n[s--]=new ul(a,l.to):n.splice(s--,1))}}return r}function J_e(t,e,n,r){let i=0,s=0,o=!1,a=!1,l=-1e9,u=[];for(;;){let c=i==t.length?1e9:o?t[i].to:t[i].from,f=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let h=Math.max(l,n),d=Math.min(c,f,r);h<d&&u.push(new ul(h,d))}if(l=Math.min(c,f),l==1e9)break;c==l&&(o?(o=!1,i++):o=!0),f==l&&(a?(a=!1,s++):a=!0)}return u}function zL(t,e){let n=[];for(let{pos:r,mount:i,frag:s}of t){let o=r+(i.overlay?i.overlay[0].from:0),a=o+i.tree.length,l=Math.max(s.from,o),u=Math.min(s.to,a);if(i.overlay){let c=i.overlay.map(h=>new ul(h.from+r,h.to+r)),f=J_e(e,c,l,u);for(let h=0,d=l;;h++){let m=h==f.length,g=m?u:f[h].from;if(g>d&&n.push(new Qf(d,g,i.tree,-o,s.from>=d||s.openStart,s.to<=g||s.openEnd)),m)break;d=f[h].to}}else n.push(new Qf(l,u,i.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return n}let exe=0;class Ca{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=exe++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Ca&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new Ca(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(e){let n=new RS(e);return r=>r.modified.indexOf(n)>-1?r:RS.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}}let txe=0;class RS{constructor(e){this.name=e,this.instances=[],this.id=txe++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&nxe(n,a.modified));if(r)return r;let i=[],s=new Ca(e.name,i,e,n);for(let a of n)a.instances.push(s);let o=rxe(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(RS.get(a,l));return s}}function nxe(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function rxe(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function lh(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let f=0;;){if(a=="..."&&f>0&&f+3==i.length){o=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!h)throw new RangeError("Invalid path: "+i);if(s.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),f+=h[0].length,f==i.length)break;let d=i[f++];if(f==i.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);a=i.slice(f)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new Dv(r,o,l>0?s.slice(0,l):null);e[u]=c.sort(e[u])}}return fG.add(e)}const fG=new Mt({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let s=new Dv(i.tags,i.mode,i.context);n?n.next=s:r=s,n=s}return r}});let Dv=class{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}};Dv.empty=new Dv([],2,null);function hG(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let u=n[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:r}}function ixe(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function sxe(t,e,n,r=0,i=t.length){let s=new oxe(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class oxe{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(d=>!d.scope||d.scope(o)));let u=i,c=axe(e)||Dv.empty,f=ixe(s,c.tags);if(f&&(u&&(u+=" "),u+=f,c.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(Math.max(n,a),u),c.opaque)return;let h=e.tree&&e.tree.prop(Mt.mounted);if(h&&h.overlay){let d=e.node.enter(h.overlay[0].from+a,1),m=this.highlighters.filter(b=>!b.scope||b.scope(h.tree.type)),g=e.firstChild();for(let b=0,v=a;;b++){let O=b<h.overlay.length?h.overlay[b]:null,x=O?O.from+a:l,C=Math.max(n,v),S=Math.min(r,x);if(C<S&&g)for(;e.from<S&&(this.highlightRange(e,C,S,i,s),this.startSpan(Math.min(S,e.to),u),!(e.to>=x||!e.nextSibling())););if(!O||x>r)break;v=O.to+a,v>n&&(this.highlightRange(d.cursor(),Math.max(n,O.from+a),Math.min(r,v),"",m),this.startSpan(Math.min(r,v),u))}g&&e.parent()}else if(e.firstChild()){h&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function axe(t){let e=t.type.prop(fG);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ze=Ca.define,Iw=ze(),Rh=ze(),UL=ze(Rh),jL=ze(Rh),$h=ze(),Fw=ze($h),QC=ze($h),Ru=ze(),ep=ze(Ru),Tu=ze(),Du=ze(),u8=ze(),Ry=ze(u8),Mw=ze(),Q={comment:Iw,lineComment:ze(Iw),blockComment:ze(Iw),docComment:ze(Iw),name:Rh,variableName:ze(Rh),typeName:UL,tagName:ze(UL),propertyName:jL,attributeName:ze(jL),className:ze(Rh),labelName:ze(Rh),namespace:ze(Rh),macroName:ze(Rh),literal:$h,string:Fw,docString:ze(Fw),character:ze(Fw),attributeValue:ze(Fw),number:QC,integer:ze(QC),float:ze(QC),bool:ze($h),regexp:ze($h),escape:ze($h),color:ze($h),url:ze($h),keyword:Tu,self:ze(Tu),null:ze(Tu),atom:ze(Tu),unit:ze(Tu),modifier:ze(Tu),operatorKeyword:ze(Tu),controlKeyword:ze(Tu),definitionKeyword:ze(Tu),moduleKeyword:ze(Tu),operator:Du,derefOperator:ze(Du),arithmeticOperator:ze(Du),logicOperator:ze(Du),bitwiseOperator:ze(Du),compareOperator:ze(Du),updateOperator:ze(Du),definitionOperator:ze(Du),typeOperator:ze(Du),controlOperator:ze(Du),punctuation:u8,separator:ze(u8),bracket:Ry,angleBracket:ze(Ry),squareBracket:ze(Ry),paren:ze(Ry),brace:ze(Ry),content:Ru,heading:ep,heading1:ze(ep),heading2:ze(ep),heading3:ze(ep),heading4:ze(ep),heading5:ze(ep),heading6:ze(ep),contentSeparator:ze(Ru),list:ze(Ru),quote:ze(Ru),emphasis:ze(Ru),strong:ze(Ru),link:ze(Ru),monospace:ze(Ru),strikethrough:ze(Ru),inserted:ze(),deleted:ze(),changed:ze(),invalid:ze(),meta:Mw,documentMeta:ze(Mw),annotation:ze(Mw),processingInstruction:ze(Mw),definition:Ca.defineModifier("definition"),constant:Ca.defineModifier("constant"),function:Ca.defineModifier("function"),standard:Ca.defineModifier("standard"),local:Ca.defineModifier("local"),special:Ca.defineModifier("special")};for(let t in Q){let e=Q[t];e instanceof Ca&&(e.name=t)}hG([{tag:Q.link,class:"tok-link"},{tag:Q.heading,class:"tok-heading"},{tag:Q.emphasis,class:"tok-emphasis"},{tag:Q.strong,class:"tok-strong"},{tag:Q.keyword,class:"tok-keyword"},{tag:Q.atom,class:"tok-atom"},{tag:Q.bool,class:"tok-bool"},{tag:Q.url,class:"tok-url"},{tag:Q.labelName,class:"tok-labelName"},{tag:Q.inserted,class:"tok-inserted"},{tag:Q.deleted,class:"tok-deleted"},{tag:Q.literal,class:"tok-literal"},{tag:Q.string,class:"tok-string"},{tag:Q.number,class:"tok-number"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],class:"tok-string2"},{tag:Q.variableName,class:"tok-variableName"},{tag:Q.local(Q.variableName),class:"tok-variableName tok-local"},{tag:Q.definition(Q.variableName),class:"tok-variableName tok-definition"},{tag:Q.special(Q.variableName),class:"tok-variableName2"},{tag:Q.definition(Q.propertyName),class:"tok-propertyName tok-definition"},{tag:Q.typeName,class:"tok-typeName"},{tag:Q.namespace,class:"tok-namespace"},{tag:Q.className,class:"tok-className"},{tag:Q.macroName,class:"tok-macroName"},{tag:Q.propertyName,class:"tok-propertyName"},{tag:Q.operator,class:"tok-operator"},{tag:Q.comment,class:"tok-comment"},{tag:Q.meta,class:"tok-meta"},{tag:Q.invalid,class:"tok-invalid"},{tag:Q.punctuation,class:"tok-punctuation"}]);var BC;const xp=new Mt;function t7(t){return Ze.define({combine:t?e=>e.concat(t):void 0})}const n7=new Mt;class cl{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Dn.prototype.hasOwnProperty("tree")||Object.defineProperty(Dn.prototype,"tree",{get(){return Hn(this)}}),this.parser=n,this.extension=[Kg.of(this),Dn.languageData.of((s,o,a)=>{let l=qL(s,o,a),u=l.type.prop(xp);if(!u)return[];let c=s.facet(u),f=l.type.prop(n7);if(f){let h=l.resolve(o-l.from,a);for(let d of f)if(d.test(h,s)){let m=s.facet(d.facet);return d.type=="replace"?m:m.concat(c)}}return c})].concat(r)}isActiveAt(e,n,r=-1){return qL(e,n,r).type.prop(xp)==this.data}findRegions(e){let n=e.facet(Kg);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(xp)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Mt.mounted);if(a){if(a.tree.prop(xp)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof Gn&&i(u,s.positions[l]+o)}};return i(Hn(e),0),r}get allowsNesting(){return!0}}cl.setState=Yt.define();function qL(t,e,n){let r=t.facet(Kg),i=Hn(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,Er.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Yf extends cl{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=t7(e.languageData);return new Yf(n,e.parser.configure({props:[xp.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Yf(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Hn(t){let e=t.field(cl.state,!1);return e?e.tree:Gn.empty}class lxe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let $y=null;class Pv{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Pv(e,n,[],Gn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new lxe(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Gn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Qf.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Qf.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=$y;$y=this;try{return e()}finally{$y=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=VL(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,f,h)=>l.push({fromA:u,toA:c,fromB:f,toB:h})),r=Qf.applyChanges(r,l),i=Gn.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),f=e.mapPos(u.to,-1);c<f&&a.push({from:c,to:f})}}}return new Pv(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=VL(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends e7{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=$y;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Gn(Yi.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return $y}}function VL(t,e,n){return Qf.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Hg{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Hg(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Pv.create(e.facet(Kg).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Hg(r)}}cl.state=Ni.define({create:Hg.init,update(t,e){for(let n of e.effects)if(n.is(cl.setState))return n.value;return e.startState.facet(Kg)!=e.state.facet(Kg)?Hg.init(e.state):t.apply(e)}});let dG=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(dG=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const zC=typeof navigator<"u"&&(!((BC=navigator.scheduling)===null||BC===void 0)&&BC.isInputPending)?()=>navigator.scheduling.isInputPending():null,uxe=Mi.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(cl.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(cl.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=dG(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(cl.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!zC?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>zC&&zC()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:cl.setState.of(new Hg(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>co(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Kg=Ze.define({combine(t){return t.length?t[0]:null},enables:t=>[cl.state,uxe,Xe.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class kd{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class $S{constructor(e,n,r,i,s,o=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=s,this.support=o,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new $S(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(s=>s==n))return i;if(r)for(let i of e)for(let s of i.alias){let o=n.indexOf(s);if(o>-1&&(s.length>2||!/\w/.test(n[o-1])&&!/\w/.test(n[o+s.length])))return i}return null}}const cxe=Ze.define(),zO=Ze.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function IS(t){let e=t.facet(zO);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Rv(t,e){let n="",r=t.tabSize,i=t.facet(zO)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function r7(t,e){t instanceof Dn&&(t=new Lk(t));for(let r of t.state.facet(cxe)){let i=r(t,e);if(i!==void 0)return i}let n=Hn(t.state);return n.length>=e?fxe(t,n,e):null}class Lk{constructor(e,n={}){this.state=e,this.options=n,this.unit=IS(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return au(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const $d=new Mt;function fxe(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from<r.node.from||o.to>r.node.to||o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return pG(r,t,n)}function pG(t,e,n){for(let r=t;r;r=r.next){let i=dxe(r.node);if(i)return i(i7.create(e,n,r))}return 0}function hxe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function dxe(t){let e=t.type.prop($d);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Mt.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>mG(o,!0,1,void 0,s&&!hxe(o)?i.from:void 0)}return t.parent==null?pxe:null}function pxe(){return 0}class i7 extends Lk{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new i7(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(mxe(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return pG(this.context.next,this.base,this.pos)}}function mxe(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function gxe(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let u=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+u}}a=l.to}}function yxe({closing:t,align:e=!0,units:n=1}){return r=>mG(r,e,n,t)}function mG(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=e?gxe(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const bxe=t=>t.baseIndent;function Bf({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const vxe=200;function Oxe(){return Dn.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+vxe)return t;let s=n.sliceString(i.from,r);if(!e.some(u=>u.test(s)))return t;let{state:o}=t,a=-1,l=[];for(let{head:u}of o.selection.ranges){let c=o.doc.lineAt(u);if(c.from==a)continue;a=c.from;let f=r7(o,c.from);if(f==null)continue;let h=/^\s*/.exec(c.text)[0],d=Rv(o,f);h!=d&&l.push({from:c.from,to:c.from+h.length,insert:d})}return l.length?[t,{changes:l,sequential:!0}]:t})}const wxe=Ze.define(),Id=new Mt;function Nk(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}class UO{constructor(e,n){this.specs=e;let r;function i(a){let l=Od.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof cl?a=>a.prop(xp)==o.data:o?a=>a==o:void 0,this.style=hG(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new Od(r):null,this.themeType=n.themeType}static define(e,n){return new UO(e,n||{})}}const c8=Ze.define(),gG=Ze.define({combine(t){return t.length?[t[0]]:null}});function UC(t){let e=t.facet(c8);return e.length?e:t.facet(gG)}function yG(t,e){let n=[xxe],r;return t instanceof UO&&(t.module&&n.push(Xe.styleModule.of(t.module)),r=t.themeType),e?.fallback?n.push(gG.of(t)):r?n.push(c8.computeN([Xe.darkTheme],i=>i.facet(Xe.darkTheme)==(r=="dark")?[t]:[])):n.push(c8.of(t)),n}class _xe{constructor(e){this.markCache=Object.create(null),this.tree=Hn(e.state),this.decorations=this.buildDeco(e,UC(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=Hn(e.state),r=UC(e.state),i=r!=UC(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return Et.none;let r=new vd;for(let{from:i,to:s}of e.visibleRanges)sxe(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=Et.mark({class:l})))},i,s);return r.finish()}}const xxe=sh.high(Mi.fromClass(_xe,{decorations:t=>t.decorations})),Sxe=UO.define([{tag:Q.meta,color:"#404740"},{tag:Q.link,textDecoration:"underline"},{tag:Q.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Q.emphasis,fontStyle:"italic"},{tag:Q.strong,fontWeight:"bold"},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.keyword,color:"#708"},{tag:[Q.atom,Q.bool,Q.url,Q.contentSeparator,Q.labelName],color:"#219"},{tag:[Q.literal,Q.inserted],color:"#164"},{tag:[Q.string,Q.deleted],color:"#a11"},{tag:[Q.regexp,Q.escape,Q.special(Q.string)],color:"#e40"},{tag:Q.definition(Q.variableName),color:"#00f"},{tag:Q.local(Q.variableName),color:"#30a"},{tag:[Q.typeName,Q.namespace],color:"#085"},{tag:Q.className,color:"#167"},{tag:[Q.special(Q.variableName),Q.macroName],color:"#256"},{tag:Q.definition(Q.propertyName),color:"#00c"},{tag:Q.comment,color:"#940"},{tag:Q.invalid,color:"#f00"}]),kxe=Xe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),bG=1e4,vG="()[]{}",OG=Ze.define({combine(t){return ah(t,{afterCursor:!0,brackets:vG,maxScanDistance:bG,renderMatch:Exe})}}),Cxe=Et.mark({class:"cm-matchingBracket"}),Axe=Et.mark({class:"cm-nonmatchingBracket"});function Exe(t){let e=[],n=t.matched?Cxe:Axe;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const Txe=Ni.define({create(){return Et.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(OG);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=nc(e.state,i.head,-1,r)||i.head>0&&nc(e.state,i.head-1,1,r)||r.afterCursor&&(nc(e.state,i.head,1,r)||i.head<e.state.doc.length&&nc(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return Et.set(n,!0)},provide:t=>Xe.decorations.from(t)}),Dxe=[Txe,kxe];function Pxe(t={}){return[OG.of(t),Dxe]}const wG=new Mt;function f8(t,e,n){let r=t.prop(e<0?Mt.openedBy:Mt.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function h8(t){let e=t.type.prop(wG);return e?e(t.node):t}function nc(t,e,n,r={}){let i=r.maxScanDistance||bG,s=r.brackets||vG,o=Hn(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let u=f8(l.type,n,s);if(u&&l.from<l.to){let c=h8(l);if(c&&(n>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return Rxe(t,e,n,l,c,u,s)}}return $xe(t,e,n,o,a.type,i,s)}function Rxe(t,e,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},u=0,c=a?.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do if(n<0?c.to<=r.from:c.from>=r.to){if(u==0&&s.indexOf(c.type.name)>-1&&c.from<c.to){let f=h8(c);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(f8(c.type,n,o))u++;else if(f8(c.type,-n,o)){if(u==0){let f=h8(c);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}u--}}while(n<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function $xe(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let h=0;!c.next().done&&h<=s;){let d=c.value;n<0&&(h+=d.length);let m=e+h*n;for(let g=n>0?0:d.length-1,b=n>0?d.length:-1;g!=b;g+=n){let v=o.indexOf(d[g]);if(!(v<0||r.resolveInner(m+g,1).type!=i))if(v%2==0==n>0)f++;else{if(f==1)return{start:u,end:{from:m+g,to:m+g+1},matched:v>>1==l>>1};f--}}n>0&&(h+=d.length)}return c.done?{start:u,matched:!1}:null}const Ixe=Object.create(null),XL=[Yi.none],ZL=[],WL=Object.create(null),Fxe=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Fxe[t]=Mxe(Ixe,e);function jC(t,e){ZL.indexOf(t)>-1||(ZL.push(t),console.warn(e))}function Mxe(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let u of a.split(".")){let c=t[u]||Q[u];c?typeof c=="function"?l.length?l=l.map(c):jC(u,`Modifier ${u} used at start of tag`):l.length?jC(u,`Tag ${u} used as modifier`):l=Array.isArray(c)?c:[c]:jC(u,`Unknown highlighting tag ${u}`)}for(let u of l)n.push(u)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),s=WL[i];if(s)return s.id;let o=WL[i]=Yi.define({id:XL.length,name:r,props:[lh({[r]:n})]});return XL.push(o),o.id}Nr.RTL,Nr.LTR;class s7{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=Hn(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(xG(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function YL(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Lxe(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=YL(e)+YL(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function o7(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Lxe(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}function _G(t,e){return n=>{for(let r=Hn(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class GL{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function zp(t){return t.selection.main.from}function xG(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const a7=oh.define();function Nxe(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return{...t.changeByRange(a=>{if(a!=i&&n!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:he.cursor(a.from+s+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const HL=new WeakMap;function Qxe(t){if(!Array.isArray(t))return t;let e=HL.get(t);return e||HL.set(t,e=o7(t)),e}const FS=Yt.define(),$v=Yt.define();class Bxe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Qo(e,n),i=Zu(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(Qo(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let O=Qo(e,0),x=Zu(O),C=x==e.length?0:-100;if(O!=n[0])if(O==r[0])C+=-200;else return null;return this.ret(C,[0,x])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,u=0;if(a<0){for(let O=0,x=Math.min(e.length,200);O<x&&u<l;){let C=Qo(e,O);(C==n[u]||C==r[u])&&(i[u++]=O),O+=Zu(C)}if(u<l)return null}let c=0,f=0,h=!1,d=0,m=-1,g=-1,b=/[a-z]/.test(e),v=!0;for(let O=0,x=Math.min(e.length,200),C=0;O<x&&f<l;){let S=Qo(e,O);a<0&&(c<l&&S==n[c]&&(s[c++]=O),d<l&&(S==n[d]||S==r[d]?(d==0&&(m=O),g=O+1,d++):d=0));let A,k=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(A=FP(S))!=A.toLowerCase()?1:A!=A.toUpperCase()?2:0;(!O||k==1&&b||C==0&&k!=0)&&(n[f]==S||r[f]==S&&(h=!0)?o[f++]=O:o.length&&(v=!1)),C=k,O+=Zu(S)}return f==l&&o[0]==0&&v?this.result(-100+(h?-200:0),o,e):d==l&&m==0?this.ret(-200-e.length+(g==e.length?0:-100),[0,g]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):d==l?this.ret(-900-e.length,[m,g]):f==l?this.result(-100+(h?-200:0)+-700+(v?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],s=0;for(let o of n){let a=o+(this.astral?Zu(Qo(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class zxe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const is=Ze.define({combine(t){return ah(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Uxe,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>KL(e(r),n(r)),optionClass:(e,n)=>r=>KL(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function KL(t,e){return t?e?t+" "+e:t:e}function Uxe(t,e,n,r,i,s){let o=t.textDirection==Nr.RTL,a=o,l=!1,u="top",c,f,h=e.left-i.left,d=i.right-e.right,m=r.right-r.left,g=r.bottom-r.top;if(a&&h<Math.min(m,d)?a=!1:!a&&d<Math.min(m,h)&&(a=!0),m<=(a?h:d))c=Math.max(i.top,Math.min(n.top,i.bottom-g))-e.top,f=Math.min(400,a?h:d);else{l=!0,f=Math.min(400,(o?e.right:i.right-e.left)-30);let O=i.bottom-e.bottom;O>=g||O>e.top?c=n.bottom-e.top:(u="bottom",c=e.bottom-n.top)}let b=(e.bottom-e.top)/s.offsetHeight,v=(e.right-e.left)/s.offsetWidth;return{style:`${u}: ${c/b}px; max-width: ${f/v}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function jxe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let u=0;u<s.length;){let c=s[u++],f=s[u++];c>l&&o.appendChild(document.createTextNode(a.slice(l,c)));let h=o.appendChild(document.createElement("span"));h.appendChild(document.createTextNode(a.slice(c,f))),h.className="cm-completionMatchedText",l=f}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function qC(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class qxe{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:s,selected:o}=i.open,a=e.state.facet(is);this.optionContent=jxe(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=qC(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(n).open;for(let c=l.target,f;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(f=/-(\d+)$/.exec(c.id))&&+f[1]<u.length){this.applyCompletion(e,u[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(is).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:$v.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=qC(s.length,o,e.state.facet(is).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=qC(n.options.length,n.selected,this.view.state.facet(is).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:s}=i;if(!s)return;let o=typeof s=="string"?document.createTextNode(s):s(i);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,i)}).catch(a=>co(this.view.state,a,"completion info")):(this.addInfoPane(o,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&Xxe(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(is).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:u}=a;if(u){let h=typeof u=="string"?u:u.name;if(h!=s&&(o>r.from||r.from==0))if(s=h,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let d=i.appendChild(document.createElement("completion-section"));d.textContent=h}}const c=i.appendChild(document.createElement("li"));c.id=n+"-"+o,c.setAttribute("role","option");let f=this.optionClass(a);f&&(c.className=f);for(let h of this.optionContent){let d=h(a,this.view.state,this.view,l);d&&c.appendChild(d)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Vxe(t,e){return n=>new qxe(n,t,e)}function Xxe(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function JL(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function Zxe(t,e){let n=[],r=null,i=null,s=c=>{n.push(c);let{section:f}=c.completion;if(f){r||(r=[]);let h=typeof f=="string"?f:f.name;r.some(d=>d.name==h)||r.push(typeof f=="string"?{name:h}:f)}},o=e.facet(is);for(let c of t)if(c.hasResult()){let f=c.result.getMatch;if(c.result.filter===!1)for(let h of c.result.options)s(new GL(h,c.source,f?f(h):[],1e9-n.length));else{let h=e.sliceDoc(c.from,c.to),d,m=o.filterStrict?new zxe(h):new Bxe(h);for(let g of c.result.options)if(d=m.match(g.label)){let b=g.displayLabel?f?f(g,d.matched):[]:d.matched,v=d.score+(g.boost||0);if(s(new GL(g,c.source,b,v)),typeof g.section=="object"&&g.section.rank==="dynamic"){let{name:O}=g.section;i||(i=Object.create(null)),i[O]=Math.max(v,i[O]||-1e9)}}}}if(r){let c=Object.create(null),f=0,h=(d,m)=>(d.rank==="dynamic"&&m.rank==="dynamic"?i[m.name]-i[d.name]:0)||(typeof d.rank=="number"?d.rank:1e9)-(typeof m.rank=="number"?m.rank:1e9)||(d.name<m.name?-1:1);for(let d of r.sort(h))f-=1e5,c[d.name]=f;for(let d of n){let{section:m}=d.completion;m&&(d.score+=c[typeof m=="string"?m:m.name])}}let a=[],l=null,u=o.compareCompletions;for(let c of n.sort((f,h)=>h.score-f.score||u(f.completion,h.completion))){let f=c.completion;!l||l.label!=f.label||l.detail!=f.detail||l.type!=null&&f.type!=null&&l.type!=f.type||l.apply!=f.apply||l.boost!=f.boost?a.push(c):JL(c.completion)>JL(l)&&(a[a.length-1]=c),l=c.completion}return a}class Lm{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Lm(this.options,eN(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s,o){if(i&&!o&&e.some(u=>u.isPending))return i.setDisabled();let a=Zxe(e,n);if(!a.length)return i&&e.some(u=>u.isPending)?i.setDisabled():null;let l=n.facet(is).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let u=i.options[i.selected].completion;for(let c=0;c<a.length;c++)if(a[c].completion==u){l=c;break}}return new Lm(a,eN(r,l),{pos:e.reduce((u,c)=>c.hasResult()?Math.min(u,c.from):u,1e8),create:Jxe,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Lm(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Lm(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class MS{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new MS(Hxe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(is),s=(r.override||n.languageDataAt("autocomplete",zp(n)).map(Qxe)).map(l=>(this.active.find(c=>c.source==l)||new fl(l,this.active.some(c=>c.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,u)=>l==this.active[u])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(l7));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!Wxe(s,this.active)||a?o=Lm.build(s,n,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new fl(l.source,0):l));for(let l of e.effects)l.is(kG)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new MS(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Yxe:Gxe}}function Wxe(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const Yxe={"aria-autocomplete":"list"},Gxe={};function eN(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const Hxe=[];function SG(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(a7);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class fl{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=SG(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new fl(i.source,0)),r&4&&i.state==0&&(i=new fl(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(FS))i=new fl(i.source,1,s.value);else if(s.is($v))i=new fl(i.source,0);else if(s.is(l7))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(zp(e.state))}}class ag extends fl{constructor(e,n,r,i,s,o){super(e,3,n),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=zp(e.state);if(a>o||!i||n&2&&(zp(e.startState)==this.from||a<this.limit))return new fl(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return Kxe(i.validFor,e.state,s,o)?new ag(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new s7(e.state,a,!1)))?new ag(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:zp(e.state)):new fl(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ag(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new fl(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function Kxe(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):xG(t,!0).test(i)}const l7=Yt.define({map(t,e){return t.map(n=>n.map(e))}}),kG=Yt.define(),Bo=Ni.define({create(){return MS.start()},update(t,e){return t.update(e)},provide:t=>[YP.from(t,e=>e.tooltip),Xe.contentAttributes.from(t,e=>e.attrs)]});function u7(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Bo).active.find(i=>i.source==e.source);return r instanceof ag?(typeof n=="string"?t.dispatch({...Nxe(t.state,n,r.from,r.to),annotations:a7.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const Jxe=Vxe(Bo,u7);function Lw(t,e="option"){return n=>{let r=n.state.field(Bo,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(is).interactionDelay)return!1;let i=1,s;e=="page"&&(s=nG(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:kG.of(a)}),!0}}const eSe=t=>{let e=t.state.field(Bo,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(is).interactionDelay?!1:u7(t,e.open.options[e.open.selected])},VC=t=>t.state.field(Bo,!1)?(t.dispatch({effects:FS.of(!0)}),!0):!1,tSe=t=>{let e=t.state.field(Bo,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:$v.of(null)}),!0)};class nSe{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const rSe=50,iSe=1e3,sSe=Mi.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Bo).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Bo),n=t.state.facet(is);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Bo)==e)return;let r=t.transactions.some(s=>{let o=SG(s,n);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>rSe&&Date.now()-o.time>iSe){for(let a of o.context.abortListeners)try{a()}catch(l){co(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(FS)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Bo);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(is).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=zp(e),r=new s7(e,n,t.explicit,this.view),i=new nSe(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:$v.of(null)}),co(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(is).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(is),r=this.view.state.field(Bo);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=zp(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),u=new ag(s.active.source,s.active.explicit,l,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:a);for(let c of s.updates)u=u.update(c,n);if(u.hasResult()){e.push(u);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new fl(s.active.source,0);for(let l of s.updates)a=a.update(l,n);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:l7.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Bo,!1);if(e&&e.tooltip&&this.view.state.facet(is).closeOnBlur){let n=e.open&&nG(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:$v.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:FS.of(!1)}),20),this.composing=0}}}),oSe=typeof navigator=="object"&&/Win/.test(navigator.platform),aSe=sh.highest(Xe.domEventHandlers({keydown(t,e){let n=e.state.field(Bo,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(oSe&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&u7(e,r),!1}})),CG=Xe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"Â·Â·Â·"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'Æ'"}},".cm-completionIcon-class":{"&:after":{content:"'â'"}},".cm-completionIcon-interface":{"&:after":{content:"'â'"}},".cm-completionIcon-variable":{"&:after":{content:"'ð¥'"}},".cm-completionIcon-constant":{"&:after":{content:"'ð¶'"}},".cm-completionIcon-type":{"&:after":{content:"'ð¡'"}},".cm-completionIcon-enum":{"&:after":{content:"'âª'"}},".cm-completionIcon-property":{"&:after":{content:"'â¡'"}},".cm-completionIcon-keyword":{"&:after":{content:"'ðï¸'"}},".cm-completionIcon-namespace":{"&:after":{content:"'â¢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class lSe{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class c7{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,ms.TrackDel),r=e.mapPos(this.to,1,ms.TrackDel);return n==null||r==null?null:new c7(this.field,n,r)}}class f7{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],s=e.doc.lineAt(n),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let u=o,c=/^\t*/.exec(l)[0].length;for(let f=0;f<c;f++)u+=e.facet(zO);i.push(n+u.length-c),l=u+l.slice(c)}r.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new c7(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let n=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",u=-1,c=l.replace(/\\[{}]/g,f=>f[1]);for(let f=0;f<n.length;f++)(a!=null?n[f].seq==a:c&&n[f].name==c)&&(u=f);if(u<0){let f=0;for(;f<n.length&&(a==null||n[f].seq!=null&&n[f].seq<a);)f++;n.splice(f,0,{seq:a,name:c}),u=f;for(let h of i)h.field>=u&&h.field++}for(let f of i)if(f.line==r.length&&f.from>s.index){let h=s[2]?3+(s[1]||"").length:2;f.from-=h,f.to-=h}i.push(new lSe(u,r.length,s.index,s.index+c.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,u)=>{for(let c of i)c.line==r.length&&c.from>u&&(c.from--,c.to--);return l}),r.push(o)}return new f7(r,i)}}let uSe=Et.widget({widget:new class extends C0{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),cSe=Et.mark({class:"cm-snippetField"});class Q1{constructor(e,n){this.ranges=e,this.active=n,this.deco=Et.set(e.map(r=>(r.from==r.to?uSe:cSe).range(r.from,r.to)),!0)}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new Q1(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const jO=Yt.define({map(t,e){return t&&t.map(e)}}),fSe=Yt.define(),Iv=Ni.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(jO))return n.value;if(n.is(fSe)&&t)return new Q1(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>Xe.decorations.from(t,e=>e?e.deco:Et.none)});function h7(t,e){return he.create(t.filter(n=>n.field==e).map(n=>he.range(n.from,n.to)))}function hSe(t){let e=f7.parse(t);return(n,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(n.state,i),{main:l}=n.state.selection,u={changes:{from:i,to:s==l.from?l.to:s,insert:Mn.of(o)},scrollIntoView:!0,annotations:r?[a7.of(r),Ii.userEvent.of("input.complete")]:void 0};if(a.length&&(u.selection=h7(a,0)),a.some(c=>c.field>0)){let c=new Q1(a,0),f=u.effects=[jO.of(c)];n.state.field(Iv,!1)===void 0&&f.push(Yt.appendConfig.of([Iv,ySe,bSe,CG]))}n.dispatch(n.state.update(u))}}function AG(t){return({state:e,dispatch:n})=>{let r=e.field(Iv,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,s=t>0&&!r.ranges.some(o=>o.field==i+t);return n(e.update({selection:h7(r.ranges,i),effects:jO.of(s?null:new Q1(r.ranges,i)),scrollIntoView:!0})),!0}}const dSe=({state:t,dispatch:e})=>t.field(Iv,!1)?(e(t.update({effects:jO.of(null)})),!0):!1,pSe=AG(1),mSe=AG(-1),gSe=[{key:"Tab",run:pSe,shift:mSe},{key:"Escape",run:dSe}],tN=Ze.define({combine(t){return t.length?t[0]:gSe}}),ySe=sh.highest(NO.compute([tN],t=>t.facet(tN)));function Js(t,e){return{...e,apply:hSe(t)}}const bSe=Xe.domEventHandlers({mousedown(t,e){let n=e.state.field(Iv,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:h7(n.ranges,i.field),effects:jO.of(n.ranges.some(s=>s.field>i.field)?new Q1(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),Fv={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Sp=Yt.define({map(t,e){let n=e.mapPos(t,-1,ms.TrackAfter);return n??void 0}}),d7=new class extends i0{};d7.startSide=1;d7.endSide=-1;const EG=Ni.define({create(){return zn.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(Sp)&&(t=t.update({add:[d7.range(n.value,n.value+1)]}));return t}});function vSe(){return[wSe,EG]}const XC="()[]{}<>Â«Â»Â»Â«ï¼»ï¼½ï½ï½";function TG(t){for(let e=0;e<XC.length;e+=2)if(XC.charCodeAt(e)==t)return XC.charAt(e+1);return FP(t<128?t:t+1)}function DG(t,e){return t.languageDataAt("closeBrackets",e)[0]||Fv}const OSe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),wSe=Xe.inputHandler.of((t,e,n,r)=>{if((OSe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Zu(Qo(r,0))==1||e!=i.from||n!=i.to)return!1;let s=SSe(t.state,r);return s?(t.dispatch(s),!0):!1}),_Se=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=DG(t,t.selection.main.head).brackets||Fv.brackets,i=null,s=t.changeByRange(o=>{if(o.empty){let a=kSe(t.doc,o.head);for(let l of r)if(l==a&&Qk(t.doc,o.head)==TG(Qo(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:he.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},xSe=[{key:"Backspace",run:_Se}];function SSe(t,e){let n=DG(t,t.selection.main.head),r=n.brackets||Fv.brackets;for(let i of r){let s=TG(Qo(i,0));if(e==i)return s==i?ESe(t,i,r.indexOf(i+i+i)>-1,n):CSe(t,i,s,n.before||Fv.before);if(e==s&&PG(t,t.selection.main.from))return ASe(t,i,s)}return null}function PG(t,e){let n=!1;return t.field(EG).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Qk(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Zu(Qo(n,0)))}function kSe(t,e){let n=t.sliceString(e-2,e);return Zu(Qo(n,0))==n.length?n:n.slice(1)}function CSe(t,e,n,r){let i=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:n,from:o.to}],effects:Sp.of(o.to+e.length),range:he.range(o.anchor+e.length,o.head+e.length)};let a=Qk(t.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:o.head},effects:Sp.of(o.head+e.length),range:he.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function ASe(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&Qk(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:he.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function ESe(t,e,n,r){let i=r.stringPrefixes||Fv.stringPrefixes,s=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Sp.of(a.to+e.length),range:he.range(a.anchor+e.length,a.head+e.length)};let l=a.head,u=Qk(t.doc,l),c;if(u==e){if(nN(t,l))return{changes:{insert:e+e,from:l},effects:Sp.of(l+e.length),range:he.cursor(l+e.length)};if(PG(t,l)){let h=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+h.length,insert:h},range:he.cursor(l+h.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(c=rN(t,l-2*e.length,i))>-1&&nN(t,c))return{changes:{insert:e+e+e+e,from:l},effects:Sp.of(l+e.length),range:he.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=qr.Word&&rN(t,l,i)>-1&&!TSe(t,l,e,i))return{changes:{insert:e+e,from:l},effects:Sp.of(l+e.length),range:he.cursor(l+e.length)}}return{range:s=a}});return s?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function nN(t,e){let n=Hn(t).resolveInner(e+1);return n.parent&&n.from==e}function TSe(t,e,n,r){let i=Hn(t).resolveInner(e,-1),s=r.reduce((o,a)=>Math.max(o,a.length),0);for(let o=0;o<5;o++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>n.length+l;){if(t.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function rN(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=qr.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=qr.Word)return s}return-1}function DSe(t={}){return[aSe,Bo,is.of(t),sSe,PSe,CG]}const RG=[{key:"Ctrl-Space",run:VC},{mac:"Alt-`",run:VC},{mac:"Alt-i",run:VC},{key:"Escape",run:tSe},{key:"ArrowDown",run:Lw(!0)},{key:"ArrowUp",run:Lw(!1)},{key:"PageDown",run:Lw(!0,"page")},{key:"PageUp",run:Lw(!1,"page")},{key:"Enter",run:eSe}],PSe=sh.highest(NO.computeN([is],t=>t.facet(is).defaultKeymap?[RG]:[])),RSe=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=m7(t.state,n.from);return r.line?$Se(t):r.block?FSe(t):!1};function p7(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const $Se=p7(NSe,0),ISe=p7($G,0),FSe=p7((t,e)=>$G(t,e,LSe(e)),0);function m7(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const Iy=50;function MSe(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-Iy,r),o=t.sliceDoc(i,i+Iy),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,u=s.length-a;if(s.slice(u-e.length,u)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let c,f;i-r<=2*Iy?c=f=t.sliceDoc(r,i):(c=t.sliceDoc(r,r+Iy),f=t.sliceDoc(i-Iy,i));let h=/^\s*/.exec(c)[0].length,d=/\s*$/.exec(f)[0].length,m=f.length-d-n.length;return c.slice(h,h+e.length)==e&&f.slice(m,m+n.length)==n?{open:{pos:r+h+e.length,margin:/\s/.test(c.charAt(h+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(f.charAt(m-1))?1:0}}:null}function LSe(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function $G(t,e,n=e.selection.ranges){let r=n.map(s=>m7(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>MSe(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:u,close:c}=a;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:s}}return null}function NSe(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of n){let a=r.length,l=1e9,u=m7(e,s).line;if(u){for(let c=s;c<=o;){let f=e.doc.lineAt(c);if(f.from>i&&(s==o||o>f.from)){i=f.from;let h=/^\s*/.exec(f.text)[0].length,d=h==f.length,m=f.text.slice(h,h+u.length)==u?h:-1;h<f.text.length&&h<l&&(l=h),r.push({line:f,comment:m,token:u,indent:h,empty:d,single:!1})}c=f.to+1}if(l<1e9)for(let c=a;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:u,empty:c,single:f}of r)(f||!c)&&s.push({from:a.from+u,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let u=o.from+a,c=u+l.length;o.text[c-o.from]==" "&&c++,s.push({from:u,to:c})}return{changes:s}}return null}const d8=oh.define(),QSe=oh.define(),BSe=Ze.define(),IG=Ze.define({combine(t){return ah(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),FG=Ni.define({create(){return rc.empty},update(t,e){let n=e.state.facet(IG),r=e.annotation(d8);if(r){let l=qo.fromTransaction(e,r.selection),u=r.side,c=u==0?t.undone:t.done;return l?c=LS(c,c.length,n.minDepth,l):c=NG(c,e.startState.selection),new rc(u==0?r.rest:c,u==0?c:r.rest)}let i=e.annotation(QSe);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Ii.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=qo.fromTransaction(e),o=e.annotation(Ii.time),a=e.annotation(Ii.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new rc(t.done.map(qo.fromJSON),t.undone.map(qo.fromJSON))}});function zSe(t={}){return[FG,IG.of(t),Xe.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?MG:e.inputType=="historyRedo"?p8:null;return r?(e.preventDefault(),r(n)):!1}})]}function Bk(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(FG,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const MG=Bk(0,!1),p8=Bk(1,!1),USe=Bk(0,!0),jSe=Bk(1,!0);class qo{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new qo(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new qo(e.changes&&Xi.fromJSON(e.changes),[],e.mapped&&cc.fromJSON(e.mapped),e.startSelection&&he.fromJSON(e.startSelection),e.selectionsAfter.map(he.fromJSON))}static fromTransaction(e,n){let r=hl;for(let i of e.startState.facet(BSe)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new qo(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,hl)}static selection(e){return new qo(void 0,hl,void 0,void 0,e)}}function LS(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function qSe(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let u=n[l++],c=n[l++];a>=u&&o<=c&&(r=!0)}}),r}function VSe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function LG(t,e){return t.length?e.length?t.concat(e):t:e}const hl=[],XSe=200;function NG(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-XSe));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),LS(t,t.length-1,1e9,n.setSelAfter(r)))}else return[qo.selection([e])]}function ZSe(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function ZC(t,e){if(!t.length)return t;let n=t.length,r=hl;for(;n;){let i=WSe(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[qo.selection(r)]:hl}function WSe(t,e,n){let r=LG(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):hl,n);if(!t.changes)return qo.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new qo(i,Yt.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const YSe=/^(input\.type|delete)($|\.)/;class rc{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new rc(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||YSe.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,qSe(a.changes,e.changes))||r=="input.type.compose")?o=LS(o,o.length-1,i.minDepth,new qo(e.changes.compose(a.changes),LG(Yt.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,hl)):o=LS(o,o.length,i.minDepth,e),new rc(o,hl,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:hl;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&VSe(s[s.length-1],e)?this:new rc(NG(this.done,e),this.undone,n,r)}addMapping(e){return new rc(ZC(this.done,e),ZC(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||n.selection;if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:d8.of({side:e,rest:ZSe(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?hl:i.slice(0,i.length-1);return s.mapped&&(a=ZC(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:d8.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}rc.empty=new rc(hl,hl);const GSe=[{key:"Mod-z",run:MG,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:p8,preventDefault:!0},{linux:"Ctrl-Shift-z",run:p8,preventDefault:!0},{key:"Mod-u",run:USe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:jSe,preventDefault:!0}];function B1(t,e){return he.create(t.ranges.map(e),t.mainIndex)}function bu(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function vu({state:t,dispatch:e},n){let r=B1(t.selection,n);return r.eq(t.selection,!0)?!1:(e(bu(t,r)),!0)}function zk(t,e){return he.cursor(e?t.to:t.from)}function QG(t,e){return vu(t,n=>n.empty?t.moveByChar(n,e):zk(n,e))}function Xs(t){return t.textDirectionAt(t.state.selection.main.head)==Nr.LTR}const BG=t=>QG(t,!Xs(t)),zG=t=>QG(t,Xs(t));function UG(t,e){return vu(t,n=>n.empty?t.moveByGroup(n,e):zk(n,e))}const HSe=t=>UG(t,!Xs(t)),KSe=t=>UG(t,Xs(t));function JSe(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Uk(t,e,n){let r=Hn(t).resolveInner(e.head),i=n?Mt.closedBy:Mt.openedBy;for(let l=e.head;;){let u=n?r.childAfter(l):r.childBefore(l);if(!u)break;JSe(t,u,i)?r=u:l=n?u.to:u.from}let s=r.type.prop(i),o,a;return s&&(o=n?nc(t,r.from,1):nc(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,he.cursor(a,n?-1:1)}const e3e=t=>vu(t,e=>Uk(t.state,e,!Xs(t))),t3e=t=>vu(t,e=>Uk(t.state,e,Xs(t)));function jG(t,e){return vu(t,n=>{if(!n.empty)return zk(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const qG=t=>jG(t,!1),VG=t=>jG(t,!0);function XG(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(Xe.scrollMargins)){let o=s(t);o?.top&&(n=Math.max(o?.top,n)),o?.bottom&&(r=Math.max(o?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function ZG(t,e){let n=XG(t),{state:r}=t,i=B1(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):zk(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,u=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<u&&(s=Xe.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(bu(r,i),{effects:s}),!0}const iN=t=>ZG(t,!1),m8=t=>ZG(t,!0);function Fd(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=he.cursor(r.from+s))}return i}const n3e=t=>vu(t,e=>Fd(t,e,!0)),r3e=t=>vu(t,e=>Fd(t,e,!1)),i3e=t=>vu(t,e=>Fd(t,e,!Xs(t))),s3e=t=>vu(t,e=>Fd(t,e,Xs(t))),o3e=t=>vu(t,e=>he.cursor(t.lineBlockAt(e.head).from,1)),a3e=t=>vu(t,e=>he.cursor(t.lineBlockAt(e.head).to,-1));function l3e(t,e,n){let r=!1,i=B1(t.selection,s=>{let o=nc(t,s.head,-1)||nc(t,s.head,1)||s.head>0&&nc(t,s.head-1,1)||s.head<t.doc.length&&nc(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return he.cursor(a)});return r?(e(bu(t,i)),!0):!1}const u3e=({state:t,dispatch:e})=>l3e(t,e);function Tl(t,e){let n=B1(t.state.selection,r=>{let i=e(r);return he.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(bu(t.state,n)),!0)}function WG(t,e){return Tl(t,n=>t.moveByChar(n,e))}const YG=t=>WG(t,!Xs(t)),GG=t=>WG(t,Xs(t));function HG(t,e){return Tl(t,n=>t.moveByGroup(n,e))}const c3e=t=>HG(t,!Xs(t)),f3e=t=>HG(t,Xs(t)),h3e=t=>Tl(t,e=>Uk(t.state,e,!Xs(t))),d3e=t=>Tl(t,e=>Uk(t.state,e,Xs(t)));function KG(t,e){return Tl(t,n=>t.moveVertically(n,e))}const JG=t=>KG(t,!1),eH=t=>KG(t,!0);function tH(t,e){return Tl(t,n=>t.moveVertically(n,e,XG(t).height))}const sN=t=>tH(t,!1),oN=t=>tH(t,!0),p3e=t=>Tl(t,e=>Fd(t,e,!0)),m3e=t=>Tl(t,e=>Fd(t,e,!1)),g3e=t=>Tl(t,e=>Fd(t,e,!Xs(t))),y3e=t=>Tl(t,e=>Fd(t,e,Xs(t))),b3e=t=>Tl(t,e=>he.cursor(t.lineBlockAt(e.head).from)),v3e=t=>Tl(t,e=>he.cursor(t.lineBlockAt(e.head).to)),aN=({state:t,dispatch:e})=>(e(bu(t,{anchor:0})),!0),lN=({state:t,dispatch:e})=>(e(bu(t,{anchor:t.doc.length})),!0),uN=({state:t,dispatch:e})=>(e(bu(t,{anchor:t.selection.main.anchor,head:0})),!0),cN=({state:t,dispatch:e})=>(e(bu(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),O3e=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),w3e=({state:t,dispatch:e})=>{let n=jk(t).map(({from:r,to:i})=>he.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:he.create(n),userEvent:"select"})),!0},_3e=({state:t,dispatch:e})=>{let n=B1(t.selection,r=>{let i=Hn(t),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return he.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e(bu(t,n)),!0)};function nH(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let s of n.selection.ranges){let o=n.doc.lineAt(s.head);if(e?o.to<t.state.doc.length:o.from>0)for(let a=s;;){let l=t.moveVertically(a,e);if(l.head<o.from||l.head>o.to){i.some(u=>u.head==l.head)||i.push(l);break}else{if(l.head==a.head)break;a=l}}}return i.length==r.ranges.length?!1:(t.dispatch(bu(n,he.create(i,i.length-1))),!0)}const x3e=t=>nH(t,!1),S3e=t=>nH(t,!0),k3e=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=he.create([n.main]):n.main.empty||(r=he.create([he.cursor(n.main.head)])),r?(e(bu(t,r)),!0):!1};function qO(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=Nw(t,l,!1)):l>o&&(n="delete.forward",l=Nw(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=Nw(t,o,!1),a=Nw(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:he.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Xe.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Nw(t,e,n){if(t instanceof Xe)for(let r of t.state.facet(Xe.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const rH=(t,e,n)=>qO(t,r=>{let i=r.from,{state:s}=t,o=s.doc.lineAt(i),a,l;if(n&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let u=au(a,s.tabSize),c=u%IS(s)||IS(s);for(let f=0;f<c&&a[a.length-1-f]==" ";f++)i--;l=i}else l=ys(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=ys(o.text,l-o.from,!1,!1)+o.from);return l}),g8=t=>rH(t,!1,!0),iH=t=>rH(t,!0,!1),sH=(t,e)=>qO(t,n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=ys(s.text,r-s.from,e)+s.from,u=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),c=o(u);if(a!=null&&c!=a)break;(u!=" "||r!=n.head)&&(a=c),r=l}return r}),oH=t=>sH(t,!1),C3e=t=>sH(t,!0),A3e=t=>qO(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),E3e=t=>qO(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),T3e=t=>qO(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),D3e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Mn.of(["",""])},range:he.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},P3e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:ys(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:ys(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:he.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function jk(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function aH(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of jk(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(he.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(he.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:he.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const R3e=({state:t,dispatch:e})=>aH(t,e,!1),$3e=({state:t,dispatch:e})=>aH(t,e,!0);function lH(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of jk(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const I3e=({state:t,dispatch:e})=>lH(t,e,!1),F3e=({state:t,dispatch:e})=>lH(t,e,!0),M3e=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(jk(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=B1(e.selection,i=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,s)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function L3e(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Hn(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(Mt.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const fN=uH(!1),N3e=uH(!0);function uH(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&L3e(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let u=new Lk(e,{simulateBreak:s,simulateDoubleBreak:!!l}),c=r7(u,s);for(c==null&&(c=au(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let f=["",Rv(e,c)];return l&&f.push(Rv(e,u.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:Mn.of(f)},range:he.cursor(s+1+f[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function g7(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:he.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const Q3e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Lk(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),i=g7(t,(s,o,a)=>{let l=r7(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],c=Rv(t,l);(u!=c||a.from<s.from+u.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+u.length,insert:c}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},cH=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(g7(t,(n,r)=>{r.push({from:n.from,insert:t.facet(zO)})}),{userEvent:"input.indent"})),!0),fH=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(g7(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=au(i,t.tabSize),o=0,a=Rv(t,Math.max(0,s-IS(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),B3e=t=>(t.setTabFocusMode(),!0),z3e=({state:t,dispatch:e})=>t.selection.ranges.some(n=>!n.empty)?cH({state:t,dispatch:e}):(e(t.update(t.replaceSelection("	"),{scrollIntoView:!0,userEvent:"input"})),!0),U3e=[{key:"Ctrl-b",run:BG,shift:YG,preventDefault:!0},{key:"Ctrl-f",run:zG,shift:GG},{key:"Ctrl-p",run:qG,shift:JG},{key:"Ctrl-n",run:VG,shift:eH},{key:"Ctrl-a",run:o3e,shift:b3e},{key:"Ctrl-e",run:a3e,shift:v3e},{key:"Ctrl-d",run:iH},{key:"Ctrl-h",run:g8},{key:"Ctrl-k",run:A3e},{key:"Ctrl-Alt-h",run:oH},{key:"Ctrl-o",run:D3e},{key:"Ctrl-t",run:P3e},{key:"Ctrl-v",run:m8}],j3e=[{key:"ArrowLeft",run:BG,shift:YG,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:HSe,shift:c3e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:i3e,shift:g3e,preventDefault:!0},{key:"ArrowRight",run:zG,shift:GG,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:KSe,shift:f3e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:s3e,shift:y3e,preventDefault:!0},{key:"ArrowUp",run:qG,shift:JG,preventDefault:!0},{mac:"Cmd-ArrowUp",run:aN,shift:uN},{mac:"Ctrl-ArrowUp",run:iN,shift:sN},{key:"ArrowDown",run:VG,shift:eH,preventDefault:!0},{mac:"Cmd-ArrowDown",run:lN,shift:cN},{mac:"Ctrl-ArrowDown",run:m8,shift:oN},{key:"PageUp",run:iN,shift:sN},{key:"PageDown",run:m8,shift:oN},{key:"Home",run:r3e,shift:m3e,preventDefault:!0},{key:"Mod-Home",run:aN,shift:uN},{key:"End",run:n3e,shift:p3e,preventDefault:!0},{key:"Mod-End",run:lN,shift:cN},{key:"Enter",run:fN,shift:fN},{key:"Mod-a",run:O3e},{key:"Backspace",run:g8,shift:g8,preventDefault:!0},{key:"Delete",run:iH,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:oH,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:C3e,preventDefault:!0},{mac:"Mod-Backspace",run:E3e,preventDefault:!0},{mac:"Mod-Delete",run:T3e,preventDefault:!0}].concat(U3e.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),q3e=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e3e,shift:h3e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:t3e,shift:d3e},{key:"Alt-ArrowUp",run:R3e},{key:"Shift-Alt-ArrowUp",run:I3e},{key:"Alt-ArrowDown",run:$3e},{key:"Shift-Alt-ArrowDown",run:F3e},{key:"Mod-Alt-ArrowUp",run:x3e},{key:"Mod-Alt-ArrowDown",run:S3e},{key:"Escape",run:k3e},{key:"Mod-Enter",run:N3e},{key:"Alt-l",mac:"Ctrl-l",run:w3e},{key:"Mod-i",run:_3e,preventDefault:!0},{key:"Mod-[",run:fH},{key:"Mod-]",run:cH},{key:"Mod-Alt-\\",run:Q3e},{key:"Shift-Mod-k",run:M3e},{key:"Shift-Mod-\\",run:u3e},{key:"Mod-/",run:RSe},{key:"Alt-A",run:ISe},{key:"Ctrl-m",mac:"Shift-Alt-m",run:B3e}].concat(j3e);class hN{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class fp{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(ic).markerFilter;i&&(e=i(e,r));let s=e.slice().sort((d,m)=>d.from-m.from||d.to-m.to),o=new vd,a=[],l=0,u=r.doc.iter(),c=0,f=r.doc.length;for(let d=0;;){let m=d==s.length?null:s[d];if(!m&&!a.length)break;let g,b;if(a.length)g=l,b=a.reduce((x,C)=>Math.min(x,C.to),m&&m.from>g?m.from:1e8);else{if(g=m.from,g>f)break;b=m.to,a.push(m),d++}for(;d<s.length;){let x=s[d];if(x.from==g&&(x.to>x.from||x.to==g))a.push(x),d++,b=Math.min(x.to,b);else{b=Math.min(x.from,b);break}}b=Math.min(b,f);let v=!1;if(a.some(x=>x.from==g&&(x.to==b||b==f))&&(v=g==b,!v&&b-g<10)){let x=g-(c+u.value.length);x>0&&(u.next(x),c=g);for(let C=g;;){if(C>=b){v=!0;break}if(!u.lineBreak&&c+u.value.length>C)break;C=c+u.value.length,c+=u.value.length,u.next()}}let O=ske(a);if(v)o.add(g,g,Et.widget({widget:new tke(O),diagnostics:a.slice()}));else{let x=a.reduce((C,S)=>S.markClass?C+" "+S.markClass:C,"");o.add(g,b,Et.mark({class:"cm-lintRange cm-lintRange-"+O+x,diagnostics:a.slice(),inclusiveEnd:a.some(C=>C.to>b)}))}if(l=b,l==f)break;for(let x=0;x<a.length;x++)a[x].to<=l&&a.splice(x--,1)}let h=o.finish();return new fp(h,n,Jg(h))}}function Jg(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new hN(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new hN(r.from,s,r.diagnostic)}}),r}function V3e(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(ic).hideOn(t,n,r);if(i!=null)return i;let s=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(o=>o.is(y7))||t.changes.touchesRange(s.from,Math.max(s.to,r)))}function hH(t,e){return t.field(Pa,!1)?e:e.concat(Yt.appendConfig.of(gH))}function X3e(t,e){return{effects:hH(t,[y7.of(e)])}}const y7=Yt.define(),b7=Yt.define(),dH=Yt.define(),Pa=Ni.define({create(){return new fp(Et.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let s=e.changes.mapPos(t.selected.from,1);r=Jg(n,t.selected.diagnostic,s)||Jg(n,null,s)}!n.size&&i&&e.state.facet(ic).autoPanel&&(i=null),t=new fp(n,i,r)}for(let n of e.effects)if(n.is(y7)){let r=e.state.facet(ic).autoPanel?n.value.length?Mv.open:null:t.panel;t=fp.init(n.value,r,e.state)}else n.is(b7)?t=new fp(t.diagnostics,n.value?Mv.open:null,t.selected):n.is(dH)&&(t=new fp(t.diagnostics,t.panel,n.value));return t},provide:t=>[Av.from(t,e=>e.panel),Xe.decorations.from(t,e=>e.diagnostics)]}),Z3e=Et.mark({class:"cm-lintRange cm-lintRange-active"});function W3e(t,e,n){let{diagnostics:r}=t.state.field(Pa),i,s=-1,o=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,u,{spec:c})=>{if(e>=l&&e<=u&&(l==u||(e>l||n>0)&&(e<u||n<0)))return i=c.diagnostics,s=l,o=u,!1});let a=t.state.facet(ic).tooltipFilter;return i&&a&&(i=a(i,t.state)),i?{pos:s,end:o,above:t.state.doc.lineAt(s).to<o,create(){return{dom:Y3e(t,i)}}}:null}function Y3e(t,e){return pr("ul",{class:"cm-tooltip-lint"},e.map(n=>mH(t,n,!1)))}const G3e=t=>{let e=t.state.field(Pa,!1);(!e||!e.panel)&&t.dispatch({effects:hH(t.state,[b7.of(!0)])});let n=Cv(t,Mv.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},dN=t=>{let e=t.state.field(Pa,!1);return!e||!e.panel?!1:(t.dispatch({effects:b7.of(!1)}),!0)},H3e=t=>{let e=t.state.field(Pa,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},K3e=[{key:"Mod-Shift-m",run:G3e,preventDefault:!0},{key:"F8",run:H3e}],J3e=Mi.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(ic);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){clearTimeout(this.timeout);let t=Date.now();if(t<this.lintTime-10)this.timeout=setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:e}=this.view,{sources:n}=e.facet(ic);n.length&&eke(n.map(r=>Promise.resolve(r(this.view))),r=>{this.view.state.doc==e.doc&&this.view.dispatch(X3e(this.view.state,r.reduce((i,s)=>i.concat(s))))},r=>{co(this.view.state,r)})}}update(t){let e=t.state.facet(ic);(t.docChanged||e!=t.startState.facet(ic)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}});function eke(t,e,n){let r=[],i=-1;for(let s of t)s.then(o=>{r.push(o),clearTimeout(i),r.length==t.length?e(r):i=setTimeout(()=>e(r),200)},n)}const ic=Ze.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...ah(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:pN,tooltipFilter:pN,needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n,hideOn:(e,n)=>e?n?(r,i,s)=>e(r,i,s)||n(r,i,s):e:n,autoPanel:(e,n)=>e||n})}}});function pN(t,e){return t?e?(n,r)=>e(t(n,r),r):t:e}function NS(t,e={}){return[ic.of({source:t,config:e}),J3e,gH]}function pH(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function mH(t,e,n){var r;let i=n?pH(e.actions):[];return pr("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},pr("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let a=!1,l=d=>{if(d.preventDefault(),a)return;a=!0;let m=Jg(t.state.field(Pa).diagnostics,e);m&&s.apply(t,m.from,m.to)},{name:u}=s,c=i[o]?u.indexOf(i[o]):-1,f=c<0?u:[u.slice(0,c),pr("u",u.slice(c,c+1)),u.slice(c+1)],h=s.markClass?" "+s.markClass:"";return pr("button",{type:"button",class:"cm-diagnosticAction"+h,onclick:l,onmousedown:l,"aria-label":` Action: ${u}${c<0?"":` (access key "${i[o]})"`}.`},f)}),e.source&&pr("div",{class:"cm-diagnosticSource"},e.source))}class tke extends C0{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return pr("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class mN{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=mH(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Mv{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)dN(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=pH(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=Jg(this.view.state.field(Pa).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=pr("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=pr("div",{class:"cm-panel-lint"},this.list,pr("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>dN(this.view)},"Ã")),this.update()}get selectedIndex(){let e=this.view.state.field(Pa).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Pa),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(a,l,{spec:u})=>{for(let c of u.diagnostics){if(o.has(c))continue;o.add(c);let f=-1,h;for(let d=r;d<this.items.length;d++)if(this.items[d].diagnostic==c){f=d;break}f<0?(h=new mN(this.view,c),this.items.splice(r,0,h),i=!0):(h=this.items[f],f>r&&(this.items.splice(r,f-r),i=!0)),n&&h.diagnostic==n.diagnostic?h.dom.hasAttribute("aria-selected")||(h.dom.setAttribute("aria-selected","true"),s=h):h.dom.hasAttribute("aria-selected")&&h.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new mN(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:l})=>{let u=l.height/this.list.offsetHeight;a.top<l.top?this.list.scrollTop-=(l.top-a.top)/u:a.bottom>l.bottom&&(this.list.scrollTop+=(a.bottom-l.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Pa),r=Jg(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:dH.of(r)})}static open(e){return new Mv(e)}}function nke(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Qw(t){return nke(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const rke=Xe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Qw("#d11")},".cm-lintRange-warning":{backgroundImage:Qw("orange")},".cm-lintRange-info":{backgroundImage:Qw("#999")},".cm-lintRange-hint":{backgroundImage:Qw("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function ike(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function ske(t){let e="hint",n=1;for(let r of t){let i=ike(r.severity);i>n&&(n=i,e=r.severity)}return e}const gH=[Pa,Xe.decorations.compute([Pa],t=>{let{selected:e,panel:n}=t.field(Pa);return!e||!n||e.from==e.to?Et.none:Et.set([Z3e.range(e.from,e.to)])}),GP(W3e,{hideOn:V3e}),rke],gN=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class e1{constructor(e,n,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?a=>s(gN(a)):gN,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Qo(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=FP(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Zu(e);let i=this.normalize(n);if(i.length)for(let s=0,o=r;;s++){let a=i.charCodeAt(s),l=this.match(a,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(l)return this.value=l,this;break}o==r&&s<n.length&&n.charCodeAt(s)==a&&o++}}}match(e,n,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,a=!0)),a||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(e1.prototype[Symbol.iterator]=function(){return this});const yH={from:-1,to:-1,match:/.*/.exec("")},v7="gm"+(/x/.unicode==null?"":"u");class bH{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=yH,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new vH(e,n,r,i,s);this.re=new RegExp(n,v7+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=QS(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=QS(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const WC=new WeakMap;class lg{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=WC.get(e);if(!i||i.from>=r||i.to<=n){let a=new lg(n,e.sliceString(n,r));return WC.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:s,from:o}=i;return o>n&&(s=e.sliceString(n,o)+s,o=n),i.to<r&&(s+=e.sliceString(i.to,r)),WC.set(e,new lg(o,s)),new lg(n,s.slice(n-o,r-o))}}class vH{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=yH,this.matchPos=QS(e,i),this.re=new RegExp(n,v7+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=lg.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=QS(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=lg.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(bH.prototype[Symbol.iterator]=vH.prototype[Symbol.iterator]=function(){return this});function oke(t){try{return new RegExp(t,v7),!0}catch{return!1}}function QS(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function y8(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=pr("input",{class:"cm-textfield",name:"line",value:e}),r=pr("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),t.dispatch({effects:Ub.of(!1)}),t.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},pr("label",t.state.phrase("Go to line"),": ",n)," ",pr("button",{class:"cm-button",type:"submit"},t.state.phrase("go")),pr("button",{name:"close",onclick:()=>{t.dispatch({effects:Ub.of(!1)}),t.focus()},"aria-label":t.state.phrase("close"),type:"button"},["Ã"]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,l,u,c,f]=s,h=c?+c.slice(1):0,d=u?+u:a.number;if(u&&f){let b=d/100;l&&(b=b*(l=="-"?-1:1)+a.number/o.doc.lines),d=Math.round(o.doc.lines*b)}else u&&l&&(d=d*(l=="-"?-1:1)+a.number);let m=o.doc.line(Math.max(1,Math.min(o.doc.lines,d))),g=he.cursor(m.from+Math.max(0,Math.min(h,m.length)));t.dispatch({effects:[Ub.of(!1),Xe.scrollIntoView(g.from,{y:"center"})],selection:g}),t.focus()}return{dom:r}}const Ub=Yt.define(),yN=Ni.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(Ub)&&(t=n.value);return t},provide:t=>Av.from(t,e=>e?y8:null)}),ake=t=>{let e=Cv(t,y8);if(!e){let n=[Ub.of(!0)];t.state.field(yN,!1)==null&&n.push(Yt.appendConfig.of([yN,lke])),t.dispatch({effects:n}),e=Cv(t,y8)}return e&&e.dom.querySelector("input").select(),!0},lke=Xe.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),uke={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},cke=Ze.define({combine(t){return ah(t,uke,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function fke(t){return[gke,mke]}const hke=Et.mark({class:"cm-selectionMatch"}),dke=Et.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function bN(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=qr.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=qr.Word)}function pke(t,e,n,r){return t(e.sliceDoc(n,n+1))==qr.Word&&t(e.sliceDoc(r-1,r))==qr.Word}const mke=Mi.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(cke),{state:n}=t,r=n.selection;if(r.ranges.length>1)return Et.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return Et.none;let l=n.wordAt(i.head);if(!l)return Et.none;o=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Et.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),o=n.charCategorizer(i.head),!(bN(o,n,i.from,i.to)&&pke(o,n,i.from,i.to)))return Et.none}else if(s=n.sliceDoc(i.from,i.to),!s)return Et.none}let a=[];for(let l of t.visibleRanges){let u=new e1(n.doc,s,l.from,l.to);for(;!u.next().done;){let{from:c,to:f}=u.value;if((!o||bN(o,n,c,f))&&(i.empty&&c<=i.from&&f>=i.to?a.push(dke.range(c,f)):(c>=i.to||f<=i.from)&&a.push(hke.range(c,f)),a.length>e.maxMatches))return Et.none}}return Et.set(a)}},{decorations:t=>t.decorations}),gke=Xe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),yke=({state:t,dispatch:e})=>{let{selection:n}=t,r=he.create(n.ranges.map(i=>t.wordAt(i.head)||he.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function bke(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let o=!1,a=new e1(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new e1(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(l=>l.from==a.value.from))continue;if(s){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const vke=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return yke({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=bke(t,r);return i?(e(t.update({selection:t.selection.addRange(he.range(i.from,i.to),!1),effects:Xe.scrollIntoView(i.to)})),!0):!1},z1=Ze.define({combine(t){return ah(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Pke(e),scrollToMatch:e=>Xe.scrollIntoView(e)})}});class OH{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||oke(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new xke(this):new wke(this)}getCursor(e,n=0,r){let i=e.doc?e:Dn.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Em(this,i,n,r):Am(this,i,n,r)}}class wH{constructor(e){this.spec=e}}function Am(t,e,n,r){return new e1(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?Oke(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Oke(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(BS(i,n-s))!=qr.Word||e(zS(i,n-s))!=qr.Word)&&(e(zS(i,r-s))!=qr.Word||e(BS(i,r-s))!=qr.Word))}class wke extends wH{constructor(e){super(e)}nextMatch(e,n,r){let i=Am(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,n+this.spec.unquoted.length);i=Am(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),o=Am(this.spec,e,s,i),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Am(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=Am(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Em(t,e,n,r){return new bH(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?_ke(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function BS(t,e){return t.slice(ys(t,e,!1),e)}function zS(t,e){return t.slice(e,ys(t,e))}function _ke(t){return(e,n,r)=>!r[0].length||(t(BS(r.input,r.index))!=qr.Word||t(zS(r.input,r.index))!=qr.Word)&&(t(zS(r.input,r.index+r[0].length))!=qr.Word||t(BS(r.input,r.index+r[0].length))!=qr.Word)}class xke extends wH{nextMatch(e,n,r){let i=Em(this.spec,e,r,e.doc.length).next();return i.done&&(i=Em(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),o=Em(this.spec,e,s,r),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==n||a.from>s+10))return a;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return n})}matchAll(e,n){let r=Em(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=Em(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Lv=Yt.define(),O7=Yt.define(),Jh=Ni.define({create(t){return new YC(b8(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Lv)?t=new YC(n.value.create(),t.panel):n.is(O7)&&(t=new YC(t.query,n.value?w7:null));return t},provide:t=>Av.from(t,e=>e.panel)});class YC{constructor(e,n){this.query=e,this.panel=n}}const Ske=Et.mark({class:"cm-searchMatch"}),kke=Et.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Cke=Mi.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Jh))}update(t){let e=t.state.field(Jh);(e!=t.startState.field(Jh)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Et.none;let{view:n}=this,r=new vd;for(let i=0,s=n.visibleRanges,o=s.length;i<o;i++){let{from:a,to:l}=s[i];for(;i<o-1&&l>s[i+1].from-500;)l=s[++i].to;t.highlight(n.state,a,l,(u,c)=>{let f=n.state.selection.ranges.some(h=>h.from==u&&h.to==c);r.add(u,c,f?kke:Ske)})}return r.finish()}},{decorations:t=>t.decorations});function VO(t){return e=>{let n=e.state.field(Jh,!1);return n&&n.query.spec.valid?t(e,n):SH(e)}}const US=VO((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=he.single(r.from,r.to),s=t.state.facet(z1);return t.dispatch({selection:i,effects:[_7(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),xH(t),!0}),jS=VO((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=he.single(i.from,i.to),o=t.state.facet(z1);return t.dispatch({selection:s,effects:[_7(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),xH(t),!0}),Ake=VO((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:he.create(n.map(r=>he.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),Eke=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],o=0;for(let a=new e1(t.doc,t.sliceDoc(r,i));!a.next().done;){if(s.length>1e3)return!1;a.value.from==r&&(o=s.length),s.push(he.range(a.value.from,a.value.to))}return e(t.update({selection:he.create(s,o),userEvent:"select.search.matches"})),!0},vN=VO((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let o=s,a=[],l,u,c=[];o.from==r&&o.to==i&&(u=n.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:u}),o=e.nextMatch(n,o.from,o.to),c.push(Xe.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let f=t.state.changes(a);return o&&(l=he.single(o.from,o.to).map(f),c.push(_7(t,o)),c.push(n.facet(z1).scrollToMatch(l.main,t))),t.dispatch({changes:f,selection:l,effects:c,userEvent:"input.replace"}),!0}),Tke=VO((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Xe.announce.of(r),userEvent:"input.replace.all"}),!0});function w7(t){return t.state.facet(z1).createPanel(t)}function b8(t,e){var n,r,i,s,o;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let u=t.facet(z1);return new OH({search:((n=e?.literal)!==null&&n!==void 0?n:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:u.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:u.wholeWord})}function _H(t){let e=Cv(t,w7);return e&&e.dom.querySelector("[main-field]")}function xH(t){let e=_H(t);e&&e==t.root.activeElement&&e.select()}const SH=t=>{let e=t.state.field(Jh,!1);if(e&&e.panel){let n=_H(t);if(n&&n!=t.root.activeElement){let r=b8(t.state,e.query.spec);r.valid&&t.dispatch({effects:Lv.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[O7.of(!0),e?Lv.of(b8(t.state,e.query.spec)):Yt.appendConfig.of($ke)]});return!0},kH=t=>{let e=t.state.field(Jh,!1);if(!e||!e.panel)return!1;let n=Cv(t,w7);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:O7.of(!1)}),!0},Dke=[{key:"Mod-f",run:SH,scope:"editor search-panel"},{key:"F3",run:US,shift:jS,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:US,shift:jS,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:kH,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Eke},{key:"Mod-Alt-g",run:ake},{key:"Mod-d",run:vke,preventDefault:!0}];class Pke{constructor(e){this.view=e;let n=this.query=e.state.field(Jh).query.spec;this.commit=this.commit.bind(this),this.searchField=pr("input",{value:n.search,placeholder:da(e,"Find"),"aria-label":da(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=pr("input",{value:n.replace,placeholder:da(e,"Replace"),"aria-label":da(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=pr("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=pr("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=pr("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,o){return pr("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=pr("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>US(e),[da(e,"next")]),r("prev",()=>jS(e),[da(e,"previous")]),r("select",()=>Ake(e),[da(e,"all")]),pr("label",null,[this.caseField,da(e,"match case")]),pr("label",null,[this.reField,da(e,"regexp")]),pr("label",null,[this.wordField,da(e,"by word")]),...e.state.readOnly?[]:[pr("br"),this.replaceField,r("replace",()=>vN(e),[da(e,"replace")]),r("replaceAll",()=>Tke(e),[da(e,"replace all")])],pr("button",{name:"close",onclick:()=>kH(e),"aria-label":da(e,"close"),type:"button"},["Ã"])])}commit(){let e=new OH({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Lv.of(e)}))}keydown(e){zwe(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?jS:US)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),vN(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(Lv)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(z1).top}}function da(t,e){return t.state.phrase(e)}const Bw=30,zw=/[\s\.,:;?!]/;function _7(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-Bw),o=Math.min(i,n+Bw),a=t.state.sliceDoc(s,o);if(s!=r.from){for(let l=0;l<Bw;l++)if(!zw.test(a[l+1])&&zw.test(a[l])){a=a.slice(l);break}}if(o!=i){for(let l=a.length-1;l>a.length-Bw;l--)if(!zw.test(a[l-1])&&zw.test(a[l])){a=a.slice(0,l);break}}return Xe.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const Rke=Xe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),$ke=[Jh,sh.low(Cke),Rke];class qS{static create(e,n,r,i,s){let o=i+(i<<8)+e+(n<<4)|0;return new qS(e,n,r,o,s,[],[])}constructor(e,n,r,i,s,o,a){this.type=e,this.value=n,this.from=r,this.hash=i,this.end=s,this.children=o,this.positions=a,this.hashProp=[[Mt.contextHash,i]]}addChild(e,n){e.prop(Mt.contextHash)!=this.hash&&(e=new Gn(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let r=this.children.length-1;return r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from)),new Gn(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(i,s,o)=>new Gn(Yi.none,i,s,o,this.hashProp)})}}var Fe;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL"})(Fe||(Fe={}));class Ike{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}}class Fke{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return jb(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,r=0){for(let i=n;i<e;i++)r+=this.text.charCodeAt(i)==9?4-r%4:1;return r}findColumn(e){let n=0;for(let r=0;n<this.text.length&&r<e;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}}function ON(t,e,n){if(n.pos==n.text.length||t!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let r=(t.type==Fe.OrderedList?k7:S7)(n,e,!1);return r>0&&(t.type!=Fe.BulletList||x7(n,e,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==t.value}const CH={[Fe.Blockquote](t,e,n){return n.next!=62?!1:(n.markers.push(En(Fe.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+(Dl(n.text.charCodeAt(n.pos+1))?2:1)),t.end=e.lineStart+n.text.length,!0)},[Fe.ListItem](t,e,n){return n.indent<n.baseIndent+t.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+t.value),!0)},[Fe.OrderedList]:ON,[Fe.BulletList]:ON,[Fe.Document](){return!0}};function Dl(t){return t==32||t==9||t==10||t==13}function jb(t,e=0){for(;e<t.length&&Dl(t.charCodeAt(e));)e++;return e}function wN(t,e,n){for(;e>n&&Dl(t.charCodeAt(e-1));)e--;return e}function AH(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let n=e;n<t.text.length;n++)if(t.text.charCodeAt(n)==96)return-1}return e}function EH(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function x7(t,e,n){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let r=1;for(let i=t.pos+1;i<t.text.length;i++){let s=t.text.charCodeAt(i);if(s==t.next)r++;else if(!Dl(s))return-1}return n&&t.next==45&&PH(t)>-1&&t.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(FH.SetextHeading)>-1||r<3?-1:1}function TH(t,e){for(let n=t.stack.length-1;n>=0;n--)if(t.stack[n].type==e)return!0;return!1}function S7(t,e,n){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||Dl(t.text.charCodeAt(t.pos+1)))&&(!n||TH(e,Fe.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function k7(t,e,n){let r=t.pos,i=t.next;for(;i>=48&&i<=57;){r++;if(r==t.text.length)return-1;i=t.text.charCodeAt(r)}return r==t.pos||r>t.pos+9||i!=46&&i!=41||r<t.text.length-1&&!Dl(t.text.charCodeAt(r+1))||n&&!TH(e,Fe.OrderedList)&&(t.skipSpace(r+1)==t.text.length||r>t.pos+1||t.next!=49)?-1:r+1-t.pos}function DH(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let n=e-t.pos;return n>6?-1:n}function PH(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let n=e;for(;e<t.text.length&&Dl(t.text.charCodeAt(e));)e++;return e==t.text.length?n:-1}const v8=/^[ \t]*$/,RH=/-->/,$H=/\?>/,O8=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,RH],[/^\s*<\?/,$H],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,v8],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,v8]];function IH(t,e,n){if(t.next!=60)return-1;let r=t.text.slice(t.pos);for(let i=0,s=O8.length-(n?1:0);i<s;i++)if(O8[i][0].test(r))return i;return-1}function _N(t,e){let n=t.countIndent(e,t.pos,t.indent),r=t.countIndent(t.skipSpace(e),e,n);return r>=n+5?n+1:r}function tp(t,e,n){let r=t.length-1;r>=0&&t[r].to==e&&t[r].type==Fe.CodeText?t[r].to=n:t.push(En(Fe.CodeText,e,n))}const Uw={LinkReference:void 0,IndentedCode(t,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let r=e.findColumn(n),i=t.lineStart+r,s=t.lineStart+e.text.length,o=[],a=[];for(tp(o,i,s);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){tp(a,t.lineStart-1,t.lineStart);for(let l of e.markers)a.push(l)}else{if(e.indent<n)break;{if(a.length){for(let u of a)u.type==Fe.CodeText?tp(o,u.from,u.to):o.push(u);a=[]}tp(o,t.lineStart-1,t.lineStart);for(let u of e.markers)o.push(u);s=t.lineStart+e.text.length;let l=t.lineStart+e.findColumn(e.baseIndent+4);l<s&&tp(o,l,s)}}return a.length&&(a=a.filter(l=>l.type!=Fe.CodeText),a.length&&(e.markers=a.concat(e.markers))),t.addNode(t.buffer.writeElements(o,-i).finish(Fe.CodeBlock,s-i),i),!0},FencedCode(t,e){let n=AH(e);if(n<0)return!1;let r=t.lineStart+e.pos,i=e.next,s=n-e.pos,o=e.skipSpace(n),a=wN(e.text,e.text.length,o),l=[En(Fe.CodeMark,r,r+s)];o<a&&l.push(En(Fe.CodeInfo,t.lineStart+o,t.lineStart+a));for(let u=!0;t.nextLine()&&e.depth>=t.stack.length;u=!1){let c=e.pos;if(e.indent-e.baseIndent<4)for(;c<e.text.length&&e.text.charCodeAt(c)==i;)c++;if(c-e.pos>=s&&e.skipSpace(c)==e.text.length){for(let f of e.markers)l.push(f);l.push(En(Fe.CodeMark,t.lineStart+e.pos,t.lineStart+c)),t.nextLine();break}else{u||tp(l,t.lineStart-1,t.lineStart);for(let d of e.markers)l.push(d);let f=t.lineStart+e.basePos,h=t.lineStart+e.text.length;f<h&&tp(l,f,h)}}return t.addNode(t.buffer.writeElements(l,-r).finish(Fe.FencedCode,t.prevLineEnd()-r),r),!0},Blockquote(t,e){let n=EH(e);return n<0?!1:(t.startContext(Fe.Blockquote,e.pos),t.addNode(Fe.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(t,e){if(x7(e,t,!1)<0)return!1;let n=t.lineStart+e.pos;return t.nextLine(),t.addNode(Fe.HorizontalRule,n),!0},BulletList(t,e){let n=S7(e,t,!1);if(n<0)return!1;t.block.type!=Fe.BulletList&&t.startContext(Fe.BulletList,e.basePos,e.next);let r=_N(e,e.pos+1);return t.startContext(Fe.ListItem,e.basePos,r-e.baseIndent),t.addNode(Fe.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},OrderedList(t,e){let n=k7(e,t,!1);if(n<0)return!1;t.block.type!=Fe.OrderedList&&t.startContext(Fe.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let r=_N(e,e.pos+n);return t.startContext(Fe.ListItem,e.basePos,r-e.baseIndent),t.addNode(Fe.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},ATXHeading(t,e){let n=DH(e);if(n<0)return!1;let r=e.pos,i=t.lineStart+r,s=wN(e.text,e.text.length,r),o=s;for(;o>r&&e.text.charCodeAt(o-1)==e.next;)o--;(o==s||o==r||!Dl(e.text.charCodeAt(o-1)))&&(o=e.text.length);let a=t.buffer.write(Fe.HeaderMark,0,n).writeElements(t.parser.parseInline(e.text.slice(r+n+1,o),i+n+1),-i);o<e.text.length&&a.write(Fe.HeaderMark,o-r,s-r);let l=a.finish(Fe.ATXHeading1-1+n,e.text.length-r);return t.nextLine(),t.addNode(l,i),!0},HTMLBlock(t,e){let n=IH(e,t,!1);if(n<0)return!1;let r=t.lineStart+e.pos,i=O8[n][1],s=[],o=i!=v8;for(;!i.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){o=!1;break}for(let u of e.markers)s.push(u)}o&&t.nextLine();let a=i==RH?Fe.CommentBlock:i==$H?Fe.ProcessingInstructionBlock:Fe.HTMLBlock,l=t.prevLineEnd();return t.addNode(t.buffer.writeElements(s,-r).finish(a,l-r),r),!0},SetextHeading:void 0};class Mke{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,r){if(this.stage==-1)return!1;let i=r.content+`
`+n.scrub(),s=this.advance(i);return s>-1&&s<i.length?this.complete(e,r,s):!1}finish(e,n){return(this.stage==2||this.stage==3)&&jb(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,r){return e.addLeafElement(n,En(Fe.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(qH(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(En(Fe.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(UH(e,jb(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=jb(e,this.pos),r=0;if(n>this.pos){let i=jH(e,n,this.start);if(i){let s=GC(e,i.to-this.start);s>0&&(this.nextStage(i),r=s)}}return r||(r=GC(e,this.pos)),r>0&&r<e.length?r:-1}else return GC(e,this.pos)}}}function GC(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n==10)break;if(!Dl(n))return-1}return e}class Lke{nextLine(e,n,r){let i=n.depth<e.stack.length?-1:PH(n),s=n.next;if(i<0)return!1;let o=En(Fe.HeaderMark,e.lineStart+n.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(r,En(s==61?Fe.SetextHeading1:Fe.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),o])),!0}finish(){return!1}}const FH={LinkReference(t,e){return e.content.charCodeAt(0)==91?new Mke(e):null},SetextHeading(){return new Lke}},Nke=[(t,e)=>DH(e)>=0,(t,e)=>AH(e)>=0,(t,e)=>EH(e)>=0,(t,e)=>S7(e,t,!0)>=0,(t,e)=>k7(e,t,!0)>=0,(t,e)=>x7(e,t,!0)>=0,(t,e)=>IH(e,t,!0)>=0],Qke={text:"",end:0};class Bke{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.line=new Fke,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=qS.create(Fe.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new jke(r,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let r=0;;){let i=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;r<e.markers.length&&(!i||e.markers[r].from<i.end);){let s=e.markers[r++];this.addNode(s.type,s.from,s.to)}if(!i)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let i=r(this,e);if(i!=!1){if(i==!0)return null;e.forward();continue e}}break}let n=new Ike(this.lineStart+e.pos,e.text.slice(e.pos));for(let r of this.parser.leafBlockParsers)if(r){let i=r(this,n);i&&n.parsers.push(i)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,e,n))break e}for(let r of n.parsers)if(r.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let r of e.markers)n.marks.push(r)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=VH(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=Qke;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let r=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<n.end;){i++;let s=this.ranges[i].from,o=this.lineChunkAt(s);n.end=s+o.length,n.text=n.text.slice(0,this.ranges[i-1].to-r)+o,r=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(n);e.depth<this.stack.length;e.depth++){let i=this.stack[e.depth],s=this.parser.skipContextMarkup[i.type];if(!s)throw new Error("Unhandled block context "+Fe[i.type]);let o=this.line.markers.length;if(!s(i,this,e)){this.line.markers.length>o&&(i.end=this.line.markers[this.line.markers.length-1].to);break}e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),r;if(this.input.lineChunks)r=n==`
`?"":n;else{let i=n.indexOf(`
`);r=i<0?n:n.slice(0,i)}return e+r.length>this.to?r.slice(0,this.to-e):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,r=0){this.block=qS.create(e,r,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,r=0){this.startContext(this.parser.getNodeType(e),n,r)}addNode(e,n,r){typeof e=="number"&&(e=new Gn(this.parser.nodeSet.types[e],t1,t1,(r??this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(_8(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?MH(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let r of e.parsers)if(r.finish(this,e))return;let n=_8(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(Fe.Paragraph,e.content.length),e.start)}elt(e,n,r,i){return typeof e=="string"?En(this.parser.getNodeType(e),n,r,i):new QH(e,n)}get buffer(){return new NH(this.parser.nodeSet)}}function MH(t,e,n,r,i){let s=t[e].to,o=[],a=[],l=n.from+r;function u(c,f){for(;f?c>=s:c>s;){let h=t[e+1].from-s;r+=h,c+=h,e++,s=t[e].to}}for(let c=n.firstChild;c;c=c.nextSibling){u(c.from+r,!0);let f=c.from+r,h,d=i.get(c.tree);d?h=d:c.to+r>s?(h=MH(t,e,c,r,i),u(c.to+r,!1)):h=c.toTree(),o.push(h),a.push(f-l)}return u(n.to+r,!1),new Gn(n.type,o,a,n.to+r-l,n.tree?n.tree.propValues:void 0)}class qk extends e7{constructor(e,n,r,i,s,o,a,l,u){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=r,this.blockNames=i,this.endLeafBlock=s,this.skipContextMarkup=o,this.inlineParsers=a,this.inlineNames=l,this.wrappers=u,this.nodeTypes=Object.create(null);for(let c of e.types)this.nodeTypes[c.name]=c.id}createParse(e,n,r){let i=new Bke(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}configure(e){let n=w8(e);if(!n)return this;let{nodeSet:r,skipContextMarkup:i}=this,s=this.blockParsers.slice(),o=this.leafBlockParsers.slice(),a=this.blockNames.slice(),l=this.inlineParsers.slice(),u=this.inlineNames.slice(),c=this.endLeafBlock.slice(),f=this.wrappers;if(Fy(n.defineNodes)){i=Object.assign({},i);let h=r.types.slice(),d;for(let m of n.defineNodes){let{name:g,block:b,composite:v,style:O}=typeof m=="string"?{name:m}:m;if(h.some(S=>S.name==g))continue;v&&(i[h.length]=(S,A,k)=>v(A,k,S.value));let x=h.length,C=v?["Block","BlockContext"]:b?x>=Fe.ATXHeading1&&x<=Fe.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;h.push(Yi.define({id:x,name:g,props:C&&[[Mt.group,C]]})),O&&(d||(d={}),Array.isArray(O)||O instanceof Ca?d[g]=O:Object.assign(d,O))}r=new BO(h),d&&(r=r.extend(lh(d)))}if(Fy(n.props)&&(r=r.extend(...n.props)),Fy(n.remove))for(let h of n.remove){let d=this.blockNames.indexOf(h),m=this.inlineNames.indexOf(h);d>-1&&(s[d]=o[d]=void 0),m>-1&&(l[m]=void 0)}if(Fy(n.parseBlock))for(let h of n.parseBlock){let d=a.indexOf(h.name);if(d>-1)s[d]=h.parse,o[d]=h.leaf;else{let m=h.before?jw(a,h.before):h.after?jw(a,h.after)+1:a.length-1;s.splice(m,0,h.parse),o.splice(m,0,h.leaf),a.splice(m,0,h.name)}h.endLeaf&&c.push(h.endLeaf)}if(Fy(n.parseInline))for(let h of n.parseInline){let d=u.indexOf(h.name);if(d>-1)l[d]=h.parse;else{let m=h.before?jw(u,h.before):h.after?jw(u,h.after)+1:u.length-1;l.splice(m,0,h.parse),u.splice(m,0,h.name)}}return n.wrap&&(f=f.concat(n.wrap)),new qk(r,s,o,a,c,i,l,u,f)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let r=new C7(this,e,n);e:for(let i=n;i<r.end;){let s=r.char(i);for(let o of this.inlineParsers)if(o){let a=o(r,s,i);if(a>=0){i=a;continue e}}i++}return r.resolveMarkers(0)}}function Fy(t){return t!=null&&t.length>0}function w8(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=w8(t[0]);if(t.length==1)return e;let n=w8(t.slice(1));if(!n||!e)return e||n;let r=(o,a)=>(o||t1).concat(a||t1),i=e.wrap,s=n.wrap;return{props:r(e.props,n.props),defineNodes:r(e.defineNodes,n.defineNodes),parseBlock:r(e.parseBlock,n.parseBlock),parseInline:r(e.parseInline,n.parseInline),remove:r(e.remove,n.remove),wrap:i?s?(o,a,l,u)=>i(s(o,a,l,u),a,l,u):i:s}}function jw(t,e){let n=t.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}let LH=[Yi.none];for(let t=1,e;e=Fe[t];t++)LH[t]=Yi.define({id:t,name:e,props:t>=Fe.Escape?[]:[[Mt.group,t in CH?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const t1=[];let NH=class{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,r,i=0){return this.content.push(e,n,r,4+i*4),this}writeElements(e,n=0){for(let r of e)r.writeTo(this,n);return this}finish(e,n){return Gn.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}},Nv=class{constructor(e,n,r,i=t1){this.type=e,this.from=n,this.to=r,this.children=i}writeTo(e,n){let r=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-r)}toTree(e){return new NH(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class QH{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return t1}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function En(t,e,n,r){return new Nv(t,e,n,r)}const BH={resolve:"Emphasis",mark:"EmphasisMark"},zH={resolve:"Emphasis",mark:"EmphasisMark"},hp={},VS={};class _a{constructor(e,n,r,i){this.type=e,this.from=n,this.to=r,this.side=i}}const xN="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let Qv=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{Qv=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const HC={Escape(t,e,n){if(e!=92||n==t.end-1)return-1;let r=t.char(n+1);for(let i=0;i<xN.length;i++)if(xN.charCodeAt(i)==r)return t.append(En(Fe.Escape,n,n+2));return-1},Entity(t,e,n){if(e!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(n+1,n+31));return r?t.append(En(Fe.Entity,n,n+1+r[0].length)):-1},InlineCode(t,e,n){if(e!=96||n&&t.char(n-1)==96)return-1;let r=n+1;for(;r<t.end&&t.char(r)==96;)r++;let i=r-n,s=0;for(;r<t.end;r++)if(t.char(r)==96){if(s++,s==i&&t.char(r+1)!=96)return t.append(En(Fe.InlineCode,n,r+1,[En(Fe.CodeMark,n,n+i),En(Fe.CodeMark,r+1-i,r+1)]))}else s=0;return-1},HTMLTag(t,e,n){if(e!=60||n==t.end-1)return-1;let r=t.slice(n+1,t.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(i)return t.append(En(Fe.Autolink,n,n+1+i[0].length,[En(Fe.LinkMark,n,n+1),En(Fe.URL,n+1,n+i[0].length),En(Fe.LinkMark,n+i[0].length,n+1+i[0].length)]));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(s)return t.append(En(Fe.Comment,n,n+1+s[0].length));let o=/^\?[^]*?\?>/.exec(r);if(o)return t.append(En(Fe.ProcessingInstruction,n,n+1+o[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return a?t.append(En(Fe.HTMLTag,n,n+1+a[0].length)):-1},Emphasis(t,e,n){if(e!=95&&e!=42)return-1;let r=n+1;for(;t.char(r)==e;)r++;let i=t.slice(n-1,n),s=t.slice(r,r+1),o=Qv.test(i),a=Qv.test(s),l=/\s|^$/.test(i),u=/\s|^$/.test(s),c=!u&&(!a||l||o),f=!l&&(!o||u||a),h=c&&(e==42||!f||o),d=f&&(e==42||!c||a);return t.append(new _a(e==95?BH:zH,n,r,(h?1:0)|(d?2:0)))},HardBreak(t,e,n){if(e==92&&t.char(n+1)==10)return t.append(En(Fe.HardBreak,n,n+2));if(e==32){let r=n+1;for(;t.char(r)==32;)r++;if(t.char(r)==10&&r>=n+2)return t.append(En(Fe.HardBreak,n,r+1))}return-1},Link(t,e,n){return e==91?t.append(new _a(hp,n,n+1,1)):-1},Image(t,e,n){return e==33&&t.char(n+1)==91?t.append(new _a(VS,n,n+2,1)):-1},LinkEnd(t,e,n){if(e!=93)return-1;for(let r=t.parts.length-1;r>=0;r--){let i=t.parts[r];if(i instanceof _a&&(i.type==hp||i.type==VS)){if(!i.side||t.skipSpace(i.to)==n&&!/[(\[]/.test(t.slice(n+1,n+2)))return t.parts[r]=null,-1;let s=t.takeContent(r),o=t.parts[r]=zke(t,s,i.type==hp?Fe.Link:Fe.Image,i.from,n+1);if(i.type==hp)for(let a=0;a<r;a++){let l=t.parts[a];l instanceof _a&&l.type==hp&&(l.side=0)}return o.to}}return-1}};function zke(t,e,n,r,i){let{text:s}=t,o=t.char(i),a=i;if(e.unshift(En(Fe.LinkMark,r,r+(n==Fe.Image?2:1))),e.push(En(Fe.LinkMark,i-1,i)),o==40){let l=t.skipSpace(i+1),u=UH(s,l-t.offset,t.offset),c;u&&(l=t.skipSpace(u.to),l!=u.to&&(c=jH(s,l-t.offset,t.offset),c&&(l=t.skipSpace(c.to)))),t.char(l)==41&&(e.push(En(Fe.LinkMark,i,i+1)),a=l+1,u&&e.push(u),c&&e.push(c),e.push(En(Fe.LinkMark,l,a)))}else if(o==91){let l=qH(s,i-t.offset,t.offset,!1);l&&(e.push(l),a=l.to)}return En(n,r,a,e)}function UH(t,e,n){if(t.charCodeAt(e)==60){for(let i=e+1;i<t.length;i++){let s=t.charCodeAt(i);if(s==62)return En(Fe.URL,e+n,i+1+n);if(s==60||s==10)return!1}return null}else{let i=0,s=e;for(let o=!1;s<t.length;s++){let a=t.charCodeAt(s);if(Dl(a))break;if(o)o=!1;else if(a==40)i++;else if(a==41){if(!i)break;i--}else a==92&&(o=!0)}return s>e?En(Fe.URL,e+n,s+n):s==t.length?null:!1}}function jH(t,e,n){let r=t.charCodeAt(e);if(r!=39&&r!=34&&r!=40)return!1;let i=r==40?41:r;for(let s=e+1,o=!1;s<t.length;s++){let a=t.charCodeAt(s);if(o)o=!1;else{if(a==i)return En(Fe.LinkTitle,e+n,s+1+n);a==92&&(o=!0)}}return null}function qH(t,e,n,r){for(let i=!1,s=e+1,o=Math.min(t.length,s+999);s<o;s++){let a=t.charCodeAt(s);if(i)i=!1;else{if(a==93)return r?!1:En(Fe.LinkLabel,e+n,s+1+n);if(r&&!Dl(a)&&(r=!1),a==91)return!1;a==92&&(i=!0)}}return null}class C7{constructor(e,n,r){this.parser=e,this.text=n,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,r,i,s){return this.append(new _a(e,n,r,(i?1:0)|(s?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let n=this.parts[e];if(n instanceof _a&&(n.type==hp||n.type==VS))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let r=e;r<this.parts.length;r++){let i=this.parts[r];if(!(i instanceof _a&&i.type.resolve&&i.side&2))continue;let s=i.type==BH||i.type==zH,o=i.to-i.from,a,l=r-1;for(;l>=e;l--){let g=this.parts[l];if(g instanceof _a&&g.side&1&&g.type==i.type&&!(s&&(i.side&1||g.side&2)&&(g.to-g.from+o)%3==0&&((g.to-g.from)%3||o%3))){a=g;break}}if(!a)continue;let u=i.type.resolve,c=[],f=a.from,h=i.to;if(s){let g=Math.min(2,a.to-a.from,o);f=a.to-g,h=i.from+g,u=g==1?"Emphasis":"StrongEmphasis"}a.type.mark&&c.push(this.elt(a.type.mark,f,a.to));for(let g=l+1;g<r;g++)this.parts[g]instanceof Nv&&c.push(this.parts[g]),this.parts[g]=null;i.type.mark&&c.push(this.elt(i.type.mark,i.from,h));let d=this.elt(u,f,h,c);this.parts[l]=s&&a.from!=f?new _a(a.type,a.from,f,a.side):null,(this.parts[r]=s&&i.to!=h?new _a(i.type,h,i.to,i.side):null)?this.parts.splice(r,0,d):this.parts[r]=d}let n=[];for(let r=e;r<this.parts.length;r++){let i=this.parts[r];i instanceof Nv&&n.push(i)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let r=this.parts[n];if(r instanceof _a&&r.type==e&&r.side&1)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}getDelimiterAt(e){let n=this.parts[e];return n instanceof _a?n:null}skipSpace(e){return jb(this.text,e-this.offset)+this.offset}elt(e,n,r,i){return typeof e=="string"?En(this.parser.getNodeType(e),n,r,i):new QH(e,n)}}C7.linkStart=hp;C7.imageStart=VS;function _8(t,e){if(!e.length)return t;if(!t.length)return e;let n=t.slice(),r=0;for(let i of e){for(;r<n.length&&n[r].to<i.to;)r++;if(r<n.length&&n[r].from<i.from){let s=n[r];s instanceof Nv&&(n[r]=new Nv(s.type,s.from,s.to,_8(s.children,[i])))}else n.splice(r++,0,i)}return n}const Uke=[Fe.CodeBlock,Fe.ListItem,Fe.OrderedList,Fe.BulletList];let jke=class{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let i=e+this.fragment.offset;for(;r.to<=i;)if(!r.parent())return!1;for(;;){if(r.from>=i)return this.fragment.from<=n;if(!r.childAfter(i))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(Mt.contextHash)==e}takeNodes(e){let n=this.cursor,r=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),s=e.absoluteLineStart,o=s,a=e.block.children.length,l=o,u=a;for(;;){if(n.to-r>i){if(n.type.isAnonymous&&n.firstChild())continue;break}let c=VH(n.from-r,e.ranges);if(n.to-r<=e.ranges[e.rangeI].to)e.addNode(n.tree,c);else{let f=new Gn(e.parser.nodeSet.types[Fe.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(f,n.tree),e.addNode(f,c)}if(n.type.is("Block")&&(Uke.indexOf(n.type.id)<0?(o=n.to-r,a=e.block.children.length):(o=l,a=u,l=n.to-r,u=e.block.children.length)),!n.nextSibling())break}for(;e.block.children.length>a;)e.block.children.pop(),e.block.positions.pop();return o-s}};function VH(t,e){let n=t;for(let r=1;r<e.length;r++){let i=e[r-1].to,s=e[r].from;i<t&&(n-=s-i)}return n}const qke=lh({"Blockquote/...":Q.quote,HorizontalRule:Q.contentSeparator,"ATXHeading1/... SetextHeading1/...":Q.heading1,"ATXHeading2/... SetextHeading2/...":Q.heading2,"ATXHeading3/...":Q.heading3,"ATXHeading4/...":Q.heading4,"ATXHeading5/...":Q.heading5,"ATXHeading6/...":Q.heading6,"Comment CommentBlock":Q.comment,Escape:Q.escape,Entity:Q.character,"Emphasis/...":Q.emphasis,"StrongEmphasis/...":Q.strong,"Link/... Image/...":Q.link,"OrderedList/... BulletList/...":Q.list,"BlockQuote/...":Q.quote,"InlineCode CodeText":Q.monospace,"URL Autolink":Q.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":Q.processingInstruction,"CodeInfo LinkLabel":Q.labelName,LinkTitle:Q.string,Paragraph:Q.content}),Vke=new qk(new BO(LH).extend(qke),Object.keys(Uw).map(t=>Uw[t]),Object.keys(Uw).map(t=>FH[t]),Object.keys(Uw),Nke,CH,Object.keys(HC).map(t=>HC[t]),Object.keys(HC),[]);function Xke(t,e,n){let r=[];for(let i=t.firstChild,s=e;;i=i.nextSibling){let o=i?i.from:n;if(o>s&&r.push({from:s,to:o}),!i)break;s=i.to}return r}function Zke(t){let{codeParser:e,htmlParser:n}=t;return{wrap:cG((i,s)=>{let o=i.type.id;if(e&&(o==Fe.CodeBlock||o==Fe.FencedCode)){let a="";if(o==Fe.FencedCode){let u=i.node.getChild(Fe.CodeInfo);u&&(a=s.read(u.from,u.to))}let l=e(a);if(l)return{parser:l,overlay:u=>u.type.id==Fe.CodeText}}else if(n&&(o==Fe.HTMLBlock||o==Fe.HTMLTag||o==Fe.CommentBlock))return{parser:n,overlay:Xke(i.node,i.from,i.to)};return null})}}const Wke={resolve:"Strikethrough",mark:"StrikethroughMark"},Yke={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":Q.strikethrough}},{name:"StrikethroughMark",style:Q.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,n){if(e!=126||t.char(n+1)!=126||t.char(n+2)==126)return-1;let r=t.slice(n-1,n),i=t.slice(n+2,n+3),s=/\s|^$/.test(r),o=/\s|^$/.test(i),a=Qv.test(r),l=Qv.test(i);return t.addDelimiter(Wke,n,n+2,!o&&(!l||s||a),!s&&(!a||o||l))},after:"Emphasis"}]};function qb(t,e,n=0,r,i=0){let s=0,o=!0,a=-1,l=-1,u=!1,c=()=>{r.push(t.elt("TableCell",i+a,i+l,t.parser.parseInline(e.slice(a,l),i+a)))};for(let f=n;f<e.length;f++){let h=e.charCodeAt(f);h==124&&!u?((!o||a>-1)&&s++,o=!1,r&&(a>-1&&c(),r.push(t.elt("TableDelimiter",f+i,f+i+1))),a=l=-1):(u||h!=32&&h!=9)&&(a<0&&(a=f),l=f+1),u=!u&&h==92}return a>-1&&(s++,r&&c()),s}function SN(t,e){for(let n=e;n<t.length;n++){let r=t.charCodeAt(n);if(r==124)return!0;r==92&&n++}return!1}const XH=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class kN{constructor(){this.rows=null}nextLine(e,n,r){if(this.rows==null){this.rows=!1;let i;if((n.next==45||n.next==58||n.next==124)&&XH.test(i=n.text.slice(n.pos))){let s=[];qb(e,r.content,0,s,r.start)==qb(e,i,n.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,s),e.elt("TableDelimiter",e.lineStart+n.pos,e.lineStart+n.text.length)])}}else if(this.rows){let i=[];qb(e,n.text,n.pos,i,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+n.pos,e.lineStart+n.text.length,i))}return!1}finish(e,n){return this.rows?(e.addLeafElement(n,e.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const Gke={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":Q.heading}},"TableRow",{name:"TableCell",style:Q.content},{name:"TableDelimiter",style:Q.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return SN(e.content,0)?new kN:null},endLeaf(t,e,n){if(n.parsers.some(i=>i instanceof kN)||!SN(e.text,e.basePos))return!1;let r=t.peekLine();return XH.test(r)&&qb(t,e.text,e.basePos)==qb(t,r,e.basePos)},before:"SetextHeading"}]};class Hke{nextLine(){return!1}finish(e,n){return e.addLeafElement(n,e.elt("Task",n.start,n.start+n.content.length,[e.elt("TaskMarker",n.start,n.start+3),...e.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const Kke={defineNodes:[{name:"Task",block:!0,style:Q.list},{name:"TaskMarker",style:Q.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\][ \t]/.test(e.content)&&t.parentType().name=="ListItem"?new Hke:null},after:"SetextHeading"}]},CN=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,AN=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,Jke=/[\w-]+\.[\w-]+($|\/)/,EN=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,TN=/\/[a-zA-Z\d@.]+/gy;function DN(t,e,n,r){let i=0;for(let s=e;s<n;s++)t[s]==r&&i++;return i}function e4e(t,e){AN.lastIndex=e;let n=AN.exec(t);if(!n||Jke.exec(n[0])[0].indexOf("_")>-1)return-1;let r=e+n[0].length;for(;;){let i=t[r-1],s;if(/[?!.,:*_~]/.test(i)||i==")"&&DN(t,e,r,")")>DN(t,e,r,"("))r--;else if(i==";"&&(s=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(e,r))))r=e+s.index;else break}return r}function PN(t,e){EN.lastIndex=e;let n=EN.exec(t);if(!n)return-1;let r=n[0][n[0].length-1];return r=="_"||r=="-"?-1:e+n[0].length-(r=="."?1:0)}const t4e={parseInline:[{name:"Autolink",parse(t,e,n){let r=n-t.offset;if(r&&/\w/.test(t.text[r-1]))return-1;CN.lastIndex=r;let i=CN.exec(t.text),s=-1;if(!i)return-1;if(i[1]||i[2]){if(s=e4e(t.text,r+i[0].length),s>-1&&t.hasOpenLink){let o=/([^\[\]]|\[[^\]]*\])*/.exec(t.text.slice(r,s));s=r+o[0].length}}else i[3]?s=PN(t.text,r):(s=PN(t.text,r+i[0].length),s>-1&&i[0]=="xmpp:"&&(TN.lastIndex=s,i=TN.exec(t.text),i&&(s=i.index+i[0].length)));return s<0?-1:(t.addElement(t.elt("URL",n,s+t.offset)),s+t.offset)}}]},n4e=[Gke,Kke,Yke,t4e];function ZH(t,e,n){return(r,i,s)=>{if(i!=t||r.char(s+1)==t)return-1;let o=[r.elt(n,s,s+1)];for(let a=s+1;a<r.end;a++){let l=r.char(a);if(l==t)return r.addElement(r.elt(e,s,a+1,o.concat(r.elt(n,a,a+1))));if(l==92&&o.push(r.elt("Escape",a,a+++2)),Dl(l))break}return-1}}const r4e={defineNodes:[{name:"Superscript",style:Q.special(Q.content)},{name:"SuperscriptMark",style:Q.processingInstruction}],parseInline:[{name:"Superscript",parse:ZH(94,"Superscript","SuperscriptMark")}]},i4e={defineNodes:[{name:"Subscript",style:Q.special(Q.content)},{name:"SubscriptMark",style:Q.processingInstruction}],parseInline:[{name:"Subscript",parse:ZH(126,"Subscript","SubscriptMark")}]},s4e={defineNodes:[{name:"Emoji",style:Q.character}],parseInline:[{name:"Emoji",parse(t,e,n){let r;return e!=58||!(r=/^[a-zA-Z_0-9]+:/.exec(t.slice(n+1,t.end)))?-1:t.addElement(t.elt("Emoji",n,n+1+r[0].length))}}]};var RN={};class XS{constructor(e,n,r,i,s,o,a,l,u,c=0,f){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=f}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new XS(e,[],n,r,r,0,[],0,i?new $N(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),u=l?this.stack[l-2]:this.p.ranges[0].from,c=this.reducePos-u;c>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=c));let f=l?this.stack[l-1]:0,h=this.bufferBase+this.buffer.length-f;if(i<s.minRepeatTerm||e&131072){let d=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,d,h+4,!0)}if(e&262144)this.state=this.stack[l];else{let d=this.stack[l-3];this.state=s.getGoto(d,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,u)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==r)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&(this.buffer[o-4]!=0||this.buffer[o-1]<0)){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:o}=this.p;(i>this.pos||n<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(n,r),n<=o.maxNode&&this.buffer.push(n,r,i,4)}else this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4)}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new XS(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new o4e(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let o=n[s+1];i.some((a,l)=>l&1&&a==o)||i.push(n[s],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,u=this.stack.length-a*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new $N(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class $N{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class o4e{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class ZS{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new ZS(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new ZS(this.stack,this.pos,this.index)}}function Ob(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class ex{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const IN=new ex;class a4e{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=IN,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=IN,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class ug{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;WH(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}ug.prototype.contextual=ug.prototype.fallback=ug.prototype.extend=!1;class WS{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?Ob(e):e}token(e,n){let r=e.pos,i=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(WH(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}WS.prototype.contextual=ug.prototype.fallback=ug.prototype.extend=!1;class ia{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function WH(t,e,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;(a&t[o])!=0;){let u=t[o+1];for(let d=o+3;d<u;d+=2)if((t[d+1]&a)>0){let m=t[d];if(l.allows(m)&&(e.token.value==-1||e.token.value==m||l4e(m,e.token.value,i,s))){e.acceptToken(m);break}}let c=e.next,f=0,h=t[o+2];if(e.next<0&&h>f&&t[u+h*3-3]==65535){o=t[u+h*3-1];continue e}for(;f<h;){let d=f+h>>1,m=u+d+(d<<1),g=t[m],b=t[m+1]||65536;if(c<g)h=d;else if(c>=b)f=d+1;else{o=t[m+2],e.advance();continue e}}break}}function FN(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function l4e(t,e,n,r){let i=FN(n,r,e);return i<0||FN(n,r,t)<i}const pa=typeof process<"u"&&RN&&/\bparse\b/.test(RN.LOG);let KC=null;function MN(t,e,n){let r=t.cursor(Er.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class u4e{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?MN(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?MN(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof Gn){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Mt.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class c4e{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new ex)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if((1<<u&o)==0)continue;let c=s[u],f=this.tokens[u];if(!(r&&!c.fallback)&&((c.contextual||f.start!=e.pos||f.mask!=o||f.context!=a)&&(this.updateCachedToken(f,c,e),f.mask=o,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let h=n;if(f.extended>-1&&(n=this.addActions(e,f.extended,f.end,n)),n=this.addActions(e,f.value,f.end,n),!c.extend&&(r=f,n>h))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new ex,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new ex,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){(a&1)==0?e.value=a>>1:e.extended=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let u=o.stateSlot(s,l?2:1);;u+=3){if(a[u]==65535)if(a[u+1]==1)u=yf(a,u+2);else{i==0&&a[u+1]==2&&(i=this.putAction(yf(a,u+2),n,r,i));break}a[u]==n&&(i=this.putAction(yf(a,u+1),n,r,i))}return i}}class f4e{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new a4e(n,i),this.tokens=new c4e(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[XS.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new u4e(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&d4e(i);if(o)return pa&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw pa&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return pa&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let u=r[l];if(a.sameState(u)||a.buffer.length>500&&u.buffer.length>500)if((a.score-u.score||a.buffer.length-u.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,o=pa?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,c=u?e.curContext.hash:0;for(let f=this.fragments.nodeAt(i);f;){let h=this.parser.nodeSet.types[f.type.id]==f.type?s.getGoto(e.state,f.type.id):-1;if(h>-1&&f.length&&(!u||(f.prop(Mt.contextHash)||0)==c))return e.useNode(f,h),pa&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(f.type.id)})`),!0;if(!(f instanceof Gn)||f.children.length==0||f.positions[0]>0)break;let d=f.children[0];if(d instanceof Gn&&f.positions[0]==0)f=d;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),pa&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let c=l[u++],f=l[u++],h=l[u++],d=u==l.length||!r,m=d?e:e.split(),g=this.tokens.mainToken;if(m.apply(c,f,g?g.start:m.pos,h),pa&&console.log(o+this.stackID(m)+` (via ${(c&65536)==0?"shift":`reduce of ${s.getName(c&65535)}`} for ${s.getName(f)} @ ${i}${m==e?"":", split"})`),d)return!0;m.pos>i?n.push(m):r.push(m)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return LN(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],u=n[(o<<1)+1],c=pa?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),pa&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let f=a.split(),h=c;for(let d=0;d<10&&f.forceReduce()&&(pa&&console.log(h+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,r));d++)pa&&(h=this.stackID(f)+" -> ");for(let d of a.recoverByInsert(l))pa&&console.log(c+this.stackID(d)+" (via recover-insert)"),this.advanceFully(d,r);this.stream.end>a.pos?(u==a.pos&&(u++,l=0),a.recoverByDelete(l,u),pa&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),LN(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),Gn.build({buffer:ZS.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(KC||(KC=new WeakMap)).get(e);return n||KC.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function LN(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class h4e{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const JC=t=>t;class YH{constructor(e){this.start=e.start,this.shift=e.shift||JC,this.reduce=e.reduce||JC,this.reuse=e.reuse||JC,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Gf extends e7{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,u){i[a].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Mt[l]);for(let u=1;u<a.length;){let c=a[u++];if(c>=0)s(c,l,a[u++]);else{let f=a[u+-c];for(let h=-c;h>0;h--)s(a[u++],l,f);u++}}}this.nodeSet=new BO(n.map((a,l)=>Yi.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=sG;let o=Ob(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(NN),this.states=Ob(e.states,Uint32Array),this.data=Ob(e.stateData),this.goto=Ob(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new ug(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new f4e(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let u=s+(o>>1);s<u;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=yf(r,s+2)];else{if(r[s+1]==2)return yf(r,s+2);break}if(o==n||o==0)return yf(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=yf(this.data,s+2);else break;i=n(yf(this.data,s+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=yf(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];n.some((s,o)=>o&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(Gf.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=NN(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new h4e(e,r,i)}static deserialize(e){return new Gf(e)}}function yf(t,e){return t[e]|t[e+1]<<16}function d4e(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function NN(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const p4e=55,m4e=1,g4e=56,y4e=2,b4e=57,v4e=3,QN=4,O4e=5,A7=6,GH=7,HH=8,KH=9,JH=10,w4e=11,_4e=12,x4e=13,e6=58,S4e=14,k4e=15,BN=59,eK=21,C4e=23,tK=24,A4e=25,x8=27,nK=28,E4e=29,T4e=32,D4e=35,P4e=37,R4e=38,$4e=0,I4e=1,F4e={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},M4e={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},zN={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function L4e(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}let UN=null,jN=null,qN=0;function S8(t,e){let n=t.pos+e;if(qN==n&&jN==t)return UN;let r=t.peek(e),i="";for(;L4e(r);)i+=String.fromCharCode(r),r=t.peek(++e);return jN=t,qN=n,UN=i?i.toLowerCase():r==N4e||r==Q4e?void 0:null}const rK=60,YS=62,E7=47,N4e=63,Q4e=33,B4e=45;function VN(t,e){this.name=t,this.parent=e}const z4e=[A7,JH,GH,HH,KH],U4e=new YH({start:null,shift(t,e,n,r){return z4e.indexOf(e)>-1?new VN(S8(r,1)||"",t):t},reduce(t,e){return e==eK&&t?t.parent:t},reuse(t,e,n,r){let i=e.type.id;return i==A7||i==P4e?new VN(S8(r,1)||"",t):t},strict:!1}),j4e=new ia((t,e)=>{if(t.next!=rK){t.next<0&&e.context&&t.acceptToken(e6);return}t.advance();let n=t.next==E7;n&&t.advance();let r=S8(t,0);if(r===void 0)return;if(!r)return t.acceptToken(n?k4e:S4e);let i=e.context?e.context.name:null;if(n){if(r==i)return t.acceptToken(w4e);if(i&&M4e[i])return t.acceptToken(e6,-2);if(e.dialectEnabled($4e))return t.acceptToken(_4e);for(let s=e.context;s;s=s.parent)if(s.name==r)return;t.acceptToken(x4e)}else{if(r=="script")return t.acceptToken(GH);if(r=="style")return t.acceptToken(HH);if(r=="textarea")return t.acceptToken(KH);if(F4e.hasOwnProperty(r))return t.acceptToken(JH);i&&zN[i]&&zN[i][r]?t.acceptToken(e6,-1):t.acceptToken(A7)}},{contextual:!0}),q4e=new ia(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(BN);break}if(t.next==B4e)e++;else if(t.next==YS&&e>=2){n>=3&&t.acceptToken(BN,-2);break}else e=0;t.advance()}});function V4e(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const X4e=new ia((t,e)=>{if(t.next==E7&&t.peek(1)==YS){let n=e.dialectEnabled(I4e)||V4e(e.context);t.acceptToken(n?O4e:QN,2)}else t.next==YS&&t.acceptToken(QN,1)});function T7(t,e,n){let r=2+t.length;return new ia(i=>{for(let s=0,o=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(e);break}if(s==0&&i.next==rK||s==1&&i.next==E7||s>=2&&s<r&&i.next==t.charCodeAt(s-2))s++,o++;else if(s==r&&i.next==YS){a>o?i.acceptToken(e,-o):i.acceptToken(n,-(o-2));break}else if((i.next==10||i.next==13)&&a){i.acceptToken(e,1);break}else s=o=0;i.advance()}})}const Z4e=T7("script",p4e,m4e),W4e=T7("style",g4e,y4e),Y4e=T7("textarea",b4e,v4e),G4e=lh({"Text RawText IncompleteTag IncompleteCloseTag":Q.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":Q.angleBracket,TagName:Q.tagName,"MismatchedCloseTag/TagName":[Q.tagName,Q.invalid],AttributeName:Q.attributeName,"AttributeValue UnquotedAttributeValue":Q.attributeValue,Is:Q.definitionOperator,"EntityReference CharacterReference":Q.character,Comment:Q.blockComment,ProcessingInst:Q.processingInstruction,DoctypeDecl:Q.documentMeta}),H4e=Gf.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:"â  StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:U4e,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[G4e],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[Z4e,W4e,Y4e,X4e,j4e,q4e,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function iK(t,e){let n=Object.create(null);for(let r of t.getChildren(tK)){let i=r.getChild(A4e),s=r.getChild(x8)||r.getChild(nK);i&&(n[e.read(i.from,i.to)]=s?s.type.id==x8?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return n}function XN(t,e){let n=t.getChild(C4e);return n?e.read(n.from,n.to):" "}function t6(t,e,n){let r;for(let i of n)if(!i.attrs||i.attrs(r||(r=iK(t.node.parent.firstChild,e))))return{parser:i.parser};return null}function sK(t=[],e=[]){let n=[],r=[],i=[],s=[];for(let a of t)(a.tag=="script"?n:a.tag=="style"?r:a.tag=="textarea"?i:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return cG((a,l)=>{let u=a.type.id;if(u==E4e)return t6(a,l,n);if(u==T4e)return t6(a,l,r);if(u==D4e)return t6(a,l,i);if(u==eK&&s.length){let c=a.node,f=c.firstChild,h=f&&XN(f,l),d;if(h){for(let m of s)if(m.tag==h&&(!m.attrs||m.attrs(d||(d=iK(f,l))))){let g=c.lastChild,b=g.type.id==R4e?g.from:c.to;if(b>f.to)return{parser:m.parser,overlay:[{from:f.to,to:b}]}}}}if(o&&u==tK){let c=a.node,f;if(f=c.firstChild){let h=o[l.read(f.from,f.to)];if(h)for(let d of h){if(d.tagName&&d.tagName!=XN(c.parent,l))continue;let m=c.lastChild;if(m.type.id==x8){let g=m.from+1,b=m.lastChild,v=m.to-(b&&b.isError?0:1);if(v>g)return{parser:d.parser,overlay:[{from:g,to:v}]}}else if(m.type.id==nK)return{parser:d.parser,overlay:[{from:m.from,to:m.to}]}}}}return null})}const K4e=122,ZN=1,J4e=123,e5e=124,oK=2,t5e=125,n5e=3,r5e=4,aK=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],i5e=58,s5e=40,lK=95,o5e=91,tx=45,a5e=46,l5e=35,u5e=37,c5e=38,f5e=92,h5e=10,d5e=42;function Bv(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function D7(t){return t>=48&&t<=57}function WN(t){return D7(t)||t>=97&&t<=102||t>=65&&t<=70}const uK=(t,e,n)=>(r,i)=>{for(let s=!1,o=0,a=0;;a++){let{next:l}=r;if(Bv(l)||l==tx||l==lK||s&&D7(l))!s&&(l!=tx||a>0)&&(s=!0),o===a&&l==tx&&o++,r.advance();else if(l==f5e&&r.peek(1)!=h5e){if(r.advance(),WN(r.next)){do r.advance();while(WN(r.next));r.next==32&&r.advance()}else r.next>-1&&r.advance();s=!0}else{s&&r.acceptToken(o==2&&i.canShift(oK)?e:l==s5e?n:t);break}}},p5e=new ia(uK(J4e,oK,e5e)),m5e=new ia(uK(t5e,n5e,r5e)),g5e=new ia(t=>{if(aK.includes(t.peek(-1))){let{next:e}=t;(Bv(e)||e==lK||e==l5e||e==a5e||e==d5e||e==o5e||e==i5e&&Bv(t.peek(1))||e==tx||e==c5e)&&t.acceptToken(K4e)}}),y5e=new ia(t=>{if(!aK.includes(t.peek(-1))){let{next:e}=t;if(e==u5e&&(t.advance(),t.acceptToken(ZN)),Bv(e)){do t.advance();while(Bv(t.next)||D7(t.next));t.acceptToken(ZN)}}}),b5e=lh({"AtKeyword import charset namespace keyframes media supports":Q.definitionKeyword,"from to selector":Q.keyword,NamespaceName:Q.namespace,KeyframeName:Q.labelName,KeyframeRangeName:Q.operatorKeyword,TagName:Q.tagName,ClassName:Q.className,PseudoClassName:Q.constant(Q.className),IdName:Q.labelName,"FeatureName PropertyName":Q.propertyName,AttributeName:Q.attributeName,NumberLiteral:Q.number,KeywordQuery:Q.keyword,UnaryQueryOp:Q.operatorKeyword,"CallTag ValueName":Q.atom,VariableName:Q.variableName,Callee:Q.operatorKeyword,Unit:Q.unit,"UniversalSelector NestingSelector":Q.definitionOperator,"MatchOp CompareOp":Q.compareOperator,"ChildOp SiblingOp, LogicOp":Q.logicOperator,BinOp:Q.arithmeticOperator,Important:Q.modifier,Comment:Q.blockComment,ColorLiteral:Q.color,"ParenthesizedContent StringLiteral":Q.string,":":Q.punctuation,"PseudoOp #":Q.derefOperator,"; ,":Q.separator,"( )":Q.paren,"[ ]":Q.squareBracket,"{ }":Q.brace}),v5e={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},O5e={__proto__:null,or:98,and:98,not:106,only:106,layer:170},w5e={__proto__:null,selector:112,layer:166},_5e={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},x5e={__proto__:null,to:207},S5e=Gf.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:"â  Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[b5e],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[g5e,y5e,p5e,m5e,1,2,3,4,new WS("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:t=>v5e[t]||-1},{term:125,get:t=>O5e[t]||-1},{term:4,get:t=>w5e[t]||-1},{term:25,get:t=>_5e[t]||-1},{term:123,get:t=>x5e[t]||-1}],tokenPrec:1963});let n6=null;function r6(){if(!n6&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));n6=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return n6||[]}const YN=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),GN=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),k5e=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),C5e=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),nf=/^(\w[\w-]*|-\w[\w-]*|)$/,A5e=/^-(-[\w-]*)?$/;function E5e(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return r?.name!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const HN=new uG,T5e=["Declaration"];function D5e(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function cK(t,e,n){if(e.to-e.from>4096){let r=HN.get(e);if(r)return r;let i=[],s=new Set,o=e.cursor(Er.IncludeAnonymous);if(o.firstChild())do for(let a of cK(t,o.node,n))s.has(a.label)||(s.add(a.label),i.push(a));while(o.nextSibling());return HN.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(s=>{var o;if(n(s)&&s.matchContext(T5e)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=t.sliceString(s.from,s.to);i.has(a)||(i.add(a),r.push({label:a,type:"variable"}))}}),r}}const P5e=t=>e=>{let{state:n,pos:r}=e,i=Hn(n).resolveInner(r,-1),s=i.type.isError&&i.from==i.to-1&&n.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(s||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:r6(),validFor:nf};if(i.name=="ValueName")return{from:i.from,options:GN,validFor:nf};if(i.name=="PseudoClassName")return{from:i.from,options:YN,validFor:nf};if(t(i)||(e.explicit||s)&&E5e(i,n.doc))return{from:t(i)||s?i.from:r,options:cK(n.doc,D5e(i),t),validFor:A5e};if(i.name=="TagName"){for(let{parent:l}=i;l;l=l.parent)if(l.name=="Block")return{from:i.from,options:r6(),validFor:nf};return{from:i.from,options:k5e,validFor:nf}}if(i.name=="AtKeyword")return{from:i.from,options:C5e,validFor:nf};if(!e.explicit)return null;let o=i.resolve(r),a=o.childBefore(r);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:r,options:YN,validFor:nf}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:r,options:GN,validFor:nf}:o.name=="Block"||o.name=="Styles"?{from:r,options:r6(),validFor:nf}:null},R5e=P5e(t=>t.name=="VariableName"),GS=Yf.define({name:"css",parser:S5e.configure({props:[$d.add({Declaration:Bf()}),Id.add({"Block KeyframeList":Nk})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function $5e(){return new kd(GS,GS.data.of({autocomplete:R5e}))}const I5e=316,F5e=317,KN=1,M5e=2,L5e=3,N5e=4,Q5e=318,B5e=320,z5e=321,U5e=5,j5e=6,q5e=0,k8=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],fK=125,V5e=59,C8=47,X5e=42,Z5e=43,W5e=45,Y5e=60,G5e=44,H5e=63,K5e=46,J5e=91,eCe=new YH({start:!1,shift(t,e){return e==U5e||e==j5e||e==B5e?t:e==z5e},strict:!1}),tCe=new ia((t,e)=>{let{next:n}=t;(n==fK||n==-1||e.context)&&t.acceptToken(Q5e)},{contextual:!0,fallback:!0}),nCe=new ia((t,e)=>{let{next:n}=t,r;k8.indexOf(n)>-1||n==C8&&((r=t.peek(1))==C8||r==X5e)||n!=fK&&n!=V5e&&n!=-1&&!e.context&&t.acceptToken(I5e)},{contextual:!0}),rCe=new ia((t,e)=>{t.next==J5e&&!e.context&&t.acceptToken(F5e)},{contextual:!0}),iCe=new ia((t,e)=>{let{next:n}=t;if(n==Z5e||n==W5e){if(t.advance(),n==t.next){t.advance();let r=!e.context&&e.canShift(KN);t.acceptToken(r?KN:M5e)}}else n==H5e&&t.peek(1)==K5e&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(L5e))},{contextual:!0});function i6(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const sCe=new ia((t,e)=>{if(t.next!=Y5e||!e.dialectEnabled(q5e)||(t.advance(),t.next==C8))return;let n=0;for(;k8.indexOf(t.next)>-1;)t.advance(),n++;if(i6(t.next,!0)){for(t.advance(),n++;i6(t.next,!1);)t.advance(),n++;for(;k8.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==G5e)return;for(let r=0;;r++){if(r==7){if(!i6(t.next,!0))return;break}if(t.next!="extends".charCodeAt(r))break;t.advance(),n++}}t.acceptToken(N5e,-n)}),oCe=lh({"get set async static":Q.modifier,"for while do if else switch try catch finally return throw break continue default case defer":Q.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":Q.operatorKeyword,"let var const using function class extends":Q.definitionKeyword,"import export from":Q.moduleKeyword,"with debugger new":Q.keyword,TemplateString:Q.special(Q.string),super:Q.atom,BooleanLiteral:Q.bool,this:Q.self,null:Q.null,Star:Q.modifier,VariableName:Q.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Q.function(Q.variableName),VariableDefinition:Q.definition(Q.variableName),Label:Q.labelName,PropertyName:Q.propertyName,PrivatePropertyName:Q.special(Q.propertyName),"CallExpression/MemberExpression/PropertyName":Q.function(Q.propertyName),"FunctionDeclaration/VariableDefinition":Q.function(Q.definition(Q.variableName)),"ClassDeclaration/VariableDefinition":Q.definition(Q.className),"NewExpression/VariableName":Q.className,PropertyDefinition:Q.definition(Q.propertyName),PrivatePropertyDefinition:Q.definition(Q.special(Q.propertyName)),UpdateOp:Q.updateOperator,"LineComment Hashbang":Q.lineComment,BlockComment:Q.blockComment,Number:Q.number,String:Q.string,Escape:Q.escape,ArithOp:Q.arithmeticOperator,LogicOp:Q.logicOperator,BitOp:Q.bitwiseOperator,CompareOp:Q.compareOperator,RegExp:Q.regexp,Equals:Q.definitionOperator,Arrow:Q.function(Q.punctuation),": Spread":Q.punctuation,"( )":Q.paren,"[ ]":Q.squareBracket,"{ }":Q.brace,"InterpolationStart InterpolationEnd":Q.special(Q.brace),".":Q.derefOperator,", ;":Q.separator,"@":Q.meta,TypeName:Q.typeName,TypeDefinition:Q.definition(Q.typeName),"type enum interface implements namespace module declare":Q.definitionKeyword,"abstract global Privacy readonly override":Q.modifier,"is keyof unique infer asserts":Q.operatorKeyword,JSXAttributeValue:Q.attributeValue,JSXText:Q.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Q.angleBracket,"JSXIdentifier JSXNameSpacedName":Q.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Q.attributeName,"JSXBuiltin/JSXIdentifier":Q.standard(Q.tagName)}),aCe={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},lCe={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},uCe={__proto__:null,"<":193},cCe=Gf.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:"â  ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:eCe,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[oCe],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[nCe,rCe,iCe,sCe,2,3,4,5,6,7,8,9,10,11,12,13,14,tCe,new WS("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new WS("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:t=>aCe[t]||-1},{term:343,get:t=>lCe[t]||-1},{term:95,get:t=>uCe[t]||-1}],tokenPrec:15201}),hK=[Js("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Js("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Js("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Js("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Js("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Js(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Js("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Js(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Js(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Js('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Js('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],fCe=hK.concat([Js("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Js("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Js("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),JN=new uG,dK=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function My(t){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,t),!0}}const hCe=["FunctionDeclaration"],dCe={FunctionDeclaration:My("function"),ClassDeclaration:My("class"),ClassExpression:()=>!0,EnumDeclaration:My("constant"),TypeAliasDeclaration:My("type"),NamespaceDeclaration:My("namespace"),VariableDefinition(t,e){t.matchContext(hCe)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function pK(t,e){let n=JN.get(e);if(n)return n;let r=[],i=!0;function s(o,a){let l=t.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(Er.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let a=dCe[o.name];if(a&&a(o,s)||dK.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of pK(t,o.node))r.push(a);return!1}}),JN.set(e,r),r}const eQ=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,mK=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function pCe(t){let e=Hn(t.state).resolveInner(t.pos,-1);if(mK.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&eQ.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let i=e;i;i=i.parent)dK.has(i.name)&&(r=r.concat(pK(t.state.doc,i)));return{options:r,from:n?e.from:t.pos,validFor:eQ}}const fc=Yf.define({name:"javascript",parser:cCe.configure({props:[$d.add({IfStatement:Bf({except:/^\s*({|else\b)/}),TryStatement:Bf({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:bxe,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:yxe({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":Bf({except:/^\s*{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),Id.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Nk,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),gK={test:t=>/^JSX/.test(t.name),facet:t7({commentTokens:{block:{open:"{/*",close:"*/}"}}})},yK=fc.configure({dialect:"ts"},"typescript"),bK=fc.configure({dialect:"jsx",props:[n7.add(t=>t.isTop?[gK]:void 0)]}),vK=fc.configure({dialect:"jsx ts",props:[n7.add(t=>t.isTop?[gK]:void 0)]},"typescript");let OK=t=>({label:t,type:"keyword"});const wK="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(OK),mCe=wK.concat(["declare","implements","private","protected","public"].map(OK));function gCe(t={}){let e=t.jsx?t.typescript?vK:bK:t.typescript?yK:fc,n=t.typescript?fCe.concat(mCe):hK.concat(wK);return new kd(e,[fc.data.of({autocomplete:_G(mK,o7(n))}),fc.data.of({autocomplete:pCe}),t.jsx?vCe:[]])}function yCe(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function tQ(t,e,n=t.length){for(let r=e?.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,n));return""}const bCe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),vCe=Xe.inputHandler.of((t,e,n,r,i)=>{if((bCe?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||r!=">"&&r!="/"||!fc.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var u;let{head:c}=l,f=Hn(o).resolveInner(c-1,-1),h;if(f.name=="JSXStartTag"&&(f=f.parent),!(o.doc.sliceString(c-1,c)!=r||f.name=="JSXAttributeValue"&&f.to>c)){if(r==">"&&f.name=="JSXFragmentTag")return{range:l,changes:{from:c,insert:"</>"}};if(r=="/"&&f.name=="JSXStartCloseTag"){let d=f.parent,m=d.parent;if(m&&d.from==c-2&&((h=tQ(o.doc,m.firstChild,c))||((u=m.firstChild)===null||u===void 0?void 0:u.name)=="JSXFragmentTag")){let g=`${h}>`;return{range:he.cursor(c+g.length,-1),changes:{from:c,insert:g}}}}else if(r==">"){let d=yCe(f);if(d&&d.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(c,c+2))&&(h=tQ(o.doc,d,c)))return{range:l,changes:{from:c,insert:`</${h}>`}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Ly=["_blank","_self","_top","_parent"],s6=["ascii","utf-8","utf-16","latin1","latin1"],o6=["get","post","put","delete"],a6=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],ma=["true","false"],it={},OCe={a:{attrs:{href:null,ping:null,type:null,media:null,target:Ly,hreflang:null}},abbr:it,address:it,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:it,aside:it,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:it,base:{attrs:{href:null,target:Ly}},bdi:it,bdo:it,blockquote:{attrs:{cite:null}},body:it,br:it,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:a6,formmethod:o6,formnovalidate:["novalidate"],formtarget:Ly,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:it,center:it,cite:it,code:it,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:it,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:it,div:it,dl:it,dt:it,em:it,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:it,figure:it,footer:it,form:{attrs:{action:null,name:null,"accept-charset":s6,autocomplete:["on","off"],enctype:a6,method:o6,novalidate:["novalidate"],target:Ly}},h1:it,h2:it,h3:it,h4:it,h5:it,h6:it,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:it,hgroup:it,hr:it,html:{attrs:{manifest:null}},i:it,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:a6,formmethod:o6,formnovalidate:["novalidate"],formtarget:Ly,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:it,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:it,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:it,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:s6,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:it,noscript:it,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:it,param:{attrs:{name:null,value:null}},pre:it,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:it,rt:it,ruby:it,samp:it,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:s6}},section:it,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:it,source:{attrs:{src:null,type:null,media:null}},span:it,strong:it,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:it,summary:it,sup:it,table:it,tbody:it,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:it,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:it,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:it,time:{attrs:{datetime:null}},title:it,tr:it,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:it,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:it},_K={accesskey:null,class:null,contenteditable:ma,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:ma,autocorrect:ma,autocapitalize:ma,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":ma,"aria-autocomplete":["inline","list","both","none"],"aria-busy":ma,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":ma,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":ma,"aria-hidden":ma,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":ma,"aria-multiselectable":ma,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":ma,"aria-relevant":null,"aria-required":ma,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},xK="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of xK)_K[t]=null;let zv=class{constructor(e,n){this.tags={...OCe,...e},this.globalAttrs={..._K,...n},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}};zv.default=new zv;function n1(t,e,n=t.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,n)):""}function r1(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function SK(t,e,n){let r=n.tags[n1(t,r1(e))];return r?.children||n.allTags}function P7(t,e){let n=[];for(let r=r1(e);r&&!r.type.isTop;r=r1(r.parent)){let i=n1(t,r);if(i&&r.lastChild.name=="CloseTag")break;i&&n.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(i)}return n}const kK=/^[:\-\.\w\u00b7-\uffff]*$/;function nQ(t,e,n,r,i){let s=/\s*>/.test(t.sliceDoc(i,i+5))?"":">",o=r1(n,n.name=="StartTag"||n.name=="TagName");return{from:r,to:i,options:SK(t.doc,o,e).map(a=>({label:a,type:"type"})).concat(P7(t.doc,n).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function rQ(t,e,n,r){let i=/\s*>/.test(t.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:P7(t.doc,e).map((s,o)=>({label:s,apply:s+i,type:"type",boost:99-o})),validFor:kK}}function wCe(t,e,n,r){let i=[],s=0;for(let o of SK(t.doc,n,e))i.push({label:"<"+o,type:"type"});for(let o of P7(t.doc,n))i.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function _Ce(t,e,n,r,i){let s=r1(n),o=s?e.tags[n1(t.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:l.map(u=>({label:u,type:"property"})),validFor:kK}}function xCe(t,e,n,r,i){var s;let o=(s=n.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let u=t.sliceDoc(o.from,o.to),c=e.globalAttrs[u];if(!c){let f=r1(n),h=f?e.tags[n1(t.doc,f)]:null;c=h?.attrs&&h.attrs[u]}if(c){let f=t.sliceDoc(r,i).toLowerCase(),h='"',d='"';/^['"]/.test(f)?(l=f[0]=='"'?/^[^"]*$/:/^[^']*$/,h="",d=t.sliceDoc(i,i+1)==f[0]?"":f[0],f=f.slice(1),r++):l=/^[^\s<>='"]*$/;for(let m of c)a.push({label:m,apply:h+m+d,type:"constant"})}}return{from:r,to:i,options:a,validFor:l}}function CK(t,e){let{state:n,pos:r}=e,i=Hn(n).resolveInner(r,-1),s=i.resolve(r);for(let o=r,a;s==i&&(a=i.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=i=a,o=l.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?rQ(n,i,i.from,r):nQ(n,t,i,i.from,r):i.name=="StartTag"||i.name=="IncompleteTag"?nQ(n,t,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?rQ(n,i,r,r):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?_Ce(n,t,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?xCe(n,t,i,i.name=="Is"?r:i.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?wCe(n,t,i,r):null}function SCe(t){return CK(zv.default,t)}function kCe(t){let{extraTags:e,extraGlobalAttributes:n}=t,r=n||e?new zv(e,n):zv.default;return i=>CK(r,i)}const CCe=fc.parser.configure({top:"SingleExpression"}),AK=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:yK.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:bK.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:vK.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:CCe},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:fc.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:GS.parser}],EK=[{name:"style",parser:GS.parser.configure({top:"Styles"})}].concat(xK.map(t=>({name:t,parser:fc.parser}))),TK=Yf.define({name:"html",parser:H4e.configure({props:[$d.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let r=t.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),Id.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),wG.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),nx=TK.configure({wrap:sK(AK,EK)});function ACe(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=sK((t.nestedLanguages||[]).concat(AK),(t.nestedAttributes||[]).concat(EK)));let r=n?TK.configure({wrap:n,dialect:e}):e?nx.configure({dialect:e}):nx;return new kd(r,[nx.data.of({autocomplete:kCe(t)}),t.autoCloseTags!==!1?ECe:[],gCe().support,$5e().support])}const iQ=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),ECe=Xe.inputHandler.of((t,e,n,r,i)=>{if(t.composing||t.state.readOnly||e!=n||r!=">"&&r!="/"||!nx.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var u,c,f;let h=o.doc.sliceString(l.from-1,l.to)==r,{head:d}=l,m=Hn(o).resolveInner(d,-1),g;if(h&&r==">"&&m.name=="EndTag"){let b=m.parent;if(((c=(u=b.parent)===null||u===void 0?void 0:u.lastChild)===null||c===void 0?void 0:c.name)!="CloseTag"&&(g=n1(o.doc,b.parent,d))&&!iQ.has(g)){let v=d+(o.doc.sliceString(d,d+1)===">"?1:0),O=`</${g}>`;return{range:l,changes:{from:d,to:v,insert:O}}}}else if(h&&r=="/"&&m.name=="IncompleteCloseTag"){let b=m.parent;if(m.from==d-2&&((f=b.lastChild)===null||f===void 0?void 0:f.name)!="CloseTag"&&(g=n1(o.doc,b,d))&&!iQ.has(g)){let v=d+(o.doc.sliceString(d,d+1)===">"?1:0),O=`${g}>`;return{range:he.cursor(d+O.length,-1),changes:{from:d,to:v,insert:O}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),DK=t7({commentTokens:{block:{open:"<!--",close:"-->"}}}),PK=new Mt,RK=Vke.configure({props:[Id.add(t=>!t.is("Block")||t.is("Document")||A8(t)!=null||TCe(t)?void 0:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})),PK.add(A8),$d.add({Document:()=>null}),xp.add({Document:DK})]});function A8(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}function TCe(t){return t.name=="OrderedList"||t.name=="BulletList"}function DCe(t,e){let n=t;for(;;){let r=n.nextSibling,i;if(!r||(i=A8(r.type))!=null&&i<=e)break;n=r}return n.to}const PCe=wxe.of((t,e,n)=>{for(let r=Hn(t).resolveInner(n,-1);r&&!(r.from<e);r=r.parent){let i=r.type.prop(PK);if(i==null)continue;let s=DCe(r,i);if(s>n)return{from:n,to:s}}return null});function R7(t){return new cl(DK,t,[],"markdown")}const RCe=R7(RK),$Ce=RK.configure([n4e,i4e,r4e,s4e,{props:[Id.add({Table:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}]),HS=R7($Ce);function ICe(t,e){return n=>{if(n&&t){let r=null;if(n=/\S*/.exec(n)[0],typeof t=="function"?r=t(n):r=$S.matchLanguageName(t,n,!0),r instanceof $S)return r.support?r.support.language.parser:Pv.getSkippingParser(r.load());if(r)return r.parser}return e?e.parser:null}}class l6{constructor(e,n,r,i,s,o,a){this.node=e,this.from=n,this.to=r,this.spaceBefore=i,this.spaceAfter=s,this.type=o,this.item=a}blank(e,n=!0){let r=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;r.length<e;)r+=" ";return r}else{for(let i=this.to-this.from-r.length-this.spaceAfter.length;i>0;i--)r+=" ";return r+(n?this.spaceAfter:"")}}marker(e,n){let r=this.node.name=="OrderedList"?String(+IK(this.item,e)[2]+n):"";return this.spaceBefore+r+this.type+this.spaceAfter}}function $K(t,e){let n=[],r=[];for(let i=t;i;i=i.parent){if(i.name=="FencedCode")return r;(i.name=="ListItem"||i.name=="Blockquote")&&n.push(i)}for(let i=n.length-1;i>=0;i--){let s=n[i],o,a=e.lineAt(s.from),l=s.from-a.from;if(s.name=="Blockquote"&&(o=/^ *>( ?)/.exec(a.text.slice(l))))r.push(new l6(s,l,l+o[0].length,"",o[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(o=/^( *)\d+([.)])( *)/.exec(a.text.slice(l)))){let u=o[3],c=o[0].length;u.length>=4&&(u=u.slice(0,u.length-4),c-=4),r.push(new l6(s.parent,l,l+c,o[1],u,o[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(o=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(a.text.slice(l)))){let u=o[4],c=o[0].length;u.length>4&&(u=u.slice(0,u.length-4),c-=4);let f=o[2];o[3]&&(f+=o[3].replace(/[xX]/," ")),r.push(new l6(s.parent,l,l+c,o[1],u,f,s))}}return r}function IK(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function u6(t,e,n,r=0){for(let i=-1,s=t;;){if(s.name=="ListItem"){let a=IK(s,e),l=+a[2];if(i>=0){if(l!=i+1)return;n.push({from:s.from+a[1].length,to:s.from+a[0].length,insert:String(i+2+r)})}i=l}let o=s.nextSibling;if(!o)break;s=o}}function $7(t,e){let n=/^[ \t]*/.exec(t)[0].length;if(!n||e.facet(zO)!="	")return t;let r=au(t,4,n),i="";for(let s=r;s>0;)s>=4?(i+="	",s-=4):(i+=" ",s--);return i+t.slice(n)}const FCe=(t={})=>({state:e,dispatch:n})=>{let r=Hn(e),{doc:i}=e,s=null,o=e.changeByRange(a=>{if(!a.empty||!HS.isActiveAt(e,a.from,-1)&&!HS.isActiveAt(e,a.from,1))return s={range:a};let l=a.from,u=i.lineAt(l),c=$K(r.resolveInner(l,-1),i);for(;c.length&&c[c.length-1].from>l-u.from;)c.pop();if(!c.length)return s={range:a};let f=c[c.length-1];if(f.to-f.spaceAfter.length>l-u.from)return s={range:a};let h=l>=f.to-f.spaceAfter.length&&!/\S/.test(u.text.slice(f.to));if(f.item&&h){let v=f.node.firstChild,O=f.node.getChild("ListItem","ListItem");if(v.to>=l||O&&O.to<l||u.from>0&&!/[^\s>]/.test(i.lineAt(u.from-1).text)||t.nonTightLists===!1){let x=c.length>1?c[c.length-2]:null,C,S="";x&&x.item?(C=u.from+x.from,S=x.marker(i,1)):C=u.from+(x?x.to:0);let A=[{from:C,to:l,insert:S}];return f.node.name=="OrderedList"&&u6(f.item,i,A,-2),x&&x.node.name=="OrderedList"&&u6(x.item,i,A),{range:he.cursor(C+S.length),changes:A}}else{let x=oQ(c,e,u);return{range:he.cursor(l+x.length+1),changes:{from:u.from,insert:x+e.lineBreak}}}}if(f.node.name=="Blockquote"&&h&&u.from){let v=i.lineAt(u.from-1),O=/>\s*$/.exec(v.text);if(O&&O.index==f.from){let x=e.changes([{from:v.from+O.index,to:v.to},{from:u.from+f.from,to:u.to}]);return{range:a.map(x),changes:x}}}let d=[];f.node.name=="OrderedList"&&u6(f.item,i,d);let m=f.item&&f.item.from<u.from,g="";if(!m||/^[\s\d.)\-+*>]*/.exec(u.text)[0].length>=f.to)for(let v=0,O=c.length-1;v<=O;v++)g+=v==O&&!m?c[v].marker(i,1):c[v].blank(v<O?au(u.text,4,c[v+1].from)-g.length:null);let b=l;for(;b>u.from&&/\s/.test(u.text.charAt(b-u.from-1));)b--;return g=$7(g,e),LCe(f.node,e.doc)&&(g=oQ(c,e,u)+e.lineBreak+g),d.push({from:b,to:l,insert:e.lineBreak+g}),{range:he.cursor(b+g.length+1),changes:d}});return s?!1:(n(e.update(o,{scrollIntoView:!0,userEvent:"input"})),!0)},MCe=FCe();function sQ(t){return t.name=="QuoteMark"||t.name=="ListMark"}function LCe(t,e){if(t.name!="OrderedList"&&t.name!="BulletList")return!1;let n=t.firstChild,r=t.getChild("ListItem","ListItem");if(!r)return!1;let i=e.lineAt(n.to),s=e.lineAt(r.from),o=/^[\s>]*$/.test(i.text);return i.number+(o?0:1)<s.number}function oQ(t,e,n){let r="";for(let i=0,s=t.length-2;i<=s;i++)r+=t[i].blank(i<s?au(n.text,4,t[i+1].from)-r.length:null,i<s);return $7(r,e)}function NCe(t,e){let n=t.resolveInner(e,-1),r=e;sQ(n)&&(r=n.from,n=n.parent);for(let i;i=n.childBefore(r);)if(sQ(i))r=i.from;else if(i.name=="OrderedList"||i.name=="BulletList")n=i.lastChild,r=n.to;else break;return n}const QCe=({state:t,dispatch:e})=>{let n=Hn(t),r=null,i=t.changeByRange(s=>{let o=s.from,{doc:a}=t;if(s.empty&&HS.isActiveAt(t,s.from)){let l=a.lineAt(o),u=$K(NCe(n,o),a);if(u.length){let c=u[u.length-1],f=c.to-c.spaceAfter.length+(c.spaceAfter?1:0);if(o-l.from>f&&!/\S/.test(l.text.slice(f,o-l.from)))return{range:he.cursor(l.from+f),changes:{from:l.from+f,to:o}};if(o-l.from==f&&(!c.item||l.from<=c.item.from||!/\S/.test(l.text.slice(0,c.to)))){let h=l.from+c.from;if(c.item&&c.node.from<c.item.from&&/\S/.test(l.text.slice(c.from,c.to))){let d=c.blank(au(l.text,4,c.to)-au(l.text,4,c.from));return h==l.from&&(d=$7(d,t)),{range:he.cursor(h+d.length),changes:{from:h,to:l.from+c.to,insert:d}}}if(h<o)return{range:he.cursor(h),changes:{from:h,to:o}}}}}return r={range:s}});return r?!1:(e(t.update(i,{scrollIntoView:!0,userEvent:"delete"})),!0)},BCe=[{key:"Enter",run:MCe},{key:"Backspace",run:QCe}],FK=ACe({matchClosingTags:!1});function zCe(t={}){let{codeLanguages:e,defaultCodeLanguage:n,addKeymap:r=!0,base:{parser:i}=RCe,completeHTMLTags:s=!0,pasteURLAsLink:o=!0,htmlTagLanguage:a=FK}=t;if(!(i instanceof qk))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let l=t.extensions?[t.extensions]:[],u=[a.support,PCe],c;o&&u.push(VCe),n instanceof kd?(u.push(n.support),c=n.language):n&&(c=n);let f=e||c?ICe(e,c):void 0;l.push(Zke({codeParser:f,htmlParser:a.language.parser})),r&&u.push(sh.high(NO.of(BCe)));let h=R7(i.configure(l));return s&&u.push(h.data.of({autocomplete:UCe})),new kd(h,u)}function UCe(t){let{state:e,pos:n}=t,r=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(n-25,n));if(!r)return null;let i=Hn(e).resolveInner(n,-1);for(;i&&!i.type.isTop;){if(i.name=="CodeBlock"||i.name=="FencedCode"||i.name=="ProcessingInstructionBlock"||i.name=="CommentBlock"||i.name=="Link"||i.name=="Image")return null;i=i.parent}return{from:n-r[0].length,to:n,options:jCe(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let c6=null;function jCe(){if(c6)return c6;let t=SCe(new s7(Dn.create({extensions:FK}),0,!0));return c6=t?t.options:[]}const qCe=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,VCe=Xe.domEventHandlers({paste:(t,e)=>{var n;let{main:r}=e.state.selection;if(r.empty)return!1;let i=(n=t.clipboardData)===null||n===void 0?void 0:n.getData("text/plain");if(!i||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(i)||(/^www\./.test(i)&&(i="https://"+i),!HS.isActiveAt(e.state,r.from,1)))return!1;let s=Hn(e.state),o=!1;return s.iterate({from:r.from,to:r.to,enter:a=>{(a.from>r.from||qCe.test(a.name))&&(o=!0)},leave:a=>{a.to<r.to&&(o=!0)}}),o?!1:(e.dispatch({changes:[{from:r.from,insert:"["},{from:r.to,insert:`](${i})`}],userEvent:"input.paste",scrollIntoView:!0}),!0)}}),XCe=36,aQ=1,ZCe=2,um=3,f6=4,WCe=5,YCe=6,GCe=7,HCe=8,KCe=9,JCe=10,e6e=11,t6e=12,n6e=13,r6e=14,i6e=15,s6e=16,o6e=17,lQ=18,a6e=19,MK=20,LK=21,uQ=22,l6e=23,u6e=24;function E8(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function c6e(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function op(t,e,n){for(let r=!1;;){if(t.next<0)return;if(t.next==e&&!r){t.advance();return}r=n&&!r&&t.next==92,t.advance()}}function f6e(t,e){e:for(;;){if(t.next<0)return;if(t.next==36){t.advance();for(let n=0;n<e.length;n++){if(t.next!=e.charCodeAt(n))continue e;t.advance()}if(t.next==36){t.advance();return}}else t.advance()}}function h6e(t,e){let n="[{<(".indexOf(String.fromCharCode(e)),r=n<0?e:"]}>)".charCodeAt(n);for(;;){if(t.next<0)return;if(t.next==r&&t.peek(1)==39){t.advance(2);return}t.advance()}}function T8(t,e){for(;!(t.next!=95&&!E8(t.next));)e!=null&&(e+=String.fromCharCode(t.next)),t.advance();return e}function d6e(t){if(t.next==39||t.next==34||t.next==96){let e=t.next;t.advance(),op(t,e,!1)}else T8(t)}function cQ(t,e){for(;t.next==48||t.next==49;)t.advance();e&&t.next==e&&t.advance()}function fQ(t,e){for(;;){if(t.next==46){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(t.next==69||t.next==101)for(t.advance(),(t.next==43||t.next==45)&&t.advance();t.next>=48&&t.next<=57;)t.advance()}function hQ(t){for(;!(t.next<0||t.next==10);)t.advance()}function np(t,e){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)==t)return!0;return!1}const h6=` 	\r
`;function NK(t,e,n){let r=Object.create(null);r.true=r.false=WCe,r.null=r.unknown=YCe;for(let i of t.split(" "))i&&(r[i]=MK);for(let i of e.split(" "))i&&(r[i]=LK);for(let i of(n||"").split(" "))i&&(r[i]=u6e);return r}const QK="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",BK="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",D8={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:NK(BK,QK)};function p6e(t,e,n,r){let i={};for(let s in D8)i[s]=(t.hasOwnProperty(s)?t:D8)[s];return e&&(i.words=NK(e,n||"",r)),i}function zK(t){return new ia(e=>{var n;let{next:r}=e;if(e.advance(),np(r,h6)){for(;np(e.next,h6);)e.advance();e.acceptToken(XCe)}else if(r==36&&t.doubleDollarQuotedStrings){let i=T8(e,"");e.next==36&&(e.advance(),f6e(e,i),e.acceptToken(um))}else if(r==39||r==34&&t.doubleQuotedStrings)op(e,r,t.backslashEscapes),e.acceptToken(um);else if(r==35&&t.hashComments||r==47&&e.next==47&&t.slashComments)hQ(e),e.acceptToken(aQ);else if(r==45&&e.next==45&&(!t.spaceAfterDashes||e.peek(1)==32))hQ(e),e.acceptToken(aQ);else if(r==47&&e.next==42){e.advance();for(let i=1;;){let s=e.next;if(e.next<0)break;if(e.advance(),s==42&&e.next==47){if(i--,e.advance(),!i)break}else s==47&&e.next==42&&(i++,e.advance())}e.acceptToken(ZCe)}else if((r==101||r==69)&&e.next==39)e.advance(),op(e,39,!0),e.acceptToken(um);else if((r==110||r==78)&&e.next==39&&t.charSetCasts)e.advance(),op(e,39,t.backslashEscapes),e.acceptToken(um);else if(r==95&&t.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),op(e,39,t.backslashEscapes),e.acceptToken(um);break}if(!E8(e.next))break;e.advance()}else if(t.plsqlQuotingMechanism&&(r==113||r==81)&&e.next==39&&e.peek(1)>0&&!np(e.peek(1),h6)){let i=e.peek(1);e.advance(2),h6e(e,i),e.acceptToken(um)}else if(np(r,t.identifierQuotes)){const i=r==91?93:r;op(e,i,!1),e.acceptToken(a6e)}else if(r==40)e.acceptToken(GCe);else if(r==41)e.acceptToken(HCe);else if(r==123)e.acceptToken(KCe);else if(r==125)e.acceptToken(JCe);else if(r==91)e.acceptToken(e6e);else if(r==93)e.acceptToken(t6e);else if(r==59)e.acceptToken(n6e);else if(t.unquotedBitLiterals&&r==48&&e.next==98)e.advance(),cQ(e),e.acceptToken(uQ);else if((r==98||r==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),t.treatBitsAsBytes?(op(e,i,t.backslashEscapes),e.acceptToken(l6e)):(cQ(e,i),e.acceptToken(uQ))}else if(r==48&&(e.next==120||e.next==88)||(r==120||r==88)&&e.next==39){let i=e.next==39;for(e.advance();c6e(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(f6)}else if(r==46&&e.next>=48&&e.next<=57)fQ(e,!0),e.acceptToken(f6);else if(r==46)e.acceptToken(r6e);else if(r>=48&&r<=57)fQ(e,!1),e.acceptToken(f6);else if(np(r,t.operatorChars)){for(;np(e.next,t.operatorChars);)e.advance();e.acceptToken(i6e)}else if(np(r,t.specialVar))e.next==r&&e.advance(),d6e(e),e.acceptToken(o6e);else if(r==58||r==44)e.acceptToken(s6e);else if(E8(r)){let i=T8(e,String.fromCharCode(r));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?lQ:(n=t.words[i.toLowerCase()])!==null&&n!==void 0?n:lQ)}})}const UK=zK(D8),m6e=Gf.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:"â  LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,UK],topRules:{Script:[0,25]},tokenPrec:0});function P8(t){let e=t.cursor().moveTo(t.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function Uv(t,e){let n=t.sliceString(e.from,e.to),r=/^([`'"\[])(.*)([`'"\]])$/.exec(n);return r?r[2]:n}function KS(t){return t&&(t.name=="Identifier"||t.name=="QuotedIdentifier")}function g6e(t,e){if(e.name=="CompositeIdentifier"){let n=[];for(let r=e.firstChild;r;r=r.nextSibling)KS(r)&&n.push(Uv(t,r));return n}return[Uv(t,e)]}function dQ(t,e){for(let n=[];;){if(!e||e.name!=".")return n;let r=P8(e);if(!KS(r))return n;n.unshift(Uv(t,r)),e=P8(r)}}function y6e(t,e){let n=Hn(t).resolveInner(e,-1),r=v6e(t.doc,n);return n.name=="Identifier"||n.name=="QuotedIdentifier"||n.name=="Keyword"?{from:n.from,quoted:n.name=="QuotedIdentifier"?t.doc.sliceString(n.from,n.from+1):null,parents:dQ(t.doc,P8(n)),aliases:r}:n.name=="."?{from:e,quoted:null,parents:dQ(t.doc,n),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const b6e=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function v6e(t,e){let n;for(let i=e;!n;i=i.parent){if(!i)return null;i.name=="Statement"&&(n=i)}let r=null;for(let i=n.firstChild,s=!1,o=null;i;i=i.nextSibling){let a=i.name=="Keyword"?t.sliceString(i.from,i.to).toLowerCase():null,l=null;if(!s)s=a=="from";else if(a=="as"&&o&&KS(i.nextSibling))l=Uv(t,i.nextSibling);else{if(a&&b6e.has(a))break;o&&KS(i)&&(l=Uv(t,i))}l&&(r||(r=Object.create(null)),r[l]=g6e(t,o)),o=/Identifier$/.test(i.name)?i:null}return r}function O6e(t,e,n){return n.map(r=>({...r,label:r.label[0]==t?r.label:t+r.label+e,apply:void 0}))}const w6e=/^\w*$/,_6e=/^[`'"\[]?\w*[`'"\]]?$/;function pQ(t){return t.self&&typeof t.self.label=="string"}class I7{constructor(e,n){this.idQuote=e,this.idCaseInsensitive=n,this.list=[],this.children=void 0}child(e){let n=this.children||(this.children=Object.create(null)),r=n[e];return r||(e&&!this.list.some(i=>i.label==e)&&this.list.push(mQ(e,"type",this.idQuote,this.idCaseInsensitive)),n[e]=new I7(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let n=this.list.findIndex(r=>r.label==e.label);n>-1?this.list[n]=e:this.list.push(e)}addCompletions(e){for(let n of e)this.addCompletion(typeof n=="string"?mQ(n,"property",this.idQuote,this.idCaseInsensitive):n)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):pQ(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let n of Object.keys(e)){let r=e[n],i=null,s=n.replace(/\\?\./g,a=>a=="."?"\0":a).split("\0"),o=this;pQ(r)&&(i=r.self,r=r.children);for(let a=0;a<s.length;a++)i&&a==s.length-1&&o.addCompletion(i),o=o.child(s[a].replace(/\\\./g,"."));o.addNamespace(r)}}}function mQ(t,e,n,r){return new RegExp("^[a-z_][a-z_\\d]*$",r?"i":"").test(t)?{label:t,type:e}:{label:t,type:e,apply:n+t+jK(n)}}function jK(t){return t==="["?"]":t}function x6e(t,e,n,r,i,s){var o;let a=((o=s?.spec.identifierQuotes)===null||o===void 0?void 0:o[0])||'"',l=new I7(a,!!s?.spec.caseInsensitiveIdentifiers),u=i?l.child(i):null;return l.addNamespace(t),e&&(u||l).addCompletions(e),n&&l.addCompletions(n),u&&l.addCompletions(u.list),r&&l.addCompletions((u||l).child(r).list),c=>{let{parents:f,from:h,quoted:d,empty:m,aliases:g}=y6e(c.state,c.pos);if(m&&!c.explicit)return null;g&&f.length==1&&(f=g[f[0]]||f);let b=l;for(let O of f){for(;!b.children||!b.children[O];)if(b==l&&u)b=u;else if(b==u&&r)b=b.child(r);else return null;let x=b.maybeChild(O);if(!x)return null;b=x}let v=b.list;if(b==l&&g&&(v=v.concat(Object.keys(g).map(O=>({label:O,type:"constant"})))),d){let O=d[0],x=jK(O),C=c.state.sliceDoc(c.pos,c.pos+1)==x;return{from:h,to:C?c.pos+1:void 0,options:O6e(O,x,v),validFor:_6e}}else return{from:h,options:v,validFor:w6e}}}function S6e(t){return t==LK?"type":t==MK?"keyword":"variable"}function k6e(t,e,n){let r=Object.keys(t).map(i=>n(e?i.toUpperCase():i,S6e(t[i])));return _G(["QuotedIdentifier","String","LineComment","BlockComment","."],o7(r))}let C6e=m6e.configure({props:[$d.add({Statement:Bf()}),Id.add({Statement(t,e){return{from:Math.min(t.from+100,e.doc.lineAt(t.from).to),to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),lh({Keyword:Q.keyword,Type:Q.typeName,Builtin:Q.standard(Q.name),Bits:Q.number,Bytes:Q.string,Bool:Q.bool,Null:Q.null,Number:Q.number,String:Q.string,Identifier:Q.name,QuotedIdentifier:Q.special(Q.string),SpecialVar:Q.special(Q.name),LineComment:Q.lineComment,BlockComment:Q.blockComment,Operator:Q.operator,"Semi Punctuation":Q.punctuation,"( )":Q.paren,"{ }":Q.brace,"[ ]":Q.squareBracket})]});class jv{constructor(e,n,r){this.dialect=e,this.language=n,this.spec=r}get extension(){return this.language.extension}configureLanguage(e,n){return new jv(this.dialect,this.language.configure(e,n),this.spec)}static define(e){let n=p6e(e,e.keywords,e.types,e.builtin),r=Yf.define({name:"sql",parser:C6e.configure({tokenizers:[{from:UK,to:zK(n)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new jv(n,r,e)}}function A6e(t,e){return{label:t,type:e,boost:-1}}function E6e(t,e=!1,n){return k6e(t.dialect.words,e,n||A6e)}function T6e(t){return t.schema?x6e(t.schema,t.tables,t.schemas,t.defaultTable,t.defaultSchema,t.dialect||F7):()=>null}function D6e(t){return t.schema?(t.dialect||F7).language.data.of({autocomplete:T6e(t)}):[]}function P6e(t={}){let e=t.dialect||F7;return new kd(e.language,[D6e(t),e.language.data.of({autocomplete:E6e(e,t.upperCaseKeywords,t.keywordCompletion)})])}const F7=jv.define({}),R6e=jv.define({charSetCasts:!0,doubleDollarQuotedStrings:!0,operatorChars:"+-*/<>=~!@#%^&|`?",specialVar:"",keywords:BK+"abort abs absent access according ada admin aggregate alias also always analyse analyze array_agg array_max_cardinality asensitive assert assignment asymmetric atomic attach attribute attributes avg backward base64 begin_frame begin_partition bernoulli bit_length blocked bom cache called cardinality catalog_name ceil ceiling chain char_length character_length character_set_catalog character_set_name character_set_schema characteristics characters checkpoint class class_origin cluster coalesce cobol collation_catalog collation_name collation_schema collect column_name columns command_function command_function_code comment comments committed concurrently condition_number configuration conflict connection_name constant constraint_catalog constraint_name constraint_schema contains content control conversion convert copy corr cost covar_pop covar_samp csv cume_dist current_catalog current_row current_schema cursor_name database datalink datatype datetime_interval_code datetime_interval_precision db debug defaults defined definer degree delimiter delimiters dense_rank depends derived detach detail dictionary disable discard dispatch dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue document dump dynamic_function dynamic_function_code element elsif empty enable encoding encrypted end_frame end_partition endexec enforced enum errcode error event every exclude excluding exclusive exp explain expression extension extract family file filter final first_value flag floor following force foreach fortran forward frame_row freeze fs functions fusion generated granted greatest groups handler header hex hierarchy hint id ignore ilike immediately immutable implementation implicit import include including increment indent index indexes info inherit inherits inline insensitive instance instantiable instead integrity intersection invoker isnull key_member key_type label lag last_value lead leakproof least length library like_regex link listen ln load location lock locked log logged lower mapping matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text min minvalue mod mode more move multiset mumps name namespace nfc nfd nfkc nfkd nil normalize normalized nothing notice notify notnull nowait nth_value ntile nullable nullif nulls number occurrences_regex octet_length octets off offset oids operator options ordering others over overlay overriding owned owner parallel parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partition pascal passing passthrough password percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding prepared print_strict_params procedural procedures program publication query quote raise range rank reassign recheck recovery refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex rename repeatable replace replica requiring reset respect restart restore result_oid returned_cardinality returned_length returned_octet_length returned_sqlstate returning reverse routine_catalog routine_name routine_schema routines row_count row_number rowtype rule scale schema_name schemas scope scope_catalog scope_name scope_schema security selective self sensitive sequence sequences serializable server server_name setof share show simple skip slice snapshot source specific_name sqlcode sqlerror sqrt stable stacked standalone statement statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time table_name tables tablesample tablespace temp template ties token top_level_count transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex trigger_catalog trigger_name trigger_schema trim trim_array truncate trusted type types uescape unbounded uncommitted unencrypted unlink unlisten unlogged unnamed untyped upper uri use_column use_variable user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema vacuum valid validate validator value_of var_pop var_samp varbinary variable_conflict variadic verbose version versioning views volatile warning whitespace width_bucket window within wrapper xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate yes",types:QK+"bigint int8 bigserial serial8 varbit bool box bytea cidr circle precision float8 inet int4 json jsonb line lseg macaddr macaddr8 money numeric pg_lsn point polygon float4 int2 smallserial serial2 serial serial4 text timetz timestamptz tsquery tsvector txid_snapshot uuid xml"});function A0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rx={exports:{}},$6e=rx.exports,gQ;function I6e(){return gQ||(gQ=1,(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})($6e,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],s={},o=null;function a(g,b){var v=g[b];if(typeof v.bind=="function")return v.bind(g);try{return Function.prototype.bind.call(v,g)}catch{return function(){return Function.prototype.apply.apply(v,[g,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(g){return g==="debug"&&(g="log"),typeof console===n?!1:g==="trace"&&r?l:console[g]!==void 0?a(console,g):console.log!==void 0?a(console,"log"):e}function c(){for(var g=this.getLevel(),b=0;b<i.length;b++){var v=i[b];this[v]=b<g?e:this.methodFactory(v,g,this.name)}if(this.log=this.debug,typeof console===n&&g<this.levels.SILENT)return"No console available for logging"}function f(g){return function(){typeof console!==n&&(c.call(this),this[g].apply(this,arguments))}}function h(g,b,v){return u(g)||f.apply(this,arguments)}function d(g,b){var v=this,O,x,C,S="loglevel";typeof g=="string"?S+=":"+g:typeof g=="symbol"&&(S=void 0);function A(M){var L=(i[M]||"silent").toUpperCase();if(!(typeof window===n||!S)){try{window.localStorage[S]=L;return}catch{}try{window.document.cookie=encodeURIComponent(S)+"="+L+";"}catch{}}}function k(){var M;if(!(typeof window===n||!S)){try{M=window.localStorage[S]}catch{}if(typeof M===n)try{var L=window.document.cookie,R=encodeURIComponent(S),I=L.indexOf(R+"=");I!==-1&&(M=/^([^;]+)/.exec(L.slice(I+R.length+1))[1])}catch{}return v.levels[M]===void 0&&(M=void 0),M}}function T(){if(!(typeof window===n||!S)){try{window.localStorage.removeItem(S)}catch{}try{window.document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function D(M){var L=M;if(typeof L=="string"&&v.levels[L.toUpperCase()]!==void 0&&(L=v.levels[L.toUpperCase()]),typeof L=="number"&&L>=0&&L<=v.levels.SILENT)return L;throw new TypeError("log.setLevel() called with invalid level: "+M)}v.name=g,v.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},v.methodFactory=b||h,v.getLevel=function(){return C??x??O},v.setLevel=function(M,L){return C=D(M),L!==!1&&A(C),c.call(v)},v.setDefaultLevel=function(M){x=D(M),k()||v.setLevel(M,!1)},v.resetLevel=function(){C=null,T(),c.call(v)},v.enableAll=function(M){v.setLevel(v.levels.TRACE,M)},v.disableAll=function(M){v.setLevel(v.levels.SILENT,M)},v.rebuild=function(){if(o!==v&&(O=D(o.getLevel())),c.call(v),o===v)for(var M in s)s[M].rebuild()},O=D(o?o.getLevel():"WARN");var $=k();$!=null&&(C=D($)),c.call(v)}o=new d,o.getLogger=function(b){if(typeof b!="symbol"&&typeof b!="string"||b==="")throw new TypeError("You must supply a name when creating a logger.");var v=s[b];return v||(v=s[b]=new d(b,o.methodFactory)),v};var m=typeof window!==n?window.log:void 0;return o.noConflict=function(){return typeof window!==n&&window.log===o&&(window.log=m),o},o.getLoggers=function(){return s},o.default=o,o})})(rx)),rx.exports}var F6e=I6e();const qK=A0(F6e);qK.setLevel("silent");const Kr=qK,Xt={STRING:"String",NUMBER:"Number",TRUE:"True",FALSE:"False",NULL:"Null",OBJECT:"Object",ARRAY:"Array",PROPERTY:"Property",PROPERTY_NAME:"PropertyName",PROPERTY_COLON:"PropertyColon",ITEM:"Item",JSON_TEXT:"JsonText",INVALID:"â "},M6e={Pair:Xt.PROPERTY,Key:Xt.PROPERTY_NAME,BlockSequence:Xt.ARRAY,BlockMapping:Xt.OBJECT,FlowSequence:Xt.ARRAY,FlowMapping:Xt.OBJECT,QuotedLiteral:Xt.STRING,Literal:Xt.STRING,Stream:Xt.JSON_TEXT,Document:Xt.OBJECT},L6e={File:Xt.JSON_TEXT},M7=[Xt.STRING,Xt.NUMBER,Xt.TRUE,Xt.FALSE,Xt.NULL],VK=[Xt.OBJECT,Xt.ARRAY,Xt.ITEM],mr={JSON5:"json5",JSON:"json4",YAML:"yaml"},Si=(t,e)=>{var n,r;switch(e){case mr.YAML:return(n=M6e[t])!==null&&n!==void 0?n:t;case mr.JSON5:return(r=L6e[t])!==null&&r!==void 0?r:t;default:return t}};function XK(t,e,n){const r=[];for(let i=e;i?.parent;i=i.parent)switch(Si(i.parent.name,n)){case Xt.PROPERTY:{const s=R8(i.parent,Xt.PROPERTY_NAME,n);if(s){let o=Tm(t,s).replace(/[/~]/g,a=>a==="~"?"~0":"~1");r.unshift(o)}break}case Xt.ARRAY:{if(Q6e(i,n)){const s=YK(i.parent,i,n);r.unshift(`${s}`)}break}}return r.length===0?"":"/"+r.join("/")}const ZK=(t,e,n=-1,r)=>XK(t.doc,Hn(t).resolve(e,n),r),L7=(t,e)=>{const n=Hn(t),r=new Map;return n.iterate({enter:i=>{var s,o,a,l,u,c,f,h;if([Xt.PROPERTY_NAME,Xt.OBJECT].includes(Si(i.name,e))){const d=XK(t.doc,i.node,e),{from:m,to:g}=i.node;if(!(!((o=(s=i.node)===null||s===void 0?void 0:s.nextSibling)===null||o===void 0)&&o.node))return r.set(d,{keyFrom:m,keyTo:g}),!0;const b=e===mr.JSON?(l=(a=i.node)===null||a===void 0?void 0:a.nextSibling)===null||l===void 0?void 0:l.node:(h=(f=(c=(u=i.node)===null||u===void 0?void 0:u.nextSibling)===null||c===void 0?void 0:c.node)===null||f===void 0?void 0:f.nextSibling)===null||h===void 0?void 0:h.node;if(!b)return r.set(d,{keyFrom:m,keyTo:g}),!0;const{from:v,to:O}=b;return r.set(d,{keyFrom:m,keyTo:g,valueFrom:v,valueTo:O}),!0}}}),r},d6=(t,e,n=-1)=>Hn(t).resolveInner(e,n),ix=t=>t.replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1"),N6e=t=>t.replace(/^"(.*)"$/,"'$1'"),Tm=(t,e,n=!0,r=!0)=>{const i=e?t.sliceString(e.from,e.to):"";return n?r?ix(i):i.replace(/(^["'])|(["']$)/g,""):i},WK=(t,e)=>{var n,r,i,s;return Si(t.name,e)===Xt.INVALID&&(Si((r=(n=t.prevSibling)===null||n===void 0?void 0:n.name)!==null&&r!==void 0?r:"",e)===Xt.PROPERTY_NAME||Si((s=(i=t.prevSibling)===null||i===void 0?void 0:i.name)!==null&&s!==void 0?s:"",e)===Xt.PROPERTY_COLON)},sx=(t,e)=>M7.includes(Si(t.name,e))||WK(t,e),Q6e=(t,e)=>[...M7,...VK].includes(Si(t.name,e))||WK(t,e),qw=(t,e)=>{var n,r,i,s,o,a;return Si(t.name,e)===Xt.PROPERTY_NAME||Si(t.name,e)===Xt.INVALID&&(Si((r=(n=t.prevSibling)===null||n===void 0?void 0:n.name)!==null&&r!==void 0?r:"",e)===Xt.PROPERTY||Si((s=(i=t.prevSibling)===null||i===void 0?void 0:i.name)!==null&&s!==void 0?s:"",e)==="{")||e===mr.YAML&&Si((a=(o=t.parent)===null||o===void 0?void 0:o.name)!==null&&a!==void 0?a:"",e)===Xt.OBJECT},XO=t=>{const e=[];let n=t.firstChild;for(;n;)n&&e.push(n),n=n?.nextSibling;return e},B6e=(t,e,n)=>XO(t).filter(r=>Si(r.name,n)===e),R8=(t,e,n)=>{var r;return(r=XO(t).find(i=>Si(i.name,n)===e))!==null&&r!==void 0?r:null},yQ=(t,e)=>XO(t).find(n=>sx(n,e)),z6e=(t,e)=>XO(t).filter(n=>M7.includes(Si(n.name,e))||VK.includes(Si(n.name,e))),YK=(t,e,n)=>z6e(t,n).findIndex(r=>r.from===e.from&&r.to===e.to),bQ=(t,e,n,r=1/0)=>{let i=t;for(;i&&r>0;){if(Si(i.name,n)===e)return i;i=i.parent,r--}return null},U6e=Yt.define(),JS=Ni.define({create(){},update(t,e){for(const n of e.effects)if(n.is(U6e))return n.value;return t}}),N7=t=>t.field(JS),GK=t=>[JS.init(()=>t)],j6e={AdditionalItemsError:"Array at `{{pointer}}` may not have an additional item `{{key}}`",AdditionalPropertiesError:"Additional property `{{property}}` on `{{pointer}}` does not match schema `{{schema}}`",AllOfError:"Value `{{value}}` at `{{pointer}}` does not match schema of `{{allOf}}`",AnyOfError:"Value `{{value}}` at `{{pointer}}` does not match any schema of `{{anyOf}}`",ConstError:"Expected value at `{{pointer}}` to be `{{expected}}`, but value given is `{{value}}`",containsAnyError:"The array at `{{pointer}}` must contain at least one item",ContainsArrayError:"The property at `{{pointer}}` must not be an array",ContainsError:"The array at `{{pointer}}` must contain an element that matches `{{schema}}`",EnumError:"Expected given value `{{value}}` in `{{pointer}}` to be one of `{{values}}`",ForbiddenPropertyError:"Property name `{{property}}` at `{{pointer}}` is not allowed",FormatDateError:"Value `{{value}}` at `{{pointer}}` is not a valid date",FormatDateTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid date-time",FormatEmailError:"Value `{{value}}` at `{{pointer}}` is not a valid email",FormatHostnameError:"Value `{{value}}` at `{{pointer}}` is not a valid hostname",FormatIPV4Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv4 address",FormatIPV4LeadingZeroError:"IPv4 addresses starting with zero are invalid, since they are interpreted as octals",FormatIPV6Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv6 address",FormatIPV6LeadingZeroError:"IPv6 addresses starting with zero are invalid, since they are interpreted as octals",FormatJsonPointerError:"Value `{{value}}` at `{{pointer}}` is not a valid json-pointer",FormatRegExError:"Value `{{value}}` at `{{pointer}}` is not a valid regular expression",FormatTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid time",FormatURIError:"Value `{{value}}` at `{{pointer}}` is not a valid uri",FormatURIReferenceError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-reference",FormatURITemplateError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-template",FormatURLError:"Value `{{value}}` at `{{pointer}}` is not a valid url",InvalidDataError:"No value may be specified in `{{pointer}}`",InvalidPropertyNameError:"Invalid property name `{{property}}` at `{{pointer}}`",MaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{maximum}}` at maximum",MaxItemsError:"Too many items in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MaxLengthError:"Value `{{pointer}}` should have a maximum length of `{{maxLength}}`, but got `{{length}}`.",MaxPropertiesError:"Too many properties in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{minimum}}` at minimum",MinItemsError:"Too few items in `{{pointer}}`, should be at least `{{minItems}}`, but got `{{length}}`",MinItemsOneError:"At least one item is required in `{{pointer}}`",MinLengthError:"Value `{{pointer}}` should have a minimum length of `{{minLength}}`, but got `{{length}}`.",MinLengthOneError:"A value is required in `{{pointer}}`",MinPropertiesError:"Too few properties in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MissingDependencyError:"The required propery '{{missingProperty}}' in `{{pointer}}` is missing",MissingOneOfPropertyError:"Value at `{{pointer}}` property: `{{property}}`",MultipleOfError:"Expected `{{value}}` in `{{pointer}}` to be multiple of `{{multipleOf}}`",MultipleOneOfError:"Value `{{value}}` should not match multiple schemas in oneOf `{{matches}}`",NoAdditionalPropertiesError:"Additional property `{{property}}` in `{{pointer}}` is not allowed",NotError:"Value `{{value}}` at pointer should not match schema `{{not}}`",OneOfError:"Value `{{value}}` in `{{pointer}}` does not match any given oneof schema",OneOfPropertyError:"Failed finding a matching oneOfProperty schema in `{{pointer}}` where `{{property}}` matches `{{value}}`",PatternError:"Value in `{{pointer}}` should match `{{description}}`, but received `{{received}}`",PatternPropertiesError:"Property `{{key}}` does not match any patterns in `{{pointer}}`. Valid patterns are: {{patterns}}",RequiredPropertyError:"The required property `{{key}}` is missing at `{{pointer}}`",SchemaWarning:"Failed retrieving a schema from '{{pointer}}' to key '{{key}}'",TypeError:"Expected `{{value}}` ({{received}}) in `{{pointer}}` to be of type `{{expected}}`",UndefinedValueError:"Value must not be undefined in `{{pointer}}`",UniqueItemsError:"Items in array must be unique. Value `{{value}}` in `{{pointer}}` is a duplicate of {{duplicatePointer}}.",UnknownPropertyError:"Could not find a valid schema for property `{{pointer}}` within object",ValueNotEmptyError:"A value for `{{property}}` is required at `{{pointer}}`"},q6e=Object.prototype.toString;function In(t){const e=q6e.call(t).match(/\s([^\]]+)\]/).pop().toLowerCase();return e==="file"?"object":e}const V6e="object",X6e="array";function Z6e(t,e={}){return t.replace(/\{\{\w+\}\}/g,n=>{const r=n.replace(/[{}]/g,""),i=e[r],s=In(i);return s===V6e||s===X6e?JSON.stringify(i):i})}function W6e(t,e,n=t){var r;const i=(r=j6e[t])!==null&&r!==void 0?r:n;return Z6e(i,e)}function Y6e(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function G6e(t,e){return{type:"error",name:t,code:Y6e(t),message:W6e(t,e),data:e}}function ct(t){return G6e.bind(null,t)}function qv(t,e=[]){for(let n=0;n<t.length;n+=1){const r=t[n];Array.isArray(r)?qv(r,e):e.push(r)}return e}const U1={DECLARATOR_ONEOF:"oneOfProperty",GET_TEMPLATE_RECURSION_LIMIT:1,propertyBlacklist:["_id"],templateDefaultOptions:{addOptionalProps:!1,removeInvalidData:!1,extendDefaults:!0}};function Vb(t,e,n){const r={...e};return Object.defineProperty(r,"getOneOfOrigin",{enumerable:!1,value:()=>({index:n,schema:t})}),r}function js(t){return t?.type==="error"}function H6e(t){return t instanceof Promise}function e3(t){return js(t)||H6e(t)}const{DECLARATOR_ONEOF:cg}=U1;function HK(t,e,n=t.rootSchema,r="#"){if(e!=null&&n[cg]){const o=[],a=n[cg],l=e[n[cg]];if(l===void 0)return t.errors.missingOneOfPropertyError({property:a,pointer:r,schema:n,value:e});for(let u=0;u<n.oneOf.length;u+=1){const c=t.resolveRef(n.oneOf[u]),f=t.step(a,c,e,r);if(js(f))return f;let h=qv(t.validate(l,f,r));if(h=h.filter(e3),h.length>0)o.push(...h);else return Vb(n,c,u)}return t.errors.oneOfPropertyError({property:a,value:l,pointer:r,schema:n,errors:o})}const i=[],s=[];for(let o=0;o<n.oneOf.length;o+=1){const a=t.resolveRef(n.oneOf[o]);let l=qv(t.validate(e,a,r));l=l.filter(e3),l.length>0?s.push(...l):i.push({index:o,schema:a})}return i.length===1?Vb(n,i[0].schema,i[0].index):i.length>1?t.errors.multipleOneOfError({value:e,pointer:r,schema:n,matches:i}):t.errors.oneOfError({value:JSON.stringify(e),pointer:r,schema:n,oneOf:n.oneOf,errors:s})}function K6e(t,e,n,r){if(n==null||e.properties==null)return-1;let i=0;const s=Object.keys(e.properties);for(let o=0;o<s.length;o+=1){const a=s[o];n[a]!=null&&t.isValid(n[a],e.properties[a],r)&&(i+=1)}return i}function Q7(t,e,n=t.rootSchema,r="#"){if(e!=null&&n[cg]){const s=[],o=n[cg],a=e[n[cg]];if(a===void 0)return t.errors.missingOneOfPropertyError({property:o,pointer:r,schema:n,value:e});for(let l=0;l<n.oneOf.length;l+=1){const u=t.resolveRef(n.oneOf[l]),c=t.step(o,u,e,r);if(js(c))return c;let f=qv(t.validate(a,c,r));if(f=f.filter(e3),f.length>0)s.push(...f);else return Vb(n,u,l)}return t.errors.oneOfPropertyError({property:o,value:a,pointer:r,schema:n,errors:s})}const i=[];for(let s=0;s<n.oneOf.length;s+=1){const o=t.resolveRef(n.oneOf[s]);t.isValid(e,o,r)&&i.push({schema:o,index:s})}if(i.length===1)return Vb(n,i[0].schema,i[0].index);if(In(e)==="object"){let s,o=-1,a=0;for(let l=0;l<n.oneOf.length;l+=1){const u=t.resolveRef(n.oneOf[l]),c=K6e(t,u,e);a<c&&(a=c,s=n.oneOf[l],o=l)}return s===void 0?t.errors.oneOfError({value:JSON.stringify(e),pointer:r,schema:n,oneOf:n.oneOf}):Vb(n,s,o)}return i.length>1?t.errors.multipleOneOfError({matches:i,pointer:r,schema:n,value:e}):t.errors.oneOfError({value:JSON.stringify(e),pointer:r,schema:n,oneOf:n.oneOf})}const J6e=(t,e,n,r)=>{if(Array.isArray(e.oneOf)){const i=t.resolveOneOf(n,e,r);if(js(i))return i}};var p6,vQ;function eAe(){if(vQ)return p6;vQ=1;var t=function(O){return e(O)&&!n(O)};function e(v){return!!v&&typeof v=="object"}function n(v){var O=Object.prototype.toString.call(v);return O==="[object RegExp]"||O==="[object Date]"||s(v)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(v){return v.$$typeof===i}function o(v){return Array.isArray(v)?[]:{}}function a(v,O){return O.clone!==!1&&O.isMergeableObject(v)?g(o(v),v,O):v}function l(v,O,x){return v.concat(O).map(function(C){return a(C,x)})}function u(v,O){if(!O.customMerge)return g;var x=O.customMerge(v);return typeof x=="function"?x:g}function c(v){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(v).filter(function(O){return Object.propertyIsEnumerable.call(v,O)}):[]}function f(v){return Object.keys(v).concat(c(v))}function h(v,O){try{return O in v}catch{return!1}}function d(v,O){return h(v,O)&&!(Object.hasOwnProperty.call(v,O)&&Object.propertyIsEnumerable.call(v,O))}function m(v,O,x){var C={};return x.isMergeableObject(v)&&f(v).forEach(function(S){C[S]=a(v[S],x)}),f(O).forEach(function(S){d(v,S)||(h(v,S)&&x.isMergeableObject(O[S])?C[S]=u(S,x)(v[S],O[S],x):C[S]=a(O[S],x))}),C}function g(v,O,x){x=x||{},x.arrayMerge=x.arrayMerge||l,x.isMergeableObject=x.isMergeableObject||t,x.cloneUnlessOtherwiseSpecified=a;var C=Array.isArray(O),S=Array.isArray(v),A=C===S;return A?C?x.arrayMerge(v,O,x):m(v,O,x):a(O,x)}g.all=function(O,x){if(!Array.isArray(O))throw new Error("first argument should be an array");return O.reduce(function(C,S){return g(C,S,x)},{})};var b=g;return p6=b,p6}var tAe=eAe();const KK=A0(tAe),nAe=(t,e)=>e,B7=(t,e)=>KK(t,e,{arrayMerge:nAe}),rAe=(t,e)=>{const n=t.concat(e);return n.filter((r,i)=>n.indexOf(r)===i)},iAe=(t,e)=>KK(t,e,{arrayMerge:rAe});function so(t,e){const n=In(t),r=In(e);if(n!==r)return t;const i=iAe(t,e);return t.getOneOfOrigin?Object.defineProperty(i,"getOneOfOrigin",{enumerable:!1,value:t.getOneOfOrigin}):e.getOneOfOrigin&&Object.defineProperty(i,"getOneOfOrigin",{enumerable:!1,value:e.getOneOfOrigin}),i}function Vv(t,...e){const n={};return Object.keys(t).forEach(r=>{e.includes(r)||(n[r]=t[r])}),t.getOneOfOrigin&&Object.defineProperty(n,"getOneOfOrigin",{enumerable:!1,value:t.getOneOfOrigin}),n}var sAe=Function.prototype.toString,m6=Object.create,oAe=Object.prototype.toString,aAe=(function(){function t(){this._keys=[],this._values=[]}return t.prototype.has=function(e){return!!~this._keys.indexOf(e)},t.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},t.prototype.set=function(e,n){this._keys.push(e),this._values.push(n)},t})();function lAe(){return new aAe}function uAe(){return new WeakMap}var cAe=typeof WeakMap<"u"?uAe:lAe;function z7(t){if(!t)return m6(null);var e=t.constructor;if(e===Object)return t===Object.prototype?{}:m6(t);if(e&&~sAe.call(e).indexOf("[native code]"))try{return new e}catch{}return m6(t)}function fAe(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}function hAe(t){return t.flags}var dAe=/test/g.flags==="g"?hAe:fAe;function JK(t){var e=oAe.call(t);return e.substring(8,e.length-1)}function pAe(t){return t[Symbol.toStringTag]||JK(t)}var mAe=typeof Symbol<"u"?pAe:JK,gAe=Object.defineProperty,yAe=Object.getOwnPropertyDescriptor,eJ=Object.getOwnPropertyNames,U7=Object.getOwnPropertySymbols,tJ=Object.prototype,nJ=tJ.hasOwnProperty,bAe=tJ.propertyIsEnumerable,rJ=typeof U7=="function";function vAe(t){return eJ(t).concat(U7(t))}var OAe=rJ?vAe:eJ;function Vk(t,e,n){for(var r=OAe(t),i=0,s=r.length,o=void 0,a=void 0;i<s;++i)if(o=r[i],!(o==="callee"||o==="caller")){if(a=yAe(t,o),!a){e[o]=n.copier(t[o],n);continue}!a.get&&!a.set&&(a.value=n.copier(a.value,n));try{gAe(e,o,a)}catch{e[o]=a.value}}return e}function wAe(t,e){var n=new e.Constructor;e.cache.set(t,n);for(var r=0,i=t.length;r<i;++r)n[r]=e.copier(t[r],e);return n}function _Ae(t,e){var n=new e.Constructor;return e.cache.set(t,n),Vk(t,n,e)}function iJ(t,e){return t.slice(0)}function xAe(t,e){return t.slice(0,t.size,t.type)}function SAe(t,e){return new e.Constructor(iJ(t.buffer))}function kAe(t,e){return new e.Constructor(t.getTime())}function sJ(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r,i){n.set(i,e.copier(r,e))}),n}function CAe(t,e){return Vk(t,sJ(t,e),e)}function AAe(t,e){var n=z7(e.prototype);e.cache.set(t,n);for(var r in t)nJ.call(t,r)&&(n[r]=e.copier(t[r],e));return n}function EAe(t,e){var n=z7(e.prototype);e.cache.set(t,n);for(var r in t)nJ.call(t,r)&&(n[r]=e.copier(t[r],e));for(var i=U7(t),s=0,o=i.length,a=void 0;s<o;++s)a=i[s],bAe.call(t,a)&&(n[a]=e.copier(t[a],e));return n}var TAe=rJ?EAe:AAe;function DAe(t,e){var n=z7(e.prototype);return e.cache.set(t,n),Vk(t,n,e)}function g6(t,e){return new e.Constructor(t.valueOf())}function PAe(t,e){var n=new e.Constructor(t.source,dAe(t));return n.lastIndex=t.lastIndex,n}function ox(t,e){return t}function oJ(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r){n.add(e.copier(r,e))}),n}function RAe(t,e){return Vk(t,oJ(t,e),e)}var $Ae=Array.isArray,j7=Object.assign,IAe=Object.getPrototypeOf||(function(t){return t.__proto__}),aJ={array:wAe,arrayBuffer:iJ,blob:xAe,dataView:SAe,date:kAe,error:ox,map:sJ,object:TAe,regExp:PAe,set:oJ},FAe=j7({},aJ,{array:_Ae,map:CAe,object:DAe,set:RAe});function MAe(t){return{Arguments:t.object,Array:t.array,ArrayBuffer:t.arrayBuffer,Blob:t.blob,Boolean:g6,DataView:t.dataView,Date:t.date,Error:t.error,Float32Array:t.arrayBuffer,Float64Array:t.arrayBuffer,Int8Array:t.arrayBuffer,Int16Array:t.arrayBuffer,Int32Array:t.arrayBuffer,Map:t.map,Number:g6,Object:t.object,Promise:ox,RegExp:t.regExp,Set:t.set,String:g6,WeakMap:ox,WeakSet:ox,Uint8Array:t.arrayBuffer,Uint8ClampedArray:t.arrayBuffer,Uint16Array:t.arrayBuffer,Uint32Array:t.arrayBuffer,Uint64Array:t.arrayBuffer}}function lJ(t){var e=j7({},aJ,t),n=MAe(e),r=n.Array,i=n.Object;function s(o,a){if(a.prototype=a.Constructor=void 0,!o||typeof o!="object")return o;if(a.cache.has(o))return a.cache.get(o);if(a.prototype=IAe(o),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return i(o,a);if($Ae(o))return r(o,a);var l=n[mAe(o)];return l?l(o,a):typeof o.then=="function"?o:i(o,a)}return function(a){return s(a,{Constructor:void 0,cache:cAe(),copier:s,prototype:void 0})}}function LAe(t){return lJ(j7({},FAe,t))}LAe({});var t3=lJ({});function Xk(t,e,n){if(e.if!=null){if(e.if===!1)return e.else;if(e.if&&(e.then||e.else)){const r=t.validate(n,t.resolveRef(e.if));if(r.length===0&&e.then)return t.resolveRef(e.then);if(r.length!==0&&e.else)return t.resolveRef(e.else)}}}const NAe=(t,e,n,r)=>{const i=Xk(t,e,n);if(i)return t.validate(n,i,r)};function uJ(t,e,n){var r;const i={...(r=t.resolveRef(e))!==null&&r!==void 0?r:{}},s=Xk(t,i,n);return s||Vv(i,"if","then","else")}function cJ(t,e,n=t.rootSchema){let r=t3(n);for(let i=0;i<n.allOf.length;i+=1){const s=uJ(t,n.allOf[i],e);r=so(r,s)}return delete r.allOf,r}function fJ(t,e){const{allOf:n}=e;if(!Array.isArray(n)||n.length===0)return;let r={};return n.forEach(i=>{r=so(r,t.resolveRef(i))}),r}const QAe=(t,e,n,r)=>{const{allOf:i}=e;if(!Array.isArray(i)||i.length===0)return;const s=[];return e.allOf.forEach(o=>{s.push(...t.validate(n,o,r))}),s};function hJ(t,e){return t==null||t.$ref==null?t:t.getRoot?t.getRoot().getRef(t):e.getRef(t)}function BAe(t){return t.filter((e,n)=>t.indexOf(e)===n)}function ed(t){return In(t)==="object"}function dJ(t,e,n){const{dependencies:r}=e;if(!ed(r)||!ed(n))return;let i=!1,s={required:[]};if(Object.keys(r).forEach(o=>{var a,l;if(n[o]==null&&!(!((a=e.required)===null||a===void 0)&&a.includes(o)||!((l=s.required)===null||l===void 0)&&l.includes(o)))return;const u=r[o];if(Array.isArray(u)){i=!0,s.required.push(...u);return}if(ed(u)){i=!0,s=so(s,t.resolveRef(u));return}}),i)return s.required=BAe(s.required),s}const zAe=(t,e,n,r)=>{if(In(e.dependencies)!=="object")return;const i=[];return Object.keys(n).forEach(s=>{if(e.dependencies[s]===void 0||e.dependencies[s]===!0)return;if(e.dependencies[s]===!1){i.push(t.errors.missingDependencyError({pointer:r,schema:e,value:n}));return}let o;const a=In(e.dependencies[s]);if(a==="array")o=e.dependencies[s].filter(l=>n[l]===void 0).map(l=>t.errors.missingDependencyError({missingProperty:l,pointer:r,schema:e,value:n}));else if(a==="object")o=t.validate(n,e.dependencies[s],r);else throw new Error(`Invalid dependency definition for ${r}/${s}. Must be string[] or schema`);i.push(...o)}),i.length>0?i:void 0};function pJ(t,e,n){if(!Array.isArray(e.anyOf)||e.anyOf.length===0)return;let r;return e.anyOf.forEach(i=>{i=t.resolveRef(i),t.isValid(n,i)&&(r=r?so(r,i):i)}),r}function mJ(t,e,n=t.rootSchema,r="#"){const{anyOf:i}=n;if(!Array.isArray(i)||i.length===0)return n;const s=pJ(t,n,e);if(s==null)return t.errors.anyOfError({pointer:r,schema:n,value:e,anyOf:JSON.stringify(i)});const o=so(n,s);return Vv(o,"anyOf")}const UAe=(t,e,n,r)=>{if(!(!Array.isArray(e.anyOf)||e.anyOf.length===0)){for(let i=0;i<e.anyOf.length;i+=1)if(t.isValid(n,e.anyOf[i]))return;return t.errors.anyOfError({pointer:r,schema:e,value:n,anyOf:e.anyOf})}},OQ=["allOf","anyOf","oneOf","dependencies","if","then","else"],jAe=["allOf","anyOf","oneOf","dependencies","if"];function qAe(t){const e=Object.keys(t);return jAe.findIndex(n=>e.includes(n))!==-1}function $8(t,e,n,r){let i,s;if(e=t.resolveRef(e),e.oneOf){const c=Q7(t,n,e,r);js(c)?s=c:c&&(i=so(i??{},c))}if(Array.isArray(e.allOf)){const c=e.allOf.map(f=>{if(qAe(f)){let h=$8(t,f,n,r);return h?(h=so(f,h),Vv(h,...OQ)):void 0}return f});if(c.length>0){const f=fJ(t,{allOf:c});i=so(i??{},f)}}const o=pJ(t,e,n);o&&(i=so(i??{},o));const a=dJ(t,e,n);a&&(i=so(i??{},a));const l=Xk(t,e,n);if(l&&(i=so(i??{},l)),i==null)return s;const u=$8(t,i,n,r);return u&&(i=so(i,u)),Vv(i,...OQ)}const VAe=["allOf","anyOf","oneOf","dependencies","if","then","else"];function wQ(t,e,n,r){let i=$8(t,e,n,r);return i?(i=so(e,i),Vv(i,...VAe)):e}class gJ{constructor(e,n){this.remotes={},this.errors={},this.typeKeywords={},this.validateKeyword={},this.validateType={},this.validateFormat={},this.config=e,this.typeKeywords=t3(e.typeKeywords),this.validateKeyword=Object.assign({},e.validateKeyword),this.validateType=Object.assign({},e.validateType),this.validateFormat=Object.assign({},e.validateFormat),this.errors=Object.assign({},e.errors),this.setSchema(n)}get rootSchema(){return this.__rootSchema}set rootSchema(e){e!=null&&(this.__rootSchema=this.config.compileSchema(this,e))}addRemoteSchema(e,n){this.config.addRemoteSchema(this,e,n)}compileSchema(e){var n;return this.config.compileSchema(this,e,(n=this.rootSchema)!==null&&n!==void 0?n:e)}createSchemaOf(e){return this.config.createSchemaOf(e)}each(e,n,r,i){return this.config.each(this,e,n,r,i)}eachSchema(e,n=this.rootSchema){return this.config.eachSchema(n,e)}getChildSchemaSelection(e,n){return this.config.getChildSchemaSelection(this,e,n)}getSchema(e){return this.config.getSchema(this,e)}getTemplate(e,n,r=this.config.templateDefaultOptions){return this.config.getTemplate(this,e,n,r)}isValid(e,n,r){return this.config.isValid(this,e,n,r)}resolveAnyOf(e,n,r){return this.config.resolveAnyOf(this,e,n,r)}resolveAllOf(e,n){return this.config.resolveAllOf(this,e,n)}resolveRef(e){return this.config.resolveRef(e,this.rootSchema)}resolveOneOf(e,n,r){return this.config.resolveOneOf(this,e,n,r)}setSchema(e){this.rootSchema=e}step(e,n,r,i){return this.config.step(this,e,n,r,i)}validate(e,n,r){return this.config.validate(this,e,n,r)}}function yJ(t,e,n){n.id=n.id||e,t.remotes[e]=t.compileSchema(n)}var ax={exports:{}},XAe=ax.exports,_Q;function ZAe(){return _Q||(_Q=1,(function(t,e){(function(n,r){t.exports=r()})(typeof self<"u"?self:XAe,(()=>(()=>{var n={d:(R,I)=>{for(var B in I)n.o(I,B)&&!n.o(R,B)&&Object.defineProperty(R,B,{enumerable:!0,get:I[B]})},o:(R,I)=>Object.prototype.hasOwnProperty.call(R,I),r:R=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})}},r={};function i(R){return R==="#"||R===""||Array.isArray(R)&&R.length===0||!1}n.r(r),n.d(r,{default:()=>L,get:()=>h,isRoot:()=>i,join:()=>$,remove:()=>S,removeUndefinedItems:()=>C,set:()=>v,split:()=>f,splitLast:()=>M});const s=/~1/g,o=/~0/g,a=/\/+/g,l=/(^[#/]*|\/+$)/g;function u(R){return R.replace(s,"/").replace(o,"~")}function c(R){return u(decodeURIComponent(R))}function f(R){if(R==null||typeof R!="string"||i(R))return Array.isArray(R)?R:[];const I=R.indexOf("#")>=0?c:u,B=(R=(R=R.replace(a,"/")).replace(l,"")).split("/");for(let z=0,Z=B.length;z<Z;z+=1)B[z]=I(B[z]);return B}function h(R,I,B=void 0){if(I==null||R==null)return B;if(i(I))return R;const z=d(R,f(I));return z===void 0?B:z}function d(R,I){const B=I.shift();if(R!==void 0)return B!==void 0?d(R[B],I):R}const m=/^\[.*\]$/,g=/^\[(.+)\]$/;function b(R,I){return R==="__proto__"||R=="constructor"&&I.length>0&&I[0]=="prototype"}function v(R,I,B){if(I==null)return R;const z=f(I);if(z.length===0)return R;R==null&&(R=m.test(z[0])?[]:{});let Z,J,ee=R;for(;z.length>1;)Z=z.shift(),J=m.test(z[0]),b(Z,z)||(ee=x(ee,Z,J));return Z=z.pop(),O(ee,Z,B),R}function O(R,I,B){let z;const Z=I.match(g);I==="[]"&&Array.isArray(R)?R.push(B):Z?(z=Z.pop(),R[z]=B):R[I]=B}function x(R,I,B){if(R[I]!=null)return R[I];const z=B?[]:{};return O(R,I,z),z}function C(R){let I=0,B=0;for(;I+B<R.length;)R[I+B]===void 0&&(B+=1),R[I]=R[I+B],I+=1;return R.length=R.length-B,R}function S(R,I,B){const z=f(I),Z=z.pop(),J=h(R,z);return J&&delete J[Z],Array.isArray(J)&&B!==!0&&C(J),R}const A=/\/+/g,k=/~/g,T=/\//g;function D(R,I){if(R.length===0)return I?"#":"";for(let B=0,z=R.length;B<z;B+=1)R[B]=R[B].replace(k,"~0").replace(T,"~1"),I&&(R[B]=encodeURIComponent(R[B]));return((I?"#/":"/")+R.join("/")).replace(A,"/")}function $(R,...I){const B=[];if(Array.isArray(R))return D(R,arguments[1]===!0);const z=arguments[arguments.length-1],Z=typeof z=="boolean"?z:R&&R[0]==="#";for(let ee=0,ie=arguments.length;ee<ie;ee+=1)B.push.apply(B,f(arguments[ee]));const J=[];for(let ee=0,ie=B.length;ee<ie;ee+=1)if(B[ee]===".."){if(J.length===0)return Z?"#":"";J.pop()}else J.push(B[ee]);return D(J,Z)}function M(R){const I=f(R);if(I.length===0)return typeof R=="string"&&R[0]==="#"?["#",I[0]]:["",void 0];if(I.length===1)return R[0]==="#"?["#",I[0]]:["",I[0]];const B=I.pop();return[$(I,R[0]==="#"),B]}const L={get:h,set:v,remove:S,join:$,split:f,splitLast:M,isRoot:i,removeUndefinedItems:C};return r})()))})(ax)),ax.exports}var kp=ZAe();const Xv=A0(kp);var Vw={},Ao={},Ny={},xQ;function WAe(){if(xQ)return Ny;xQ=1,Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.TokenError=void 0;let t=class extends Error{constructor(n,r){if(super(n),this.message=n,this.token=r,r&&r.errors)r.errors.push(this);else throw this}inspect(){return"SyntaxError: "+this.message}};return Ny.TokenError=t,Ny}var SQ;function YAe(){if(SQ)return Ao;SQ=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.Parser=Ao.findRuleByName=Ao.parseRuleName=Ao.escapeRegExp=Ao.readToken=void 0;const t=/^[A-Z0-9_]+$/,e=/(\?|\+|\*)$/,n=/^(@|&|!)/,r="WS",i=WAe();function s(g,b){let v=b.exec(g);return v&&v.index==0?v[0].length==0&&b.source.length>0?null:{type:null,text:v[0],rest:g.substr(v[0].length),start:0,end:v[0].length-1,fullText:v[0],errors:[],children:[],parent:null}:null}Ao.readToken=s;function o(g){return g.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}Ao.escapeRegExp=o;function a(g){g.rest="",g.children&&g.children.forEach(b=>a(b))}function l(g,b){g.start+=b,g.end+=b,g.children&&g.children.forEach(v=>l(v,g.start))}function u(g,b){b.errors&&b.errors.length&&b.errors.forEach(v=>g.push(v)),b.children&&b.children.forEach(v=>u(g,v))}function c(g){let b=e.exec(g),v=n.exec(g),O=b&&b[0]||"",x=v&&v[0]||"",C={raw:g,name:g.replace(e,"").replace(n,""),isOptional:O=="?"||O=="*",allowRepetition:O=="+"||O=="*",atLeastOne:O=="+",lookupPositive:x=="&",lookupNegative:x=="!",pinned:x=="@",lookup:!1,isLiteral:!1};return C.isLiteral=C.name[0]=="'"||C.name[0]=='"',C.lookup=C.lookupNegative||C.lookupPositive,C}Ao.parseRuleName=c;function f(g,b){let v=c(g);return b.cachedRules[v.name]||null}Ao.findRuleByName=f;function h(g,b){if(g.children){let v=g.children.filter(O=>O.type&&b.test(O.type));for(let O=0;O<v.length;O++){let x=g.children.indexOf(v[O]);x!=-1&&g.children.splice(x,1)}g.children.forEach(O=>h(O,b))}}const d=["EOF"];class m{constructor(b,v){this.grammarRules=b,this.options=v,this.cachedRules={},this.debug=v?v.debug===!0:!1;let O=[],x=[];if(b.forEach(C=>{let S=c(C.name);if(S.name in this.cachedRules){O.push("Duplicated rule "+S.name);return}else this.cachedRules[S.name]=C;if(!C.bnf||!C.bnf.length){let A="Missing rule content, rule: "+C.name;O.indexOf(A)==-1&&O.push(A)}else C.bnf.forEach(A=>{if(typeof A[0]=="string"&&c(A[0]).name==C.name){let T="Left recursion is not allowed, rule: "+C.name;O.indexOf(T)==-1&&O.push(T)}A.forEach(k=>{if(typeof k=="string"){let T=c(k);!T.isLiteral&&x.indexOf(T.name)==-1&&d.indexOf(T.name)==-1&&x.push(T.name)}})});r==C.name&&(C.implicitWs=!1),C.implicitWs&&x.indexOf(r)==-1&&x.push(r),C.recover&&x.indexOf(C.recover)==-1&&x.push(C.recover)}),x.forEach(C=>{C in this.cachedRules||O.push("Missing rule "+C)}),O.length)throw new Error(O.join(`
`))}getAST(b,v){v||(v=this.grammarRules.filter(x=>!x.fragment&&x.name.indexOf("%")!=0)[0].name);let O=this.parse(b,v);if(O){u(O.errors,O),l(O,0),h(O,/^%/),(!this.options||!this.options.keepUpperRules)&&h(O,t);let x=O.rest;x&&new i.TokenError(`Unexpected end of input: 
`+x,O),a(O),O.rest=x}return O}emitSource(){return"CANNOT EMIT SOURCE FROM BASE Parser"}parse(b,v,O=0){let x=null,C=c(v),S,A=this.debug&&!t.test(C.name);A&&console.log(new Array(O).join("â  ")+"Trying to get "+v+" from "+JSON.stringify(b.split(`
`)[0]));let k=C.name,T=f(C.name,this);if(C.name=="EOF"){if(b.length)return null;if(b.length==0)return{type:"EOF",text:"",rest:"",start:0,end:0,fullText:"",errors:[],children:[],parent:null}}try{if(!T&&C.isLiteral){let D=C.name.trim();if(D.startsWith('"')?D=JSON.parse(D):D.startsWith("'")&&(D=D.replace(/^'(.+)'$/,"$1").replace(/\\'/g,"'")),D==="")return{type:"%%EMPTY%%",text:"",rest:b,start:0,end:0,fullText:"",errors:[],children:[],parent:null};S=new RegExp(o(D)),k=null}}catch(D){return D instanceof ReferenceError&&console.error(D),null}if(S){let D=s(b,S);if(D)return D.type=k,D}else{let D=T.bnf;D instanceof Array&&D.forEach($=>{if(x)return;let M=null,L={type:C.name,text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:b};T.fragment&&(L.fragment=!0);let R=b,I=0,B=$.length>0,z=!1;for(let Z=0;Z<$.length;Z++)if(typeof $[Z]=="string"){let J=c($[Z]);B=B&&J.isOptional;let ee,ie=!1;do{if(ee=null,T.implicitWs&&(ee=this.parse(R,J.name,O+1),!ee)){let K;do if(K=this.parse(R,r,O+1),K)L.text=L.text+K.text,L.end=L.text.length,K.parent=L,L.children.push(K),R=R.substr(K.text.length),I+=K.text.length;else break;while(K&&K.text.length)}if(ee=ee||this.parse(R,J.name,O+1),J.lookupNegative){if(ee)return;break}if(J.lookupPositive&&!ee)return;if(!ee&&(J.isOptional||J.atLeastOne&&ie))break;if(ee&&T.pinned==Z+1&&(M=ee,A&&console.log(new Array(O+1).join("â  ")+"ââ "+ee.type+" PINNED")),ee||(ee=this.parseRecovery(T,R,O+1)),!ee)if(M)x=L,ee={type:"SyntaxError",text:R,children:[],end:R.length,errors:[],fullText:"",parent:null,start:0,rest:""},R.length?new i.TokenError(`Unexpected end of input. Expecting ${J.name} Got: ${R}`,ee):new i.TokenError(`Unexpected end of input. Missing ${J.name}`,ee),A&&console.log(new Array(O+1).join("â  ")+"ââ "+ee.type+" "+JSON.stringify(ee.text));else return;if(ie=!0,z=!0,ee.type=="%%EMPTY%%")break;ee.start+=I,ee.end+=I,!J.lookupPositive&&ee.type&&(ee.fragment?ee.children&&ee.children.forEach(K=>{K.start+=I,K.end+=I,K.parent=L,L.children.push(K)}):(ee.parent=L,L.children.push(ee))),J.lookup&&(ee.lookup=!0),A&&console.log(new Array(O+1).join("â  ")+"ââ "+ee.type+" "+JSON.stringify(ee.text)),!J.lookup&&!ee.lookup&&(L.text=L.text+ee.text,L.end=L.text.length,R=R.substr(ee.text.length),I+=ee.text.length),L.rest=R}while(ee&&J.allowRepetition&&R.length&&!ee.lookup)}else{let J=s(R,$[Z]);if(!J)return;A&&console.log(new Array(O+1).join("â  ")+"â> "+JSON.stringify(J.text)+$[Z].source),z=!0,J.start+=I,J.end+=I,L.text=L.text+J.text,L.end=L.text.length,R=R.substr(J.text.length),I+=J.text.length,L.rest=R}z&&(x=L,A&&console.log(new Array(O).join("â  ")+"â<ââ´< PUSHING "+x.type+" "+JSON.stringify(x.text)))}),x&&T.simplifyWhenOneChildren&&x.children.length==1&&(x=x.children[0])}return x||A&&console.log(v+" NOT RESOLVED FROM "+b),x}parseRecovery(b,v,O){if(b.recover&&v.length){let x=this.debug;x&&console.log(new Array(O+1).join("â  ")+"Trying to recover until token "+b.recover+" from "+JSON.stringify(v.split(`
`)[0]+v.split(`
`)[1]));let C={type:"SyntaxError",text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:""},S;do if(S=this.parse(v,b.recover,O+1),S){new i.TokenError('Unexpected input: "'+C.text+`" Expecting: ${b.name}`,C);break}else C.text=C.text+v[0],C.end=C.text.length,v=v.substr(1);while(!S&&v.length>0);if(C.text.length>0&&S)return x&&console.log(new Array(O+1).join("â  ")+"Recovered text: "+JSON.stringify(C.text)),C}return null}}return Ao.Parser=m,Ao.default=m,Ao}var kQ;function GAe(){if(kQ)return Vw;kQ=1,Object.defineProperty(Vw,"__esModule",{value:!0});const t=YAe();var e;return(function(n){n.RULES=[{name:"Grammar",bnf:[["RULE_S*","%Atomic*","EOF"]]},{name:"%Atomic",bnf:[["Production","RULE_S*"]],fragment:!0},{name:"Production",bnf:[["NCName","RULE_S*",'"::="',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*","RULE_EOL+","RULE_S*"]]},{name:"NCName",bnf:[[/[a-zA-Z][a-zA-Z_0-9]*/]]},{name:"Choice",bnf:[["SequenceOrDifference","%_Choice_1*"]],fragment:!0},{name:"%_Choice_1",bnf:[["RULE_WHITESPACE*",'"|"',"RULE_WHITESPACE*","SequenceOrDifference"]],fragment:!0},{name:"SequenceOrDifference",bnf:[["Item","RULE_WHITESPACE*","%_Item_1?"]]},{name:"%_Item_1",bnf:[["Minus","Item"],["Item*"]],fragment:!0},{name:"Minus",bnf:[['"-"']]},{name:"Item",bnf:[["RULE_WHITESPACE*","%Primary","PrimaryDecoration?"]],fragment:!0},{name:"PrimaryDecoration",bnf:[['"?"'],['"*"'],['"+"']]},{name:"DecorationName",bnf:[['"ebnf://"',/[^\x5D#]+/]]},{name:"%Primary",bnf:[["NCName"],["StringLiteral"],["CharCode"],["CharClass"],["SubItem"]],fragment:!0},{name:"SubItem",bnf:[['"("',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*",'")"']]},{name:"StringLiteral",bnf:[[`'"'`,/[^"]*/,`'"'`],[`"'"`,/[^']*/,`"'"`]],pinned:1},{name:"CharCode",bnf:[['"#x"',/[0-9a-zA-Z]+/]]},{name:"CharClass",bnf:[["'['","'^'?","%RULE_CharClass_1+",'"]"']]},{name:"%RULE_CharClass_1",bnf:[["CharCodeRange"],["CharRange"],["CharCode"],["RULE_Char"]],fragment:!0},{name:"RULE_Char",bnf:[[/\x09/],[/\x0A/],[/\x0D/],[/[\x20-\x5c]/],[/[\x5e-\uD7FF]/],[/[\uE000-\uFFFD]/]]},{name:"CharRange",bnf:[["RULE_Char",'"-"',"RULE_Char"]]},{name:"CharCodeRange",bnf:[["CharCode",'"-"',"CharCode"]]},{name:"RULE_WHITESPACE",bnf:[["%RULE_WHITESPACE_CHAR*"],["Comment","RULE_WHITESPACE*"]]},{name:"RULE_S",bnf:[["RULE_WHITESPACE","RULE_S*"],["RULE_EOL","RULE_S*"]]},{name:"%RULE_WHITESPACE_CHAR",bnf:[[/\x09/],[/\x20/]],fragment:!0},{name:"Comment",bnf:[['"/*"',"%RULE_Comment_Body*",'"*/"']]},{name:"%RULE_Comment_Body",bnf:[['!"*/"',/[^*]/]],fragment:!0},{name:"RULE_EOL",bnf:[[/\x0D/,/\x0A/],[/\x0A/],[/\x0D/]]},{name:"Link",bnf:[["'['","Url","']'"]]},{name:"Url",bnf:[[/[^\x5D:/?#]/,'"://"',/[^\x5D#]+/,"%Url1?"]]},{name:"%Url1",bnf:[['"#"',"NCName"]],fragment:!0}],n.defaultParser=new t.Parser(n.RULES,{debug:!1});const r=/^(!|&)/,i=/(\?|\+|\*)$/,s=/^%/;function o(x,C){if(typeof x=="string"){if(r.test(x))return"";if(s.test(x)){let A=i.exec(x),k=A?A[0]+" ":"";return a(x,C)?u(x,C)+k:"("+u(x,C)+")"+k}return x}else return x.source.replace(/\\(?:x|u)([a-zA-Z0-9]+)/g,"#x$1").replace(/\[\\(?:x|u)([a-zA-Z0-9]+)-\\(?:x|u)([a-zA-Z0-9]+)\]/g,"[#x$1-#x$2]")}function a(x,C){let S=t.findRuleByName(x,C);return S&&S.bnf.length==1&&S.bnf[0].length==1&&(S.bnf[0][0]instanceof RegExp||S.bnf[0][0][0]=='"'||S.bnf[0][0][0]=="'")}function l(x,C){return x.map(S=>o(S,C)).join(" ")}function u(x,C){let S=t.findRuleByName(x,C);return S?S.bnf.map(A=>l(A,C)).join(" | "):"RULE_NOT_FOUND {"+x+"}"}function c(x){let C=[];return x.grammarRules.forEach(S=>{if(!/^%/.test(S.name)){let A=S.recover?" /* { recoverUntil="+S.recover+" } */":"";C.push(S.name+" ::= "+u(S.name,x)+A)}}),C.join(`
`)}n.emit=c;let f=0;function h(x,C){throw console.log("reberia restar "+C+" a "+x),new Error("Difference not supported yet")}function d(x){return new RegExp(x.replace(/#x([a-zA-Z0-9]{4})/g,"\\u$1").replace(/#x([a-zA-Z0-9]{3})/g,"\\u0$1").replace(/#x([a-zA-Z0-9]{2})/g,"\\x$1").replace(/#x([a-zA-Z0-9]{1})/g,"\\x0$1"))}function m(x,C,S){let A=null,k=[];return C.children.forEach((T,D)=>{T.type=="Minus"&&h(A,T);let $=C.children[D+1];$=$&&$.type=="PrimaryDecoration"&&$.text||"";let M="";switch(T.type){case"SubItem":let L="%"+(S+f++);g(x,T,L),k.push(M+L+$);break;case"NCName":case"StringLiteral":k.push(M+T.text+$);break;case"CharCode":case"CharClass":if($||M){let R={name:"%"+(S+f++),bnf:[[d(T.text)]]};x.push(R),k.push(M+R.name+$)}else k.push(d(T.text));break;case"PrimaryDecoration":break;default:throw new Error(" HOW SHOULD I PARSE THIS? "+T.type+" -> "+JSON.stringify(T.text))}A=T}),k}function g(x,C,S){let A=C.children.filter(D=>D.type=="SequenceOrDifference").map(D=>m(x,D,S)),k={name:S,bnf:A},T=null;A.forEach(D=>{T=T||D.recover,delete D.recover}),S.indexOf("%")==0&&(k.fragment=!0),T&&(k.recover=T),x.push(k)}function b(x,C=n.defaultParser){let S=C.getAST(x);if(!S)throw new Error("Could not parse "+x);if(S.errors&&S.errors.length)throw S.errors[0];let A=[];return S.children.filter(k=>k.type=="Production").map(k=>{let T=k.children.filter(D=>D.type=="NCName")[0].text;g(A,k,T)}),A}n.getRules=b;function v(x,C=n.defaultParser){return b(x.join(""),C)}n.Transform=v;class O extends t.Parser{constructor(C,S){const A=S&&S.debugRulesParser===!0?new t.Parser(n.RULES,{debug:!0}):n.defaultParser;super(b(C,A),S)}emitSource(){return c(this)}}n.Parser=O})(e||(e={})),Vw.default=e,Vw}var HAe=GAe();const KAe=A0(HAe),JAe="[^?/{}*,()#]+",eEe=`
root ::= ("#" recursion | recursion | (query | pattern) recursion* | "#" SEP? | SEP)
recursion ::= (SEP query | pattern)*

query ::= (ESC escaped ESC | property | all | any | regex) typecheck? lookahead?
property ::= ${JAe}
regex ::= "{" [^}]+ "}"
SEP ::= "/"
all ::= "**"
any ::= "*"

typecheck ::= "?:" ("value" | "boolean" | "string" | "number" | "object" | "array")
lookahead ::= "?" expression ((andExpr | orExpr) expression)*
andExpr ::= S? "&&" S?
orExpr ::= S? "||" S?

expression ::= (exprProperty | ESC escaped ESC) ((isnot | is) (exprProperty | regex | ESC escaped ESC))*
exprProperty ::= [a-zA-Z0-9-_ $]+
escaped ::= [^"]+
is ::= ":"
isnot ::= ":!"
ESC ::= '"'

pattern ::= S? "(" (SEP query | pattern (orPattern? pattern)*)* ")" quantifier? S? lookahead?
quantifier ::= "+" | "*" | [0-9]+
orPattern ::= S? "," S?

S ::= [ ]*
`,tEe=new KAe.Parser(eEe),nEe=t=>tEe.getAST(t),Io=0,i1=3,n3=(t,e)=>`${t}/${e}`,bJ=Object.prototype.toString,rEe=/Object|Array/,I8=t=>rEe.test(bJ.call(t)),iEe=t=>bJ.call(t).match(/\s([^\]]+)\]/).pop().toLowerCase();function vJ(t){return new RegExp(t.text.replace(/(^{|}$)/g,""))}function sEe(t,e){Array.isArray(t)?t.forEach(e):Object.prototype.toString.call(t)==="[object Object]"&&Object.keys(t).forEach(function(n){e(t[n],n,t)})}function CQ(t){return Array.isArray(t)?t.map(function(e,n){return`${n}`}):Object.prototype.toString.call(t)==="[object Object]"?Object.keys(t):[]}const td={mem:[],get(t,e){const n=t[Io][e];if(!td.mem.includes(n))return I8(n)&&td.mem.push(n),[n,e,t[Io],n3(t[i1],e)]},reset(){td.mem.length=0}},F8={any(t,e){const n=e[Io];return CQ(n).map(r=>[n[r],r,n,n3(e[i1],r)])},all(t,e){const n=[e];return sEe(e[Io],(r,i)=>{const s=td.get(e,i);s&&n.push(...F8.all(t,s))}),n},regex(t,e){const n=vJ(t),r=e[Io];return CQ(r).filter(i=>n.test(i)).map(i=>[r[i],i,r,n3(e[i1],i)])}},r3={escaped:(t,e)=>r3.property(t,e),property:(t,e)=>{const n=t.text;if(e[Io]&&e[Io][n]!==void 0)return[e[Io][n],n,e[Io],n3(e[i1],n)]},typecheck:(t,e)=>{const n=t.text.replace(/^\?:/,"");if(n==="value")return I8(e[Io])?void 0:e;if(iEe(e[Io])===n)return e},lookahead:(t,e)=>{let n=!0,r=!1;return t.children.forEach(i=>{if(i.type==="expression"){const s=r3.expression(i,e)!==void 0;n=r===!0?n||s:n&&s}else r=i.type==="orExpr"}),n?e:void 0},expression:(t,e)=>{const n=t.children[0].text,r=t.children[1],i=t.children[2],s=e[Io];if(I8(s)!==!1)return oEe(s[n],r,i)?e:void 0}};function oEe(t,e,n){if(e===void 0)return t!==void 0;let r;const i=`${t}`;return n.type==="regex"?r=vJ(n).test(i):r=i===n.text,e.type==="isnot"&&(r=r===!1&&t!==void 0),r}function aEe(t,e,n,r){const i=[];for(let s=0,o=e.length;s<o;s+=1)i.push(...t(n,e[s],n,r));return i}function lEe(t,e,n,r){const i=[];for(let s=0,o=e.length;s<o;s+=1){const a=t(n,e[s],r);a&&i.push(a)}return i}function uEe(t,e,n){let r=t;return e.children.forEach(i=>{if(F8[i.type])r=aEe(F8[i.type],r,i,n);else if(r3[i.type])r=lEe(r3[i.type],r,i,n);else throw new Error(`Unknown filter ${i.type}`)}),r}function cEe(t,e,n){const r=[];let i=t;return e.children.forEach(s=>{if(s.type==="orPattern"){r.push(...i),i=t;return}i=q7(i,s,n)}),r.push(...i),r}function fEe(t){if(t==null)return 1;if(t==="*"||t==="+")return 1/0;const e=parseInt(t);return isNaN(e)?1:e}function hEe(t,e,n){const r=[],i=e.children.find(l=>l.type==="quantifier"),s=fEe(i&&i.text);let o=t;i&&i.text==="*"&&r.push(...o);let a=0;for(;o.length>0&&a<s;)o=cEe(o,e,n),r.push(...o),a+=1;return r}function dEe(t,e,n){let r=t;return e.children.forEach(i=>r=q7(r,i,n)),r}function q7(t,e,n){let r;return e.type==="query"?r=uEe(t,e,n):e.type==="pattern"?r=hEe(t,e,n):r=dEe(t,e,n),td.reset(),td.mem.push(t),r}function pEe(t,e){return td.reset(),td.mem.push(t),q7([[t,null,null,"#"]],e)}const AQ={value:t=>t.map(e=>e[Io]),pointer:t=>t.map(e=>e[i1]),all:t=>t,map:t=>{const e={};return t.forEach(n=>e[n[i1]]=n[Io]),e}};var l0;(function(t){t.POINTER="pointer",t.VALUE="value",t.ALL="all",t.MAP="map"})(l0||(l0={}));ZO.POINTER=l0.POINTER;ZO.VALUE=l0.VALUE;ZO.ALL=l0.ALL;ZO.MAP=l0.MAP;function ZO(t,e,n=l0.VALUE){if(e==null)return[];e=e.replace(/(\/$)/g,""),e===""&&(e="#");const r=nEe(e);if(r==null)throw new Error(`empty ast for '${e}'`);if(r.rest!=="")throw new Error(`Failed parsing queryString from: '${r.rest}'`);const i=pEe(t,r);return typeof n=="function"?i.map(s=>n(...s)):AQ[n]?AQ[n](i):i}var i3;(function(t){t.REPLACE_ITEMS="replace",t.INSERT_ITEMS="insert"})(i3||(i3={}));i3.REPLACE_ITEMS;i3.INSERT_ITEMS;const kf={$ref:{type:!1},allOf:{type:!1,definitions:["allOf/*"]},anyOf:{type:!1,definitions:["anyOf/*"]},array:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","items","items/*","additionalItems"],validationKeywords:["minItems","maxItems","uniqueItems"],keywords:["items","additionalItems","minItems","maxItems","uniqueItems"]},boolean:{type:!0},enum:{type:!1},integer:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},not:{type:!1,definitions:["not"]},number:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},null:{type:!0},object:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","properties/*","additionalProperties","patternProperties/*","dependencies/*"],validationKeywords:["minProperties","maxProperties","required"],keywords:["properties","additionalProperties","patternProperties","dependencies","minProperties","maxProperties","required"]},oneOf:{type:!1,definitions:["oneOf/*"]},string:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minLength","maxLength","pattern"]}},mEe=Object.keys(kf).filter(t=>kf[t].type===!1),EQ=Object.prototype.hasOwnProperty;function TQ(t){if(ed(t)===!1)return;if(t.enum)return"enum";const e=t.type;if(Array.isArray(e)||kf[e])return e;const n=mEe.filter(r=>t[r]);if(n.length===1)return n[0];if(n.length===0){for(let r=0,i=kf.object.keywords.length;r<i;r+=1){const s=kf.object.keywords[r];if(EQ.call(t,s))return"object"}for(let r=0,i=kf.array.keywords.length;r<i;r+=1){const s=kf.array.keywords[r];if(EQ.call(t,s))return"array"}return}throw new Error(`Mutiple typeIds [${n.join(", ")}] matched in ${JSON.stringify(t)}`)}function gEe(t){const e=[],n=TQ(t);if(n==null)return e;let r;if(Array.isArray(n)){r={};for(let i=0,s=n.length;i<s;i+=1)Object.assign(r,kf[n[i]])}else r=kf[n];return r.definitions==null||r.definitions.forEach(i=>{ZO(t,i,(s,o,a,l)=>{ed(s)&&TQ(s)&&e.push({pointer:Xv.join(Xv.split(l),!1),def:s})})}),e}function yEe(t,e){if(this.callback(t,e)===!0)return;gEe(t).forEach(r=>this.nextTypeDefs(r.def,Xv.join(e,r.pointer,!1)))}function Xw(t,e,n,r="definitions"){const i=e[r];Object.keys(i).forEach(s=>{if(i[s]===!1||ed(i[s])){t.nextTypeDefs(i[s],Xv.join(n,r,s,!1));return}})}function Zk(t,e,n="#"){const r={callback:e,nextTypeDefs:yEe};r.nextTypeDefs(t,n),t.definitions!=null&&(r.callback=(i,s)=>{e(i,s),i.definitions!=null&&Xw(r,i,s)},Xw(r,t,n)),t.$defs!=null&&(r.callback=(i,s)=>{e(i,s),i.definitions!=null&&Xw(r,i,s)},Xw(r,t,n,"$defs"))}const bEe=/(#|\/)+$/,Zw=/#$/,vEe=/^[^:]+:\/\/[^/]+\//,OEe=/\/[^/]*$/,wEe=/#.*$/;function s3(t,e){return t==null&&e==null?"#":e==null?t.replace(Zw,""):t==null?e.replace(Zw,""):e[0]==="#"?`${t.replace(wEe,"")}${e.replace(bEe,"")}`:vEe.test(e)?e.replace(Zw,""):`${t.replace(OEe,"")}/${e.replace(Zw,"")}`}const Qy=/(#|\/)+$/g,_Ee=["",null,"#"];function xEe(t){if(_Ee.includes(t))return[];if(t=t.replace(Qy,""),t.indexOf("#")===-1)return[t.replace(Qy,"")];if(t.indexOf("#")===0)return[t.replace(Qy,"")];const e=t.split("#");return e[0]=e[0].replace(Qy,""),e[1]=`#${e[1].replace(Qy,"")}`,e}const SEe=/(#|\/)+$/g,kEe=t=>In(t)==="object";function pf(t,e,n){if(kEe(n)&&(n=n.__ref||n.$ref),n==null)return e;let r;const i=n.replace(SEe,"");if(t.remotes[i])return r=t.remotes[i],r&&r.$ref?pf(t,e,r.$ref):r;if(t.ids[n])return r=kp.get(e,t.ids[n]),r&&r.$ref?pf(t,e,r.$ref):r;const s=xEe(n);if(s.length===0)return e;if(s.length===1){if(n=s[0],t.remotes[n])return r=t.remotes[n],pf(t,e,r.$ref);if(t.ids[n])return r=kp.get(e,t.ids[n]),r&&r.$ref?pf(t,e,r.$ref):r}if(s.length===2){const o=s[0];if(n=s[1],t.remotes[o])return t.remotes[o].getRef?t.remotes[o].getRef(n):pf(t,t.remotes[o],n);if(t.ids[o])return pf(t,kp.get(e,t.ids[o]),n)}return r=kp.get(e,t.ids[n]||n),r&&r.$ref?pf(t,e,r.$ref):r}const DQ="__compiled",PQ="__ref",CEe="getRef",AEe="getRoot",EEe=/(#|\/)+$/g;function TEe(t,e,n=e,r=!1){if(!e||e[DQ]!==void 0)return e;const i={ids:{},remotes:t.remotes},s=JSON.stringify(e),o=JSON.parse(s);if(Object.defineProperty(o,DQ,{enumerable:!1,value:!0}),Object.defineProperty(o,CEe,{enumerable:!1,value:pf.bind(null,i,o)}),r===!1&&s.includes("$ref")===!1)return o;e!==n&&Object.defineProperty(o,"definitions",{enumerable:!1,value:Object.assign({},n.definitions,n.$defs,e.definitions,e.$defs)});const a={},l=()=>o;return Zk(o,(u,c)=>{var f;if(u.id){if(u.id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(c)){const b=c.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),v=kp.get(o,b);u.id=(f=v.id)!==null&&f!==void 0?f:u.id}i.ids[u.id.replace(EEe,"")]=c}c=`#${c}`.replace(/##+/,"#");const h=c.replace(/\/[^/]+$/,""),d=c.replace(/\/[^/]+\/[^/]+$/,""),m=a[h]||a[d],g=s3(m,u.id);a[c]=g,i.ids[g]==null&&(i.ids[g]=c),u.$ref&&!u[PQ]&&(Object.defineProperty(u,PQ,{enumerable:!1,value:s3(g,u.$ref)}),Object.defineProperty(u,AEe,{enumerable:!1,value:l}))}),o}function OJ(t,e,n,r=t.rootSchema,i="#"){r=t.resolveRef(r),n(r,e,i);const s=In(e);s==="object"?Object.keys(e).forEach(o=>{const a=t.step(o,r,e,i),l=e[o];t.each(l,n,a,`${i}/${o}`)}):s==="array"&&e.forEach((o,a)=>{const l=t.step(a,r,e,i);t.each(o,n,l,`${i}/${a}`)})}const wJ={additionalItemsError:ct("AdditionalItemsError"),additionalPropertiesError:ct("AdditionalPropertiesError"),anyOfError:ct("AnyOfError"),allOfError:ct("AllOfError"),constError:ct("ConstError"),containsError:ct("ContainsError"),containsArrayError:ct("ContainsArrayError"),containsAnyError:ct("ContainsAnyError"),enumError:ct("EnumError"),forbiddenPropertyError:ct("ForbiddenPropertyError"),formatURLError:ct("FormatURLError"),formatURIError:ct("FormatURIError"),formatURIReferenceError:ct("FormatURIReferenceError"),formatURITemplateError:ct("FormatURITemplateError"),formatDateError:ct("FormatDateError"),formatDateTimeError:ct("FormatDateTimeError"),formatEmailError:ct("FormatEmailError"),formatHostnameError:ct("FormatHostnameError"),formatIPV4Error:ct("FormatIPV4Error"),formatIPV4LeadingZeroError:ct("FormatIPV4LeadingZeroError"),formatIPV6Error:ct("FormatIPV6Error"),formatIPV6LeadingZeroError:ct("FormatIPV6LeadingZeroError"),formatJsonPointerError:ct("FormatJsonPointerError"),formatRegExError:ct("FormatRegExError"),formatTimeError:ct("FormatTimeError"),invalidSchemaError:ct("InvalidSchemaError"),invalidDataError:ct("InvalidDataError"),invalidTypeError:ct("InvalidTypeError"),invalidPropertyNameError:ct("InvalidPropertyNameError"),maximumError:ct("MaximumError"),maxItemsError:ct("MaxItemsError"),maxLengthError:ct("MaxLengthError"),maxPropertiesError:ct("MaxPropertiesError"),minimumError:ct("MinimumError"),minItemsError:ct("MinItemsError"),minItemsOneError:ct("MinItemsOneError"),minLengthError:ct("MinLengthError"),minLengthOneError:ct("MinLengthOneError"),minPropertiesError:ct("MinPropertiesError"),missingDependencyError:ct("MissingDependencyError"),missingOneOfPropertyError:ct("MissingOneOfPropertyError"),multipleOfError:ct("MultipleOfError"),multipleOneOfError:ct("MultipleOneOfError"),noAdditionalPropertiesError:ct("NoAdditionalPropertiesError"),notError:ct("NotError"),oneOfError:ct("OneOfError"),oneOfPropertyError:ct("OneOfPropertyError"),patternError:ct("PatternError"),patternPropertiesError:ct("PatternPropertiesError"),requiredPropertyError:ct("RequiredPropertyError"),schemaWarning:ct("SchemaWarning"),typeError:ct("TypeError"),undefinedValueError:ct("UndefinedValueError"),uniqueItemsError:ct("UniqueItemsError"),unknownPropertyError:ct("UnknownPropertyError"),valueNotEmptyError:ct("ValueNotEmptyError")};var y6={exports:{}},RQ;function DEe(){return RQ||(RQ=1,(function(t){(function(e){e.exports.is_uri=r,e.exports.is_http_uri=i,e.exports.is_https_uri=s,e.exports.is_web_uri=o,e.exports.isUri=r,e.exports.isHttpUri=i,e.exports.isHttpsUri=s,e.exports.isWebUri=o;var n=function(a){var l=a.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return l};function r(a){if(a&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(a)&&!/%[^0-9a-f]/i.test(a)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(a)){var l=[],u="",c="",f="",h="",d="",m="";if(l=n(a),u=l[1],c=l[2],f=l[3],h=l[4],d=l[5],!!(u&&u.length&&f.length>=0)){if(c&&c.length){if(!(f.length===0||/^\//.test(f)))return}else if(/^\/\//.test(f))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(u.toLowerCase()))return m+=u+":",c&&c.length&&(m+="//"+c),m+=f,h&&h.length&&(m+="?"+h),d&&d.length&&(m+="#"+d),m}}}function i(a,l){if(r(a)){var u=[],c="",f="",h="",d="",m="",g="",b="";if(u=n(a),c=u[1],f=u[2],h=u[3],m=u[4],g=u[5],!!c){if(l){if(c.toLowerCase()!="https")return}else if(c.toLowerCase()!="http")return;if(f)return/:(\d+)$/.test(f)&&(d=f.match(/:(\d+)$/)[0],f=f.replace(/:\d+$/,"")),b+=c+":",b+="//"+f,d&&(b+=d),b+=h,m&&m.length&&(b+="?"+m),g&&g.length&&(b+="#"+g),b}}}function s(a){return i(a,!0)}function o(a){return i(a)||s(a)}})(t)})(y6)),y6.exports}var PEe=DEe();const $Q=A0(PEe);var Hs={},lx={exports:{}},REe=lx.exports,IQ;function $Ee(){return IQ||(IQ=1,(function(t){(function(e,n){t.exports?t.exports=n():e.nearley=n()})(REe,function(){function e(u,c,f){return this.id=++e.highestId,this.name=u,this.symbols=c,this.postprocess=f,this}e.highestId=0,e.prototype.toString=function(u){var c=typeof u>"u"?this.symbols.map(l).join(" "):this.symbols.slice(0,u).map(l).join(" ")+" â "+this.symbols.slice(u).map(l).join(" ");return this.name+" â "+c};function n(u,c,f,h){this.rule=u,this.dot=c,this.reference=f,this.data=[],this.wantedBy=h,this.isComplete=this.dot===u.symbols.length}n.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},n.prototype.nextState=function(u){var c=new n(this.rule,this.dot+1,this.reference,this.wantedBy);return c.left=this,c.right=u,c.isComplete&&(c.data=c.build(),c.right=void 0),c},n.prototype.build=function(){var u=[],c=this;do u.push(c.right.data),c=c.left;while(c.left);return u.reverse(),u},n.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))};function r(u,c){this.grammar=u,this.index=c,this.states=[],this.wants={},this.scannable=[],this.completed={}}r.prototype.process=function(u){for(var c=this.states,f=this.wants,h=this.completed,d=0;d<c.length;d++){var m=c[d];if(m.isComplete){if(m.finish(),m.data!==o.fail){for(var g=m.wantedBy,b=g.length;b--;){var v=g[b];this.complete(v,m)}if(m.reference===this.index){var O=m.rule.name;(this.completed[O]=this.completed[O]||[]).push(m)}}}else{var O=m.rule.symbols[m.dot];if(typeof O!="string"){this.scannable.push(m);continue}if(f[O]){if(f[O].push(m),h.hasOwnProperty(O))for(var x=h[O],b=0;b<x.length;b++){var C=x[b];this.complete(m,C)}}else f[O]=[m],this.predict(O)}}},r.prototype.predict=function(u){for(var c=this.grammar.byName[u]||[],f=0;f<c.length;f++){var h=c[f],d=this.wants[u],m=new n(h,0,this.index,d);this.states.push(m)}},r.prototype.complete=function(u,c){var f=u.nextState(c);this.states.push(f)};function i(u,c){this.rules=u,this.start=c||this.rules[0].name;var f=this.byName={};this.rules.forEach(function(h){f.hasOwnProperty(h.name)||(f[h.name]=[]),f[h.name].push(h)})}i.fromCompiled=function(h,c){var f=h.Lexer;h.ParserStart&&(c=h.ParserStart,h=h.ParserRules);var h=h.map(function(m){return new e(m.name,m.symbols,m.postprocess)}),d=new i(h,c);return d.lexer=f,d};function s(){this.reset("")}s.prototype.reset=function(u,c){this.buffer=u,this.index=0,this.line=c?c.line:1,this.lastLineBreak=c?-c.col:0},s.prototype.next=function(){if(this.index<this.buffer.length){var u=this.buffer[this.index++];return u===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:u}}},s.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},s.prototype.formatError=function(u,c){var f=this.buffer;if(typeof f=="string"){var h=f.split(`
`).slice(Math.max(0,this.line-5),this.line),d=f.indexOf(`
`,this.index);d===-1&&(d=f.length);var m=this.index-this.lastLineBreak,g=String(this.line).length;return c+=" at line "+this.line+" col "+m+`:

`,c+=h.map(function(v,O){return b(this.line-h.length+O+1,g)+" "+v},this).join(`
`),c+=`
`+b("",g+m)+`^
`,c}else return c+" at index "+(this.index-1);function b(v,O){var x=String(v);return Array(O-x.length+1).join(" ")+x}};function o(u,c,f){if(u instanceof i)var h=u,f=c;else var h=i.fromCompiled(u,c);this.grammar=h,this.options={keepHistory:!1,lexer:h.lexer||new s};for(var d in f||{})this.options[d]=f[d];this.lexer=this.options.lexer,this.lexerState=void 0;var m=new r(h,0);this.table=[m],m.wants[h.start]=[],m.predict(h.start),m.process(),this.current=0}o.fail={},o.prototype.feed=function(u){var c=this.lexer;c.reset(u,this.lexerState);for(var f;;){try{if(f=c.next(),!f)break}catch(k){var g=new r(this.grammar,this.current+1);this.table.push(g);var h=new Error(this.reportLexerError(k));throw h.offset=this.current,h.token=k.token,h}var d=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var m=this.current+1,g=new r(this.grammar,m);this.table.push(g);for(var b=f.text!==void 0?f.text:f.value,v=c.constructor===s?f.value:f,O=d.scannable,x=O.length;x--;){var C=O[x],S=C.rule.symbols[C.dot];if(S.test?S.test(v):S.type?S.type===f.type:S.literal===b){var A=C.nextState({data:v,token:f,isToken:!0,reference:m-1});g.states.push(A)}}if(g.process(),g.states.length===0){var h=new Error(this.reportError(f));throw h.offset=this.current,h.token=f,h}this.options.keepHistory&&(d.lexerState=c.save()),this.current++}return d&&(this.lexerState=c.save()),this.results=this.finish(),this},o.prototype.reportLexerError=function(u){var c,f,h=u.token;return h?(c="input "+JSON.stringify(h.text[0])+" (lexer error)",f=this.lexer.formatError(h,"Syntax error")):(c="input (lexer error)",f=u.message),this.reportErrorCommon(f,c)},o.prototype.reportError=function(u){var c=(u.type?u.type+" token: ":"")+JSON.stringify(u.value!==void 0?u.value:u),f=this.lexer.formatError(u,"Syntax error");return this.reportErrorCommon(f,c)},o.prototype.reportErrorCommon=function(u,c){var f=[];f.push(u);var h=this.table.length-2,d=this.table[h],m=d.states.filter(function(b){var v=b.rule.symbols[b.dot];return v&&typeof v!="string"});if(m.length===0)f.push("Unexpected "+c+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(d.states,f);else{f.push("Unexpected "+c+`. Instead, I was expecting to see one of the following:
`);var g=m.map(function(b){return this.buildFirstStateStack(b,[])||[b]},this);g.forEach(function(b){var v=b[0],O=v.rule.symbols[v.dot],x=this.getSymbolDisplay(O);f.push("A "+x+" based on:"),this.displayStateStack(b,f)},this)}return f.push(""),f.join(`
`)},o.prototype.displayStateStack=function(u,c){for(var f,h=0,d=0;d<u.length;d++){var m=u[d],g=m.rule.toString(m.dot);g===f?h++:(h>0&&c.push("    ^ "+h+" more lines identical to this"),h=0,c.push("    "+g)),f=g}},o.prototype.getSymbolDisplay=function(u){return a(u)},o.prototype.buildFirstStateStack=function(u,c){if(c.indexOf(u)!==-1)return null;if(u.wantedBy.length===0)return[u];var f=u.wantedBy[0],h=[u].concat(c),d=this.buildFirstStateStack(f,h);return d===null?null:[u].concat(d)},o.prototype.save=function(){var u=this.table[this.current];return u.lexerState=this.lexerState,u},o.prototype.restore=function(u){var c=u.index;this.current=c,this.table[c]=u,this.table.splice(c+1),this.lexerState=u.lexerState,this.results=this.finish()},o.prototype.rewind=function(u){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[u])},o.prototype.finish=function(){var u=[],c=this.grammar.start,f=this.table[this.table.length-1];return f.states.forEach(function(h){h.rule.name===c&&h.dot===h.rule.symbols.length&&h.reference===0&&h.data!==o.fail&&u.push(h)}),u.map(function(h){return h.data})};function a(u){var c=typeof u;if(c==="string")return u;if(c==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return"character matching "+u;if(u.type)return u.type+" token";if(u.test)return"token matching "+String(u.test);throw new Error("Unknown symbol type: "+u)}}function l(u){var c=typeof u;if(c==="string")return u;if(c==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return u.toString();if(u.type)return"%"+u.type;if(u.test)return"<"+String(u.test)+">";throw new Error("Unknown symbol type: "+u)}}return{Parser:o,Grammar:i,Rule:e}})})(lx)),lx.exports}var Ww={},FQ;function IEe(){if(FQ)return Ww;FQ=1,Object.defineProperty(Ww,"__esModule",{value:!0});function t(i){return i[0]}const e=i=>[].concat(...i.map(s=>Array.isArray(s)?e(s):s));function n(i){return i?Array.isArray(i)?e(i).join(""):i:""}const r={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:i=>i.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(i){return i.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(i){return i.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:t},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:i=>i[0].concat([i[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:i=>i[0].concat([i[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:t},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:i=>i[0].concat([i[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:t},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:i=>i[0].concat([i[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:t},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(i){return{DomainName:n(i[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(i){return{AddressLiteral:n(i[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(i){return{localPart:n(i[0]),domainPart:n(i[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(i){return{DotString:n(i[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(i){return{QuotedString:n(i[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:i=>i[0].concat([i[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:i=>i[0].concat([i[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:i=>i[0].concat([i[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:t},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(i){return i.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:i=>i[0].concat([i[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:t},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:t},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:i=>i.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:t},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:t},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:i=>i.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:t},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:t},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:t},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:t},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:t},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:t},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:t},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:t}],ParserStart:"Reverse_path"};return Ww.default=r,Ww}var MQ;function FEe(){if(MQ)return Hs;MQ=1;var t=Hs&&Hs.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.canonicalize=Hs.canonicalize_quoted_string=Hs.normalize=Hs.normalize_dot_string=Hs.parse=void 0;const e=$Ee(),n=t(IEe());n.default.ParserStart="Mailbox";const r=e.Grammar.fromCompiled(n.default);function i(u){const c=new e.Parser(r);if(c.feed(u),c.results.length!==1)throw new Error("address parsing failed: ambiguous grammar");return c.results[0]}Hs.parse=i;function s(u){return(function(){const h=u.indexOf("+");return h===-1?u:u.substr(0,h)})().replace(/\./g,"").toLowerCase()}Hs.normalize_dot_string=s;function o(u){var c,f;const h=i(u),d=(c=h.domainPart.AddressLiteral)!==null&&c!==void 0?c:h.domainPart.DomainName.toLowerCase();return`${(f=h.localPart.QuotedString)!==null&&f!==void 0?f:s(h.localPart.DotString)}@${d}`}Hs.normalize=o;function a(u){return`"${u.substr(1).substr(0,u.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}Hs.canonicalize_quoted_string=a;function l(u){var c;const f=i(u),h=(c=f.domainPart.AddressLiteral)!==null&&c!==void 0?c:f.domainPart.DomainName.toLowerCase();return`${f.localPart.QuotedString?a(f.localPart.QuotedString):f.localPart.DotString}@${h}`}return Hs.canonicalize=l,Hs}var MEe=FEe();const LEe=new RegExp("^([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(([Zz])|([\\+|\\-]([01][0-9]|2[0-3]):[0-5][0-9]))$"),NEe=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,QEe=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,BEe=/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,zEe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,UEe=/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,jEe=[0,31,28,31,30,31,30,31,31,30,31,30,31],qEe=/^(?:\/(?:[^~/]|~0|~1)*)*$/,VEe=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,XEe=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,ZEe=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,_J={date:(t,e,n,r)=>{if(typeof n!="string"||n==="")return;const i=n.match(zEe);if(!i)return t.errors.formatDateTimeError({value:n,pointer:r,schema:e});const s=+i[1],o=+i[2],a=+i[3],l=s%4===0&&(s%100!==0||s%400===0);if(!(o>=1&&o<=12&&a>=1&&a<=(o==2&&l?29:jEe[o])))return t.errors.formatDateError({value:n,pointer:r,schema:e})},"date-time":(t,e,n,r)=>{if(!(typeof n!="string"||n===""))return n===""||LEe.test(n)?new Date(n).toString()==="Invalid Date"?t.errors.formatDateTimeError({value:n,pointer:r,schema:e}):void 0:t.errors.formatDateTimeError({value:n,pointer:r,schema:e})},email:(t,e,n,r)=>{if(typeof n!="string"||n==="")return;if(n[0]==='"')return t.errors.formatEmailError({value:n,pointer:r,schema:e});const[i,s,...o]=n.split("@");if(!i||!s||o.length!==0||i.length>64||s.length>253)return t.errors.formatEmailError({value:n,pointer:r,schema:e});if(i[0]==="."||i.endsWith(".")||i.includes(".."))return t.errors.formatEmailError({value:n,pointer:r,schema:e});if(!/^[a-z0-9.-]+$/i.test(s)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(i))return t.errors.formatEmailError({value:n,pointer:r,schema:e});if(!s.split(".").every(a=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(a)))return t.errors.formatEmailError({value:n,pointer:r,schema:e})},"idn-email":(t,e,n,r)=>{if(!(typeof n!="string"||n===""))try{MEe.parse(n);return}catch{return t.errors.formatEmailError({value:n,pointer:r,schema:e})}},hostname:(t,e,n,r)=>{if(typeof n=="string"&&!(n===""||BEe.test(n)))return t.errors.formatHostnameError({value:n,pointer:r,schema:e})},ipv4:(t,e,n,r)=>{if(!(typeof n!="string"||n==="")){if(n&&n[0]==="0")return t.errors.formatIPV4LeadingZeroError({value:n,pointer:r,schema:e});if(!(n.length<=15&&NEe.test(n)))return t.errors.formatIPV4Error({value:n,pointer:r,schema:e})}},ipv6:(t,e,n,r)=>{if(!(typeof n!="string"||n==="")){if(n&&n[0]==="0")return t.errors.formatIPV6LeadingZeroError({value:n,pointer:r,schema:e});if(!(n.length<=45&&QEe.test(n)))return t.errors.formatIPV6Error({value:n,pointer:r,schema:e})}},"json-pointer":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!qEe.test(n))return t.errors.formatJsonPointerError({value:n,pointer:r,schema:e})},"relative-json-pointer":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!VEe.test(n))return t.errors.formatJsonPointerError({value:n,pointer:r,schema:e})},regex:(t,e,n,r)=>{if(typeof n=="string"&&/\\Z$/.test(n)===!1){try{new RegExp(n);return}catch{}return t.errors.formatRegExError({value:n,pointer:r,schema:e})}if(!(typeof n=="object"||typeof n=="number"||Array.isArray(n)))return t.errors.formatRegExError({value:n,pointer:r,schema:e})},time:(t,e,n,r)=>typeof n!="string"||n===""||n.match(UEe)?void 0:t.errors.formatDateTimeError({value:n,pointer:r,schema:e}),uri:(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!$Q.isUri(n))return t.errors.formatURIError({value:n,pointer:r,schema:e})},"uri-reference":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!XEe.test(n))return t.errors.formatURIReferenceError({value:n,pointer:r,schema:e})},"uri-template":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!ZEe.test(n))return t.errors.formatURITemplateError({value:n,pointer:r,schema:e})},url:(t,e,n,r)=>{if(!(n===""||$Q.isWebUri(n)))return t.errors.formatURLError({value:n,pointer:r,schema:e})}},xJ={};function SJ(t,e=xJ){const{pointer:n="#",data:r,schema:i=t.rootSchema,withSchemaWarning:s=!1}=e,o=Xv.split(n),a=kJ(t,t.resolveRef(i),o,"#",r);if(!(!s&&a?.code==="schema-warning"))return a}function kJ(t,e,n,r,i=xJ){if(n.length===0)return t.resolveRef(e);const s=n.shift();return e=t.step(s,e,i,r),js(e)?e:(i=i[s],kJ(t,e,n,`${r}/${s}`,i))}function WEe(t){switch(In(t)){case"string":case"array":return t?.length===0;case"null":case"undefined":return!0;case"object":return Object.keys(t).length===0;default:return!1}}const LQ=U1.templateDefaultOptions;let Cf;function b6(t,e){const{$ref:n}=t;return n==null?!0:(Cf[e]==null||Cf[e][n]==null?0:Cf[e][n])<U1.GET_TEMPLATE_RECURSION_LIMIT}function NQ(t,e,n){const{$ref:r}=e;return r==null?e:(Cf[n]=Cf[n]||{},Cf[n][r]=Cf[n][r]||0,Cf[n][r]+=1,t.resolveRef(e))}function YEe(t,e){if(t==="string")return JSON.stringify(e);if(typeof e!="string")return null;try{if(e=JSON.parse(e),typeof e===t)return e}catch{}return null}function CJ(t,e,n,r,i){if(In(e)!=="object")return Object.assign({pointer:r},e);if(b6(e,r)===!1&&n==null)return!1;let s=t3(NQ(t,e,r));if(Array.isArray(e.anyOf)&&e.anyOf.length>0){if(b6(e.anyOf[0],`${r}/anyOf/0`)){const o=NQ(t,e.anyOf[0],`${r}/anyOf/0`);s=B7(s,o),s.pointer=e.anyOf[0].$ref||s.pointer}delete s.anyOf}if(Array.isArray(e.allOf)&&e.allOf.map((a,l)=>b6(a,`${r}/allOf/${l}`)).reduceRight((a,l)=>a&&l,!0)){const a=[];let l=t3(n);for(let c=0;c<e.allOf.length;c+=1)a.push(uJ(t,e.allOf[c],l)),l=zl(t,l,{type:e.type,...a[c]},`${r}/allOf/${c}`,i);const u=fJ(t,{allOf:a});u&&(s=so(s,u))}return s.pointer=s.pointer||e.$ref||r,s}const QQ=t=>t&&typeof t=="object";function zl(t,e,n,r,i){var s;if(n==null)throw new Error(`getTemplate: missing schema for data: ${JSON.stringify(e)}`);if(r==null)throw new Error("Missing pointer");let o=CJ(t,n,e,r,i);if(!QQ(o))return;if(r=o.pointer,o?.const)return o.const;if(Array.isArray(o.oneOf))if(WEe(e)){const c=o.oneOf[0].type||o.type||o.const&&typeof o.const||In(e);o={...o.oneOf[0],type:c}}else{const c=Q7(t,e,o);if(js(c)){if(e!=null&&i.removeInvalidData!==!0)return e;o=o.oneOf[0],e=void 0}else c.type=(s=c.type)!==null&&s!==void 0?s:o.type,o=c}if(!QQ(o)||o.type==null)return;if(e instanceof File)return e;const a=Array.isArray(o.type)?GEe(o.type,e,o.default):o.type,l=In(e);return e!=null&&l!==a&&!(l==="number"&&a==="integer")&&(e=YEe(a,e)),BQ[a]==null?i.removeInvalidData?void 0:e:BQ[a](t,o,e,r,i)}function GEe(t,e,n){if(e==null){if(n!=null){const i=In(n);if(t.includes(i))return i}return t[0]}const r=In(e);return t.includes(r)?r:t[0]}const BQ={null:(t,e,n)=>By(e,n,null),string:(t,e,n)=>By(e,n,""),number:(t,e,n)=>By(e,n,0),integer:(t,e,n)=>By(e,n,0),boolean:(t,e,n)=>By(e,n,!1),object:(t,e,n,r,i)=>{var s;const o=e.default===void 0?{}:e.default,a={},l=i.extendDefaults===!1&&e.default!==void 0?[]:(s=e.required)!==null&&s!==void 0?s:[];e.properties&&Object.keys(e.properties).forEach(f=>{const h=n==null||n[f]==null?o[f]:n[f],d=l.includes(f);(h!=null||d||i.addOptionalProps)&&(a[f]=zl(t,h,e.properties[f],`${r}/properties/${f}`,i))});let u=dJ(t,e,a);if(u){u=so(e,u),delete u.dependencies;const f=zl(t,n,u,`${r}/dependencies`,i);Object.assign(a,f)}n&&(i.removeInvalidData===!0&&(e.additionalProperties===!1||In(e.additionalProperties)==="object")?In(e.additionalProperties)==="object"&&Object.keys(n).forEach(f=>{a[f]==null&&t.isValid(n[f],e.additionalProperties)&&(a[f]=n[f])}):Object.keys(n).forEach(f=>a[f]==null&&(a[f]=n[f])));const c=Xk(t,e,a);if(c){const f=zl(t,a,{type:"object",...c},r,i);Object.assign(a,f)}return a},array:(t,e,n,r,i)=>{var s,o;if(e.items==null)return n||[];const a=e.default===void 0?[]:e.default,l=n||a,u=i.extendDefaults===!1&&e.default!==void 0?0:e.minItems||0;if(Array.isArray(e.items)){for(let f=0,h=Math.max(u??0,(o=(s=e.items)===null||s===void 0?void 0:s.length)!==null&&o!==void 0?o:0);f<h;f+=1)l[f]=zl(t,l[f]==null?a[f]:l[f],e.items[f],`${r}/items/${f}`,i);return l}if(In(e.items)!=="object")return l;const c=CJ(t,e.items,n,r,i);if(c===!1)return l;if(r=c.pointer||r,c.oneOf&&l.length===0){const f=c.oneOf[0];for(let h=0;h<u;h+=1)l[h]=zl(t,l[h]==null?a[h]:l[h],f,`${r}/oneOf/0`,i);return l}if(c.oneOf&&l.length>0){const f=Math.max(u,l.length);for(let h=0;h<f;h+=1){let d=l[h]==null?a[h]:l[h],m=Q7(t,d,c);m==null||js(m)?d!=null&&i.removeInvalidData!==!0?l[h]=d:(d=void 0,m=c.oneOf[0],l[h]=zl(t,d,m,`${r}/oneOf/${h}`,i)):l[h]=zl(t,d,m,`${r}/oneOf/${h}`,i)}return l}if(c.type){for(let f=0,h=Math.max(u,l.length);f<h;f+=1)l[f]=zl(t,l[f]==null?a[f]:l[f],c,`${r}/items`,i);return l}return l}};function By(t,e,n){return e??(t.const?t.const:t.default===void 0&&Array.isArray(t.enum)?t.enum[0]:t.default===void 0?n:t.default)}const AJ=(t,e,n=t.rootSchema,r)=>(Cf={},r?zl(t,e,n,"#",{...LQ,...r}):zl(t,e,n,"#",LQ));function EJ(t,e,n=t.rootSchema,r="#"){return t.validate(e,n,r).length===0}function zQ(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function UQ(t){const e=`${t}`,n=e.indexOf(".");return n===-1?0:e.length-(n+1)}var v6,jQ;function HEe(){return jQ||(jQ=1,v6=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),v6}var KEe=HEe();const TJ=A0(KEe),JEe=Object.prototype.hasOwnProperty,qQ=(t,e)=>!(t[e]===void 0||!JEe.call(t,e)),DJ={additionalProperties:(t,e,n,r)=>{if(e.additionalProperties===!0||e.additionalProperties==null||In(e.patternProperties)==="object"&&e.additionalProperties===!1)return;const i=[];let s=Object.keys(n).filter(a=>U1.propertyBlacklist.includes(a)===!1);const o=Object.keys(e.properties||{});if(In(e.patternProperties)==="object"){const a=Object.keys(e.patternProperties).map(l=>new RegExp(l));s=s.filter(l=>{for(let u=0;u<a.length;u+=1)if(a[u].test(l))return!1;return!0})}for(let a=0,l=s.length;a<l;a+=1){const u=s[a];if(o.indexOf(u)===-1){const c=ed(e.additionalProperties);if(c&&Array.isArray(e.additionalProperties.oneOf)){const f=t.resolveOneOf(n[u],e.additionalProperties,`${r}/${u}`);js(f)?i.push(t.errors.additionalPropertiesError({pointer:r,schema:e.additionalProperties,value:n,property:s[a],properties:o,errors:f.data.errors})):i.push(...t.validate(n[u],f,r))}else c?i.push(...t.validate(n[u],e.additionalProperties,`${r}/${u}`)):i.push(t.errors.noAdditionalPropertiesError({pointer:r,schema:e,value:n,property:s[a],properties:o}))}}return i},allOf:QAe,anyOf:UAe,dependencies:zAe,enum:(t,e,n,r)=>{const i=In(n);if(i==="object"||i==="array"){const s=JSON.stringify(n);for(let o=0;o<e.enum.length;o+=1)if(JSON.stringify(e.enum[o])===s)return}else if(e.enum.includes(n))return;return t.errors.enumError({pointer:r,schema:e,value:n,values:e.enum})},format:(t,e,n,r)=>{if(t.validateFormat[e.format])return t.validateFormat[e.format](t,e,n,r)},items:(t,e,n,r)=>{if(e.items===!1)return Array.isArray(n)&&n.length===0?void 0:t.errors.invalidDataError({pointer:r,value:n,schema:e});const i=[];for(let s=0;s<n.length;s+=1){const o=n[s],a=t.step(s,e,n,r);if(js(a))return[a];const l=t.validate(o,a,`${r}/${s}`);i.push(...l)}return i},maximum:(t,e,n,r)=>{if(!isNaN(e.maximum)){if(e.maximum&&e.maximum<n)return t.errors.maximumError({maximum:e.maximum,length:n,value:n,pointer:r,schema:e});if(e.maximum&&e.exclusiveMaximum===!0&&e.maximum===n)return t.errors.maximumError({maximum:e.maximum,length:n,pointer:r,schema:e,value:n})}},maxItems:(t,e,n,r)=>{if(!isNaN(e.maxItems)&&e.maxItems<n.length)return t.errors.maxItemsError({maximum:e.maxItems,length:n.length,schema:e,value:n,pointer:r})},maxLength:(t,e,n,r)=>{if(isNaN(e.maxLength))return;const i=zQ(n).length;if(e.maxLength<i)return t.errors.maxLengthError({maxLength:e.maxLength,length:i,pointer:r,schema:e,value:n})},maxProperties:(t,e,n,r)=>{const i=Object.keys(n).length;if(isNaN(e.maxProperties)===!1&&e.maxProperties<i)return t.errors.maxPropertiesError({maxProperties:e.maxProperties,length:i,pointer:r,schema:e,value:n})},minLength:(t,e,n,r)=>{if(isNaN(e.minLength))return;const i=zQ(n).length;if(e.minLength>i)return e.minLength===1?t.errors.minLengthOneError({minLength:e.minLength,length:i,pointer:r,schema:e,value:n}):t.errors.minLengthError({minLength:e.minLength,length:i,pointer:r,schema:e,value:n})},minimum:(t,e,n,r)=>{if(!isNaN(e.minimum)){if(e.minimum>n)return t.errors.minimumError({minimum:e.minimum,length:n,pointer:r,schema:e,value:n});if(e.exclusiveMinimum===!0&&e.minimum===n)return t.errors.minimumError({minimum:e.minimum,length:n,pointer:r,schema:e,value:n})}},minItems:(t,e,n,r)=>{if(!isNaN(e.minItems)&&e.minItems>n.length)return e.minItems===1?t.errors.minItemsOneError({minItems:e.minItems,length:n.length,pointer:r,schema:e,value:n}):t.errors.minItemsError({minItems:e.minItems,length:n.length,pointer:r,schema:e,value:n})},minProperties:(t,e,n,r)=>{if(isNaN(e.minProperties))return;const i=Object.keys(n).length;if(e.minProperties>i)return t.errors.minPropertiesError({minProperties:e.minProperties,length:i,pointer:r,schema:e,value:n})},multipleOf:(t,e,n,r)=>{if(isNaN(e.multipleOf)||typeof n!="number")return;const i=UQ(n),s=UQ(e.multipleOf);if(i>s)return t.errors.multipleOfError({multipleOf:e.multipleOf,value:n,pointer:r,schema:e});const o=Math.pow(10,s),a=Math.round(n*o),l=Math.round(e.multipleOf*o);if(a%l/o!==0)return t.errors.multipleOfError({multipleOf:e.multipleOf,value:n,pointer:r,schema:e})},not:(t,e,n,r)=>{const i=[];return t.validate(n,e.not,r).length===0&&i.push(t.errors.notError({value:n,not:e.not,pointer:r,schema:e})),i},oneOf:J6e,pattern:(t,e,n,r)=>{if(new RegExp(e.pattern,"u").test(n)===!1)return t.errors.patternError({pattern:e.pattern,description:e.patternExample||e.pattern,received:n,schema:e,value:n,pointer:r})},patternProperties:(t,e,n,r)=>{const i=e.properties||{},s=e.patternProperties;if(In(s)!=="object")return;const o=[],a=Object.keys(n),l=Object.keys(s).map(u=>({regex:new RegExp(u),patternSchema:s[u]}));return a.forEach(u=>{let c=!1;for(let f=0,h=l.length;f<h;f+=1)if(l[f].regex.test(u)){c=!0;const d=t.validate(n[u],l[f].patternSchema,`${r}/${u}`);d&&d.length>0&&o.push(...d)}i[u]||c===!1&&e.additionalProperties===!1&&o.push(t.errors.patternPropertiesError({key:u,pointer:r,schema:e,value:n,patterns:Object.keys(s).join(",")}))}),o},properties:(t,e,n,r)=>{const i=[],s=Object.keys(e.properties||{});for(let o=0;o<s.length;o+=1){const a=s[o];if(qQ(n,a)){const l=t.step(a,e,n,r),u=t.validate(n[a],l,`${r}/${a}`);i.push(...u)}}return i},propertiesRequired:(t,e,n,r)=>{const i=[],s=Object.keys(e.properties||{});for(let o=0;o<s.length;o+=1){const a=s[o];if(n[a]===void 0)i.push(t.errors.requiredPropertyError({key:a,pointer:r,schema:e,value:n}));else{const l=t.step(a,e,n,r),u=t.validate(n[a],l,`${r}/${a}`);i.push(...u)}}return i},required:(t,e,n,r)=>{if(Array.isArray(e.required)!==!1)return e.required.map(i=>{if(!qQ(n,i))return t.errors.requiredPropertyError({key:i,pointer:r,schema:e,value:n})})},requiredNotEmpty:(t,e,n,r)=>{if(Array.isArray(e.required)!==!1)return e.required.map(i=>{if(n[i]==null||n[i]==="")return t.errors.valueNotEmptyError({property:i,pointer:`${r}/${i}`,schema:e,value:n})})},uniqueItems:(t,e,n,r)=>{if((Array.isArray(n)&&e.uniqueItems)===!1)return;const i=[],s=[];return n.forEach((o,a)=>{for(let l=a+1;l<n.length;l+=1)TJ(o,n[l])&&!i.includes(l)&&(s.push(t.errors.uniqueItemsError({pointer:`${r}/${l}`,duplicatePointer:`${r}/${a}`,arrayPointer:r,value:JSON.stringify(o),schema:e})),i.push(l))}),s}};function Yu(t){if(t===void 0)return;const e={type:In(t)};return e.type==="object"&&ed(t)&&(e.properties={},Object.keys(t).forEach(n=>e.properties[n]=Yu(t[n]))),e.type==="array"&&Array.isArray(t)&&(t.length===1?e.items=Yu(t[0]):e.items=t.map(Yu)),e}const e8e={array:(t,e,n,r,i)=>{const s=r?.[e],o=In(n.items);if(o==="object")return wQ(t,n.items,s,`${i}/${e}`)||t.resolveRef(n.items);if(o==="array"){if(n.items[e]===!0)return Yu(s);if(n.items[e]===!1)return t.errors.invalidDataError({key:e,value:s,pointer:i,schema:n});if(n.items[e])return t.resolveRef(n.items[e]);if(n.additionalItems===!1)return t.errors.additionalItemsError({key:e,value:s,pointer:i,schema:n});if(n.additionalItems===!0||n.additionalItems===void 0)return Yu(s);if(In(n.additionalItems)==="object")return n.additionalItems;throw new Error(`Invalid schema ${JSON.stringify(n,null,2)} for ${JSON.stringify(r,null,2)}`)}return n.additionalItems!==!1&&s?Yu(s):new Error(`Invalid array schema for ${e} at ${i}`)},object:(t,e,n,r,i)=>{var s;n=wQ(t,n,r,i);const o=(s=n?.properties)===null||s===void 0?void 0:s[e];if(o!==void 0){if(o===!1)return t.errors.forbiddenPropertyError({property:e,value:r,pointer:i,schema:n});if(o===!0)return Yu(r?.[e]);const u=t.resolveRef(o);if(js(u))return u;if(u&&Array.isArray(u.oneOf)){const c=t.resolveOneOf(r[e],u,`${i}/${e}`);for(const f in u)f!=="oneOf"&&c[f]===void 0&&(c[f]=u[f]);return c}if(u)return u}const{patternProperties:a}=n;if(In(a)==="object"){let u;const c=Object.keys(a);for(let f=0,h=c.length;f<h;f+=1)if(u=new RegExp(c[f]),u.test(e))return a[c[f]]}const{additionalProperties:l}=n;return In(l)==="object"?n.additionalProperties:r&&(l===void 0||l===!0)?Yu(r[e]):t.errors.unknownPropertyError({property:e,value:r,pointer:`${i}`,schema:n})}};function PJ(t,e,n,r,i="#"){var s;const o=In(r);let a=(s=n.type)!==null&&s!==void 0?s:o;if(Array.isArray(a)){if(!a.includes(o))return t.errors.typeError({value:r,pointer:i,expected:n.type,received:o,schema:n});a=o}const l=e8e[a];if(l){const u=l(t,`${e}`,n,r,i);return u===void 0?t.errors.schemaWarning({pointer:i,value:r,schema:n,key:e}):u}return new Error(`Unsupported schema type ${n.type} for key ${e}`)}function RJ(t,e,n=t.rootSchema){var r;if(n.oneOf)return n.oneOf.map(s=>t.resolveRef(s));if(!((r=n.items)===null||r===void 0)&&r.oneOf)return n.items.oneOf.map(s=>t.resolveRef(s));const i=t.step(e,n,{},"#");return js(i)?i:[i]}const t8e={array:(t,e,n,r)=>t.typeKeywords.array.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),object:(t,e,n,r)=>t.typeKeywords.object.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),string:(t,e,n,r)=>t.typeKeywords.string.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),integer:(t,e,n,r)=>t.typeKeywords.number.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),number:(t,e,n,r)=>t.typeKeywords.number.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),boolean:(t,e,n,r)=>t.typeKeywords.boolean.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),null:(t,e,n,r)=>t.typeKeywords.null.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r))};function n8e(t,e){const n=In(t);return n==="number"&&(e==="integer"||Array.isArray(e)&&e.includes("integer"))?Number.isInteger(t)||isNaN(t)?"integer":"number":n}function $J(t,e,n=t.rootSchema,r="#"){if(n=t.resolveRef(n),In(n)==="boolean")return n?[]:[t.errors.invalidDataError({pointer:r,schema:n,value:e})];if(js(n))return[n];if(n.const!==void 0)return TJ(n.const,e)?[]:[t.errors.constError({pointer:r,schema:n,value:e,expected:n.const})];const i=n8e(e,n.type),s=n.type||i;return i!==s&&(!Array.isArray(s)||!s.includes(i))?[t.errors.typeError({pointer:r,schema:n,value:e,received:i,expected:s})]:t.validateType[i]==null?[t.errors.invalidTypeError({pointer:r,schema:n,value:e,receivedType:i})]:qv(t.validateType[i](t,n,e,r)).filter(e3)}const r8e={typeKeywords:{array:["allOf","anyOf","enum","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["enum","not","allOf","anyOf","oneOf"],object:["additionalProperties","dependencies","enum","format","minProperties","maxProperties","patternProperties","properties","required","not","oneOf","allOf","anyOf"],string:["allOf","anyOf","enum","format","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","format","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:DJ,validateType:t8e,validateFormat:_J,errors:wJ,addRemoteSchema:yJ,compileSchema:TEe,createSchemaOf:Yu,each:OJ,eachSchema:Zk,getChildSchemaSelection:RJ,getSchema:SJ,getTemplate:AJ,isValid:EJ,resolveAllOf:cJ,resolveAnyOf:mJ,resolveOneOf:HK,resolveRef:hJ,step:PJ,validate:$J,templateDefaultOptions:U1.templateDefaultOptions};class IJ extends gJ{constructor(e,n={}){super(B7(r8e,n),e)}}const VQ="__compiled",XQ="__ref",i8e="getRef",s8e="getRoot",o8e=/(#|\/)+$/g;function a8e(t,e,n=e,r=!1){if(e===!0||e===!1||e===void 0||e[VQ]!==void 0)return e;const i={ids:{},remotes:t.remotes},s=JSON.stringify(e),o=JSON.parse(s);if(Object.defineProperty(o,VQ,{enumerable:!1,value:!0}),Object.defineProperty(o,i8e,{enumerable:!1,value:pf.bind(null,i,o)}),r===!1&&s.includes("$ref")===!1)return o;o!==n&&Object.defineProperty(o,"$defs",{enumerable:!0,value:Object.assign({},n.definitions,n.$defs,o.definitions,o.$defs)});const a={},l=()=>o;return Zk(o,(u,c)=>{var f;if(u.$id){if(u.$id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(c)){const b=c.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),v=kp.get(o,b);u.$id=(f=v.$id)!==null&&f!==void 0?f:u.$id}i.ids[u.$id.replace(o8e,"")]=c}c=`#${c}`.replace(/##+/,"#");const h=c.replace(/\/[^/]+$/,""),d=c.replace(/\/[^/]+\/[^/]+$/,""),m=a[h]||a[d],g=s3(m,u.$id);a[c]=g,i.ids[g]==null&&(i.ids[g]=c),u.$ref&&!u[XQ]&&(Object.defineProperty(u,XQ,{enumerable:!1,value:s3(g,u.$ref)}),Object.defineProperty(u,s8e,{enumerable:!1,value:l}))}),o}const l8e={...DJ,contains:(t,e,n,r)=>{if(e.contains===!1)return t.errors.containsArrayError({pointer:r,value:n,schema:e});if(e.contains===!0)return Array.isArray(n)&&n.length===0?t.errors.containsAnyError({pointer:r,value:n,schema:e}):void 0;if(In(e.contains)==="object"){for(let i=0;i<n.length;i+=1)if(t.isValid(n[i],e.contains))return;return t.errors.containsError({pointer:r,schema:e,value:n})}},exclusiveMaximum:(t,e,n,r)=>{if(!isNaN(e.exclusiveMaximum)&&e.exclusiveMaximum<=n)return t.errors.maximumError({maximum:e.exclusiveMaximum,length:n,pointer:r,schema:e,value:n})},exclusiveMinimum:(t,e,n,r)=>{if(!isNaN(e.exclusiveMinimum)&&e.exclusiveMinimum>=n)return t.errors.minimumError({minimum:e.exclusiveMinimum,length:n,pointer:r,schema:e,value:n})},if:NAe,maximum:(t,e,n,r)=>{if(!isNaN(e.maximum)&&e.maximum&&e.maximum<n)return t.errors.maximumError({maximum:e.maximum,length:n,pointer:r,schema:e,value:n})},minimum:(t,e,n,r)=>{if(!isNaN(e.minimum)&&e.minimum>n)return t.errors.minimumError({minimum:e.minimum,length:n,pointer:r,schema:e,value:n})},patternProperties:(t,e,n,r)=>{const i=e.properties||{},s=e.patternProperties;if(In(s)!=="object")return;const o=[],a=Object.keys(n),l=Object.keys(s).map(u=>({regex:new RegExp(u),patternSchema:s[u]}));return a.forEach(u=>{let c=!1;for(let f=0,h=l.length;f<h;f+=1)if(l[f].regex.test(u)){if(c=!0,l[f].patternSchema===!1){o.push(t.errors.patternPropertiesError({key:u,pointer:r,patterns:Object.keys(s).join(","),schema:e,value:n}));return}const d=t.validate(n[u],l[f].patternSchema,`${r}/${u}`);d&&d.length>0&&o.push(...d)}i[u]||c===!1&&e.additionalProperties===!1&&o.push(t.errors.patternPropertiesError({key:u,pointer:r,patterns:Object.keys(s).join(","),schema:e,value:n}))}),o},propertyNames:(t,e,n,r)=>{if(e.propertyNames===!1)return Object.keys(n).length===0?void 0:t.errors.invalidPropertyNameError({property:Object.keys(n),pointer:r,value:n,schema:e});if(e.propertyNames===!0||In(e.propertyNames)!=="object")return;const i=[],s=Object.keys(n),o={...e.propertyNames,type:"string"};return s.forEach(a=>{const l=t.validate(a,o,`${r}/${a}`);l.length>0&&i.push(t.errors.invalidPropertyNameError({property:a,pointer:r,validationError:l[0],value:n[a],schema:e}))}),i}},u8e={array:(t,e,n,r)=>t.typeKeywords.array.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),object:(t,e,n,r)=>t.typeKeywords.object.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),string:(t,e,n,r)=>t.typeKeywords.string.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),integer:(t,e,n,r)=>t.typeKeywords.number.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),number:(t,e,n,r)=>t.typeKeywords.number.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),boolean:(t,e,n,r)=>t.typeKeywords.boolean.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),null:(t,e,n,r)=>t.typeKeywords.null.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r))},FJ={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependencies","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","exclusiveMaximum","exclusiveMinimum","format","if","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:l8e,validateType:u8e,validateFormat:_J,errors:wJ,addRemoteSchema:yJ,compileSchema:a8e,createSchemaOf:Yu,each:OJ,eachSchema:Zk,getChildSchemaSelection:RJ,getSchema:SJ,getTemplate:AJ,isValid:EJ,resolveAllOf:cJ,resolveAnyOf:mJ,resolveOneOf:HK,resolveRef:hJ,step:PJ,validate:$J,templateDefaultOptions:U1.templateDefaultOptions};class MJ extends gJ{constructor(e,n={}){super(B7(FJ,n),e)}}({...FJ});function zu(t,e,n=[]){const r=document.createElement(t);return Object.entries(e).forEach(([i,s])=>{if(i==="text"){r.innerText=s;return}if(i==="inner"){r.innerHTML=s;return}r.setAttribute(i,s)}),n.forEach(i=>r.appendChild(i)),r}const c8e="modulepreload",f8e=function(t,e){return new URL(t,e).href},ZQ={},O6=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=u(n.map(c=>{if(c=f8e(c,r),c in ZQ)return;ZQ[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(r)for(let m=o.length-1;m>=0;m--){const g=o[m];if(g.href===c&&(!f||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":c8e,f||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),f)return new Promise((m,g)=>{d.addEventListener("load",m),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},WQ={};function h8e(t){let e=WQ[t];if(e)return e;e=WQ[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);e.push(r)}for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}function s1(t,e){typeof e!="string"&&(e=s1.defaultChars);const n=h8e(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(r){let i="";for(let s=0,o=r.length;s<o;s+=3){const a=parseInt(r.slice(s+1,s+3),16);if(a<128){i+=n[a];continue}if((a&224)===192&&s+3<o){const l=parseInt(r.slice(s+4,s+6),16);if((l&192)===128){const u=a<<6&1984|l&63;u<128?i+="ï¿½ï¿½":i+=String.fromCharCode(u),s+=3;continue}}if((a&240)===224&&s+6<o){const l=parseInt(r.slice(s+4,s+6),16),u=parseInt(r.slice(s+7,s+9),16);if((l&192)===128&&(u&192)===128){const c=a<<12&61440|l<<6&4032|u&63;c<2048||c>=55296&&c<=57343?i+="ï¿½ï¿½ï¿½":i+=String.fromCharCode(c),s+=6;continue}}if((a&248)===240&&s+9<o){const l=parseInt(r.slice(s+4,s+6),16),u=parseInt(r.slice(s+7,s+9),16),c=parseInt(r.slice(s+10,s+12),16);if((l&192)===128&&(u&192)===128&&(c&192)===128){let f=a<<18&1835008|l<<12&258048|u<<6&4032|c&63;f<65536||f>1114111?i+="ï¿½ï¿½ï¿½ï¿½":(f-=65536,i+=String.fromCharCode(55296+(f>>10),56320+(f&1023))),s+=9;continue}}i+="ï¿½"}return i})}s1.defaultChars=";/?:@&=+$,#";s1.componentChars="";const YQ={};function d8e(t){let e=YQ[t];if(e)return e;e=YQ[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}function WO(t,e,n){typeof e!="string"&&(n=e,e=WO.defaultChars),typeof n>"u"&&(n=!0);const r=d8e(e);let i="";for(let s=0,o=t.length;s<o;s++){const a=t.charCodeAt(s);if(n&&a===37&&s+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(s+1,s+3))){i+=t.slice(s,s+3),s+=2;continue}if(a<128){i+=r[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&s+1<o){const l=t.charCodeAt(s+1);if(l>=56320&&l<=57343){i+=encodeURIComponent(t[s]+t[s+1]),s++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(t[s])}return i}WO.defaultChars=";/?:@&=+$,-_.!~*'()#";WO.componentChars="-_.!~*'()";function V7(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function o3(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const p8e=/^([a-z0-9.+-]+:)/i,m8e=/:[0-9]*$/,g8e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,y8e=["<",">",'"',"`"," ","\r",`
`,"	"],b8e=["{","}","|","\\","^","`"].concat(y8e),v8e=["'"].concat(b8e),GQ=["%","/","?",";","#"].concat(v8e),HQ=["/","?","#"],O8e=255,KQ=/^[+a-z0-9A-Z_-]{0,63}$/,w8e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,JQ={javascript:!0,"javascript:":!0},eB={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function X7(t,e){if(t&&t instanceof o3)return t;const n=new o3;return n.parse(t,e),n}o3.prototype.parse=function(t,e){let n,r,i,s=t;if(s=s.trim(),!e&&t.split("#").length===1){const u=g8e.exec(s);if(u)return this.pathname=u[1],u[2]&&(this.search=u[2]),this}let o=p8e.exec(s);if(o&&(o=o[0],n=o.toLowerCase(),this.protocol=o,s=s.substr(o.length)),(e||o||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=s.substr(0,2)==="//",i&&!(o&&JQ[o])&&(s=s.substr(2),this.slashes=!0)),!JQ[o]&&(i||o&&!eB[o])){let u=-1;for(let m=0;m<HQ.length;m++)r=s.indexOf(HQ[m]),r!==-1&&(u===-1||r<u)&&(u=r);let c,f;u===-1?f=s.lastIndexOf("@"):f=s.lastIndexOf("@",u),f!==-1&&(c=s.slice(0,f),s=s.slice(f+1),this.auth=c),u=-1;for(let m=0;m<GQ.length;m++)r=s.indexOf(GQ[m]),r!==-1&&(u===-1||r<u)&&(u=r);u===-1&&(u=s.length),s[u-1]===":"&&u--;const h=s.slice(0,u);s=s.slice(u),this.parseHost(h),this.hostname=this.hostname||"";const d=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!d){const m=this.hostname.split(/\./);for(let g=0,b=m.length;g<b;g++){const v=m[g];if(v&&!v.match(KQ)){let O="";for(let x=0,C=v.length;x<C;x++)v.charCodeAt(x)>127?O+="x":O+=v[x];if(!O.match(KQ)){const x=m.slice(0,g),C=m.slice(g+1),S=v.match(w8e);S&&(x.push(S[1]),C.unshift(S[2])),C.length&&(s=C.join(".")+s),this.hostname=x.join(".");break}}}}this.hostname.length>O8e&&(this.hostname=""),d&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=s.indexOf("#");a!==-1&&(this.hash=s.substr(a),s=s.slice(0,a));const l=s.indexOf("?");return l!==-1&&(this.search=s.substr(l),s=s.slice(0,l)),s&&(this.pathname=s),eB[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};o3.prototype.parseHost=function(t){let e=m8e.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const _8e=Object.freeze(Object.defineProperty({__proto__:null,decode:s1,encode:WO,format:V7,parse:X7},Symbol.toStringTag,{value:"Module"})),LJ=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,NJ=/[\0-\x1F\x7F-\x9F]/,x8e=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Z7=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,QJ=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,BJ=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,S8e=Object.freeze(Object.defineProperty({__proto__:null,Any:LJ,Cc:NJ,Cf:x8e,P:Z7,S:QJ,Z:BJ},Symbol.toStringTag,{value:"Module"})),k8e=new Uint16Array('áµ<ÃÄ±ÊÒÕ»×ÙµÛÞ¢ßà à©àªà¶¡à¹­à¼à¼¦áá¨á¡ááááá¥\0\0\0\0\0\0á«áá¦á°á·á½¾â â°âââ»ââ ¤â¤â´â¹â¿ããºã¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à EMabcfglmnoprstu\\bfmsÂÂÂÂÂÂ¦Â³Â¹ÃÃligè»ÃäPè»&ä¦cuteè»Ãäreve;äÄiyx}rcè»Ãä;är;ìðraveè»Ãäpha;äacr;äd;æ©ÄgpÂÂ¡on;äf;ìð¸plyFunction;æ¡ingè»ÃäÄcsÂ¾Ãr;ìðign;æildeè»Ãämlè»ÃäÐaceforsuÃ¥Ã»Ã¾ÄÄÄ¢Ä§ÄªÄcrÃªÃ²kslash;æÅ¶Ã¶Ã¸;æ«§ed;æy;äÆcrtÄÄÄause;æµnoullis;æ¬a;är;ìðpf;ìð¹eve;äcÃ²Ämpeq;æÜHOacdefhilorsuÅÅÅÆÆÆ¢ÆµÆ·ÆºÇÈÉ³É¸É¾cy;ä§PYè»Â©ä©ÆcpyÅÅ¢Åºute;äÄ;iÅ§Å¨ætalDifferentialD;æleys;æ­ÈaeioÆÆÆÆron;ädilè»Ãärc;änint;æ°ot;äÄdnÆ§Æ­illa;ä¸terDot;ä·Ã²Å¿i;ä§rcleÈDMPTÇÇÇÇot;æinus;ælus;æimes;æoÄcsÇ¢Ç¸kwiseContourIntegral;æ²eCurlyÄDQÈÈoubleQuote;æuote;æÈlnpuÈÈ¨ÉÉonÄ;eÈ¥È¦æ·;æ©´ÆgitÈ¯È¶Èºruent;æ¡nt;æ¯ourIntegral;æ®ÄfrÉÉ;æoduct;ænterClockwiseContourIntegral;æ³oss;æ¨¯cr;ìðpÄ;CÊÊæap;æÖDJSZacefiosÊ Ê¬Ê°Ê´Ê¸ËËË¡Ë¦Ì³ÒÄ;oÅ¹Ê¥trahd;æ¤cy;äcy;äcy;äÆgrsÊ¿ËËger;æ¡r;æ¡hv;æ«¤ÄayËËron;ä;älÄ;tËËæa;är;ìðÄafË«Ì§ÄcmË°Ì¢riticalÈADGTÌÌÌÌcute;ä´oÅ´ÌÌ;äbleAcute;ärave;ä ilde;äond;æferentialD;æÑ°Ì½\0\0\0ÍÍ\0Ðf;ìð»Æ;DEÍÍÍä¨ot;æqual;æbleÌCDLRUVÍ£Í²ÎÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»ÍnArrow;æÄeoÎÎ¤ftÆARTÎÎÎ¡rrow;æightArrow;æeÃ¥ËngÄLRÎ«ÏeftÄARÎ³Î¹rrow;æ¸ightArrow;æºightArrow;æ¹ightÄATÏÏrrow;æee;æ¨pÉÏ©\0\0Ï¯rrow;æownArrow;æerticalBar;æ¥nÌABLRTaÐÐªÐ°ÑÑ¿Í¼rrowÆ;BUÐÐÐ¢æar;æ¤pArrow;æµreve;äeftËÐº\0Ñ\0ÑightVector;æ¥eeVector;æ¥ectorÄ;BÑÑæ½ar;æ¥ightÇÑ§\0Ñ±eeVector;æ¥ectorÄ;BÑºÑ»æar;æ¥eeÄ;AÒÒæ¤rrow;æ§ÄctÒÒr;ìðrok;äà NTacdfglmopqstuxÒ½ÓÓÓÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶ÕÕÕ Õ¥G;äHè»Ãäcuteè»ÃäÆaiyÓÓÓron;ärcè»Ãä;ä­ot;är;ìðraveè»Ãäement;æÄapÓºÓ¾cr;ätyÉÔ\0\0ÔmallSquare;æ»erySmallSquare;æ«ÄgpÔ¦Ôªon;äf;ìð¼silon;äuÄaiÔ¼ÕlÄ;TÕÕæ©µilde;ælibrium;æÄciÕÕr;æ°m;æ©³a;ämlè»ÃäÄipÕªÕ¯sts;æonentialE;æÊcfiosÖÖÖÖ²×y;ä¤r;ìðlledÉÖ\0\0Ö£mallSquare;æ¼erySmallSquare;æªÍ°Öº\0Ö¿\0\0×f;ìð½All;æriertrf;æ±cÃ²×ØJTabcdfgorst×¨×¬×¯×ºØØØØØØ£Ù¬Ù²cy;äè»>ä¾mmaÄ;d×·×¸ä;äreve;äÆeiyØØØdil;ä¢rc;ä;äot;ä r;ìð;æpf;ìð¾eaterÌEFGLSTØµÙÙÙÙÙ¦qualÄ;LØ¾Ø¿æ¥ess;æullEqual;æ§reater;æª¢ess;æ·lantEqual;æ©¾ilde;æ³cr;ìð¢;æ«ÐAacfiosuÚÚÚÚÚÚªÚ¾ÛRDcy;äªÄctÚÚek;ä;äirc;ä¤r;ælbertSpace;æÇ°Ú¯\0Ú²f;æizontalLine;æÄctÛÛÃ²Ú©rok;ä¦mpÅÛÛownHumÃ°Ä¯qual;æÜEJOacdfgmnostuÛºÛ¾ÜÜÜÜÜÜ¡Ü¨ÝÝ¸ÞÞÞcy;älig;ä²cy;äcuteè»ÃäÄiyÜÜrcè»Ãä;äot;ä°r;æraveè»ÃäÆ;apÜ Ü¯Ü¿ÄcgÜ´Ü·r;äªinaryI;ælieÃ³ÏÇ´Ý\0Ý¢Ä;eÝÝæ¬ÄgrÝÝral;æ«section;æisibleÄCTÝ¬Ý²omma;æ£imes;æ¢ÆgptÝ¿ÞÞon;ä®f;ìða;äcr;æilde;ä¨Ç«Þ\0Þcy;älè»ÃäÊcfosuÞ¬Þ·Þ¼ßßÄiyÞ±Þµrc;ä´;är;ìðpf;ìðÇ£ß\0ßr;ìð¥rcy;äkcy;äÎHJacfosß¤ß¨ß¬ß±ß½à à cy;ä¥cy;äppa;äÄeyß¶ß»dil;ä¶;är;ìðpf;ìðcr;ìð¦ÖJTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§à§à¨·à©cy;äè»<ä¼Êcmnprà ·à ¼à¡à¡à¡ute;ä¹bda;äg;æªlacetrf;ær;æÆaeyà¡à¡à¡¡ron;ä½dil;ä»;äÄfsà¡¨à¥°tÔACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥Îà¥ªÄnrà¢à¢gleBracket;æ¨rowÆ;BRà¢à¢à¢æar;æ¤ightArrow;æeiling;æoÇµà¢·\0à£bleBracket;æ¦nÇà£\0à£eeVector;æ¥¡ectorÄ;Bà£à£æar;æ¥loor;æightÄAVà£¯à£µrrow;æector;æ¥Äerà¤à¤eÆ;AVà¤à¤à¤æ£rrow;æ¤ector;æ¥iangleÆ;BEà¤¤à¤¥à¤©æ²ar;æ§qual;æ´pÆDTVà¤·à¥à¥ownVector;æ¥eeVector;æ¥ ectorÄ;Bà¥à¥æ¿ar;æ¥ectorÄ;Bà¥¥à¥¦æ¼ar;æ¥ightÃ¡ÎsÌEFGLSTà¥¾à¦à¦à¦à¦¢à¦­qualGreater;æullEqual;æ¦reater;æ¶ess;æª¡lantEqual;æ©½ilde;æ²r;ìðÄ;eà¦½à¦¾æftarrow;æidot;ä¿Ænpwà§à¨à¨gÈLRlrà§à§·à¨à¨eftÄARà§¦à§¬rrow;æµightArrow;æ·ightArrow;æ¶eftÄarÎ³à¨ightÃ¡Î¿ightÃ¡Ïf;ìðerÄLRà¨¢à¨¬eftArrow;æightArrow;æÆchtà¨¾à©à©Ã²à¡;æ°rok;ä;æªÐacefiosuà©à©à© à©·à©¼àªàªàªp;æ¤y;äÄdlà©¥à©¯iumSpace;ælintrf;æ³r;ìðnusPlus;æpf;ìðcÃ²à©¶;äÒJacefostuàª£àª§àª­à«à¬à¬à¶à¶à¶cy;äcute;äÆaeyàª´àª¹àª¾ron;ädil;ä;äÆgswà«à«°à¬ativeÆMTVà«à«à«¨ediumSpace;æhiÄcnà«¦à«Ã«à«eryThiÃ®à«tedÄGLà«¸à¬reaterGreateÃ²Ù³essLesÃ³à©Line;är;ìðÈBnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä f;æÚ;CDEGHLNPRSTVà­à­à­ªà­¼à®¡à¯«à°à±à²à²¦à³àµ¡à¶æ«¬Äouà­à­¤ngruent;æ¢pCap;æ­oubleVerticalBar;æ¦Ælqxà®à®à®ement;æualÄ;Tà®à®æ ilde;ìâÌ¸ists;æreaterÎ;EFGLSTà®¶à®·à®½à¯à¯à¯à¯¥æ¯qual;æ±ullEqual;ìâ§Ì¸reater;ìâ«Ì¸ess;æ¹lantEqual;ìâ©¾Ì¸ilde;æµumpÅà¯²à¯½ownHump;ìâÌ¸qual;ìâÌ¸eÄfsà°à°§tTriangleÆ;BEà°à°à°¡æªar;ìâ§Ì¸qual;æ¬sÌ;EGLSTà°µà°¶à°¼à±à±à±æ®qual;æ°reater;æ¸ess;ìâªÌ¸lantEqual;ìâ©½Ì¸ilde;æ´estedÄGLà±¨à±¹reaterGreater;ìâª¢Ì¸essLess;ìâª¡Ì¸recedesÆ;ESà²à²à²æqual;ìâª¯Ì¸lantEqual;æ Äeià²«à²¹verseElement;æghtTriangleÆ;BEà³à³à³æ«ar;ìâ§Ì¸qual;æ­Äquà³à´uareSuÄbpà³¨à³¹setÄ;Eà³°à³³ìâÌ¸qual;æ¢ersetÄ;Eà´à´ìâÌ¸qual;æ£Æbcpà´à´¤àµsetÄ;Eà´à´ìââqual;æceedsÈ;ESTà´²à´³à´»àµæqual;ìâª°Ì¸lantEqual;æ¡ilde;ìâ¿Ì¸ersetÄ;Eàµàµìââqual;æildeÈ;EFTàµ®àµ¯àµµàµ¿æqual;æullEqual;æilde;æerticalBar;æ¤cr;ìð©ildeè»Ãä;äÜEacdfgmoprstuvà¶½à·à·à·à·à· à·§à·¼à¸à¸ à¸¢à¸²à¸¿à¹lig;äcuteè»ÃäÄiyà·à·rcè»Ãä;äblac;är;ìðraveè»ÃäÆaeià·®à·²à·¶cr;äga;ä©cron;äpf;ìðenCurlyÄDQà¸à¸oubleQuote;æuote;æ;æ©Äclà¸§à¸¬r;ìðªashè»ÃäiÅ¬à¸·à¸¼deè»Ãäes;æ¨·mlè»ÃäerÄBPà¹à¹ Äarà¹à¹r;æ¾acÄekà¹à¹;æet;æ´arenthesis;æÒacfhilorsà¹¿àºàºàºàºàºàºàº°à»¼rtialD;æy;är;ìði;ä¦;ä usMinus;ä±Äipàº¢àº­ncareplanÃ¥Úf;æÈ;eioàº¹àººà» à»¤æª»cedesÈ;ESTà»à»à»à»æºqual;æª¯lantEqual;æ¼ilde;æ¾me;æ³Ädpà»©à»®uct;æortionÄ;aÈ¥à»¹l;æÄcià¼à¼r;ìð«;ä¨ÈUfosà¼à¼à¼à¼OTè»"ä¢r;ìðpf;æcr;ìð¬ØBEacefhiorsuà¼¾à½à½à½ à½³à¾§à¾ªà¾­áá©á´á¾arr;æ¤Gè»Â®ä®Æcnrà½à½à½ute;äg;æ«rÄ;tà½à½æ l;æ¤Æaeyà½§à½¬à½±ron;ädil;ä;ä Ä;và½¸à½¹æerseÄEUà¾à¾Älqà¾à¾ement;æuilibrium;æpEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtÐACDFTUVaà¿à¿«à¿³á¢á¨ááÏÄnrà¿à¿gleBracket;æ©rowÆ;BLà¿à¿à¿¡æar;æ¥eftArrow;æeiling;æoÇµà¿¹\0ábleBracket;æ§nÇá\0áeeVector;æ¥ectorÄ;Bááæar;æ¥loor;æÄerá­áeÆ;AVáµá¶á¼æ¢rrow;æ¦ector;æ¥iangleÆ;BEáááæ³ar;æ§qual;æµpÆDTVá£á®á¸ownVector;æ¥eeVector;æ¥ectorÄ;Bááæ¾ar;æ¥ectorÄ;Bááæar;æ¥Äpuááf;ændImplies;æ¥°ightarrow;æÄchá¹á¼r;æ;æ±leDelayed;æ§´ÚHOacfhimoqstuá¤á±á·á½ááááá¡á§áµá»á¿ÄCcá©á®Hcy;ä©y;ä¨FTcy;ä¬cute;äÊ;aeiyáááááæª¼ron;ä dil;ärc;ä;ä¡r;ìðortÈDLRUáªá´á¾áownArrowÂ»ÐeftArrowÂ»à¢ightArrowÂ»à¿pArrow;ægma;ä£allCircle;æpf;ìðÉ²á­\0\0á°t;æareÈ;ISUá»á¼áá¯æ¡ntersection;æuÄbpáásetÄ;Eááæqual;æersetÄ;Eá¨á©æqual;ænion;æcr;ìð®ar;æÈbcmpááááÄ;sááæetÄ;Eááqual;æÄchá áeedsÈ;ESTá­á®á´á¿æ»qual;æª°lantEqual;æ½ilde;æ¿ThÃ¡à¾;æÆ;esááá£ærsetÄ;Eááæqual;æetÂ»áÖHRSacfhiorsá¾ááááá±á¶ááááORNè»ÃäADE;æ¢ÄHcáácy;äy;ä¦Äbuáá;ä;ä¤Æaeyá¥áªá¯ron;ä¤dil;ä¢;ä¢r;ìðÄeiá»áÇ²á\0áefore;æ´a;äÄcnáákSpace;ìââSpace;ældeÈ;EFTá«á¬á²á¼æ¼qual;æullEqual;æilde;æpf;ìðipleDot;æÄctáár;ìð¯rok;ä¦à«¡á·ááá¦\0á¬á±\0\0\0\0\0á¸á½á·á\0á¿áááÄcrá»áuteè»ÃärÄ;oááæcir;æ¥rÇ£á\0áy;äve;ä¬Äiyáá£rcè»Ãä;ä£blac;ä°r;ìðraveè»Ãäacr;äªÄdiáá©erÄBPááÄaráár;äacÄekáá;æet;æµarenthesis;æonÄ;Pá°á±ælus;æÄgpá»á¿on;ä²f;ìðÐADETadpsáá®á¸áÏ¨ááá³rrowÆ;BDáá á¤ar;æ¤ownArrow;æownArrow;æquilibrium;æ¥®eeÄ;Aááæ¥rrow;æ¥ownÃ¡Ï³erÄLRáá¨eftArrow;æightArrow;æiÄ;lá¹áºäon;ä¥ing;ä®cr;ìð°ilde;ä¨mlè»ÃäÒDbcdefosvá§á¬á°á³á¾ááááash;æ«ar;æ««y;äashÄ;lá»á¼æ©;æ«¦Äeráá;æÆbtyáááºar;æÄ;iáácalÈBLSTá¡á¥áªá´ar;æ£ine;ä¼eparator;æilde;æThinSpace;ær;ìðpf;ìðcr;ìð±dash;æªÊcefosá§á¬á±á¶á¼irc;ä´dge;ær;ìðpf;ìðcr;ìð²Èfiosáááár;ìð;äpf;ìðcr;ìð³ÒAIUacfosuá±áµá¹á½ááááá cy;ä¯cy;äcy;ä®cuteè»ÃäÄiyáárc;ä¶;ä«r;ìðpf;ìðcr;ìð´ml;ä¸ÐHacdefosáµá¹á¿áááá á¤cy;äcute;ä¹Äayááron;ä½;äot;ä»Ç²á\0áoWidtÃ¨à«a;är;æ¨pf;æ¤cr;ìðµà¯¡ááá\0á°á¶á¿\0\0\0\0ááá«áá­\0ááá²á¹\0á¾cuteè»Ã¡ä¡reve;äÌ;Ediuyááá¡á£á¨á­æ¾;ìâ¾Ì³;æ¿rcè»Ã¢ä¢teè»Â´Ì;ä°ligè»Ã¦ä¦Ä;rÂ²áº;ìðraveè»Ã ä ÄepááÄfpáásym;æµÃ¨áha;ä±ÄapácÄclá¤á§r;äg;æ¨¿É¤á°\0\0áÊ;adsváºá»á¿ááæ§nd;æ©;æ©lope;æ©;æ©Î;elmrszááááá¿ááæ ;æ¦¤eÂ»ásdÄ;aá¥á¦æ¡Ñ¡á°á²á´á¶á¸áºá¼á¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ;vááæbÄ;dááæ¾;æ¦Äptááh;æ¢Â»Â¹arr;æ¼Ägpá£á§on;äf;ìðÎ;Eaeiopáá»á½áááá;æ©°cir;æ©¯;æd;æs;ä§roxÄ;eááÃ±áingè»Ã¥ä¥Æctyá¡á¦á¨r;ìð¶;äªmpÄ;eáá¯Ã±Êildeè»Ã£ä£mlè»Ã¤ä¤ÄciááoninÃ´É²nt;æ¨à Nabcdefiklnoprsuá­á±á°á¼ááá¸á½á á¦á ¹á¡áá¤½á¥á¥°ot;æ«­Äcrá¶ákÈcepsááááong;æpsilon;ä¶rime;æµimÄ;eááæ½q;æÅ¶á¢á¦ee;æ½edÄ;gá¬á­æeÂ»á­rkÄ;táá·brk;æ¶Äoyáá;ä±quo;æÊcmprtááá¡á¤á¨ausÄ;eÄÄptyv;æ¦°sÃ©ánoÃµÄÆahwá¯á±á³;ä²;æ¶een;æ¬r;ìðgÎcostuvwááá³ááááÆaiuáááÃ°Ý rc;æ¯pÂ»á±Ædptá¤á¨á­ot;æ¨lus;æ¨imes;æ¨É±á¹\0\0á¾cup;æ¨ar;æriangleÄduááown;æ½p;æ³plus;æ¨eÃ¥áÃ¥á­arow;æ¤Æakoá­á ¦á µÄcná²á £kÆlstáºÖ«á ozenge;æ§«riangleÈ;dlrá á á á æ´own;æ¾eft;æight;æ¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ;æ4;æck;æÄeoá ¾á¡Ä;qá¡á¡ì=â¥uiv;ìâ¡â¥t;æÈptwxá¡á¡á¡§á¡¬f;ìðÄ;táá¡£omÂ»átie;æØDHUVbdhmptuvá¢á¢á¢ªá¢»á£á£á£¬á£¿á¤á¤á¤á¤¡ÈLRlrá¢á¢á¢á¢;æ;æ;æ;æÊ;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ;æ¦;æ©;æ¤;æ§ÈLRlrá¢³á¢µá¢·á¢¹;æ;æ;æ;æÎ;HLRhlrá£á£á£á£á£á£á£æ;æ¬;æ£;æ ;æ«;æ¢;æox;æ§ÈLRlrá£¤á£¦á£¨á£ª;æ;æ;æ;æÊ;DUduÚ½á£·á£¹á£»á£½;æ¥;æ¨;æ¬;æ´inus;ælus;æimes;æ ÈLRlrá¤á¤á¤á¤;æ;æ;æ;æÎ;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ;æª;æ¡;æ;æ¼;æ¤;æÄevÄ£á¥barè»Â¦ä¦Èceioá¥á¥á¥á¥ r;ìð·mi;æmÄ;eáálÆ;bhá¥¨á¥©á¥«ä;æ§sub;æÅ¬á¥´á¥¾lÄ;eá¥¹á¥ºæ¢tÂ»á¥ºpÆ;EeÄ¯á¦á¦;æª®Ä;qÛÛà³¡á¦§\0á§¨á¨á¨á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­\0á¯½\0á°Æcprá¦­á¦²á§ute;äÌ;abcdsá¦¿á§á§á§á§á§æ©nd;æ©rcup;æ©Äauá§á§p;æ©p;æ©ot;æ©;ìâ©ï¸Äeoá§¢á§¥t;æÃ®ÚÈaeiuá§°á§»á¨á¨Ç°á§µ\0á§¸s;æ©on;ädilè»Ã§ä§rc;äpsÄ;sá¨á¨æ©m;æ©ot;äÆdmná¨á¨ á¨¦ilè»Â¸Æ­ptyv;æ¦²tèÂ¢;eá¨­á¨®ä¢rÃ¤Æ²r;ìð Æceiá¨½á©á©y;äckÄ;má©á©æarkÂ»á©;ärÎ;Ecefmsá©á© á©¢á©«áª¤áªªáª®æ;æ§Æ;elá©©á©ªá©­äq;æeÉ¡á©´\0\0áªrrowÄlrá©¼áªeft;æºight;æ»ÊRSacdáªáªáªáªáªÂ»à½;æst;æirc;æash;ænint;æ¨id;æ«¯cir;æ§ubsÄ;uáª»áª¼æ£itÂ»áª¼Ë¬á«á«á«º\0á¬onÄ;eá«á«äºÄ;qÃÃÉ­á«\0\0á«¢aÄ;tá«á«ä¬;äÆ;flá«¨á«©á««æÃ®á eÄmxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬Ä;dá»á¬ot;æ©­nÃ´ÉÆfryá¬á¬á¬;ìðoÃ¤ÉèÂ©;sÅá¬r;æÄaoá¬¥á¬©rr;æµss;æÄcuá¬²á¬·r;ìð¸Äbpá¬¼á­Ä;eá­á­æ«;æ«Ä;eá­á­æ«;æ«dot;æ¯Îdelprvwá­ á­¬á­·á®á®¬á¯á¯¹arrÄlrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æc;æarrÄ;pá­¿á®æ¶;æ¤½Ì;bcdosá®á®á®á®¡á®¥á®¨æªrcap;æ©Äauá®á®p;æ©p;æ©ot;ær;æ©;ìâªï¸Èalrvá®µá®¿á¯á¯£rrÄ;má®¼á®½æ·;æ¤¼yÆevwá¯á¯á¯qÉ°á¯\0\0á¯reÃ£á­³uÃ£á­µee;æedge;æenè»Â¤ä¤earrowÄlrá¯®á¯³eftÂ»á®ightÂ»á®½eÃ¤á¯Äciá°á°oninÃ´Ç·nt;æ±lcty;æ­à¦AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²á²á²¬á²·á³»á³¿á´áµ»á¶á¶«á¶»á·á·rÃ²Îar;æ¥¥Èglrsá±á±á±á±ger;æ eth;æ¸Ã²á³hÄ;vá±á±æÂ»à¤Å«á±¡á±§arow;æ¤aÃ£ÌÄayá±®á±³ron;ä;ä´Æ;aoÌ²á±¼á²ÄgrÊ¿á²r;ætseq;æ©·Æglmá²á²á²è»Â°ä°ta;ä´ptyv;æ¦±Äirá²£á²¨sht;æ¥¿;ìð¡arÄlrá²³á²µÂ»à£Â»áÊaegsvá³Í¸á³á³á³ mÆ;osÌ¦á³á³ndÄ;sÌ¦á³uit;æ¦amma;äin;æ²Æ;ioá³§á³¨á³¸ä·deèÃ·;oá³§á³°ntimes;ænÃ¸á³·cy;äcÉ¯á´\0\0á´rn;æop;æÊlptuwá´á´á´¢áµáµlar;ä¤f;ìðÊ;empsÌá´­á´·á´½áµqÄ;dÍá´³ot;æinus;æ¸lus;æquare;æ¡blebarwedgÃ¥ÃºnÆadhá®áµáµ§ownarrowÃ³á²arpoonÄlráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶karoÃ·à½É¯á¶\0\0á¶rn;æop;æÆcotá¶á¶£á¶¦Äryá¶á¶¡;ìð¹;äl;æ§¶rok;äÄdrá¶°á¶´ot;æ±iÄ;fá¶ºá æ¿Äahá·á·rÃ²Ð©aÃ²à¾¦angle;æ¦¦Äciá·á·y;ägrarr;æ¿à¤Dacdefglmnopqrstuxá¸á¸á¸á¸¸Õ¸á¸¼á¹á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½á½á½ÄDoá¸á´´oÃ´á²Äcsá¸á¸uteè»Ã©ä©ter;æ©®Èaioyá¸¢á¸§á¸±á¸¶ron;ärÄ;cá¸­á¸®æè»Ãªäªlon;æ;äot;äÄDrá¹á¹ot;æ;ìð¢Æ;rsá¹á¹á¹æªaveè»Ã¨ä¨Ä;dá¹á¹æªot;æªÈ;ilsá¹ªá¹«á¹²á¹´æªnters;æ§;æÄ;dá¹¹á¹ºæªot;æªÆapsáºáºáºcr;ätyÆ;sváºáºáºæetÂ»áºpÄ1;áºáº¤Ä³áº¡áº£;æ;ææÄgsáºªáº¬;äp;æÄgpáº´áº¸on;äf;ìðÆalsá»á»á»rÄ;sá»á»æl;æ§£us;æ©±iÆ;lvá»á»á»äµonÂ»á»;äµÈcsuvá»ªá»³á¼á¼£Äioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕantÄglá¼á¼trÂ»á¹essÂ»á¹ºÆaeiá¼á¼á¼ls;ä½st;ævÄ;DÈµá¼ D;æ©¸parsl;æ§¥ÄDaá¼¯á¼³ot;ærr;æ¥±Æcdiá¼¾á½á»¸r;æ¯oÃ´ÍÄahá½á½;ä·è»Ã°ä°Ämrá½á½lè»Ã«ä«o;æ¬Æcipá½¡á½¤á½§l;ä¡sÃ´Õ®Äeoá½¬á½´ctatioÃ®ÕnentialÃ¥Õ¹à§¡á¾\0á¾\0á¾¡á¾§\0\0á¿á¿\0á¿\0á¿¦á¿ªâ\0ââllingdotseÃ±á¹y;ämale;æÆilrá¾­á¾³á¿lig;èï¬É©á¾¹\0\0á¾½g;èï¬ig;èï¬;ìð£lig;èï¬lig;ìfjÆaltá¿á¿á¿¡t;æ­ig;èï¬ns;æ±of;äÇ°á¿®\0á¿³f;ìðÄakÖ¿á¿·Ä;vá¿¼á¿½æ;æ«artint;æ¨ÄaoââÄcsââÎ±ââ°â¸ââ\0âÎ²â¢â¥â§âªâ¬\0â®è»Â½ä½;æè»Â¼ä¼;æ;æ;æÆ³â´\0â¶;æ;æÊ´â¾â\0\0âè»Â¾ä¾;æ;æ5;æÆ¶â\0â;æ;æ8;æl;æwn;æ¢cr;ìð»à¢Eabcdefgijlnorstvââââ¥â°â´â°âµâºâ¿âââ¸Ìâ¾ââÄ;lÙâ;æªÆcmpâââute;äµmaÄ;dâá³ä³;æªreve;äÄiyâªâ®rc;ä;ä³ot;ä¡È;lqsØ¾Ùâ½âÆ;qsØ¾ÙâlanÃ´Ù¥È;cdlÙ¥âââ¥c;æª©otÄ;oââæªÄ;lâ¢â£æª;æªÄ;eâªâ­ìâï¸s;æªr;ìð¤Ä;gÙ³Ømel;æ·cy;äÈ;EajÙâââ;æª;æª¥;æª¤ÈEaesâââ©â´;æ©pÄ;pâ£â¤æªroxÂ»â¤Ä;qâ®â¯æªÄ;qâ®âim;æ§pf;ìðÄciââr;æmÆ;elÙ«ââ;æª;æªè>;cdlqr×®â âªâ®â³â¹Äciâ¥â§;æª§r;æ©ºot;æPar;æ¦uest;æ©¼ÊadelsââªâÙâÇ°â\0âproÃ¸âr;æ¥¸qÄlqØ¿âlesÃ³âiÃ­Ù«Äenâ£â­rtneqq;ìâ©ï¸ÃâªÔAabcefkosyâââ±âµâºâââ¯â¨â½rÃ²Î ÈilmrâââârsÃ°áfÂ»â¤ilÃ´Ú©Ädrâ â¤cy;äÆ;cwà£´â«â¯ir;æ¥;æ­ar;æirc;ä¥ÆalrââârtsÄ;uââæ¥itÂ»âlip;æ¦con;æ¹r;ìð¥sÄewâ£â©arow;æ¤¥arow;æ¤¦Êamoprâºâ¾âââ£rr;æ¿tht;æ»kÄlrââeftarrow;æ©ightarrow;æªf;ìðbar;æÆcltâ¯â´â¸r;ìð½asÃ¨â´rok;ä§Äbpââull;æhenÂ»á±à«¡â£\0âª\0â¸ââ\0ââ³\0\0â¸â¢â§â¢â¿\0ââªâ´cuteè»Ã­ä­Æ;iyÝ±â°âµrcè»Ã®ä®;ä¸Äcxâ¼â¿y;äµclè»Â¡ä¡ÄfrÎâ;ìð¦raveè»Ã¬ä¬È;inoÜ¾ââ©â®Äinâ¢â¦nt;æ¨t;æ­fin;æ§ta;æ©lig;ä³Æaopâ¾ââÆcgtâââr;ä«ÆelpÜââinÃ¥ÞarÃ´Ü h;ä±f;æ·ed;äµÊ;cfotÓ´â¬â±â½âare;æinÄ;tâ¸â¹æie;æ§doÃ´âÊ;celpÝââââ¡al;æºÄgrââerÃ³á£Ã£âarhk;æ¨rod;æ¨¼Ècgptâ¯â²â¶â»y;äon;ä¯f;ìða;ä¹uestè»Â¿ä¿Äciââr;ìð¾nÊ;EdsvÓ´âââ¡Ó³;æ¹ot;æµÄ;vâ¦â§æ´;æ³Ä;iÝ·â®lde;ä©Ç«â¸\0â¼cy;älè»Ã¯ä¯Ìcfmosuââââ¡â§âµÄiyâârc;äµ;ä¹r;ìð§ath;ä·pf;ìðÇ£â¬\0â±r;ìð¿rcy;äkcy;äÐacfghjosâââ¢â§â­â±âµâ»ppaÄ;vââäº;ä°Äeyââ dil;ä·;äºr;ìð¨reen;ä¸cy;äcy;äpf;ìðcr;ìðà®ABEHabcdefghjlmnoprstuvâ°ââââââ½âââââ¥â¹â½ââ²âââ¨âââ â Æartâ·âºâ¼rÃ²à§Ã²Îail;æ¤arr;æ¤Ä;gà¦â;æªar;æ¥¢à¥£â¥\0âª\0â±\0\0\0\0\0âµâº\0âââ\0â¹ute;äºmptyv;æ¦´raÃ®à¡bda;ä»gÆ;dlà¢ââ;æ¦Ã¥à¢;æªuoè»Â«ä«rÐ;bfhlpstà¢ââ¦â©â«â®â±âµÄ;fà¢â£s;æ¤s;æ¤Ã«âp;æ«l;æ¤¹im;æ¥³l;æ¢Æ;aeâ¿ââæª«il;æ¤Ä;sââæª­;ìâª­ï¸Æabrââârr;æ¤rk;æ²Äakâ¢â¬cÄekâ¨âª;ä»;äÄesâ±â³;æ¦lÄduâ¹â»;æ¦;æ¦Èaeuyââââron;ä¾Ädiââil;ä¼Ã¬à¢°Ã¢â©;ä»Ècqrsâ£â¦â­â½a;æ¤¶uoÄ;rà¸áÄduâ²â·har;æ¥§shar;æ¥h;æ²Ê;fgqsââà¦â³â¿æ¤tÊahlrtââ¤â·ââ¨rrowÄ;tà¢â¡aÃ©â¶arpoonÄduâ¯â´ownÂ»ÑpÂ»à¥¦eftarrows;æightÆahsââârrowÄ;sà£´à¢§arpoonÃ³à¾quigarroÃ·â°hreetimes;æÆ;qsâà¦âºlanÃ´à¦¬Ê;cdgsà¦¬ââââ¨c;æª¨otÄ;oââæ©¿Ä;rââæª;æªÄ;eâ¢â¥ìâï¸s;æªÊadegsâ³â¹â½ââpproÃ¸âot;æqÄgqââÃ´à¦gtÃ²âÃ´à¦iÃ­à¦²Æilrâà£¡âsht;æ¥¼;ìð©Ä;Eà¦â£;æªÅ¡â©â¶rÄduâ²â®Ä;là¥¥â³;æ¥ªlk;æcy;äÊ;achtà©âââârÃ²âorneÃ²á´ard;æ¥«ri;æºÄioââ¤dot;äustÄ;aâ¬â­æ°cheÂ»â­ÈEaesâ»â½ââ;æ¨pÄ;pââæªroxÂ»âÄ;qââæªÄ;qââ»im;æ¦Ðabnoptwzâ©â´â·ââ¯âââÄnrâ®â±g;æ¬r;æ½rÃ«à£gÆlmrâ¿ââeftÄarà§¦âightÃ¡à§²apsto;æ¼ightÃ¡à§½parrowÄlrâ¥â©efÃ´â­ight;æ¬Æaflâ¶â¹â½r;æ¦;ìðus;æ¨­imes;æ¨´Å¡ââst;æÃ¡áÆ;efââá ængeÂ»âarÄ;lâ¤â¥ä¨t;æ¦Êachmtâ³â¶â¼âârÃ²à¢¨orneÃ²á¶arÄ;dà¾â;æ¥­;æri;æ¿Ìachiqtââà©â¢â®â»quo;æ¹r;ìðmÆ;egà¦²âªâ¬;æª;æªÄbuâªâ³oÄ;rà¸â¹;ærok;äè<;cdhilqrà «ââ¹ââ â¥âªâ°Äciââ;æª¦r;æ©¹reÃ¥â²mes;æarr;æ¥¶uest;æ©»ÄPiâµâ¹ar;æ¦Æ;efâ à¤­á ærÄduâ â shar;æ¥har;æ¥¦Äenâ â ¡rtneqq;ìâ¨ï¸Ãâ ÜDacdefhilnopsuâ¡â¡â¢â¢â¢â¢ â¢¥â¢¨â£â£¢â£¤àªâ£³â¤Dot;æºÈclprâ¡â¡â¡£â¡½rè»Â¯ä¯Äetâ¡â¡;æÄ;eâ¡â¡æ seÂ»â¡Ä;sá»â¡¨toÈ;dluá»â¡³â¡·â¡»owÃ®ÒefÃ´à¤Ã°áker;æ®Äoyâ¢â¢mma;æ¨©;ä¼ash;æasuredangleÂ»á¦r;ìðªo;æ§Æcdnâ¢¯â¢´â£roè»ÂµäµÈ;acdá¤â¢½â£â£sÃ´á§ir;æ«°otè»Â·ÆµusÆ;bdâ£á¤â£æÄ;uá´¼â£;æ¨ªÅ£â£â£¡p;æ«Ã²âÃ°àªÄdpâ£©â£®els;æ§f;ìðÄctâ£¸â£½r;ìðposÂ»áÆ;lmâ¤â¤â¤ä¼timap;æ¸à°GLRVabcdefghijlmoprstuvwâ¥â¥â¥¾â¦â¦â§â§©â¨â¨â©â©âªâªâª¤âª¨â¬â¬â­â­¿â®®â°´â±§â±¼â³©Ägtâ¥â¥;ìâÌ¸Ä;vâ¥à¯ìâ«âÆeltâ¥â¥²â¥¶ftÄarâ¥¡â¥§rrow;æightarrow;æ;ìâÌ¸Ä;vâ¥»à±ìâªâightarrow;æÄDdâ¦â¦ash;æ¯ash;æ®Êbcnptâ¦£â¦§â¦¬â¦±â§laÂ»Ëute;äg;ìâ âÊ;Eiopà¶â¦¼â§â§â§;ìâ©°Ì¸d;ìâÌ¸s;äroÃ¸à¶urÄ;aâ§â§æ®lÄ;sâ§à¬¸Ç³â§\0â§£pè»Â à¬·mpÄ;eà¯¹à°Êaeouyâ§´â§¾â¨â¨â¨Ç°â§¹\0â§»;æ©on;ädil;ängÄ;dàµ¾â¨ot;ìâ©­Ì¸p;æ©;ä½ash;æÎ;Aadqsxà®â¨©â¨­â¨»â©â©â©rr;ærÄhrâ¨³â¨¶k;æ¤¤Ä;oá²á°ot;ìâÌ¸uiÃ¶à­£Äeiâ©â©ar;æ¤¨Ã­à®istÄ;sà® à®r;ìð«ÈEestà¯â©¦â©¹â©¼Æ;qsà®¼â©­à¯¡Æ;qsà®¼à¯â©´lanÃ´à¯¢iÃ­à¯ªÄ;rà®¶âªÂ»à®·ÆAapâªâªâªrÃ²â¥±rr;æ®ar;æ«²Æ;svà¾âªà¾Ä;dâª¡âª¢æ¼;æºcy;äÎAEadestâª·âªºâª¾â«â«â«¶â«¹rÃ²â¥¦;ìâ¦Ì¸rr;ær;æ¥È;fqsà°»â«â«£â«¯tÄarâ«â«rroÃ·â«ightarroÃ·âªÆ;qsà°»âªºâ«ªlanÃ´à±Ä;sà±â«´Â»à°¶iÃ­à±Ä;rà°µâ«¾iÄ;eà°à°¥iÃ¤à¶Äptâ¬â¬f;ìðèÂ¬;inâ¬â¬â¬¶ä¬nÈ;Edvà®â¬¤â¬¨â¬®;ìâ¹Ì¸ot;ìâµÌ¸Ç¡à®â¬³â¬µ;æ·;æ¶iÄ;và²¸â¬¼Ç¡à²¸â­â­;æ¾;æ½Æaorâ­â­£â­©rÈ;astà­»â­â­â­lleÃ¬à­»l;ìâ«½â¥;ìâÌ¸lint;æ¨Æ;ceà²â­°â­³uÃ¥à²¥Ä;cà²â­¸Ä;eà²â­½Ã±à²ÈAaitâ®â®â®â®§rÃ²â¦rrÆ;cwâ®â®â®æ;ìâ¤³Ì¸;ìâÌ¸ghtarrowÂ»â®riÄ;eà³à³Îchimpquâ®½â¯â¯â¬à­¸â¯¤â¯¯È;cerà´²â¯à´·â¯uÃ¥àµ;ìðortÉ­â¬\0\0â¯arÃ¡â­mÄ;eàµ®â¯Ä;qàµ´àµ³suÄbpâ¯«â¯­Ã¥à³¸Ã¥à´Æbcpâ¯¶â°â°È;Eesâ¯¿â°à´¢â°æ;ìâ«Ì¸etÄ;eà´â°qÄ;qà´£â°cÄ;eà´²â°Ã±à´¸È;Eesâ°¢â°£àµâ°§æ;ìâ«Ì¸etÄ;eàµâ°®qÄ;qàµ â°£Ègilrâ°½â°¿â±â±Ã¬à¯ldeè»Ã±ä±Ã§à±iangleÄlrâ±â±eftÄ;eà°â±Ã±à°¦ightÄ;eà³â±¥Ã±à³Ä;mâ±¬â±­ä½Æ;esâ±´â±µâ±¹ä£ro;æp;æÒDHadgilrsâ²â²â²â²â²£â²°â²¶â³â³£ash;æ­arr;æ¤p;ìââash;æ¬Äetâ²¨â²¬;ìâ¥â;ì>ânfin;æ§ÆAetâ²½â³â³rr;æ¤;ìâ¤âÄ;râ³â³ì<âie;ìâ´âÄAtâ³â³rr;æ¤rie;ìâµâim;ìâ¼âÆAanâ³°â³´â´rr;ærÄhrâ³ºâ³½k;æ¤£Ä;oá§á¥ear;æ¤§ááª\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµâµ âµ¥âµ²â¶á¬\0\0â¶â¶«\0â·â·\0â·â¸â¸«â¸¾â¹Äcsâ´±áªuteè»Ã³ä³Äiyâ´¼âµrÄ;cáªâµè»Ã´ä´;ä¾Êabiosáª âµâµÇâµlac;äv;æ¨¸old;æ¦¼lig;äÄcrâµ©âµ­ir;æ¦¿;ìð¬Í¯âµ¹\0\0âµ¼\0â¶n;äaveè»Ã²ä²;æ§Äbmâ¶à·´ar;æ¦µÈacitâ¶â¶â¶¥â¶¨rÃ²áªÄirâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹;æ§Æaeiâ¶±â¶µâ¶¹cr;äga;äÆcdnâ·â·Çron;ä¿;æ¦¶pf;ìð Æaelâ·â·Çr;æ¦·rp;æ¦¹Î;adiosvâ·ªâ·«â·®â¸â¸â¸â¸æ¨rÃ²áªÈ;efmâ··â·¸â¸â¸æ©rÄ;oâ·¾â·¿æ´fÂ»â·¿è»Âªäªè»Âºäºgof;æ¶r;æ©lope;æ©;æ©Æcloâ¸â¸¡â¸§Ã²â¸ashè»Ã¸ä¸l;æiÅ¬â¸¯â¸´deè»ÃµäµesÄ;aÇâ¸ºs;æ¨¶mlè»Ã¶ä¶bar;æ½à«¡â¹\0â¹½\0âºâº\0âº¢âº¹\0\0â»àº\0â¼\0\0â¼«â¾¼\0â¿rÈ;astÐâ¹§â¹²àºèÂ¶;lâ¹­â¹®ä¶leÃ¬ÐÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊcimptâºâºâºá¡¥âºnt;ä¥od;ä®il;æ°enk;æ±r;ìð­Æimoâº¨âº°âº´Ä;vâº­âº®ä;ämaÃ´à©¶ne;æÆ;tvâº¿â»â»ächforkÂ»á¿½;äÄauâ»â»nÄckâ»â»kÄ;hâ´â»;æÃ¶â´sÒ;abcdemstâ»³â»´á¤â»¹â»½â¼â¼â¼â¼ä«cir;æ¨£ir;æ¨¢Äouáµâ¼;æ¨¥;æ©²nè»Â±àºim;æ¨¦wo;æ¨§Æipuâ¼â¼ â¼¥ntint;æ¨f;ìð¡ndè»Â£ä£Ô;Eaceinosuà»â¼¿â½â½â½â¾â¾â¾â½¾â¾¶;æª³p;æª·uÃ¥à»Ä;cà»â½Ì;acensà»â½â½â½¦â½¨â½¾pproÃ¸â½urlyeÃ±à»Ã±à»Æaesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ¨iÃ­à»meÄ;sâ¾àº®æ²ÆEasâ½¸â¾â½ºÃ°â½µÆdfpà»¬â¾â¾¯Æalsâ¾ â¾¥â¾ªlar;æ®ine;æurf;æÄ;tà»»â¾´Ã¯à»»rel;æ°Äciâ¿â¿r;ìð;äncsp;æÌfiopsuâ¿â¢â¿â¿¥â¿«â¿±r;ìð®pf;ìð¢rime;æcr;ìðÆaeoâ¿¸ããtÄeiâ¿¾ãrnionÃ³Ú°nt;æ¨stÄ;eããä¿Ã±á¼Ã´à¼àªABHabcdefhilmnoprstuxããããã ãã«ãã¢ã²ãããã¤ã©ãã®ã²ãã°ã·ÆartãããrÃ²á³Ã²Ïail;æ¤arÃ²á±¥ar;æ¥¤Îcdenqrtã¨ãµã¸ã¿ãããÄeuã­ã±;ìâ½Ì±te;äiÃ£á®mptyv;æ¦³gÈ;delà¿ããã;æ¦;æ¦¥Ã¥à¿uoè»Â»ä»rÖ;abcfhlpstwà¿ã¬ã¯ã·ã¹ã¼ã¾ããããp;æ¥µÄ;fà¿ ã´s;æ¤ ;æ¤³s;æ¤Ã«âÃ°â®l;æ¥im;æ¥´l;æ£;æÄaiããil;æ¤oÄ;nããæ¶alÃ³à¼Æabrã§ãªã®rÃ²á¥rk;æ³Äakã³ã½cÄekã¹ã»;ä½;äÄesãã;æ¦lÄduãã;æ¦;æ¦Èaeuyããã§ã©ron;äÄdiã¡ã¥il;äÃ¬à¿²Ã¢ãº;äÈclqsã´ã·ã½ãa;æ¤·dhar;æ¥©uoÄ;rÈÈh;æ³Æacgããà½lÈ;ipsà½¸ããánÃ¥á»arÃ´à¾©t;æ­Æilrã©á£ã®sht;æ¥½;ìð¯Äaoã·ãrÄduã½ã¿Â»Ñ»Ä;láã;æ¥¬Ä;vããä;ä±Ægnsãã¹ã¼htÌahlrstã¤ã°ããã¤ã®rrowÄ;tà¿ã­aÃ©ãarpoonÄduã»ã¿owÃ®ã¾pÂ»áeftÄahããrrowÃ³à¿ªarpoonÃ³Õightarrows;æquigarroÃ·ãhreetimes;æg;äingdotseÃ±á¼²ÆahmãããrÃ²à¿ªaÃ²Õ;æoustÄ;aããæ±cheÂ»ãmid;æ«®Èabptã²ã½ããÄnrã·ãºg;æ­r;æ¾rÃ«áÆaflãããr;æ¦;ìð£us;æ¨®imes;æ¨µÄapãã§rÄ;gã£ã¤ä©t;æ¦olint;æ¨arÃ²ã£Èachqã»ãá¼ãquo;æºr;ìðÄbuã»ãoÄ;rÈÈÆhirããã reÃ¥ã¸mes;æiÈ;eflãªáá ¡ã«æ¹tri;æ§luhar;æ¥¨;æàµ¡ãããã¬ã¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ããã­ã±ãã±\0ã\0\0ã³cute;äquÃ¯âºÔ;Eaceinpsyá­ã³ãµã¿ããããã¦ã©;æª´Ç°ãº\0ã¼;æª¸on;ä¡uÃ¥á¾Ä;dá³ãil;ärc;äÆEasããã;æª¶p;æªºim;æ©olint;æ¨iÃ­á;äotÆ;beã´áµãµæ;æ©¦ÎAacmstxãããããã£ã­rr;ærÄhrããÃ«â¨Ä;oà¨¶à¨´tè»Â§ä§i;ä»war;æ¤©mÄinã©Ã°nuÃ³Ã±t;æ¶rÄ;oã¶âìð°Èacoyãããã rp;æ¯Ähyããcy;ä;ärtÉ­ã\0\0ãiÃ¤á¤araÃ¬â¹¯è»Â­ä­Ägmã¨ã´maÆ;fvã±ã²ã²ä;äÐ;deglnprá«ãããããã¡ã¦ot;æ©ªÄ;qá±á°Ä;Eããæª;æª Ä;Eããæª;æªe;ælus;æ¨¤arr;æ¥²arÃ²á½Èaeitã¸ãããÄlsã½ãlsetmÃ©ãªhp;æ¨³parsl;æ§¤Ädlá£ãe;æ£Ä;eããæªªÄ;sã¢ã£æª¬;ìâª¬ï¸Æflpã®ã³ãtcy;äÄ;bã¸ã¹ä¯Ä;aã¾ã¿æ§r;æ¿f;ìð¤aÄdrãÐesÄ;uããæ itÂ»ãÆcsuã ã¹ãÄauã¥ã¯pÄ;sáã«;ìâï¸pÄ;sá´ãµ;ìâï¸uÄbpã¿ãÆ;esááãetÄ;eáãÃ±áÆ;esá¨á­ãetÄ;eá¨ãÃ±á®Æ;afá»ã¦Ö°rÅ¥ã«Ö±Â»á¼arÃ²áÈcemtã¹ã¾ããr;ìðtmÃ®Ã±iÃ¬ãarÃ¦á¾ÄarããrÄ;fãá¿æÄanãã­ightÄepã£ãªpsiloÃ®á» hÃ©âº¯sÂ»â¡Êbcmnpã»ãáããÒ;Edemnprsãããããã£ã¬ã±ã¶æ;æ«ot;æª½Ä;dáãot;æ«ult;æ«ÄEeã¨ãª;æ«;ælus;æª¿arr;æ¥¹Æeiuã½ããtÆ;enãããqÄ;qáãeqÄ;qã«ã¨m;æ«Äbpãã;æ«;æ«cÌ;acensá­ã¬ã²ã¹ã»ã¦pproÃ¸ãºurlyeÃ±á¾Ã±á³ÆaesãããpproÃ¸ãqÃ±ãg;æªÚ123;Edehlmnpsã©ã¬ã¯áã²ã´ãããããã¨ã­è»Â¹ä¹è»Â²ä²è»Â³ä³;æ«Äosã¹ã¼t;æª¾ub;æ«Ä;dá¢ãot;æ«sÄouããl;æb;æ«arr;æ¥»ult;æ«ÄEeã¤ã¦;æ«;ælus;æ«Æeiuã´ããtÆ;enáã¼ãqÄ;qá¢ã²eqÄ;qã§ã¤m;æ«Äbpãã;æ«;æ«ÆAanãã ã­rr;ærÄhrã¦ã¨Ã«â®Ä;oà¨«à¨©war;æ¤ªligè»Ãäà¯¡ããã áã³ã¹\0ã¾ã\0\0\0\0\0ãã\0ãã¬\0\0\0ãÉ²ã\0\0ãget;æ;ärÃ«à¹Æaeyã¦ã«ã°ron;ä¥dil;ä£;älrec;ær;ìð±Èeikoãããµã¼Ç²ã\0ãeÄ4fááaÆ;svãããä¸ym;äÄcnã¢ã²kÄasã¨ã®pproÃ¸áimÂ»á¬sÃ°áÄasãºã®Ã°árnè»Ã¾ä¾Ç¬Ìãâ§esèÃ;bdãããäÄ;aá¤ãr;æ¨±;æ¨°Æepsã¡ã£ãÃ¡â©È;bcfÒã¬ã°ã´ot;æ¶ir;æ«±Ä;oã¹ã¼ìð¥rk;æ«Ã¡ã¢rime;æ´Æaipããã¤dÃ¥áÎadempstã¡ããããããngleÊ;dlqrã°ã±ã¶ããæµownÂ»á¶»eftÄ;eâ ã¾Ã±à¤®;æightÄ;eãªãÃ±áot;æ¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æchtã²ã½ãÄryã·ã»;ìð;äcy;ärok;ä§ÄioããxÃ´á·headÄlrãã eftarroÃ·à¡ightarrowÂ»à½à¤AHabcdfghlmoprstuwãããã¤ã°ã¼ã ã ã £ã ´ã¡ã¡ã¡«ã¢©ã£ã£ã£ªã£¶rÃ²Ï­ar;æ¥£Äcrãã¢uteè»ÃºäºÃ²árÇ£ãª\0ã­y;äve;ä­Äiyãµãºrcè»Ã»ä»;äÆabhã ã ã rÃ²á­lac;ä±aÃ²áÄirã ã sht;æ¥¾;ìð²raveè»Ã¹ä¹Å¡ã §ã ±rÄlrã ¬ã ®Â»à¥Â»álk;æÄctã ¹ã¡É¯ã ¿\0\0ã¡rnÄ;eã¡ã¡ærÂ»ã¡op;æri;æ¸Äalã¡ã¡cr;ä«è»Â¨ÍÄgpã¡¢ã¡¦on;ä³f;ìð¦Ìadhlsuáã¡¸ã¡½á²ã¢ã¢ ownÃ¡á³arpoonÄlrã¢ã¢efÃ´ã ­ighÃ´ã ¯iÆ;hlã¢ã¢ã¢äÂ»áºonÂ»ã¢parrows;æÆcitã¢°ã£ã£É¯ã¢¶\0\0ã£rnÄ;eã¢¼ã¢½ærÂ»ã¢½op;æng;ä¯ri;æ¹cr;ìðÆdirã£ã£ã£¢ot;æ°lde;ä©iÄ;fã°ã£¨Â»á Äamã£¯ã£²rÃ²ã¢¨lè»Ã¼ä¼angle;æ¦§ÞABDacdeflnoprszã¤ã¤ã¤©ã¤­ã¦µã¦¸ã¦½ã§ã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Änrã¤²ã¤·grt;æ¦Îeknprstã£ã¥ã¥ã¥ã¥ã¥¤ã¦appÃ¡âothinÃ§áºÆhirã«â»ã¥opÃ´â¾µÄ;há·ã¥¢Ã¯ãÄiuã¥©ã¥­gmÃ¡ã³Äbpã¥²ã¦setneqÄ;qã¥½ã¦ìâï¸;ìâ«ï¸setneqÄ;qã¦ã¦ìâï¸;ìâ«ï¸Ährã¦ã¦etÃ¡ãiangleÄlrã¦ªã¦¯eftÂ»à¤¥ightÂ»áy;ä²ashÂ»á¶Æelrã§ã§ã§Æ;beâ·ªã§ã§ar;æ»q;ælip;æ®Äbtã§á¨aÃ²á©r;ìð³trÃ©ã¦®suÄbpã§¯ã§±Â»à´Â»àµpf;ìð§roÃ°à»»trÃ©ã¦´Äcuã¨ã¨r;ìðÄbpã¨ã¨nÄEeã¦ã¨Â»ã¥¾nÄEeã¦ã¨Â»ã¦igzag;æ¦Îcefoprsã¨¶ã¨»ã©ã©ã©ã©¡ã©ªirc;äµÄdiã©ã©Äbgã©ã©ar;æ©eÄ;qáºã©;æerp;ær;ìð´pf;ìð¨Ä;eá¹ã©¦atÃ¨á¹cr;ìðà«£áãª\0ãª\0ãªãª\0\0ãªãª¨ãª«ãª¯\0\0ã«ã«\0ã«áátrÃ©ár;ìðµÄAaãªãªrÃ²ÏrÃ²à§¶;ä¾ÄAaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âis;æ»Ædptá¤ãªµãª¾Äflãªºá©;ìð©imÃ¥á²ÄAaã«ã«rÃ²ÏrÃ²à¨Äcqã«á¸r;ìðÄptáã«rÃ©áÐacefiosuã«°ã«½ã¬ã¬ã¬ã¬ã¬ã¬¡cÄuyã«¶ã«»teè»Ã½ä½;äÄiyã¬ã¬rc;ä·;änè»Â¥ä¥r;ìð¶cy;äpf;ìðªcr;ìðÄcmã¬¦ã¬©y;älè»Ã¿ä¿Ôacdefhioswã­ã­ã­ã­ã­¤ã­©ã­­ã­´ã­ºã®cute;äºÄayã­ã­ron;ä¾;ä·ot;ä¼Äetã­ã­¡trÃ¦áa;ä¶r;ìð·cy;ä¶grarr;æpf;ìð«cr;ìðÄjnã®ã®;æj;æ'.split("").map(t=>t.charCodeAt(0))),C8e=new Uint16Array("Èaglq	\x1BÉ­\0\0p;ä¦os;ä§t;ä¾t;ä¼uot;ä¢".split("").map(t=>t.charCodeAt(0)));var w6;const A8e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),E8e=(w6=String.fromCodePoint)!==null&&w6!==void 0?w6:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function T8e(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=A8e.get(t))!==null&&e!==void 0?e:t}var ss;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(ss||(ss={}));const D8e=32;var jh;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(jh||(jh={}));function M8(t){return t>=ss.ZERO&&t<=ss.NINE}function P8e(t){return t>=ss.UPPER_A&&t<=ss.UPPER_F||t>=ss.LOWER_A&&t<=ss.LOWER_F}function R8e(t){return t>=ss.UPPER_A&&t<=ss.UPPER_Z||t>=ss.LOWER_A&&t<=ss.LOWER_Z||M8(t)}function $8e(t){return t===ss.EQUALS||R8e(t)}var Ji;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Ji||(Ji={}));var Lh;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Lh||(Lh={}));class I8e{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=Ji.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Lh.Strict}startEntity(e){this.decodeMode=e,this.state=Ji.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Ji.EntityStart:return e.charCodeAt(n)===ss.NUM?(this.state=Ji.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Ji.NamedEntity,this.stateNamedEntity(e,n));case Ji.NumericStart:return this.stateNumericStart(e,n);case Ji.NumericDecimal:return this.stateNumericDecimal(e,n);case Ji.NumericHex:return this.stateNumericHex(e,n);case Ji.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|D8e)===ss.LOWER_X?(this.state=Ji.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Ji.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(e.substr(n,s),i),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(M8(i)||P8e(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(M8(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===ss.SEMI)this.consumed+=1;else if(this.decodeMode===Lh.Strict)return 0;return this.emitCodePoint(T8e(this.result),this.consumed),this.errors&&(e!==ss.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&jh.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const o=e.charCodeAt(n);if(this.treeIndex=F8e(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===Lh.Attribute&&(s===0||$8e(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&jh.VALUE_LENGTH)>>14,s!==0){if(o===ss.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Lh.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&jh.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~jh.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case Ji.NamedEntity:return this.result!==0&&(this.decodeMode!==Lh.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ji.NumericDecimal:return this.emitNumericEntity(0,2);case Ji.NumericHex:return this.emitNumericEntity(0,3);case Ji.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ji.EntityStart:return 0}}}function zJ(t){let e="";const n=new I8e(t,r=>e+=E8e(r));return function(i,s){let o=0,a=0;for(;(a=i.indexOf("&",a))>=0;){e+=i.slice(o,a),n.startEntity(s);const u=n.write(i,a+1);if(u<0){o=a+n.end();break}o=a+u,a=u===0?o+1:o}const l=e+i.slice(o);return e="",l}}function F8e(t,e,n,r){const i=(e&jh.BRANCH_LENGTH)>>7,s=e&jh.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const l=r-s;return l<0||l>=i?-1:t[n+l]-1}let o=n,a=o+i-1;for(;o<=a;){const l=o+a>>>1,u=t[l];if(u<r)o=l+1;else if(u>r)a=l-1;else return t[l+i]}return-1}const M8e=zJ(k8e);zJ(C8e);function UJ(t,e=Lh.Legacy){return M8e(t,e)}function L8e(t){return Object.prototype.toString.call(t)}function W7(t){return L8e(t)==="[object String]"}const N8e=Object.prototype.hasOwnProperty;function Q8e(t,e){return N8e.call(t,e)}function Wk(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){t[r]=n[r]})}}),t}function jJ(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function Y7(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function a3(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const qJ=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,B8e=/&([a-z#][a-z0-9]{1,31});/gi,z8e=new RegExp(qJ.source+"|"+B8e.source,"gi"),U8e=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function j8e(t,e){if(e.charCodeAt(0)===35&&U8e.test(e)){const r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Y7(r)?a3(r):t}const n=UJ(t);return n!==t?n:t}function q8e(t){return t.indexOf("\\")<0?t:t.replace(qJ,"$1")}function o1(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(z8e,function(e,n,r){return n||j8e(e,r)})}const V8e=/[&<>"]/,X8e=/[&<>"]/g,Z8e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function W8e(t){return Z8e[t]}function Cd(t){return V8e.test(t)?t.replace(X8e,W8e):t}const Y8e=/[.?*+^$[\]\\(){}|-]/g;function G8e(t){return t.replace(Y8e,"\\$&")}function Tr(t){switch(t){case 9:case 32:return!0}return!1}function Zv(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Wv(t){return Z7.test(t)||QJ.test(t)}function Yv(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Yk(t){return t=t.trim().replace(/\s+/g," "),"áº".toLowerCase()==="á¹¾"&&(t=t.replace(/áº/g,"Ã")),t.toLowerCase().toUpperCase()}const H8e={mdurl:_8e,ucmicro:S8e},K8e=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:jJ,assign:Wk,escapeHtml:Cd,escapeRE:G8e,fromCodePoint:a3,has:Q8e,isMdAsciiPunct:Yv,isPunctChar:Wv,isSpace:Tr,isString:W7,isValidEntityCode:Y7,isWhiteSpace:Zv,lib:H8e,normalizeReference:Yk,unescapeAll:o1,unescapeMd:q8e},Symbol.toStringTag,{value:"Module"}));function J8e(t,e,n){let r,i,s,o;const a=t.posMax,l=t.pos;for(t.pos=e+1,r=1;t.pos<a;){if(s=t.src.charCodeAt(t.pos),s===93&&(r--,r===0)){i=!0;break}if(o=t.pos,t.md.inline.skipToken(t),s===91){if(o===t.pos-1)r++;else if(n)return t.pos=l,-1}}let u=-1;return i&&(u=t.pos),t.pos=l,u}function eTe(t,e,n){let r,i=e;const s={ok:!1,pos:0,str:""};if(t.charCodeAt(i)===60){for(i++;i<n;){if(r=t.charCodeAt(i),r===10||r===60)return s;if(r===62)return s.pos=i+1,s.str=o1(t.slice(e+1,i)),s.ok=!0,s;if(r===92&&i+1<n){i+=2;continue}i++}return s}let o=0;for(;i<n&&(r=t.charCodeAt(i),!(r===32||r<32||r===127));){if(r===92&&i+1<n){if(t.charCodeAt(i+1)===32)break;i+=2;continue}if(r===40&&(o++,o>32))return s;if(r===41){if(o===0)break;o--}i++}return e===i||o!==0||(s.str=o1(t.slice(e,i)),s.pos=i,s.ok=!0),s}function tTe(t,e,n,r){let i,s=e;const o={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)o.str=r.str,o.marker=r.marker;else{if(s>=n)return o;let a=t.charCodeAt(s);if(a!==34&&a!==39&&a!==40)return o;e++,s++,a===40&&(a=41),o.marker=a}for(;s<n;){if(i=t.charCodeAt(s),i===o.marker)return o.pos=s+1,o.str+=o1(t.slice(e,s)),o.ok=!0,o;if(i===40&&o.marker===41)return o;i===92&&s+1<n&&s++,s++}return o.can_continue=!0,o.str+=o1(t.slice(e,s)),o}const nTe=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:eTe,parseLinkLabel:J8e,parseLinkTitle:tTe},Symbol.toStringTag,{value:"Module"})),Qc={};Qc.code_inline=function(t,e,n,r,i){const s=t[e];return"<code"+i.renderAttrs(s)+">"+Cd(s.content)+"</code>"};Qc.code_block=function(t,e,n,r,i){const s=t[e];return"<pre"+i.renderAttrs(s)+"><code>"+Cd(t[e].content)+`</code></pre>
`};Qc.fence=function(t,e,n,r,i){const s=t[e],o=s.info?o1(s.info).trim():"";let a="",l="";if(o){const c=o.split(/(\s+)/g);a=c[0],l=c.slice(2).join("")}let u;if(n.highlight?u=n.highlight(s.content,a,l)||Cd(s.content):u=Cd(s.content),u.indexOf("<pre")===0)return u+`
`;if(o){const c=s.attrIndex("class"),f=s.attrs?s.attrs.slice():[];c<0?f.push(["class",n.langPrefix+a]):(f[c]=f[c].slice(),f[c][1]+=" "+n.langPrefix+a);const h={attrs:f};return`<pre><code${i.renderAttrs(h)}>${u}</code></pre>
`}return`<pre><code${i.renderAttrs(s)}>${u}</code></pre>
`};Qc.image=function(t,e,n,r,i){const s=t[e];return s.attrs[s.attrIndex("alt")][1]=i.renderInlineAsText(s.children,n,r),i.renderToken(t,e,n)};Qc.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};Qc.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Qc.text=function(t,e){return Cd(t[e].content)};Qc.html_block=function(t,e){return t[e].content};Qc.html_inline=function(t,e){return t[e].content};function j1(){this.rules=Wk({},Qc)}j1.prototype.renderAttrs=function(e){let n,r,i;if(!e.attrs)return"";for(i="",n=0,r=e.attrs.length;n<r;n++)i+=" "+Cd(e.attrs[n][0])+'="'+Cd(e.attrs[n][1])+'"';return i};j1.prototype.renderToken=function(e,n,r){const i=e[n];let s="";if(i.hidden)return"";i.block&&i.nesting!==-1&&n&&e[n-1].hidden&&(s+=`
`),s+=(i.nesting===-1?"</":"<")+i.tag,s+=this.renderAttrs(i),i.nesting===0&&r.xhtmlOut&&(s+=" /");let o=!1;if(i.block&&(o=!0,i.nesting===1&&n+1<e.length)){const a=e[n+1];(a.type==="inline"||a.hidden||a.nesting===-1&&a.tag===i.tag)&&(o=!1)}return s+=o?`>
`:">",s};j1.prototype.renderInline=function(t,e,n){let r="";const i=this.rules;for(let s=0,o=t.length;s<o;s++){const a=t[s].type;typeof i[a]<"u"?r+=i[a](t,s,e,n,this):r+=this.renderToken(t,s,e)}return r};j1.prototype.renderInlineAsText=function(t,e,n){let r="";for(let i=0,s=t.length;i<s;i++)switch(t[i].type){case"text":r+=t[i].content;break;case"image":r+=this.renderInlineAsText(t[i].children,e,n);break;case"html_inline":case"html_block":r+=t[i].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};j1.prototype.render=function(t,e,n){let r="";const i=this.rules;for(let s=0,o=t.length;s<o;s++){const a=t[s].type;a==="inline"?r+=this.renderInline(t[s].children,e,n):typeof i[a]<"u"?r+=i[a](t,s,e,n,this):r+=this.renderToken(t,s,e,n)}return r};function Jo(){this.__rules__=[],this.__cache__=null}Jo.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Jo.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||t.__cache__[n].push(r.fn))})})};Jo.prototype.at=function(t,e,n){const r=this.__find__(t),i=n||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null};Jo.prototype.before=function(t,e,n,r){const i=this.__find__(t),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Jo.prototype.after=function(t,e,n,r){const i=this.__find__(t),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};Jo.prototype.push=function(t,e,n){const r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};Jo.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!0,n.push(r)},this),this.__cache__=null,n};Jo.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};Jo.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!1,n.push(r)},this),this.__cache__=null,n};Jo.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function Ou(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Ou.prototype.attrIndex=function(e){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,i=n.length;r<i;r++)if(n[r][0]===e)return r;return-1};Ou.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Ou.prototype.attrSet=function(e,n){const r=this.attrIndex(e),i=[e,n];r<0?this.attrPush(i):this.attrs[r]=i};Ou.prototype.attrGet=function(e){const n=this.attrIndex(e);let r=null;return n>=0&&(r=this.attrs[n][1]),r};Ou.prototype.attrJoin=function(e,n){const r=this.attrIndex(e);r<0?this.attrPush([e,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};function VJ(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}VJ.prototype.Token=Ou;const rTe=/\r\n?|\n/g,iTe=/\0/g;function sTe(t){let e;e=t.src.replace(rTe,`
`),e=e.replace(iTe,"ï¿½"),t.src=e}function oTe(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function aTe(t){const e=t.tokens;for(let n=0,r=e.length;n<r;n++){const i=e[n];i.type==="inline"&&t.md.inline.parse(i.content,t.md,t.env,i.children)}}function lTe(t){return/^<a[>\s]/i.test(t)}function uTe(t){return/^<\/a\s*>/i.test(t)}function cTe(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,r=e.length;n<r;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let i=e[n].children,s=0;for(let o=i.length-1;o>=0;o--){const a=i[o];if(a.type==="link_close"){for(o--;i[o].level!==a.level&&i[o].type!=="link_open";)o--;continue}if(a.type==="html_inline"&&(lTe(a.content)&&s>0&&s--,uTe(a.content)&&s++),!(s>0)&&a.type==="text"&&t.md.linkify.test(a.content)){const l=a.content;let u=t.md.linkify.match(l);const c=[];let f=a.level,h=0;u.length>0&&u[0].index===0&&o>0&&i[o-1].type==="text_special"&&(u=u.slice(1));for(let d=0;d<u.length;d++){const m=u[d].url,g=t.md.normalizeLink(m);if(!t.md.validateLink(g))continue;let b=u[d].text;u[d].schema?u[d].schema==="mailto:"&&!/^mailto:/i.test(b)?b=t.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):b=t.md.normalizeLinkText(b):b=t.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,"");const v=u[d].index;if(v>h){const S=new t.Token("text","",0);S.content=l.slice(h,v),S.level=f,c.push(S)}const O=new t.Token("link_open","a",1);O.attrs=[["href",g]],O.level=f++,O.markup="linkify",O.info="auto",c.push(O);const x=new t.Token("text","",0);x.content=b,x.level=f,c.push(x);const C=new t.Token("link_close","a",-1);C.level=--f,C.markup="linkify",C.info="auto",c.push(C),h=u[d].lastIndex}if(h<l.length){const d=new t.Token("text","",0);d.content=l.slice(h),d.level=f,c.push(d)}e[n].children=i=jJ(i,o,c)}}}}const XJ=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,fTe=/\((c|tm|r)\)/i,hTe=/\((c|tm|r)\)/ig,dTe={c:"Â©",r:"Â®",tm:"â¢"};function pTe(t,e){return dTe[e.toLowerCase()]}function mTe(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&(r.content=r.content.replace(hTe,pTe)),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function gTe(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&XJ.test(r.content)&&(r.content=r.content.replace(/\+-/g,"Â±").replace(/\.{2,}/g,"â¦").replace(/([?!])â¦/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1â").replace(/(^|\s)--(?=\s|$)/mg,"$1â").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1â")),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}function yTe(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(fTe.test(t.tokens[e].content)&&mTe(t.tokens[e].children),XJ.test(t.tokens[e].content)&&gTe(t.tokens[e].children))}const bTe=/['"]/,tB=/['"]/g,nB="â";function Yw(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function vTe(t,e){let n;const r=[];for(let i=0;i<t.length;i++){const s=t[i],o=t[i].level;for(n=r.length-1;n>=0&&!(r[n].level<=o);n--);if(r.length=n+1,s.type!=="text")continue;let a=s.content,l=0,u=a.length;e:for(;l<u;){tB.lastIndex=l;const c=tB.exec(a);if(!c)break;let f=!0,h=!0;l=c.index+1;const d=c[0]==="'";let m=32;if(c.index-1>=0)m=a.charCodeAt(c.index-1);else for(n=i-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){m=t[n].content.charCodeAt(t[n].content.length-1);break}let g=32;if(l<u)g=a.charCodeAt(l);else for(n=i+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){g=t[n].content.charCodeAt(0);break}const b=Yv(m)||Wv(String.fromCharCode(m)),v=Yv(g)||Wv(String.fromCharCode(g)),O=Zv(m),x=Zv(g);if(x?f=!1:v&&(O||b||(f=!1)),O?h=!1:b&&(x||v||(h=!1)),g===34&&c[0]==='"'&&m>=48&&m<=57&&(h=f=!1),f&&h&&(f=b,h=v),!f&&!h){d&&(s.content=Yw(s.content,c.index,nB));continue}if(h)for(n=r.length-1;n>=0;n--){let C=r[n];if(r[n].level<o)break;if(C.single===d&&r[n].level===o){C=r[n];let S,A;d?(S=e.md.options.quotes[2],A=e.md.options.quotes[3]):(S=e.md.options.quotes[0],A=e.md.options.quotes[1]),s.content=Yw(s.content,c.index,A),t[C.token].content=Yw(t[C.token].content,C.pos,S),l+=A.length-1,C.token===i&&(l+=S.length-1),a=s.content,u=a.length,r.length=n;continue e}}f?r.push({token:i,pos:c.index,single:d,level:o}):h&&d&&(s.content=Yw(s.content,c.index,nB))}}}function OTe(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!bTe.test(t.tokens[e].content)||vTe(t.tokens[e].children,t)}function wTe(t){let e,n;const r=t.tokens,i=r.length;for(let s=0;s<i;s++){if(r[s].type!=="inline")continue;const o=r[s].children,a=o.length;for(e=0;e<a;e++)o[e].type==="text_special"&&(o[e].type="text");for(e=n=0;e<a;e++)o[e].type==="text"&&e+1<a&&o[e+1].type==="text"?o[e+1].content=o[e].content+o[e+1].content:(e!==n&&(o[n]=o[e]),n++);e!==n&&(o.length=n)}}const _6=[["normalize",sTe],["block",oTe],["inline",aTe],["linkify",cTe],["replacements",yTe],["smartquotes",OTe],["text_join",wTe]];function G7(){this.ruler=new Jo;for(let t=0;t<_6.length;t++)this.ruler.push(_6[t][0],_6[t][1])}G7.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,r=e.length;n<r;n++)e[n](t)};G7.prototype.State=VJ;function Bc(t,e,n,r){this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let s=0,o=0,a=0,l=0,u=i.length,c=!1;o<u;o++){const f=i.charCodeAt(o);if(!c)if(Tr(f)){a++,f===9?l+=4-l%4:l++;continue}else c=!0;(f===10||o===u-1)&&(f!==10&&o++,this.bMarks.push(s),this.eMarks.push(o),this.tShift.push(a),this.sCount.push(l),this.bsCount.push(0),c=!1,a=0,l=0,s=o+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Bc.prototype.push=function(t,e,n){const r=new Ou(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Bc.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Bc.prototype.skipEmptyLines=function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Bc.prototype.skipSpaces=function(e){for(let n=this.src.length;e<n;e++){const r=this.src.charCodeAt(e);if(!Tr(r))break}return e};Bc.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!Tr(this.src.charCodeAt(--e)))return e+1;return e};Bc.prototype.skipChars=function(e,n){for(let r=this.src.length;e<r&&this.src.charCodeAt(e)===n;e++);return e};Bc.prototype.skipCharsBack=function(e,n,r){if(e<=r)return e;for(;e>r;)if(n!==this.src.charCodeAt(--e))return e+1;return e};Bc.prototype.getLines=function(e,n,r,i){if(e>=n)return"";const s=new Array(n-e);for(let o=0,a=e;a<n;a++,o++){let l=0;const u=this.bMarks[a];let c=u,f;for(a+1<n||i?f=this.eMarks[a]+1:f=this.eMarks[a];c<f&&l<r;){const h=this.src.charCodeAt(c);if(Tr(h))h===9?l+=4-(l+this.bsCount[a])%4:l++;else if(c-u<this.tShift[a])l++;else break;c++}l>r?s[o]=new Array(l-r+1).join(" ")+this.src.slice(c,f):s[o]=this.src.slice(c,f)}return s.join("")};Bc.prototype.Token=Ou;const _Te=65536;function x6(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}function rB(t){const e=[],n=t.length;let r=0,i=t.charCodeAt(r),s=!1,o=0,a="";for(;r<n;)i===124&&(s?(a+=t.substring(o,r-1),o=r):(e.push(a+t.substring(o,r)),a="",o=r+1)),s=i===92,r++,i=t.charCodeAt(r);return e.push(a+t.substring(o)),e}function xTe(t,e,n,r){if(e+2>n)return!1;let i=e+1;if(t.sCount[i]<t.blkIndent||t.sCount[i]-t.blkIndent>=4)return!1;let s=t.bMarks[i]+t.tShift[i];if(s>=t.eMarks[i])return!1;const o=t.src.charCodeAt(s++);if(o!==124&&o!==45&&o!==58||s>=t.eMarks[i])return!1;const a=t.src.charCodeAt(s++);if(a!==124&&a!==45&&a!==58&&!Tr(a)||o===45&&Tr(a))return!1;for(;s<t.eMarks[i];){const C=t.src.charCodeAt(s);if(C!==124&&C!==45&&C!==58&&!Tr(C))return!1;s++}let l=x6(t,e+1),u=l.split("|");const c=[];for(let C=0;C<u.length;C++){const S=u[C].trim();if(!S){if(C===0||C===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(S))return!1;S.charCodeAt(S.length-1)===58?c.push(S.charCodeAt(0)===58?"center":"right"):S.charCodeAt(0)===58?c.push("left"):c.push("")}if(l=x6(t,e).trim(),l.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;u=rB(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop();const f=u.length;if(f===0||f!==c.length)return!1;if(r)return!0;const h=t.parentType;t.parentType="table";const d=t.md.block.ruler.getRules("blockquote"),m=t.push("table_open","table",1),g=[e,0];m.map=g;const b=t.push("thead_open","thead",1);b.map=[e,e+1];const v=t.push("tr_open","tr",1);v.map=[e,e+1];for(let C=0;C<u.length;C++){const S=t.push("th_open","th",1);c[C]&&(S.attrs=[["style","text-align:"+c[C]]]);const A=t.push("inline","",0);A.content=u[C].trim(),A.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let O,x=0;for(i=e+2;i<n&&!(t.sCount[i]<t.blkIndent);i++){let C=!1;for(let A=0,k=d.length;A<k;A++)if(d[A](t,i,n,!0)){C=!0;break}if(C||(l=x6(t,i).trim(),!l)||t.sCount[i]-t.blkIndent>=4||(u=rB(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop(),x+=f-u.length,x>_Te))break;if(i===e+2){const A=t.push("tbody_open","tbody",1);A.map=O=[e+2,0]}const S=t.push("tr_open","tr",1);S.map=[i,i+1];for(let A=0;A<f;A++){const k=t.push("td_open","td",1);c[A]&&(k.attrs=[["style","text-align:"+c[A]]]);const T=t.push("inline","",0);T.content=u[A]?u[A].trim():"",T.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return O&&(t.push("tbody_close","tbody",-1),O[1]=i),t.push("table_close","table",-1),g[1]=i,t.parentType=h,t.line=i,!0}function STe(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let r=e+1,i=r;for(;r<n;){if(t.isEmpty(r)){r++;continue}if(t.sCount[r]-t.blkIndent>=4){r++,i=r;continue}break}t.line=i;const s=t.push("code_block","code",0);return s.content=t.getLines(e,i,4+t.blkIndent,!1)+`
`,s.map=[e,t.line],!0}function kTe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||i+3>s)return!1;const o=t.src.charCodeAt(i);if(o!==126&&o!==96)return!1;let a=i;i=t.skipChars(i,o);let l=i-a;if(l<3)return!1;const u=t.src.slice(a,i),c=t.src.slice(i,s);if(o===96&&c.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;let f=e,h=!1;for(;f++,!(f>=n||(i=a=t.bMarks[f]+t.tShift[f],s=t.eMarks[f],i<s&&t.sCount[f]<t.blkIndent));)if(t.src.charCodeAt(i)===o&&!(t.sCount[f]-t.blkIndent>=4)&&(i=t.skipChars(i,o),!(i-a<l)&&(i=t.skipSpaces(i),!(i<s)))){h=!0;break}l=t.sCount[e],t.line=f+(h?1:0);const d=t.push("fence","code",0);return d.info=c,d.content=t.getLines(e+1,f,l,!0),d.markup=u,d.map=[e,t.line],!0}function CTe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];const o=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==62)return!1;if(r)return!0;const a=[],l=[],u=[],c=[],f=t.md.block.ruler.getRules("blockquote"),h=t.parentType;t.parentType="blockquote";let d=!1,m;for(m=e;m<n;m++){const x=t.sCount[m]<t.blkIndent;if(i=t.bMarks[m]+t.tShift[m],s=t.eMarks[m],i>=s)break;if(t.src.charCodeAt(i++)===62&&!x){let S=t.sCount[m]+1,A,k;t.src.charCodeAt(i)===32?(i++,S++,k=!1,A=!0):t.src.charCodeAt(i)===9?(A=!0,(t.bsCount[m]+S)%4===3?(i++,S++,k=!1):k=!0):A=!1;let T=S;for(a.push(t.bMarks[m]),t.bMarks[m]=i;i<s;){const D=t.src.charCodeAt(i);if(Tr(D))D===9?T+=4-(T+t.bsCount[m]+(k?1:0))%4:T++;else break;i++}d=i>=s,l.push(t.bsCount[m]),t.bsCount[m]=t.sCount[m]+1+(A?1:0),u.push(t.sCount[m]),t.sCount[m]=T-S,c.push(t.tShift[m]),t.tShift[m]=i-t.bMarks[m];continue}if(d)break;let C=!1;for(let S=0,A=f.length;S<A;S++)if(f[S](t,m,n,!0)){C=!0;break}if(C){t.lineMax=m,t.blkIndent!==0&&(a.push(t.bMarks[m]),l.push(t.bsCount[m]),c.push(t.tShift[m]),u.push(t.sCount[m]),t.sCount[m]-=t.blkIndent);break}a.push(t.bMarks[m]),l.push(t.bsCount[m]),c.push(t.tShift[m]),u.push(t.sCount[m]),t.sCount[m]=-1}const g=t.blkIndent;t.blkIndent=0;const b=t.push("blockquote_open","blockquote",1);b.markup=">";const v=[e,0];b.map=v,t.md.block.tokenize(t,e,m);const O=t.push("blockquote_close","blockquote",-1);O.markup=">",t.lineMax=o,t.parentType=h,v[1]=t.line;for(let x=0;x<c.length;x++)t.bMarks[x+e]=a[x],t.tShift[x+e]=c[x],t.sCount[x+e]=u[x],t.bsCount[x+e]=l[x];return t.blkIndent=g,!0}function ATe(t,e,n,r){const i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let s=t.bMarks[e]+t.tShift[e];const o=t.src.charCodeAt(s++);if(o!==42&&o!==45&&o!==95)return!1;let a=1;for(;s<i;){const u=t.src.charCodeAt(s++);if(u!==o&&!Tr(u))return!1;u===o&&a++}if(a<3)return!1;if(r)return!0;t.line=e+1;const l=t.push("hr","hr",0);return l.map=[e,t.line],l.markup=Array(a+1).join(String.fromCharCode(o)),!0}function iB(t,e){const n=t.eMarks[e];let r=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(r++);if(i!==42&&i!==45&&i!==43)return-1;if(r<n){const s=t.src.charCodeAt(r);if(!Tr(s))return-1}return r}function sB(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];let i=n;if(i+1>=r)return-1;let s=t.src.charCodeAt(i++);if(s<48||s>57)return-1;for(;;){if(i>=r)return-1;if(s=t.src.charCodeAt(i++),s>=48&&s<=57){if(i-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return i<r&&(s=t.src.charCodeAt(i),!Tr(s))?-1:i}function ETe(t,e){const n=t.level+2;for(let r=e+2,i=t.tokens.length-2;r<i;r++)t.tokens[r].level===n&&t.tokens[r].type==="paragraph_open"&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}function TTe(t,e,n,r){let i,s,o,a,l=e,u=!0;if(t.sCount[l]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1;let c=!1;r&&t.parentType==="paragraph"&&t.sCount[l]>=t.blkIndent&&(c=!0);let f,h,d;if((d=sB(t,l))>=0){if(f=!0,o=t.bMarks[l]+t.tShift[l],h=Number(t.src.slice(o,d-1)),c&&h!==1)return!1}else if((d=iB(t,l))>=0)f=!1;else return!1;if(c&&t.skipSpaces(d)>=t.eMarks[l])return!1;if(r)return!0;const m=t.src.charCodeAt(d-1),g=t.tokens.length;f?(a=t.push("ordered_list_open","ol",1),h!==1&&(a.attrs=[["start",h]])):a=t.push("bullet_list_open","ul",1);const b=[l,0];a.map=b,a.markup=String.fromCharCode(m);let v=!1;const O=t.md.block.ruler.getRules("list"),x=t.parentType;for(t.parentType="list";l<n;){s=d,i=t.eMarks[l];const C=t.sCount[l]+d-(t.bMarks[l]+t.tShift[l]);let S=C;for(;s<i;){const B=t.src.charCodeAt(s);if(B===9)S+=4-(S+t.bsCount[l])%4;else if(B===32)S++;else break;s++}const A=s;let k;A>=i?k=1:k=S-C,k>4&&(k=1);const T=C+k;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(m);const D=[l,0];a.map=D,f&&(a.info=t.src.slice(o,d-1));const $=t.tight,M=t.tShift[l],L=t.sCount[l],R=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=T,t.tight=!0,t.tShift[l]=A-t.bMarks[l],t.sCount[l]=S,A>=i&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,l,n,!0),(!t.tight||v)&&(u=!1),v=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=R,t.tShift[l]=M,t.sCount[l]=L,t.tight=$,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(m),l=t.line,D[1]=l,l>=n||t.sCount[l]<t.blkIndent||t.sCount[l]-t.blkIndent>=4)break;let I=!1;for(let B=0,z=O.length;B<z;B++)if(O[B](t,l,n,!0)){I=!0;break}if(I)break;if(f){if(d=sB(t,l),d<0)break;o=t.bMarks[l]+t.tShift[l]}else if(d=iB(t,l),d<0)break;if(m!==t.src.charCodeAt(d-1))break}return f?a=t.push("ordered_list_close","ol",-1):a=t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(m),b[1]=l,t.line=l,t.parentType=x,u&&ETe(t,g),!0}function DTe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e],o=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==91)return!1;function a(O){const x=t.lineMax;if(O>=x||t.isEmpty(O))return null;let C=!1;if(t.sCount[O]-t.blkIndent>3&&(C=!0),t.sCount[O]<0&&(C=!0),!C){const k=t.md.block.ruler.getRules("reference"),T=t.parentType;t.parentType="reference";let D=!1;for(let $=0,M=k.length;$<M;$++)if(k[$](t,O,x,!0)){D=!0;break}if(t.parentType=T,D)return null}const S=t.bMarks[O]+t.tShift[O],A=t.eMarks[O];return t.src.slice(S,A+1)}let l=t.src.slice(i,s+1);s=l.length;let u=-1;for(i=1;i<s;i++){const O=l.charCodeAt(i);if(O===91)return!1;if(O===93){u=i;break}else if(O===10){const x=a(o);x!==null&&(l+=x,s=l.length,o++)}else if(O===92&&(i++,i<s&&l.charCodeAt(i)===10)){const x=a(o);x!==null&&(l+=x,s=l.length,o++)}}if(u<0||l.charCodeAt(u+1)!==58)return!1;for(i=u+2;i<s;i++){const O=l.charCodeAt(i);if(O===10){const x=a(o);x!==null&&(l+=x,s=l.length,o++)}else if(!Tr(O))break}const c=t.md.helpers.parseLinkDestination(l,i,s);if(!c.ok)return!1;const f=t.md.normalizeLink(c.str);if(!t.md.validateLink(f))return!1;i=c.pos;const h=i,d=o,m=i;for(;i<s;i++){const O=l.charCodeAt(i);if(O===10){const x=a(o);x!==null&&(l+=x,s=l.length,o++)}else if(!Tr(O))break}let g=t.md.helpers.parseLinkTitle(l,i,s);for(;g.can_continue;){const O=a(o);if(O===null)break;l+=O,i=s,s=l.length,o++,g=t.md.helpers.parseLinkTitle(l,i,s,g)}let b;for(i<s&&m!==i&&g.ok?(b=g.str,i=g.pos):(b="",i=h,o=d);i<s;){const O=l.charCodeAt(i);if(!Tr(O))break;i++}if(i<s&&l.charCodeAt(i)!==10&&b)for(b="",i=h,o=d;i<s;){const O=l.charCodeAt(i);if(!Tr(O))break;i++}if(i<s&&l.charCodeAt(i)!==10)return!1;const v=Yk(l.slice(1,u));return v?(r||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[v]>"u"&&(t.env.references[v]={title:b,href:f}),t.line=o),!0):!1}const PTe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],RTe="[a-zA-Z_:][a-zA-Z0-9:._-]*",$Te="[^\"'=<>`\\x00-\\x20]+",ITe="'[^']*'",FTe='"[^"]*"',MTe="(?:"+$Te+"|"+ITe+"|"+FTe+")",LTe="(?:\\s+"+RTe+"(?:\\s*=\\s*"+MTe+")?)",ZJ="<[A-Za-z][A-Za-z0-9\\-]*"+LTe+"*\\s*\\/?>",WJ="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",NTe="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",QTe="<[?][\\s\\S]*?[?]>",BTe="<![A-Za-z][^>]*>",zTe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",UTe=new RegExp("^(?:"+ZJ+"|"+WJ+"|"+NTe+"|"+QTe+"|"+BTe+"|"+zTe+")"),jTe=new RegExp("^(?:"+ZJ+"|"+WJ+")"),cm=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+PTe.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(jTe.source+"\\s*$"),/^$/,!1]];function qTe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(i)!==60)return!1;let o=t.src.slice(i,s),a=0;for(;a<cm.length&&!cm[a][0].test(o);a++);if(a===cm.length)return!1;if(r)return cm[a][2];let l=e+1;if(!cm[a][1].test(o)){for(;l<n&&!(t.sCount[l]<t.blkIndent);l++)if(i=t.bMarks[l]+t.tShift[l],s=t.eMarks[l],o=t.src.slice(i,s),cm[a][1].test(o)){o.length!==0&&l++;break}}t.line=l;const u=t.push("html_block","",0);return u.map=[e,l],u.content=t.getLines(e,l,t.blkIndent,!0),!0}function VTe(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.src.charCodeAt(i);if(o!==35||i>=s)return!1;let a=1;for(o=t.src.charCodeAt(++i);o===35&&i<s&&a<=6;)a++,o=t.src.charCodeAt(++i);if(a>6||i<s&&!Tr(o))return!1;if(r)return!0;s=t.skipSpacesBack(s,i);const l=t.skipCharsBack(s,35,i);l>i&&Tr(t.src.charCodeAt(l-1))&&(s=l),t.line=e+1;const u=t.push("heading_open","h"+String(a),1);u.markup="########".slice(0,a),u.map=[e,t.line];const c=t.push("inline","",0);c.content=t.src.slice(i,s).trim(),c.map=[e,t.line],c.children=[];const f=t.push("heading_close","h"+String(a),-1);return f.markup="########".slice(0,a),!0}function XTe(t,e,n){const r=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const i=t.parentType;t.parentType="paragraph";let s=0,o,a=e+1;for(;a<n&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let d=t.bMarks[a]+t.tShift[a];const m=t.eMarks[a];if(d<m&&(o=t.src.charCodeAt(d),(o===45||o===61)&&(d=t.skipChars(d,o),d=t.skipSpaces(d),d>=m))){s=o===61?1:2;break}}if(t.sCount[a]<0)continue;let h=!1;for(let d=0,m=r.length;d<m;d++)if(r[d](t,a,n,!0)){h=!0;break}if(h)break}if(!s)return!1;const l=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const u=t.push("heading_open","h"+String(s),1);u.markup=String.fromCharCode(o),u.map=[e,t.line];const c=t.push("inline","",0);c.content=l,c.map=[e,t.line-1],c.children=[];const f=t.push("heading_close","h"+String(s),-1);return f.markup=String.fromCharCode(o),t.parentType=i,!0}function ZTe(t,e,n){const r=t.md.block.ruler.getRules("paragraph"),i=t.parentType;let s=e+1;for(t.parentType="paragraph";s<n&&!t.isEmpty(s);s++){if(t.sCount[s]-t.blkIndent>3||t.sCount[s]<0)continue;let u=!1;for(let c=0,f=r.length;c<f;c++)if(r[c](t,s,n,!0)){u=!0;break}if(u)break}const o=t.getLines(e,s,t.blkIndent,!1).trim();t.line=s;const a=t.push("paragraph_open","p",1);a.map=[e,t.line];const l=t.push("inline","",0);return l.content=o,l.map=[e,t.line],l.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}const Gw=[["table",xTe,["paragraph","reference"]],["code",STe],["fence",kTe,["paragraph","reference","blockquote","list"]],["blockquote",CTe,["paragraph","reference","blockquote","list"]],["hr",ATe,["paragraph","reference","blockquote","list"]],["list",TTe,["paragraph","reference","blockquote"]],["reference",DTe],["html_block",qTe,["paragraph","reference","blockquote"]],["heading",VTe,["paragraph","reference","blockquote"]],["lheading",XTe],["paragraph",ZTe]];function Gk(){this.ruler=new Jo;for(let t=0;t<Gw.length;t++)this.ruler.push(Gw[t][0],Gw[t][1],{alt:(Gw[t][2]||[]).slice()})}Gk.prototype.tokenize=function(t,e,n){const r=this.ruler.getRules(""),i=r.length,s=t.md.options.maxNesting;let o=e,a=!1;for(;o<n&&(t.line=o=t.skipEmptyLines(o),!(o>=n||t.sCount[o]<t.blkIndent));){if(t.level>=s){t.line=n;break}const l=t.line;let u=!1;for(let c=0;c<i;c++)if(u=r[c](t,o,n,!1),u){if(l>=t.line)throw new Error("block rule didn't increment state.line");break}if(!u)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),o=t.line,o<n&&t.isEmpty(o)&&(a=!0,o++,t.line=o)}};Gk.prototype.parse=function(t,e,n,r){if(!t)return;const i=new this.State(t,e,n,r);this.tokenize(i,i.line,i.lineMax)};Gk.prototype.State=Bc;function YO(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}YO.prototype.pushPending=function(){const t=new Ou("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};YO.prototype.push=function(t,e,n){this.pending&&this.pushPending();const r=new Ou(t,e,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r};YO.prototype.scanDelims=function(t,e){const n=this.posMax,r=this.src.charCodeAt(t),i=t>0?this.src.charCodeAt(t-1):32;let s=t;for(;s<n&&this.src.charCodeAt(s)===r;)s++;const o=s-t,a=s<n?this.src.charCodeAt(s):32,l=Yv(i)||Wv(String.fromCharCode(i)),u=Yv(a)||Wv(String.fromCharCode(a)),c=Zv(i),f=Zv(a),h=!f&&(!u||c||l),d=!c&&(!l||f||u);return{can_open:h&&(e||!d||l),can_close:d&&(e||!h||u),length:o}};YO.prototype.Token=Ou;function WTe(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function YTe(t,e){let n=t.pos;for(;n<t.posMax&&!WTe(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}const GTe=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function HTe(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,r=t.posMax;if(n+3>r||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const i=t.pending.match(GTe);if(!i)return!1;const s=i[1],o=t.md.linkify.matchAtStart(t.src.slice(n-s.length));if(!o)return!1;let a=o.url;if(a.length<=s.length)return!1;a=a.replace(/\*+$/,"");const l=t.md.normalizeLink(a);if(!t.md.validateLink(l))return!1;if(!e){t.pending=t.pending.slice(0,-s.length);const u=t.push("link_open","a",1);u.attrs=[["href",l]],u.markup="linkify",u.info="auto";const c=t.push("text","",0);c.content=t.md.normalizeLinkText(a);const f=t.push("link_close","a",-1);f.markup="linkify",f.info="auto"}return t.pos+=a.length-s.length,!0}function KTe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const r=t.pending.length-1,i=t.posMax;if(!e)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){let s=r-1;for(;s>=1&&t.pending.charCodeAt(s-1)===32;)s--;t.pending=t.pending.slice(0,s),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<i&&Tr(t.src.charCodeAt(n));)n++;return t.pos=n,!0}const H7=[];for(let t=0;t<256;t++)H7.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){H7[t.charCodeAt(0)]=1});function JTe(t,e){let n=t.pos;const r=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let i=t.src.charCodeAt(n);if(i===10){for(e||t.push("hardbreak","br",0),n++;n<r&&(i=t.src.charCodeAt(n),!!Tr(i));)n++;return t.pos=n,!0}let s=t.src[n];if(i>=55296&&i<=56319&&n+1<r){const a=t.src.charCodeAt(n+1);a>=56320&&a<=57343&&(s+=t.src[n+1],n++)}const o="\\"+s;if(!e){const a=t.push("text_special","",0);i<256&&H7[i]!==0?a.content=s:a.content=o,a.markup=o,a.info="escape"}return t.pos=n+1,!0}function eDe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const i=n;n++;const s=t.posMax;for(;n<s&&t.src.charCodeAt(n)===96;)n++;const o=t.src.slice(i,n),a=o.length;if(t.backticksScanned&&(t.backticks[a]||0)<=i)return e||(t.pending+=o),t.pos+=a,!0;let l=n,u;for(;(u=t.src.indexOf("`",l))!==-1;){for(l=u+1;l<s&&t.src.charCodeAt(l)===96;)l++;const c=l-u;if(c===a){if(!e){const f=t.push("code_inline","code",0);f.markup=o,f.content=t.src.slice(n,u).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[c]=u}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=a,!0}function tDe(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==126)return!1;const i=t.scanDelims(t.pos,!0);let s=i.length;const o=String.fromCharCode(r);if(s<2)return!1;let a;s%2&&(a=t.push("text","",0),a.content=o,s--);for(let l=0;l<s;l+=2)a=t.push("text","",0),a.content=o+o,t.delimiters.push({marker:r,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0}function oB(t,e){let n;const r=[],i=e.length;for(let s=0;s<i;s++){const o=e[s];if(o.marker!==126||o.end===-1)continue;const a=e[o.end];n=t.tokens[o.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[a.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[a.token-1].type==="text"&&t.tokens[a.token-1].content==="~"&&r.push(a.token-1)}for(;r.length;){const s=r.pop();let o=s+1;for(;o<t.tokens.length&&t.tokens[o].type==="s_close";)o++;o--,s!==o&&(n=t.tokens[o],t.tokens[o]=t.tokens[s],t.tokens[s]=n)}}function nDe(t){const e=t.tokens_meta,n=t.tokens_meta.length;oB(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&oB(t,e[r].delimiters)}const YJ={tokenize:tDe,postProcess:nDe};function rDe(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==95&&r!==42)return!1;const i=t.scanDelims(t.pos,r===42);for(let s=0;s<i.length;s++){const o=t.push("text","",0);o.content=String.fromCharCode(r),t.delimiters.push({marker:r,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return t.pos+=i.length,!0}function aB(t,e){const n=e.length;for(let r=n-1;r>=0;r--){const i=e[r];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;const s=e[i.end],o=r>0&&e[r-1].end===i.end+1&&e[r-1].marker===i.marker&&e[r-1].token===i.token-1&&e[i.end+1].token===s.token+1,a=String.fromCharCode(i.marker),l=t.tokens[i.token];l.type=o?"strong_open":"em_open",l.tag=o?"strong":"em",l.nesting=1,l.markup=o?a+a:a,l.content="";const u=t.tokens[s.token];u.type=o?"strong_close":"em_close",u.tag=o?"strong":"em",u.nesting=-1,u.markup=o?a+a:a,u.content="",o&&(t.tokens[e[r-1].token].content="",t.tokens[e[i.end+1].token].content="",r--)}}function iDe(t){const e=t.tokens_meta,n=t.tokens_meta.length;aB(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&aB(t,e[r].delimiters)}const GJ={tokenize:rDe,postProcess:iDe};function sDe(t,e){let n,r,i,s,o="",a="",l=t.pos,u=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const c=t.pos,f=t.posMax,h=t.pos+1,d=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(d<0)return!1;let m=d+1;if(m<f&&t.src.charCodeAt(m)===40){for(u=!1,m++;m<f&&(n=t.src.charCodeAt(m),!(!Tr(n)&&n!==10));m++);if(m>=f)return!1;if(l=m,i=t.md.helpers.parseLinkDestination(t.src,m,t.posMax),i.ok){for(o=t.md.normalizeLink(i.str),t.md.validateLink(o)?m=i.pos:o="",l=m;m<f&&(n=t.src.charCodeAt(m),!(!Tr(n)&&n!==10));m++);if(i=t.md.helpers.parseLinkTitle(t.src,m,t.posMax),m<f&&l!==m&&i.ok)for(a=i.str,m=i.pos;m<f&&(n=t.src.charCodeAt(m),!(!Tr(n)&&n!==10));m++);}(m>=f||t.src.charCodeAt(m)!==41)&&(u=!0),m++}if(u){if(typeof t.env.references>"u")return!1;if(m<f&&t.src.charCodeAt(m)===91?(l=m+1,m=t.md.helpers.parseLinkLabel(t,m),m>=0?r=t.src.slice(l,m++):m=d+1):m=d+1,r||(r=t.src.slice(h,d)),s=t.env.references[Yk(r)],!s)return t.pos=c,!1;o=s.href,a=s.title}if(!e){t.pos=h,t.posMax=d;const g=t.push("link_open","a",1),b=[["href",o]];g.attrs=b,a&&b.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=m,t.posMax=f,!0}function oDe(t,e){let n,r,i,s,o,a,l,u,c="";const f=t.pos,h=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const d=t.pos+2,m=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(m<0)return!1;if(s=m+1,s<h&&t.src.charCodeAt(s)===40){for(s++;s<h&&(n=t.src.charCodeAt(s),!(!Tr(n)&&n!==10));s++);if(s>=h)return!1;for(u=s,a=t.md.helpers.parseLinkDestination(t.src,s,t.posMax),a.ok&&(c=t.md.normalizeLink(a.str),t.md.validateLink(c)?s=a.pos:c=""),u=s;s<h&&(n=t.src.charCodeAt(s),!(!Tr(n)&&n!==10));s++);if(a=t.md.helpers.parseLinkTitle(t.src,s,t.posMax),s<h&&u!==s&&a.ok)for(l=a.str,s=a.pos;s<h&&(n=t.src.charCodeAt(s),!(!Tr(n)&&n!==10));s++);else l="";if(s>=h||t.src.charCodeAt(s)!==41)return t.pos=f,!1;s++}else{if(typeof t.env.references>"u")return!1;if(s<h&&t.src.charCodeAt(s)===91?(u=s+1,s=t.md.helpers.parseLinkLabel(t,s),s>=0?i=t.src.slice(u,s++):s=m+1):s=m+1,i||(i=t.src.slice(d,m)),o=t.env.references[Yk(i)],!o)return t.pos=f,!1;c=o.href,l=o.title}if(!e){r=t.src.slice(d,m);const g=[];t.md.inline.parse(r,t.md,t.env,g);const b=t.push("image","img",0),v=[["src",c],["alt",""]];b.attrs=v,b.children=g,b.content=r,l&&v.push(["title",l])}return t.pos=s,t.posMax=h,!0}const aDe=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,lDe=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function uDe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const r=t.pos,i=t.posMax;for(;;){if(++n>=i)return!1;const o=t.src.charCodeAt(n);if(o===60)return!1;if(o===62)break}const s=t.src.slice(r+1,n);if(lDe.test(s)){const o=t.md.normalizeLink(s);if(!t.md.validateLink(o))return!1;if(!e){const a=t.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(s);const u=t.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return t.pos+=s.length+2,!0}if(aDe.test(s)){const o=t.md.normalizeLink("mailto:"+s);if(!t.md.validateLink(o))return!1;if(!e){const a=t.push("link_open","a",1);a.attrs=[["href",o]],a.markup="autolink",a.info="auto";const l=t.push("text","",0);l.content=t.md.normalizeLinkText(s);const u=t.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return t.pos+=s.length+2,!0}return!1}function cDe(t){return/^<a[>\s]/i.test(t)}function fDe(t){return/^<\/a\s*>/i.test(t)}function hDe(t){const e=t|32;return e>=97&&e<=122}function dDe(t,e){if(!t.md.options.html)return!1;const n=t.posMax,r=t.pos;if(t.src.charCodeAt(r)!==60||r+2>=n)return!1;const i=t.src.charCodeAt(r+1);if(i!==33&&i!==63&&i!==47&&!hDe(i))return!1;const s=t.src.slice(r).match(UTe);if(!s)return!1;if(!e){const o=t.push("html_inline","",0);o.content=s[0],cDe(o.content)&&t.linkLevel++,fDe(o.content)&&t.linkLevel--}return t.pos+=s[0].length,!0}const pDe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,mDe=/^&([a-z][a-z0-9]{1,31});/i;function gDe(t,e){const n=t.pos,r=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=r)return!1;if(t.src.charCodeAt(n+1)===35){const s=t.src.slice(n).match(pDe);if(s){if(!e){const o=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),a=t.push("text_special","",0);a.content=Y7(o)?a3(o):a3(65533),a.markup=s[0],a.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(n).match(mDe);if(s){const o=UJ(s[0]);if(o!==s[0]){if(!e){const a=t.push("text_special","",0);a.content=o,a.markup=s[0],a.info="entity"}return t.pos+=s[0].length,!0}}}return!1}function lB(t){const e={},n=t.length;if(!n)return;let r=0,i=-2;const s=[];for(let o=0;o<n;o++){const a=t[o];if(s.push(0),(t[r].marker!==a.marker||i!==a.token-1)&&(r=o),i=a.token,a.length=a.length||0,!a.close)continue;e.hasOwnProperty(a.marker)||(e[a.marker]=[-1,-1,-1,-1,-1,-1]);const l=e[a.marker][(a.open?3:0)+a.length%3];let u=r-s[r]-1,c=u;for(;u>l;u-=s[u]+1){const f=t[u];if(f.marker===a.marker&&f.open&&f.end<0){let h=!1;if((f.close||a.open)&&(f.length+a.length)%3===0&&(f.length%3!==0||a.length%3!==0)&&(h=!0),!h){const d=u>0&&!t[u-1].open?s[u-1]+1:0;s[o]=o-u+d,s[u]=d,a.open=!1,f.end=o,f.close=!1,c=-1,i=-2;break}}}c!==-1&&(e[a.marker][(a.open?3:0)+(a.length||0)%3]=c)}}function yDe(t){const e=t.tokens_meta,n=t.tokens_meta.length;lB(t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&lB(e[r].delimiters)}function bDe(t){let e,n,r=0;const i=t.tokens,s=t.tokens.length;for(e=n=0;e<s;e++)i[e].nesting<0&&r--,i[e].level=r,i[e].nesting>0&&r++,i[e].type==="text"&&e+1<s&&i[e+1].type==="text"?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}const S6=[["text",YTe],["linkify",HTe],["newline",KTe],["escape",JTe],["backticks",eDe],["strikethrough",YJ.tokenize],["emphasis",GJ.tokenize],["link",sDe],["image",oDe],["autolink",uDe],["html_inline",dDe],["entity",gDe]],k6=[["balance_pairs",yDe],["strikethrough",YJ.postProcess],["emphasis",GJ.postProcess],["fragments_join",bDe]];function GO(){this.ruler=new Jo;for(let t=0;t<S6.length;t++)this.ruler.push(S6[t][0],S6[t][1]);this.ruler2=new Jo;for(let t=0;t<k6.length;t++)this.ruler2.push(k6[t][0],k6[t][1])}GO.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),r=n.length,i=t.md.options.maxNesting,s=t.cache;if(typeof s[e]<"u"){t.pos=s[e];return}let o=!1;if(t.level<i){for(let a=0;a<r;a++)if(t.level++,o=n[a](t,!0),t.level--,o){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;o||t.pos++,s[e]=t.pos};GO.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,r=t.posMax,i=t.md.options.maxNesting;for(;t.pos<r;){const s=t.pos;let o=!1;if(t.level<i){for(let a=0;a<n;a++)if(o=e[a](t,!1),o){if(s>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(o){if(t.pos>=r)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};GO.prototype.parse=function(t,e,n,r){const i=new this.State(t,e,n,r);this.tokenize(i);const s=this.ruler2.getRules(""),o=s.length;for(let a=0;a<o;a++)s[a](i)};GO.prototype.State=YO;function vDe(t){const e={};t=t||{},e.src_Any=LJ.source,e.src_Cc=NJ.source,e.src_Z=BJ.source,e.src_P=Z7.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><ï½]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½]|"+e.src_ZPCc+"))((?![$+<=>^`|ï½])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ï½]|"+e.src_ZPCc+"))((?![$+<=>^`|ï½])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function L8(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function Hk(t){return Object.prototype.toString.call(t)}function ODe(t){return Hk(t)==="[object String]"}function wDe(t){return Hk(t)==="[object Object]"}function _De(t){return Hk(t)==="[object RegExp]"}function uB(t){return Hk(t)==="[object Function]"}function xDe(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const HJ={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function SDe(t){return Object.keys(t||{}).reduce(function(e,n){return e||HJ.hasOwnProperty(n)},!1)}const kDe={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},CDe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",ADe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|ÑÑ".split("|");function EDe(t){t.__index__=-1,t.__text_cache__=""}function TDe(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function cB(){return function(t,e){e.normalize(t)}}function l3(t){const e=t.re=vDe(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(CDe),n.push(e.src_xn),e.src_tlds=n.join("|");function r(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const i=[];t.__compiled__={};function s(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(t.__schemas__).forEach(function(a){const l=t.__schemas__[a];if(l===null)return;const u={validate:null,link:null};if(t.__compiled__[a]=u,wDe(l)){_De(l.validate)?u.validate=TDe(l.validate):uB(l.validate)?u.validate=l.validate:s(a,l),uB(l.normalize)?u.normalize=l.normalize:l.normalize?s(a,l):u.normalize=cB();return}if(ODe(l)){i.push(a);return}s(a,l)}),i.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:cB()};const o=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(xDe).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><ï½]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><ï½]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),EDe(t)}function DDe(t,e){const n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function N8(t,e){const n=new DDe(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function Ba(t,e){if(!(this instanceof Ba))return new Ba(t,e);e||SDe(t)&&(e=t,t={}),this.__opts__=L8({},HJ,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=L8({},kDe,t),this.__compiled__={},this.__tlds__=ADe,this.__tlds_replaced__=!1,this.re={},l3(this)}Ba.prototype.add=function(e,n){return this.__schemas__[e]=n,l3(this),this};Ba.prototype.set=function(e){return this.__opts__=L8(this.__opts__,e),this};Ba.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,i,s,o,a,l,u,c;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],l.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(o=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};Ba.prototype.pretest=function(e){return this.re.pretest.test(e)};Ba.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};Ba.prototype.match=function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(N8(this,r)),r=this.__last_index__);let i=r?e.slice(r):e;for(;this.test(i);)n.push(N8(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};Ba.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,N8(this,0)):null};Ba.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,i,s){return r!==s[i-1]}).reverse(),l3(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,l3(this),this)};Ba.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};Ba.prototype.onCompile=function(){};const fg=2147483647,sc=36,K7=1,Gv=26,PDe=38,RDe=700,KJ=72,JJ=128,eee="-",$De=/^xn--/,IDe=/[^\0-\x7F]/,FDe=/[\x2E\u3002\uFF0E\uFF61]/g,MDe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C6=sc-K7,oc=Math.floor,A6=String.fromCharCode;function Ih(t){throw new RangeError(MDe[t])}function LDe(t,e){const n=[];let r=t.length;for(;r--;)n[r]=e(t[r]);return n}function tee(t,e){const n=t.split("@");let r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(FDe,".");const i=t.split("."),s=LDe(i,e).join(".");return r+s}function nee(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}const NDe=t=>String.fromCodePoint(...t),QDe=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:sc},fB=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},ree=function(t,e,n){let r=0;for(t=n?oc(t/RDe):t>>1,t+=oc(t/e);t>C6*Gv>>1;r+=sc)t=oc(t/C6);return oc(r+(C6+1)*t/(t+PDe))},iee=function(t){const e=[],n=t.length;let r=0,i=JJ,s=KJ,o=t.lastIndexOf(eee);o<0&&(o=0);for(let a=0;a<o;++a)t.charCodeAt(a)>=128&&Ih("not-basic"),e.push(t.charCodeAt(a));for(let a=o>0?o+1:0;a<n;){const l=r;for(let c=1,f=sc;;f+=sc){a>=n&&Ih("invalid-input");const h=QDe(t.charCodeAt(a++));h>=sc&&Ih("invalid-input"),h>oc((fg-r)/c)&&Ih("overflow"),r+=h*c;const d=f<=s?K7:f>=s+Gv?Gv:f-s;if(h<d)break;const m=sc-d;c>oc(fg/m)&&Ih("overflow"),c*=m}const u=e.length+1;s=ree(r-l,u,l==0),oc(r/u)>fg-i&&Ih("overflow"),i+=oc(r/u),r%=u,e.splice(r++,0,i)}return String.fromCodePoint(...e)},see=function(t){const e=[];t=nee(t);const n=t.length;let r=JJ,i=0,s=KJ;for(const l of t)l<128&&e.push(A6(l));const o=e.length;let a=o;for(o&&e.push(eee);a<n;){let l=fg;for(const c of t)c>=r&&c<l&&(l=c);const u=a+1;l-r>oc((fg-i)/u)&&Ih("overflow"),i+=(l-r)*u,r=l;for(const c of t)if(c<r&&++i>fg&&Ih("overflow"),c===r){let f=i;for(let h=sc;;h+=sc){const d=h<=s?K7:h>=s+Gv?Gv:h-s;if(f<d)break;const m=f-d,g=sc-d;e.push(A6(fB(d+m%g,0))),f=oc(m/g)}e.push(A6(fB(f,0))),s=ree(i,u,a===o),i=0,++a}++i,++r}return e.join("")},BDe=function(t){return tee(t,function(e){return $De.test(e)?iee(e.slice(4).toLowerCase()):e})},zDe=function(t){return tee(t,function(e){return IDe.test(e)?"xn--"+see(e):e})},oee={version:"2.3.1",ucs2:{decode:nee,encode:NDe},decode:iee,encode:see,toASCII:zDe,toUnicode:BDe},UDe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},jDe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},qDe={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},VDe={default:UDe,zero:jDe,commonmark:qDe},XDe=/^(vbscript|javascript|file|data):/,ZDe=/^data:image\/(gif|png|jpeg|webp);/;function WDe(t){const e=t.trim().toLowerCase();return XDe.test(e)?ZDe.test(e):!0}const aee=["http:","https:","mailto:"];function YDe(t){const e=X7(t,!0);if(e.hostname&&(!e.protocol||aee.indexOf(e.protocol)>=0))try{e.hostname=oee.toASCII(e.hostname)}catch{}return WO(V7(e))}function GDe(t){const e=X7(t,!0);if(e.hostname&&(!e.protocol||aee.indexOf(e.protocol)>=0))try{e.hostname=oee.toUnicode(e.hostname)}catch{}return s1(V7(e),s1.defaultChars+"%")}function kl(t,e){if(!(this instanceof kl))return new kl(t,e);e||W7(t)||(e=t||{},t="default"),this.inline=new GO,this.block=new Gk,this.core=new G7,this.renderer=new j1,this.linkify=new Ba,this.validateLink=WDe,this.normalizeLink=YDe,this.normalizeLinkText=GDe,this.utils=K8e,this.helpers=Wk({},nTe),this.options={},this.configure(t),e&&this.set(e)}kl.prototype.set=function(t){return Wk(this.options,t),this};kl.prototype.configure=function(t){const e=this;if(W7(t)){const n=t;if(t=VDe[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};kl.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};kl.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};kl.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};kl.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};kl.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};kl.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};kl.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};function HDe(t,e,n){const{parseMetaString:r,trimEndingNewline:i=!0,defaultLanguage:s="text",fallbackLanguage:o}=n,a=e.getLoadedLanguages();t.options.highlight=(l,u="text",c)=>{u===""&&(u=s),o&&!a.includes(u)&&(u=o);const f=r?.(c,l,u)||{},h={...n,lang:u,meta:{...n.meta,...f,__raw:c}},d=[];return d.push({name:"@shikijs/markdown-it:block-class",code(m){m.properties.class=`language-${u}`}}),i&&l.endsWith(`
`)&&(l=l.slice(0,-1)),e.codeToHtml(l,{...h,transformers:[...d,...h.transformers||[]]})}}function KDe(t,e){return function(n){HDe(n,t,e)}}let Up=class extends Error{constructor(e){super(e),this.name="ShikiError"}},J7=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function JDe(){return 2147483648}function ePe(){return typeof performance<"u"?performance.now():Date.now()}const tPe=(t,e)=>t+(e-t%e)%e;async function nPe(t){let e,n;const r={};function i(d){n=d,r.HEAPU8=new Uint8Array(d),r.HEAPU32=new Uint32Array(d)}function s(d,m,g){r.HEAPU8.copyWithin(d,m,m+g)}function o(d){try{return e.grow(d-n.byteLength+65535>>>16),i(e.buffer),1}catch{}}function a(d){const m=r.HEAPU8.length;d=d>>>0;const g=JDe();if(d>g)return!1;for(let b=1;b<=4;b*=2){let v=m*(1+.2/b);v=Math.min(v,d+100663296);const O=Math.min(g,tPe(Math.max(d,v),65536));if(o(O))return!0}return!1}const l=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function u(d,m,g=1024){const b=m+g;let v=m;for(;d[v]&&!(v>=b);)++v;if(v-m>16&&d.buffer&&l)return l.decode(d.subarray(m,v));let O="";for(;m<v;){let x=d[m++];if(!(x&128)){O+=String.fromCharCode(x);continue}const C=d[m++]&63;if((x&224)===192){O+=String.fromCharCode((x&31)<<6|C);continue}const S=d[m++]&63;if((x&240)===224?x=(x&15)<<12|C<<6|S:x=(x&7)<<18|C<<12|S<<6|d[m++]&63,x<65536)O+=String.fromCharCode(x);else{const A=x-65536;O+=String.fromCharCode(55296|A>>10,56320|A&1023)}}return O}function c(d,m){return d?u(r.HEAPU8,d,m):""}const f={emscripten_get_now:ePe,emscripten_memcpy_big:s,emscripten_resize_heap:a,fd_write:()=>0};async function h(){const m=await t({env:f,wasi_snapshot_preview1:f});e=m.memory,i(e.buffer),Object.assign(r,m),r.UTF8ToString=c}return await h(),r}var rPe=Object.defineProperty,iPe=(t,e,n)=>e in t?rPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qi=(t,e,n)=>(iPe(t,typeof e!="symbol"?e+"":e,n),n);let ts=null;function sPe(t){throw new J7(t.UTF8ToString(t.getLastOnigError()))}class Kk{constructor(e){qi(this,"utf16Length"),qi(this,"utf8Length"),qi(this,"utf16Value"),qi(this,"utf8Value"),qi(this,"utf16OffsetToUtf8"),qi(this,"utf8OffsetToUtf16");const n=e.length,r=Kk._utf8ByteLength(e),i=r!==n,s=i?new Uint32Array(n+1):null;i&&(s[n]=r);const o=i?new Uint32Array(r+1):null;i&&(o[r]=n);const a=new Uint8Array(r);let l=0;for(let u=0;u<n;u++){const c=e.charCodeAt(u);let f=c,h=!1;if(c>=55296&&c<=56319&&u+1<n){const d=e.charCodeAt(u+1);d>=56320&&d<=57343&&(f=(c-55296<<10)+65536|d-56320,h=!0)}i&&(s[u]=l,h&&(s[u+1]=l),f<=127?o[l+0]=u:f<=2047?(o[l+0]=u,o[l+1]=u):f<=65535?(o[l+0]=u,o[l+1]=u,o[l+2]=u):(o[l+0]=u,o[l+1]=u,o[l+2]=u,o[l+3]=u)),f<=127?a[l++]=f:f<=2047?(a[l++]=192|(f&1984)>>>6,a[l++]=128|(f&63)>>>0):f<=65535?(a[l++]=224|(f&61440)>>>12,a[l++]=128|(f&4032)>>>6,a[l++]=128|(f&63)>>>0):(a[l++]=240|(f&1835008)>>>18,a[l++]=128|(f&258048)>>>12,a[l++]=128|(f&4032)>>>6,a[l++]=128|(f&63)>>>0),h&&u++}this.utf16Length=n,this.utf8Length=r,this.utf16Value=e,this.utf8Value=a,this.utf16OffsetToUtf8=s,this.utf8OffsetToUtf16=o}static _utf8ByteLength(e){let n=0;for(let r=0,i=e.length;r<i;r++){const s=e.charCodeAt(r);let o=s,a=!1;if(s>=55296&&s<=56319&&r+1<i){const l=e.charCodeAt(r+1);l>=56320&&l<=57343&&(o=(s-55296<<10)+65536|l-56320,a=!0)}o<=127?n+=1:o<=2047?n+=2:o<=65535?n+=3:n+=4,a&&r++}return n}createString(e){const n=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,n),n}}const $u=class{constructor(t){if(qi(this,"id",++$u.LAST_ID),qi(this,"_onigBinding"),qi(this,"content"),qi(this,"utf16Length"),qi(this,"utf8Length"),qi(this,"utf16OffsetToUtf8"),qi(this,"utf8OffsetToUtf16"),qi(this,"ptr"),!ts)throw new J7("Must invoke loadWasm first.");this._onigBinding=ts,this.content=t;const e=new Kk(t);this.utf16Length=e.utf16Length,this.utf8Length=e.utf8Length,this.utf16OffsetToUtf8=e.utf16OffsetToUtf8,this.utf8OffsetToUtf16=e.utf8OffsetToUtf16,this.utf8Length<1e4&&!$u._sharedPtrInUse?($u._sharedPtr||($u._sharedPtr=ts.omalloc(1e4)),$u._sharedPtrInUse=!0,ts.HEAPU8.set(e.utf8Value,$u._sharedPtr),this.ptr=$u._sharedPtr):this.ptr=e.createString(ts)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===$u._sharedPtr?$u._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};let HO=$u;qi(HO,"LAST_ID",0);qi(HO,"_sharedPtr",0);qi(HO,"_sharedPtrInUse",!1);class oPe{constructor(e){if(qi(this,"_onigBinding"),qi(this,"_ptr"),!ts)throw new J7("Must invoke loadWasm first.");const n=[],r=[];for(let a=0,l=e.length;a<l;a++){const u=new Kk(e[a]);n[a]=u.createString(ts),r[a]=u.utf8Length}const i=ts.omalloc(4*e.length);ts.HEAPU32.set(n,i/4);const s=ts.omalloc(4*e.length);ts.HEAPU32.set(r,s/4);const o=ts.createOnigScanner(i,s,e.length);for(let a=0,l=e.length;a<l;a++)ts.ofree(n[a]);ts.ofree(s),ts.ofree(i),o===0&&sPe(ts),this._onigBinding=ts,this._ptr=o}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,n,r){let i=0;if(typeof r=="number"&&(i=r),typeof e=="string"){e=new HO(e);const s=this._findNextMatchSync(e,n,!1,i);return e.dispose(),s}return this._findNextMatchSync(e,n,!1,i)}_findNextMatchSync(e,n,r,i){const s=this._onigBinding,o=s.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(n),i);if(o===0)return null;const a=s.HEAPU32;let l=o/4;const u=a[l++],c=a[l++],f=[];for(let h=0;h<c;h++){const d=e.convertUtf8OffsetToUtf16(a[l++]),m=e.convertUtf8OffsetToUtf16(a[l++]);f[h]={start:d,end:m,length:m-d}}return{index:u,captureIndices:f}}}function aPe(t){return typeof t.instantiator=="function"}function lPe(t){return typeof t.default=="function"}function uPe(t){return typeof t.data<"u"}function cPe(t){return typeof Response<"u"&&t instanceof Response}function fPe(t){return typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))||typeof Buffer<"u"&&Buffer.isBuffer?.(t)||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&t instanceof Uint32Array}let Hw;function hPe(t){if(Hw)return Hw;async function e(){ts=await nPe(async n=>{let r=t;return r=await r,typeof r=="function"&&(r=await r(n)),typeof r=="function"&&(r=await r(n)),aPe(r)?r=await r.instantiator(n):lPe(r)?r=await r.default(n):(uPe(r)&&(r=r.data),cPe(r)?typeof WebAssembly.instantiateStreaming=="function"?r=await dPe(r)(n):r=await pPe(r)(n):fPe(r)?r=await E6(r)(n):r instanceof WebAssembly.Module?r=await E6(r)(n):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await E6(r.default)(n))),"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}return Hw=e(),Hw}function E6(t){return e=>WebAssembly.instantiate(t,e)}function dPe(t){return e=>WebAssembly.instantiateStreaming(t,e)}function pPe(t){return async e=>{const n=await t.arrayBuffer();return WebAssembly.instantiate(n,e)}}let mPe;function gPe(){return mPe}async function yPe(t){return t&&await hPe(t),{createScanner(e){return new oPe(e.map(n=>typeof n=="string"?n:n.source))},createString(e){return new HO(e)}}}function bPe(t){return e9(t)}function e9(t){return Array.isArray(t)?vPe(t):t instanceof RegExp?t:typeof t=="object"?OPe(t):t}function vPe(t){let e=[];for(let n=0,r=t.length;n<r;n++)e[n]=e9(t[n]);return e}function OPe(t){let e={};for(let n in t)e[n]=e9(t[n]);return e}function lee(t,...e){return e.forEach(n=>{for(let r in n)t[r]=n[r]}),t}function uee(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?uee(t.substring(0,t.length-1)):t.substr(~e+1)}var T6=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Kw=class{static hasCaptures(t){return t===null?!1:(T6.lastIndex=0,T6.test(t))}static replaceCaptures(t,e,n){return t.replace(T6,(r,i,s,o)=>{let a=n[parseInt(i||s,10)];if(a){let l=e.substring(a.start,a.end);for(;l[0]===".";)l=l.substring(1);switch(o){case"downcase":return l.toLowerCase();case"upcase":return l.toUpperCase();default:return l}}else return r})}};function cee(t,e){return t<e?-1:t>e?1:0}function fee(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let n=t.length,r=e.length;if(n===r){for(let i=0;i<n;i++){let s=cee(t[i],e[i]);if(s!==0)return s}return 0}return n-r}function hB(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function hee(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var dee=class{constructor(t){this.fn=t}cache=new Map;get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},u3=class{constructor(t,e,n){this._colorMap=t,this._defaults=e,this._root=n}static createFromRawTheme(t,e){return this.createFromParsedTheme(xPe(t),e)}static createFromParsedTheme(t,e){return kPe(t,e)}_cachedMatchRoot=new dee(t=>this._root.match(t));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(t){if(t===null)return this._defaults;const e=t.scopeName,r=this._cachedMatchRoot.get(e).find(i=>wPe(t.parent,i.parentScopes));return r?new pee(r.fontStyle,r.foreground,r.background):null}},D6=class ux{constructor(e,n){this.parent=e,this.scopeName=n}static push(e,n){for(const r of n)e=new ux(e,r);return e}static from(...e){let n=null;for(let r=0;r<e.length;r++)n=new ux(n,e[r]);return n}push(e){return new ux(this,e)}getSegments(){let e=this;const n=[];for(;e;)n.push(e.scopeName),e=e.parent;return n.reverse(),n}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push(r.scopeName),r=r.parent;return r===e?n.reverse():void 0}};function wPe(t,e){if(e.length===0)return!0;for(let n=0;n<e.length;n++){let r=e[n],i=!1;if(r===">"){if(n===e.length-1)return!1;r=e[++n],i=!0}for(;t&&!_Pe(t.scopeName,r);){if(i)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function _Pe(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var pee=class{constructor(t,e,n){this.fontStyle=t,this.foregroundId=e,this.backgroundId=n}};function xPe(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,n=[],r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];if(!o.settings)continue;let a;if(typeof o.scope=="string"){let f=o.scope;f=f.replace(/^[,]+/,""),f=f.replace(/[,]+$/,""),a=f.split(",")}else Array.isArray(o.scope)?a=o.scope:a=[""];let l=-1;if(typeof o.settings.fontStyle=="string"){l=0;let f=o.settings.fontStyle.split(" ");for(let h=0,d=f.length;h<d;h++)switch(f[h]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let u=null;typeof o.settings.foreground=="string"&&hB(o.settings.foreground)&&(u=o.settings.foreground);let c=null;typeof o.settings.background=="string"&&hB(o.settings.background)&&(c=o.settings.background);for(let f=0,h=a.length;f<h;f++){let m=a[f].trim().split(" "),g=m[m.length-1],b=null;m.length>1&&(b=m.slice(0,m.length-1),b.reverse()),n[r++]=new SPe(g,b,i,l,u,c)}}return n}var SPe=class{constructor(t,e,n,r,i,s){this.scope=t,this.parentScopes=e,this.index=n,this.fontStyle=r,this.foreground=i,this.background=s}},Ef=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(Ef||{});function kPe(t,e){t.sort((l,u)=>{let c=cee(l.scope,u.scope);return c!==0||(c=fee(l.parentScopes,u.parentScopes),c!==0)?c:l.index-u.index});let n=0,r="#000000",i="#ffffff";for(;t.length>=1&&t[0].scope==="";){let l=t.shift();l.fontStyle!==-1&&(n=l.fontStyle),l.foreground!==null&&(r=l.foreground),l.background!==null&&(i=l.background)}let s=new CPe(e),o=new pee(n,s.getId(r),s.getId(i)),a=new EPe(new Q8(0,null,-1,0,0),[]);for(let l=0,u=t.length;l<u;l++){let c=t[l];a.insert(0,c.scope,c.parentScopes,c.fontStyle,s.getId(c.foreground),s.getId(c.background))}return new u3(s,o,a)}var CPe=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(t){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,n=t.length;e<n;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},APe=Object.freeze([]),Q8=class mee{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,n,r,i,s){this.scopeDepth=e,this.parentScopes=n||APe,this.fontStyle=r,this.foreground=i,this.background=s}clone(){return new mee(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let n=[];for(let r=0,i=e.length;r<i;r++)n[r]=e[r].clone();return n}acceptOverwrite(e,n,r,i){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),r!==0&&(this.foreground=r),i!==0&&(this.background=i)}},EPe=class B8{constructor(e,n=[],r={}){this._mainRule=e,this._children=r,this._rulesWithParentScopes=n}_rulesWithParentScopes;static _cmpBySpecificity(e,n){if(e.scopeDepth!==n.scopeDepth)return n.scopeDepth-e.scopeDepth;let r=0,i=0;for(;e.parentScopes[r]===">"&&r++,n.parentScopes[i]===">"&&i++,!(r>=e.parentScopes.length||i>=n.parentScopes.length);){const s=n.parentScopes[i].length-e.parentScopes[r].length;if(s!==0)return s;r++,i++}return n.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let r=e.indexOf("."),i,s;if(r===-1?(i=e,s=""):(i=e.substring(0,r),s=e.substring(r+1)),this._children.hasOwnProperty(i))return this._children[i].match(s)}const n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(B8._cmpBySpecificity),n}insert(e,n,r,i,s,o){if(n===""){this._doInsertHere(e,r,i,s,o);return}let a=n.indexOf("."),l,u;a===-1?(l=n,u=""):(l=n.substring(0,a),u=n.substring(a+1));let c;this._children.hasOwnProperty(l)?c=this._children[l]:(c=new B8(this._mainRule.clone(),Q8.cloneArr(this._rulesWithParentScopes)),this._children[l]=c),c.insert(e+1,u,r,i,s,o)}_doInsertHere(e,n,r,i,s){if(n===null){this._mainRule.acceptOverwrite(e,r,i,s);return}for(let o=0,a=this._rulesWithParentScopes.length;o<a;o++){let l=this._rulesWithParentScopes[o];if(fee(l.parentScopes,n)===0){l.acceptOverwrite(e,r,i,s);return}}r===-1&&(r=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),s===0&&(s=this._mainRule.background),this._rulesWithParentScopes.push(new Q8(e,n,r,i,s))}},a1=class Ka{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const n=Ka.getLanguageId(e),r=Ka.getTokenType(e),i=Ka.getFontStyle(e),s=Ka.getForeground(e),o=Ka.getBackground(e);console.log({languageId:n,tokenType:r,fontStyle:i,foreground:s,background:o})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,n,r,i,s,o,a){let l=Ka.getLanguageId(e),u=Ka.getTokenType(e),c=Ka.containsBalancedBrackets(e)?1:0,f=Ka.getFontStyle(e),h=Ka.getForeground(e),d=Ka.getBackground(e);return n!==0&&(l=n),r!==8&&(u=r),i!==null&&(c=i?1:0),s!==-1&&(f=s),o!==0&&(h=o),a!==0&&(d=a),(l<<0|u<<8|c<<10|f<<11|h<<15|d<<24)>>>0}};function c3(t,e){const n=[],r=TPe(t);let i=r.next();for(;i!==null;){let l=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":l=1;break;case"L":l=-1;break;default:console.log(`Unknown priority ${i} in scope selector`)}i=r.next()}let u=o();if(n.push({matcher:u,priority:l}),i!==",")break;i=r.next()}return n;function s(){if(i==="-"){i=r.next();const l=s();return u=>!!l&&!l(u)}if(i==="("){i=r.next();const l=a();return i===")"&&(i=r.next()),l}if(dB(i)){const l=[];do l.push(i),i=r.next();while(dB(i));return u=>e(l,u)}return null}function o(){const l=[];let u=s();for(;u;)l.push(u),u=s();return c=>l.every(f=>f(c))}function a(){const l=[];let u=o();for(;u&&(l.push(u),i==="|"||i===",");){do i=r.next();while(i==="|"||i===",");u=o()}return c=>l.some(f=>f(c))}}function dB(t){return!!t&&!!t.match(/[\w\.:]+/)}function TPe(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:()=>{if(!n)return null;const r=n[0];return n=e.exec(t),r}}}function gee(t){typeof t.dispose=="function"&&t.dispose()}var Hv=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},DPe=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},PPe=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},RPe=class{constructor(t,e){this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new Hv(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const t=this.Q;this.Q=[];const e=new PPe;for(const n of t)$Pe(n,this.initialScopeName,this.repo,e);for(const n of e.references)if(n instanceof Hv){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};function $Pe(t,e,n,r){const i=n.lookup(t.scopeName);if(!i){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const s=n.lookup(e);t instanceof Hv?cx({baseGrammar:s,selfGrammar:i},r):z8(t.ruleName,{baseGrammar:s,selfGrammar:i,repository:i.repository},r);const o=n.injections(t.scopeName);if(o)for(const a of o)r.add(new Hv(a))}function z8(t,e,n){if(e.repository&&e.repository[t]){const r=e.repository[t];f3([r],e,n)}}function cx(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&f3(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&f3(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function f3(t,e,n){for(const r of t){if(n.visitedRule.has(r))continue;n.visitedRule.add(r);const i=r.repository?lee({},e.repository,r.repository):e.repository;Array.isArray(r.patterns)&&f3(r.patterns,{...e,repository:i},n);const s=r.include;if(!s)continue;const o=yee(s);switch(o.kind){case 0:cx({...e,selfGrammar:e.baseGrammar},n);break;case 1:cx(e,n);break;case 2:z8(o.ruleName,{...e,repository:i},n);break;case 3:case 4:const a=o.scopeName===e.selfGrammar.scopeName?e.selfGrammar:o.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(a){const l={baseGrammar:e.baseGrammar,selfGrammar:a,repository:i};o.kind===4?z8(o.ruleName,l,n):cx(l,n)}else o.kind===4?n.add(new DPe(o.scopeName,o.ruleName)):n.add(new Hv(o.scopeName));break}}}var IPe=class{kind=0},FPe=class{kind=1},MPe=class{constructor(t){this.ruleName=t}kind=2},LPe=class{constructor(t){this.scopeName=t}kind=3},NPe=class{constructor(t,e){this.scopeName=t,this.ruleName=e}kind=4};function yee(t){if(t==="$base")return new IPe;if(t==="$self")return new FPe;const e=t.indexOf("#");if(e===-1)return new LPe(t);if(e===0)return new MPe(t.substring(1));{const n=t.substring(0,e),r=t.substring(e+1);return new NPe(n,r)}}var QPe=/\\(\d+)/,pB=/\\(\d+)/g,BPe=-1,bee=-2;var KO=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(t,e,n,r){this.$location=t,this.id=e,this._name=n||null,this._nameIsCapturing=Kw.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=Kw.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${uee(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:Kw.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Kw.replaceCaptures(this._contentName,t,e)}},zPe=class extends KO{retokenizeCapturedWithRuleId;constructor(t,e,n,r,i){super(t,e,n,r),this.retokenizeCapturedWithRuleId=i}dispose(){}collectPatterns(t,e){throw new Error("Not supported!")}compile(t,e){throw new Error("Not supported!")}compileAG(t,e,n,r){throw new Error("Not supported!")}},UPe=class extends KO{_match;captures;_cachedCompiledPatterns;constructor(t,e,n,r,i){super(t,e,n,null),this._match=new Kv(r,this.id),this.captures=i,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,e){e.push(this._match)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Jv,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},mB=class extends KO{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,n,r,i){super(t,e,n,r),this.patterns=i.patterns,this.hasMissingPatterns=i.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,e){for(const n of this.patterns)t.getRule(n).collectPatterns(t,e)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new Jv,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},U8=class extends KO{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,n,r,i,s,o,a,l,u){super(t,e,n,r),this._begin=new Kv(i,this.id),this.beginCaptures=s,this._end=new Kv(o||"ï¿¿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=a,this.applyEndPatternLast=l||!1,this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,e){return this._end.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t,e).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t,e).compileAG(t,n,r)}_getCachedCompiledPatterns(t,e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Jv;for(const n of this.patterns)t.getRule(n).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,e):this._cachedCompiledPatterns.setSource(0,e)),this._cachedCompiledPatterns}},h3=class extends KO{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(t,e,n,r,i,s,o,a,l){super(t,e,n,r),this._begin=new Kv(i,this.id),this.beginCaptures=s,this.whileCaptures=a,this._while=new Kv(o,bee),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=l.patterns,this.hasMissingPatterns=l.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,e){return this._while.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,n,r){return this._getCachedCompiledPatterns(t).compileAG(t,n,r)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new Jv;for(const e of this.patterns)t.getRule(e).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,e){return this._getCachedCompiledWhilePatterns(t,e).compile(t)}compileWhileAG(t,e,n,r){return this._getCachedCompiledWhilePatterns(t,e).compileAG(t,n,r)}_getCachedCompiledWhilePatterns(t,e){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new Jv,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,e||"ï¿¿"),this._cachedCompiledWhilePatterns}},vee=class ks{static createCaptureRule(e,n,r,i,s){return e.registerRule(o=>new zPe(n,o,r,i,s))}static getCompiledRuleId(e,n,r){return e.id||n.registerRule(i=>{if(e.id=i,e.match)return new UPe(e.$vscodeTextmateLocation,e.id,e.name,e.match,ks._compileCaptures(e.captures,n,r));if(typeof e.begin>"u"){e.repository&&(r=lee({},r,e.repository));let s=e.patterns;return typeof s>"u"&&e.include&&(s=[{include:e.include}]),new mB(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,ks._compilePatterns(s,n,r))}return e.while?new h3(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,ks._compileCaptures(e.beginCaptures||e.captures,n,r),e.while,ks._compileCaptures(e.whileCaptures||e.captures,n,r),ks._compilePatterns(e.patterns,n,r)):new U8(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,ks._compileCaptures(e.beginCaptures||e.captures,n,r),e.end,ks._compileCaptures(e.endCaptures||e.captures,n,r),e.applyEndPatternLast,ks._compilePatterns(e.patterns,n,r))}),e.id}static _compileCaptures(e,n,r){let i=[];if(e){let s=0;for(const o in e){if(o==="$vscodeTextmateLocation")continue;const a=parseInt(o,10);a>s&&(s=a)}for(let o=0;o<=s;o++)i[o]=null;for(const o in e){if(o==="$vscodeTextmateLocation")continue;const a=parseInt(o,10);let l=0;e[o].patterns&&(l=ks.getCompiledRuleId(e[o],n,r)),i[a]=ks.createCaptureRule(n,e[o].$vscodeTextmateLocation,e[o].name,e[o].contentName,l)}}return i}static _compilePatterns(e,n,r){let i=[];if(e)for(let s=0,o=e.length;s<o;s++){const a=e[s];let l=-1;if(a.include){const u=yee(a.include);switch(u.kind){case 0:case 1:l=ks.getCompiledRuleId(r[a.include],n,r);break;case 2:let c=r[u.ruleName];c&&(l=ks.getCompiledRuleId(c,n,r));break;case 3:case 4:const f=u.scopeName,h=u.kind===4?u.ruleName:null,d=n.getExternalGrammar(f,r);if(d)if(h){let m=d.repository[h];m&&(l=ks.getCompiledRuleId(m,n,d.repository))}else l=ks.getCompiledRuleId(d.repository.$self,n,d.repository);break}}else l=ks.getCompiledRuleId(a,n,r);if(l!==-1){const u=n.getRule(l);let c=!1;if((u instanceof mB||u instanceof U8||u instanceof h3)&&u.hasMissingPatterns&&u.patterns.length===0&&(c=!0),c)continue;i.push(l)}}return{patterns:i,hasMissingPatterns:(e?e.length:0)!==i.length}}},Kv=class Oee{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,n){if(e&&typeof e=="string"){const r=e.length;let i=0,s=[],o=!1;for(let a=0;a<r;a++)if(e.charAt(a)==="\\"&&a+1<r){const u=e.charAt(a+1);u==="z"?(s.push(e.substring(i,a)),s.push("$(?!\\n)(?<!\\n)"),i=a+2):(u==="A"||u==="G")&&(o=!0),a++}this.hasAnchor=o,i===0?this.source=e:(s.push(e.substring(i,r)),this.source=s.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,typeof this.source=="string"?this.hasBackReferences=QPe.test(this.source):this.hasBackReferences=!1}clone(){return new Oee(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let r=n.map(i=>e.substring(i.start,i.end));return pB.lastIndex=0,this.source.replace(pB,(i,s)=>hee(r[parseInt(s,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],n=[],r=[],i=[],s,o,a,l;for(s=0,o=this.source.length;s<o;s++)a=this.source.charAt(s),e[s]=a,n[s]=a,r[s]=a,i[s]=a,a==="\\"&&s+1<o&&(l=this.source.charAt(s+1),l==="A"?(e[s+1]="ï¿¿",n[s+1]="ï¿¿",r[s+1]="A",i[s+1]="A"):l==="G"?(e[s+1]="ï¿¿",n[s+1]="G",r[s+1]="ï¿¿",i[s+1]="G"):(e[s+1]=l,n[s+1]=l,r[s+1]=l,i[s+1]=l),s++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:r.join(""),A1_G1:i.join("")}}resolveAnchors(e,n){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},Jv=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(n=>n.source);this._cached=new gB(t,e,this._items.map(n=>n.ruleId))}return this._cached}compileAG(t,e,n){return this._hasAnchors?e?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,n){let r=this._items.map(i=>i.resolveAnchors(e,n));return new gB(t,r,this._items.map(i=>i.ruleId))}},gB=class{constructor(t,e,n){this.regExps=e,this.rules=n,this.scanner=t.createOnigScanner(e)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,n=this.rules.length;e<n;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,n){const r=this.scanner.findNextMatchSync(t,e,n);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}},P6=class{constructor(t,e){this.languageId=t,this.tokenType=e}},jPe=class j8{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,n){this._defaultAttributes=new P6(e,8),this._embeddedLanguagesMatcher=new qPe(Object.entries(n||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?j8._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}static _NULL_SCOPE_METADATA=new P6(0,0);_getBasicScopeAttributes=new dee(e=>{const n=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new P6(n,r)});_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const n=e.match(j8.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},qPe=class{values;scopesRegExp;constructor(t){if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([n,r])=>hee(n));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},yB=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function wee(t,e,n,r,i,s,o,a){const l=e.content.length;let u=!1,c=-1;if(o){const d=VPe(t,e,n,r,i,s);i=d.stack,r=d.linePos,n=d.isFirstLine,c=d.anchorPosition}const f=Date.now();for(;!u;){if(a!==0&&Date.now()-f>a)return new yB(i,!0);h()}return new yB(i,!1);function h(){const d=XPe(t,e,n,r,i,c);if(!d){s.produce(i,l),u=!0;return}const m=d.captureIndices,g=d.matchedRuleId,b=m&&m.length>0?m[0].end>r:!1;if(g===BPe){const v=i.getRule(t);s.produce(i,m[0].start),i=i.withContentNameScopesList(i.nameScopesList),wb(t,e,n,i,s,v.endCaptures,m),s.produce(i,m[0].end);const O=i;if(i=i.parent,c=O.getAnchorPos(),!b&&O.getEnterPos()===r){i=O,s.produce(i,l),u=!0;return}}else{const v=t.getRule(g);s.produce(i,m[0].start);const O=i,x=v.getName(e.content,m),C=i.contentNameScopesList.pushAttributed(x,t);if(i=i.push(g,r,c,m[0].end===l,null,C,C),v instanceof U8){const S=v;wb(t,e,n,i,s,S.beginCaptures,m),s.produce(i,m[0].end),c=m[0].end;const A=S.getContentName(e.content,m),k=C.pushAttributed(A,t);if(i=i.withContentNameScopesList(k),S.endHasBackReferences&&(i=i.withEndRule(S.getEndWithResolvedBackReferences(e.content,m))),!b&&O.hasSameRuleAs(i)){i=i.pop(),s.produce(i,l),u=!0;return}}else if(v instanceof h3){const S=v;wb(t,e,n,i,s,S.beginCaptures,m),s.produce(i,m[0].end),c=m[0].end;const A=S.getContentName(e.content,m),k=C.pushAttributed(A,t);if(i=i.withContentNameScopesList(k),S.whileHasBackReferences&&(i=i.withEndRule(S.getWhileWithResolvedBackReferences(e.content,m))),!b&&O.hasSameRuleAs(i)){i=i.pop(),s.produce(i,l),u=!0;return}}else if(wb(t,e,n,i,s,v.captures,m),s.produce(i,m[0].end),i=i.pop(),!b){i=i.safePop(),s.produce(i,l),u=!0;return}}m[0].end>r&&(r=m[0].end,n=!1)}}function VPe(t,e,n,r,i,s){let o=i.beginRuleCapturedEOL?0:-1;const a=[];for(let l=i;l;l=l.pop()){const u=l.getRule(t);u instanceof h3&&a.push({rule:u,stack:l})}for(let l=a.pop();l;l=a.pop()){const{ruleScanner:u,findOptions:c}=YPe(l.rule,t,l.stack.endRule,n,r===o),f=u.findNextMatchSync(e,r,c);if(f){if(f.ruleId!==bee){i=l.stack.pop();break}f.captureIndices&&f.captureIndices.length&&(s.produce(l.stack,f.captureIndices[0].start),wb(t,e,n,l.stack,s,l.rule.whileCaptures,f.captureIndices),s.produce(l.stack,f.captureIndices[0].end),o=f.captureIndices[0].end,f.captureIndices[0].end>r&&(r=f.captureIndices[0].end,n=!1))}else{i=l.stack.pop();break}}return{stack:i,linePos:r,anchorPosition:o,isFirstLine:n}}function XPe(t,e,n,r,i,s){const o=ZPe(t,e,n,r,i,s),a=t.getInjections();if(a.length===0)return o;const l=WPe(a,t,e,n,r,i,s);if(!l)return o;if(!o)return l;const u=o.captureIndices[0].start,c=l.captureIndices[0].start;return c<u||l.priorityMatch&&c===u?l:o}function ZPe(t,e,n,r,i,s){const o=i.getRule(t),{ruleScanner:a,findOptions:l}=_ee(o,t,i.endRule,n,r===s),u=a.findNextMatchSync(e,r,l);return u?{captureIndices:u.captureIndices,matchedRuleId:u.ruleId}:null}function WPe(t,e,n,r,i,s,o){let a=Number.MAX_VALUE,l=null,u,c=0;const f=s.contentNameScopesList.getScopeNames();for(let h=0,d=t.length;h<d;h++){const m=t[h];if(!m.matcher(f))continue;const g=e.getRule(m.ruleId),{ruleScanner:b,findOptions:v}=_ee(g,e,null,r,i===o),O=b.findNextMatchSync(n,i,v);if(!O)continue;const x=O.captureIndices[0].start;if(!(x>=a)&&(a=x,l=O.captureIndices,u=O.ruleId,c=m.priority,a===i))break}return l?{priorityMatch:c===-1,captureIndices:l,matchedRuleId:u}:null}function _ee(t,e,n,r,i){return{ruleScanner:t.compileAG(e,n,r,i),findOptions:0}}function YPe(t,e,n,r,i){return{ruleScanner:t.compileWhileAG(e,n,r,i),findOptions:0}}function wb(t,e,n,r,i,s,o){if(s.length===0)return;const a=e.content,l=Math.min(s.length,o.length),u=[],c=o[0].end;for(let f=0;f<l;f++){const h=s[f];if(h===null)continue;const d=o[f];if(d.length===0)continue;if(d.start>c)break;for(;u.length>0&&u[u.length-1].endPos<=d.start;)i.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop();if(u.length>0?i.produceFromScopes(u[u.length-1].scopes,d.start):i.produce(r,d.start),h.retokenizeCapturedWithRuleId){const g=h.getName(a,o),b=r.contentNameScopesList.pushAttributed(g,t),v=h.getContentName(a,o),O=b.pushAttributed(v,t),x=r.push(h.retokenizeCapturedWithRuleId,d.start,-1,!1,null,b,O),C=t.createOnigString(a.substring(0,d.end));wee(t,C,n&&d.start===0,d.start,x,i,!1,0),gee(C);continue}const m=h.getName(a,o);if(m!==null){const b=(u.length>0?u[u.length-1].scopes:r.contentNameScopesList).pushAttributed(m,t);u.push(new GPe(b,d.end))}}for(;u.length>0;)i.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop()}var GPe=class{scopes;endPos;constructor(t,e){this.scopes=t,this.endPos=e}};function HPe(t,e,n,r,i,s,o,a){return new JPe(t,e,n,r,i,s,o,a)}function bB(t,e,n,r,i){const s=c3(e,d3),o=vee.getCompiledRuleId(n,r,i.repository);for(const a of s)t.push({debugSelector:e,matcher:a.matcher,ruleId:o,grammar:i,priority:a.priority})}function d3(t,e){if(e.length<t.length)return!1;let n=0;return t.every(r=>{for(let i=n;i<e.length;i++)if(KPe(e[i],r))return n=i+1,!0;return!1})}function KPe(t,e){if(!t)return!1;if(t===e)return!0;const n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}var JPe=class{constructor(t,e,n,r,i,s,o,a){if(this._rootScopeName=t,this.balancedBracketSelectors=s,this._onigLib=a,this._basicScopeAttributesProvider=new jPe(n,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=o,this._grammar=vB(e,null),this._injections=null,this._tokenTypeMatchers=[],i)for(const l of Object.keys(i)){const u=c3(l,d3);for(const c of u)this._tokenTypeMatchers.push({matcher:c.matcher,type:i[l]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:i=>i===this._rootScopeName?this._grammar:this.getExternalGrammar(i),injections:i=>this._grammarRepository.injections(i)},e=[],n=this._rootScopeName,r=t.lookup(n);if(r){const i=r.injections;if(i)for(let o in i)bB(e,o,i[o],this,r);const s=this._grammarRepository.injections(n);s&&s.forEach(o=>{const a=this.getExternalGrammar(o);if(a){const l=a.injectionSelector;l&&bB(e,l,a,this,a)}})}return e.sort((i,s)=>i.priority-s.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,n=t(e);return this._ruleId2desc[e]=n,n}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const n=this._grammarRepository.lookup(t);if(n)return this._includedGrammars[t]=vB(n,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,n=0){const r=this._tokenize(t,e,!1,n);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(t,e,n=0){const r=this._tokenize(t,e,!0,n);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(t,e,n,r){this._rootId===-1&&(this._rootId=vee.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let i;if(!e||e===q8.NULL){i=!0;const u=this._basicScopeAttributesProvider.getDefaultAttributes(),c=this.themeProvider.getDefaults(),f=a1.set(0,u.languageId,u.tokenType,null,c.fontStyle,c.foregroundId,c.backgroundId),h=this.getRule(this._rootId).getName(null,null);let d;h?d=Xb.createRootAndLookUpScopeName(h,f,this):d=Xb.createRoot("unknown",f),e=new q8(null,this._rootId,-1,-1,!1,null,d,d)}else i=!1,e.reset();t=t+`
`;const s=this.createOnigString(t),o=s.content.length,a=new t7e(n,t,this._tokenTypeMatchers,this.balancedBracketSelectors),l=wee(this,s,i,0,e,a,!0,r);return gee(s),{lineLength:o,lineTokens:a,ruleStack:l.stack,stoppedEarly:l.stoppedEarly}}};function vB(t,e){return t=bPe(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var Xb=class Iu{constructor(e,n,r){this.parent=e,this.scopePath=n,this.tokenAttributes=r}static fromExtension(e,n){let r=e,i=e?.scopePath??null;for(const s of n)i=D6.push(i,s.scopeNames),r=new Iu(r,i,s.encodedTokenAttributes);return r}static createRoot(e,n){return new Iu(null,new D6(null,e),n)}static createRootAndLookUpScopeName(e,n,r){const i=r.getMetadataForScope(e),s=new D6(null,e),o=r.themeProvider.themeMatch(s),a=Iu.mergeAttributes(n,i,o);return new Iu(null,s,a)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return Iu.equals(this,e)}static equals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.scopeName!==n.scopeName||e.tokenAttributes!==n.tokenAttributes)return!1;e=e.parent,n=n.parent}while(!0)}static mergeAttributes(e,n,r){let i=-1,s=0,o=0;return r!==null&&(i=r.fontStyle,s=r.foregroundId,o=r.backgroundId),a1.set(e,n.languageId,n.tokenType,null,i,s,o)}pushAttributed(e,n){if(e===null)return this;if(e.indexOf(" ")===-1)return Iu._pushAttributed(this,e,n);const r=e.split(/ /g);let i=this;for(const s of r)i=Iu._pushAttributed(i,s,n);return i}static _pushAttributed(e,n,r){const i=r.getMetadataForScope(n),s=e.scopePath.push(n),o=r.themeProvider.themeMatch(s),a=Iu.mergeAttributes(e.tokenAttributes,i,o);return new Iu(e,s,a)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(r.parent?.scopePath??null)}),r=r.parent;return r===e?n.reverse():void 0}},q8=class ap{constructor(e,n,r,i,s,o,a,l){this.parent=e,this.ruleId=n,this.beginRuleCapturedEOL=s,this.endRule=o,this.nameScopesList=a,this.contentNameScopesList=l,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=i}_stackElementBrand=void 0;static NULL=new ap(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(e){return e===null?!1:ap._equals(this,e)}static _equals(e,n){return e===n?!0:this._structuralEquals(e,n)?Xb.equals(e.contentNameScopesList,n.contentNameScopesList):!1}static _structuralEquals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;e=e.parent,n=n.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){ap._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,n,r,i,s,o,a){return new ap(this,e,n,r,i,s,o,a)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,n){return this.parent&&(n=this.parent._writeString(e,n)),e[n++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,n}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new ap(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let n=this;for(;n&&n._enterPos===e._enterPos;){if(n.ruleId===e.ruleId)return!0;n=n.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(e,n){const r=Xb.fromExtension(e?.nameScopesList??null,n.nameScopesList);return new ap(e,n.ruleId,n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,r,Xb.fromExtension(r,n.contentNameScopesList))}},e7e=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(t,e){this.balancedBracketScopes=t.flatMap(n=>n==="*"?(this.allowAny=!0,[]):c3(n,d3).map(r=>r.matcher)),this.unbalancedBracketScopes=e.flatMap(n=>c3(n,d3).map(r=>r.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},t7e=class{constructor(t,e,n,r){this.balancedBracketSelectors=r,this._emitBinaryTokens=t,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let r=t?.tokenAttributes??0,i=!1;if(this.balancedBracketSelectors?.matchesAlways&&(i=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const s=t?.getScopeNames()??[];for(const o of this._tokenTypeOverrides)o.matcher(s)&&(r=a1.set(r,0,o.type,null,-1,0,0));this.balancedBracketSelectors&&(i=this.balancedBracketSelectors.match(s))}if(i&&(r=a1.set(r,0,8,i,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=e;return}const n=t?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:n}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let r=0,i=this._binaryTokens.length;r<i;r++)n[r]=this._binaryTokens[r];return n}},n7e=class{constructor(t,e){this._onigLib=e,this._theme=t}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,n,r,i){if(!this._grammars.has(t)){let s=this._rawGrammars.get(t);if(!s)return null;this._grammars.set(t,HPe(t,s,e,n,r,i,this,this._onigLib))}return this._grammars.get(t)}},r7e=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new n7e(u3.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,n){this._syncRegistry.setTheme(u3.createFromRawTheme(e,n))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,n,r){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,n,r){return this._loadGrammar(e,n,r.embeddedLanguages,r.tokenTypes,new e7e(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,n,r,i,s){const o=new RPe(this._syncRegistry,e);for(;o.Q.length>0;)o.Q.map(a=>this._loadSingleGrammar(a.scopeName)),o.processQueue();return this._grammarForScopeName(e,n,r,i,s)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const n=this._options.loadGrammar(e);if(n){const r=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(n,r)}}addGrammar(e,n=[],r=0,i=null){return this._syncRegistry.addGrammar(e,n),this._grammarForScopeName(e.scopeName,r,i)}_grammarForScopeName(e,n=0,r=null,i=null,s=null){return this._syncRegistry.grammarForScopeName(e,n,r,i,s)}},V8=q8.NULL;const i7e=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];let JO=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};JO.prototype.normal={};JO.prototype.property={};JO.prototype.space=void 0;function xee(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new JO(n,r,e)}function X8(t){return t.toLowerCase()}class sa{constructor(e,n){this.attribute=n,this.property=e}}sa.prototype.attribute="";sa.prototype.booleanish=!1;sa.prototype.boolean=!1;sa.prototype.commaOrSpaceSeparated=!1;sa.prototype.commaSeparated=!1;sa.prototype.defined=!1;sa.prototype.mustUseProperty=!1;sa.prototype.number=!1;sa.prototype.overloadedBoolean=!1;sa.prototype.property="";sa.prototype.spaceSeparated=!1;sa.prototype.space=void 0;let s7e=0;const Ht=E0(),Pi=E0(),Z8=E0(),$e=E0(),Cr=E0(),hg=E0(),ga=E0();function E0(){return 2**++s7e}const W8=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ht,booleanish:Pi,commaOrSpaceSeparated:ga,commaSeparated:hg,number:$e,overloadedBoolean:Z8,spaceSeparated:Cr},Symbol.toStringTag,{value:"Module"})),R6=Object.keys(W8);class t9 extends sa{constructor(e,n,r,i){let s=-1;if(super(e,n),OB(this,"space",i),typeof r=="number")for(;++s<R6.length;){const o=R6[s];OB(this,R6[s],(r&W8[o])===W8[o])}}}t9.prototype.defined=!0;function OB(t,e,n){n&&(t[e]=n)}function q1(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new t9(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[X8(r)]=r,n[X8(s.attribute)]=r}return new JO(e,n,t.space)}const See=q1({properties:{ariaActiveDescendant:null,ariaAtomic:Pi,ariaAutoComplete:null,ariaBusy:Pi,ariaChecked:Pi,ariaColCount:$e,ariaColIndex:$e,ariaColSpan:$e,ariaControls:Cr,ariaCurrent:null,ariaDescribedBy:Cr,ariaDetails:null,ariaDisabled:Pi,ariaDropEffect:Cr,ariaErrorMessage:null,ariaExpanded:Pi,ariaFlowTo:Cr,ariaGrabbed:Pi,ariaHasPopup:null,ariaHidden:Pi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Cr,ariaLevel:$e,ariaLive:null,ariaModal:Pi,ariaMultiLine:Pi,ariaMultiSelectable:Pi,ariaOrientation:null,ariaOwns:Cr,ariaPlaceholder:null,ariaPosInSet:$e,ariaPressed:Pi,ariaReadOnly:Pi,ariaRelevant:null,ariaRequired:Pi,ariaRoleDescription:Cr,ariaRowCount:$e,ariaRowIndex:$e,ariaRowSpan:$e,ariaSelected:Pi,ariaSetSize:$e,ariaSort:null,ariaValueMax:$e,ariaValueMin:$e,ariaValueNow:$e,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function kee(t,e){return e in t?t[e]:e}function Cee(t,e){return kee(t,e.toLowerCase())}const o7e=q1({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hg,acceptCharset:Cr,accessKey:Cr,action:null,allow:null,allowFullScreen:Ht,allowPaymentRequest:Ht,allowUserMedia:Ht,alt:null,as:null,async:Ht,autoCapitalize:null,autoComplete:Cr,autoFocus:Ht,autoPlay:Ht,blocking:Cr,capture:null,charSet:null,checked:Ht,cite:null,className:Cr,cols:$e,colSpan:null,content:null,contentEditable:Pi,controls:Ht,controlsList:Cr,coords:$e|hg,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ht,defer:Ht,dir:null,dirName:null,disabled:Ht,download:Z8,draggable:Pi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ht,formTarget:null,headers:Cr,height:$e,hidden:Z8,high:$e,href:null,hrefLang:null,htmlFor:Cr,httpEquiv:Cr,id:null,imageSizes:null,imageSrcSet:null,inert:Ht,inputMode:null,integrity:null,is:null,isMap:Ht,itemId:null,itemProp:Cr,itemRef:Cr,itemScope:Ht,itemType:Cr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ht,low:$e,manifest:null,max:null,maxLength:$e,media:null,method:null,min:null,minLength:$e,multiple:Ht,muted:Ht,name:null,nonce:null,noModule:Ht,noValidate:Ht,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ht,optimum:$e,pattern:null,ping:Cr,placeholder:null,playsInline:Ht,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ht,referrerPolicy:null,rel:Cr,required:Ht,reversed:Ht,rows:$e,rowSpan:$e,sandbox:Cr,scope:null,scoped:Ht,seamless:Ht,selected:Ht,shadowRootClonable:Ht,shadowRootDelegatesFocus:Ht,shadowRootMode:null,shape:null,size:$e,sizes:null,slot:null,span:$e,spellCheck:Pi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:$e,step:null,style:null,tabIndex:$e,target:null,title:null,translate:null,type:null,typeMustMatch:Ht,useMap:null,value:Pi,width:$e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Cr,axis:null,background:null,bgColor:null,border:$e,borderColor:null,bottomMargin:$e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ht,declare:Ht,event:null,face:null,frame:null,frameBorder:null,hSpace:$e,leftMargin:$e,link:null,longDesc:null,lowSrc:null,marginHeight:$e,marginWidth:$e,noResize:Ht,noHref:Ht,noShade:Ht,noWrap:Ht,object:null,profile:null,prompt:null,rev:null,rightMargin:$e,rules:null,scheme:null,scrolling:Pi,standby:null,summary:null,text:null,topMargin:$e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:$e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ht,disableRemotePlayback:Ht,prefix:null,property:null,results:$e,security:null,unselectable:null},space:"html",transform:Cee}),a7e=q1({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ga,accentHeight:$e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:$e,amplitude:$e,arabicForm:null,ascent:$e,attributeName:null,attributeType:null,azimuth:$e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:$e,by:null,calcMode:null,capHeight:$e,className:Cr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:$e,diffuseConstant:$e,direction:null,display:null,dur:null,divisor:$e,dominantBaseline:null,download:Ht,dx:null,dy:null,edgeMode:null,editable:null,elevation:$e,enableBackground:null,end:null,event:null,exponent:$e,externalResourcesRequired:null,fill:null,fillOpacity:$e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:hg,g2:hg,glyphName:hg,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:$e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:$e,horizOriginX:$e,horizOriginY:$e,id:null,ideographic:$e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:$e,k:$e,k1:$e,k2:$e,k3:$e,k4:$e,kernelMatrix:ga,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:$e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:$e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:$e,overlineThickness:$e,paintOrder:null,panose1:null,path:null,pathLength:$e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Cr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:$e,pointsAtY:$e,pointsAtZ:$e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ga,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ga,rev:ga,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ga,requiredFeatures:ga,requiredFonts:ga,requiredFormats:ga,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:$e,specularExponent:$e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:$e,strikethroughThickness:$e,string:null,stroke:null,strokeDashArray:ga,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:$e,strokeOpacity:$e,strokeWidth:null,style:null,surfaceScale:$e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ga,tabIndex:$e,tableValues:null,target:null,targetX:$e,targetY:$e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ga,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:$e,underlineThickness:$e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:$e,values:null,vAlphabetic:$e,vMathematical:$e,vectorEffect:null,vHanging:$e,vIdeographic:$e,version:null,vertAdvY:$e,vertOriginX:$e,vertOriginY:$e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:$e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:kee}),Aee=q1({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Eee=q1({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Cee}),Tee=q1({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),l7e=/[A-Z]/g,wB=/-[a-z]/g,u7e=/^data[-\w.:]+$/i;function c7e(t,e){const n=X8(e);let r=e,i=sa;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&u7e.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(wB,h7e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!wB.test(s)){let o=s.replace(l7e,f7e);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=t9}return new i(r,e)}function f7e(t){return"-"+t.toLowerCase()}function h7e(t){return t.charAt(1).toUpperCase()}const d7e=xee([See,o7e,Aee,Eee,Tee],"html"),Dee=xee([See,a7e,Aee,Eee,Tee],"svg"),_B={}.hasOwnProperty;function p7e(t,e){const n=e||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&_B.call(i,t)){const l=String(i[t]);o=_B.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const m7e=/["&'<>`]/g,g7e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y7e=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,b7e=/[|\\{}()[\]^$+*?.]/g,xB=new WeakMap;function v7e(t,e){if(t=t.replace(e.subset?O7e(e.subset):m7e,r),e.subset||e.escapeOnly)return t;return t.replace(g7e,n).replace(y7e,r);function n(i,s,o){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,o.charCodeAt(s+2),e)}function r(i,s,o){return e.format(i.charCodeAt(0),o.charCodeAt(s+1),e)}}function O7e(t){let e=xB.get(t);return e||(e=w7e(t),xB.set(t,e)),e}function w7e(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(b7e,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const _7e=/[\dA-Fa-f]/;function x7e(t,e,n){const r="&#x"+t.toString(16).toUpperCase();return n&&e&&!_7e.test(String.fromCharCode(e))?r:r+";"}const S7e=/\d/;function k7e(t,e,n){const r="&#"+String(t);return n&&e&&!S7e.test(String.fromCharCode(e))?r:r+";"}const C7e=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],$6={nbsp:"Â ",iexcl:"Â¡",cent:"Â¢",pound:"Â£",curren:"Â¤",yen:"Â¥",brvbar:"Â¦",sect:"Â§",uml:"Â¨",copy:"Â©",ordf:"Âª",laquo:"Â«",not:"Â¬",shy:"Â­",reg:"Â®",macr:"Â¯",deg:"Â°",plusmn:"Â±",sup2:"Â²",sup3:"Â³",acute:"Â´",micro:"Âµ",para:"Â¶",middot:"Â·",cedil:"Â¸",sup1:"Â¹",ordm:"Âº",raquo:"Â»",frac14:"Â¼",frac12:"Â½",frac34:"Â¾",iquest:"Â¿",Agrave:"Ã",Aacute:"Ã",Acirc:"Ã",Atilde:"Ã",Auml:"Ã",Aring:"Ã",AElig:"Ã",Ccedil:"Ã",Egrave:"Ã",Eacute:"Ã",Ecirc:"Ã",Euml:"Ã",Igrave:"Ã",Iacute:"Ã",Icirc:"Ã",Iuml:"Ã",ETH:"Ã",Ntilde:"Ã",Ograve:"Ã",Oacute:"Ã",Ocirc:"Ã",Otilde:"Ã",Ouml:"Ã",times:"Ã",Oslash:"Ã",Ugrave:"Ã",Uacute:"Ã",Ucirc:"Ã",Uuml:"Ã",Yacute:"Ã",THORN:"Ã",szlig:"Ã",agrave:"Ã ",aacute:"Ã¡",acirc:"Ã¢",atilde:"Ã£",auml:"Ã¤",aring:"Ã¥",aelig:"Ã¦",ccedil:"Ã§",egrave:"Ã¨",eacute:"Ã©",ecirc:"Ãª",euml:"Ã«",igrave:"Ã¬",iacute:"Ã­",icirc:"Ã®",iuml:"Ã¯",eth:"Ã°",ntilde:"Ã±",ograve:"Ã²",oacute:"Ã³",ocirc:"Ã´",otilde:"Ãµ",ouml:"Ã¶",divide:"Ã·",oslash:"Ã¸",ugrave:"Ã¹",uacute:"Ãº",ucirc:"Ã»",uuml:"Ã¼",yacute:"Ã½",thorn:"Ã¾",yuml:"Ã¿",fnof:"Æ",Alpha:"Î",Beta:"Î",Gamma:"Î",Delta:"Î",Epsilon:"Î",Zeta:"Î",Eta:"Î",Theta:"Î",Iota:"Î",Kappa:"Î",Lambda:"Î",Mu:"Î",Nu:"Î",Xi:"Î",Omicron:"Î",Pi:"Î ",Rho:"Î¡",Sigma:"Î£",Tau:"Î¤",Upsilon:"Î¥",Phi:"Î¦",Chi:"Î§",Psi:"Î¨",Omega:"Î©",alpha:"Î±",beta:"Î²",gamma:"Î³",delta:"Î´",epsilon:"Îµ",zeta:"Î¶",eta:"Î·",theta:"Î¸",iota:"Î¹",kappa:"Îº",lambda:"Î»",mu:"Î¼",nu:"Î½",xi:"Î¾",omicron:"Î¿",pi:"Ï",rho:"Ï",sigmaf:"Ï",sigma:"Ï",tau:"Ï",upsilon:"Ï",phi:"Ï",chi:"Ï",psi:"Ï",omega:"Ï",thetasym:"Ï",upsih:"Ï",piv:"Ï",bull:"â¢",hellip:"â¦",prime:"â²",Prime:"â³",oline:"â¾",frasl:"â",weierp:"â",image:"â",real:"â",trade:"â¢",alefsym:"âµ",larr:"â",uarr:"â",rarr:"â",darr:"â",harr:"â",crarr:"âµ",lArr:"â",uArr:"â",rArr:"â",dArr:"â",hArr:"â",forall:"â",part:"â",exist:"â",empty:"â",nabla:"â",isin:"â",notin:"â",ni:"â",prod:"â",sum:"â",minus:"â",lowast:"â",radic:"â",prop:"â",infin:"â",ang:"â ",and:"â§",or:"â¨",cap:"â©",cup:"âª",int:"â«",there4:"â´",sim:"â¼",cong:"â",asymp:"â",ne:"â ",equiv:"â¡",le:"â¤",ge:"â¥",sub:"â",sup:"â",nsub:"â",sube:"â",supe:"â",oplus:"â",otimes:"â",perp:"â¥",sdot:"â",lceil:"â",rceil:"â",lfloor:"â",rfloor:"â",lang:"â©",rang:"âª",loz:"â",spades:"â ",clubs:"â£",hearts:"â¥",diams:"â¦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Å",oelig:"Å",Scaron:"Å ",scaron:"Å¡",Yuml:"Å¸",circ:"Ë",tilde:"Ë",ensp:"â",emsp:"â",thinsp:"â",zwnj:"â",zwj:"â",lrm:"â",rlm:"â",ndash:"â",mdash:"â",lsquo:"â",rsquo:"â",sbquo:"â",ldquo:"â",rdquo:"â",bdquo:"â",dagger:"â ",Dagger:"â¡",permil:"â°",lsaquo:"â¹",rsaquo:"âº",euro:"â¬"},A7e=["cent","copy","divide","gt","lt","not","para","times"],Pee={}.hasOwnProperty,Y8={};let Jw;for(Jw in $6)Pee.call($6,Jw)&&(Y8[$6[Jw]]=Jw);const E7e=/[^\dA-Za-z]/;function T7e(t,e,n,r){const i=String.fromCharCode(t);if(Pee.call(Y8,i)){const s=Y8[i],o="&"+s;return n&&C7e.includes(s)&&!A7e.includes(s)&&(!r||e&&e!==61&&E7e.test(String.fromCharCode(e)))?o:o+";"}return""}function D7e(t,e,n){let r=x7e(t,e,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=T7e(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const s=k7e(t,e,n.omitOptionalSemicolons);s.length<r.length&&(r=s)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function dg(t,e){return v7e(t,Object.assign({format:D7e},e))}const P7e=/^>|^->|<!--|-->|--!>|<!-$/g,R7e=[">"],$7e=["<",">"];function I7e(t,e,n,r){return r.settings.bogusComments?"<?"+dg(t.value,Object.assign({},r.settings.characterReferences,{subset:R7e}))+">":"<!--"+t.value.replace(P7e,i)+"-->";function i(s){return dg(s,Object.assign({},r.settings.characterReferences,{subset:$7e}))}}function F7e(t,e,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function SB(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function M7e(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}function L7e(t){return t.join(" ").trim()}const N7e=/[ \t\n\f\r]/g;function n9(t){return typeof t=="object"?t.type==="text"?kB(t.value):!1:kB(t)}function kB(t){return t.replace(N7e,"")===""}const Gi=$ee(1),Ree=$ee(-1),Q7e=[];function $ee(t){return e;function e(n,r,i){const s=n?n.children:Q7e;let o=(r||0)+t,a=s[o];if(!i)for(;a&&n9(a);)o+=t,a=s[o];return a}}const B7e={}.hasOwnProperty;function Iee(t){return e;function e(n,r,i){return B7e.call(t,n.tagName)&&t[n.tagName](n,r,i)}}const r9=Iee({body:U7e,caption:I6,colgroup:I6,dd:X7e,dt:V7e,head:I6,html:z7e,li:q7e,optgroup:Z7e,option:W7e,p:j7e,rp:CB,rt:CB,tbody:G7e,td:AB,tfoot:H7e,th:AB,thead:Y7e,tr:K7e});function I6(t,e,n){const r=Gi(n,e,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&n9(r.value.charAt(0)))}function z7e(t,e,n){const r=Gi(n,e);return!r||r.type!=="comment"}function U7e(t,e,n){const r=Gi(n,e);return!r||r.type!=="comment"}function j7e(t,e,n){const r=Gi(n,e);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function q7e(t,e,n){const r=Gi(n,e);return!r||r.type==="element"&&r.tagName==="li"}function V7e(t,e,n){const r=Gi(n,e);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function X7e(t,e,n){const r=Gi(n,e);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function CB(t,e,n){const r=Gi(n,e);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function Z7e(t,e,n){const r=Gi(n,e);return!r||r.type==="element"&&r.tagName==="optgroup"}function W7e(t,e,n){const r=Gi(n,e);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function Y7e(t,e,n){const r=Gi(n,e);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function G7e(t,e,n){const r=Gi(n,e);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function H7e(t,e,n){return!Gi(n,e)}function K7e(t,e,n){const r=Gi(n,e);return!r||r.type==="element"&&r.tagName==="tr"}function AB(t,e,n){const r=Gi(n,e);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const J7e=Iee({body:n9e,colgroup:r9e,head:t9e,html:e9e,tbody:i9e});function e9e(t){const e=Gi(t,-1);return!e||e.type!=="comment"}function t9e(t){const e=new Set;for(const r of t.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(e.has(r.tagName))return!1;e.add(r.tagName)}const n=t.children[0];return!n||n.type==="element"}function n9e(t){const e=Gi(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&n9(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function r9e(t,e,n){const r=Ree(n,e),i=Gi(t,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&r9(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function i9e(t,e,n){const r=Ree(n,e),i=Gi(t,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&r9(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const e_={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function s9e(t,e,n,r){const i=r.schema,s=i.space==="svg"?!1:r.settings.omitOptionalTags;let o=i.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(t.tagName.toLowerCase());const a=[];let l;i.space==="html"&&t.tagName==="svg"&&(r.schema=Dee);const u=o9e(r,t.properties),c=r.all(i.space==="html"&&t.tagName==="template"?t.content:t);return r.schema=i,c&&(o=!1),(u||!s||!J7e(t,e,n))&&(a.push("<",t.tagName,u?" "+u:""),o&&(i.space==="svg"||r.settings.closeSelfClosing)&&(l=u.charAt(u.length-1),(!r.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&a.push(" "),a.push("/")),a.push(">")),a.push(c),!o&&(!s||!r9(t,e,n))&&a.push("</"+t.tagName+">"),a.join("")}function o9e(t,e){const n=[];let r=-1,i;if(e){for(i in e)if(e[i]!==null&&e[i]!==void 0){const s=a9e(t,i,e[i]);s&&n.push(s)}}for(;++r<n.length;){const s=t.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&s!=='"'&&s!=="'"&&(n[r]+=" ")}return n.join("")}function a9e(t,e,n){const r=c7e(t.schema,e),i=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,s=t.settings.allowDangerousCharacters?0:1;let o=t.quote,a;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const l=dg(r.attribute,Object.assign({},t.settings.characterReferences,{subset:e_.name[i][s]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?M7e:L7e)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):String(n),t.settings.collapseEmptyAttributes&&!n)?l:(t.settings.preferUnquoted&&(a=dg(n,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:e_.unquoted[i][s]}))),a!==n&&(t.settings.quoteSmart&&SB(n,o)>SB(n,t.alternative)&&(o=t.alternative),a=o+dg(n,Object.assign({},t.settings.characterReferences,{subset:(o==="'"?e_.single:e_.double)[i][s],attribute:!0}))+o),l+(a&&"="+a))}const l9e=["<","&"];function Fee(t,e,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?t.value:dg(t.value,Object.assign({},r.settings.characterReferences,{subset:l9e}))}function u9e(t,e,n,r){return r.settings.allowDangerousHtml?t.value:Fee(t,e,n,r)}function c9e(t,e,n,r){return r.all(t)}const f9e=p7e("type",{invalid:h9e,unknown:d9e,handlers:{comment:I7e,doctype:F7e,element:s9e,raw:u9e,root:c9e,text:Fee}});function h9e(t){throw new Error("Expected node, not `"+t+"`")}function d9e(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const p9e={},m9e={},g9e=[];function y9e(t,e){const n=p9e,r=n.quote||'"',i=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:b9e,all:v9e,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||i7e,characterReferences:n.characterReferences||m9e,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?Dee:d7e,quote:r,alternative:i}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function b9e(t,e,n){return f9e(t,e,n,this)}function v9e(t){const e=[],n=t&&t.children||g9e;let r=-1;for(;++r<n.length;)e[r]=this.one(n[r],r,t);return e.join("")}function O9e(t){return Array.isArray(t)?t:[t]}function Jk(t,e=!1){const n=t.split(/(\r?\n)/g);let r=0;const i=[];for(let s=0;s<n.length;s+=2){const o=e?n[s]+(n[s+1]||""):n[s];i.push([o,r]),r+=n[s].length,r+=n[s+1]?.length||0}return i}function i9(t){return!t||["plaintext","txt","text","plain"].includes(t)}function w9e(t){return t==="ansi"||i9(t)}function s9(t){return t==="none"}function _9e(t){return s9(t)}function Mee(t,e){if(!e)return t;t.properties||={},t.properties.class||=[],typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const n=Array.isArray(e)?e:e.split(/\s+/g);for(const r of n)r&&!t.properties.class.includes(r)&&t.properties.class.push(r);return t}function x9e(t,e){let n=0;const r=[];for(const i of e)i>n&&r.push({...t,content:t.content.slice(n,i),offset:t.offset+n}),n=i;return n<t.content.length&&r.push({...t,content:t.content.slice(n),offset:t.offset+n}),r}function S9e(t,e){const n=Array.from(e instanceof Set?e:new Set(e)).sort((r,i)=>r-i);return n.length?t.map(r=>r.flatMap(i=>{const s=n.filter(o=>i.offset<o&&o<i.offset+i.content.length).map(o=>o-i.offset).sort((o,a)=>o-a);return s.length?x9e(i,s):i})):t}async function Lee(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function p3(t,e){const n=typeof t=="string"?{}:{...t.colorReplacements},r=typeof t=="string"?t:t.name;for(const[i,s]of Object.entries(e?.colorReplacements||{}))typeof s=="string"?n[i]=s:i===r&&Object.assign(n,s);return n}function Cp(t,e){return t&&(e?.[t?.toLowerCase()]||t)}function Nee(t){const e={};return t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle&&(t.fontStyle&Ef.Italic&&(e["font-style"]="italic"),t.fontStyle&Ef.Bold&&(e["font-weight"]="bold"),t.fontStyle&Ef.Underline&&(e["text-decoration"]="underline")),e}function k9e(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}function C9e(t){const e=Jk(t,!0).map(([i])=>i);function n(i){if(i===t.length)return{line:e.length-1,character:e[e.length-1].length};let s=i,o=0;for(const a of e){if(s<a.length)break;s-=a.length,o++}return{line:o,character:s}}function r(i,s){let o=0;for(let a=0;a<i;a++)o+=e[a].length;return o+=s,o}return{lines:e,indexToPos:n,posToIndex:r}}class oo extends Error{constructor(e){super(e),this.name="ShikiError"}}const Qee=new WeakMap;function e4(t,e){Qee.set(t,e)}function eO(t){return Qee.get(t)}class V1{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,n){return new V1(Object.fromEntries(O9e(n).map(r=>[r,V8])),e)}constructor(...e){if(e.length===2){const[n,r]=e;this.lang=r,this._stacks=n}else{const[n,r,i]=e;this.lang=r,this._stacks={[i]:n}}}getInternalStack(e=this.theme){return this._stacks[e]}get scopes(){return EB(this._stacks[this.theme])}getScopes(e=this.theme){return EB(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.scopes}}}function EB(t){const e=[],n=new Set;function r(i){if(n.has(i))return;n.add(i);const s=i?.nameScopesList?.scopeName;s&&e.push(s),i.parent&&r(i.parent)}return r(t),e}function A9e(t,e){if(!(t instanceof V1))throw new oo("Invalid grammar state");return t.getInternalStack(e)}function E9e(){const t=new WeakMap;function e(n){if(!t.has(n.meta)){let r=function(o){if(typeof o=="number"){if(o<0||o>n.source.length)throw new oo(`Invalid decoration offset: ${o}. Code length: ${n.source.length}`);return{...i.indexToPos(o),offset:o}}else{const a=i.lines[o.line];if(a===void 0)throw new oo(`Invalid decoration position ${JSON.stringify(o)}. Lines length: ${i.lines.length}`);if(o.character<0||o.character>a.length)throw new oo(`Invalid decoration position ${JSON.stringify(o)}. Line ${o.line} length: ${a.length}`);return{...o,offset:i.posToIndex(o.line,o.character)}}};const i=C9e(n.source),s=(n.options.decorations||[]).map(o=>({...o,start:r(o.start),end:r(o.end)}));T9e(s),t.set(n.meta,{decorations:s,converter:i,source:n.source})}return t.get(n.meta)}return{name:"shiki:decorations",tokens(n){if(!this.options.decorations?.length)return;const i=e(this).decorations.flatMap(o=>[o.start.offset,o.end.offset]);return S9e(n,i)},code(n){if(!this.options.decorations?.length)return;const r=e(this),i=Array.from(n.children).filter(c=>c.type==="element"&&c.tagName==="span");if(i.length!==r.converter.lines.length)throw new oo(`Number of lines in code element (${i.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function s(c,f,h,d){const m=i[c];let g="",b=-1,v=-1;if(f===0&&(b=0),h===0&&(v=0),h===Number.POSITIVE_INFINITY&&(v=m.children.length),b===-1||v===-1)for(let x=0;x<m.children.length;x++)g+=Bee(m.children[x]),b===-1&&g.length===f&&(b=x+1),v===-1&&g.length===h&&(v=x+1);if(b===-1)throw new oo(`Failed to find start index for decoration ${JSON.stringify(d.start)}`);if(v===-1)throw new oo(`Failed to find end index for decoration ${JSON.stringify(d.end)}`);const O=m.children.slice(b,v);if(!d.alwaysWrap&&O.length===m.children.length)a(m,d,"line");else if(!d.alwaysWrap&&O.length===1&&O[0].type==="element")a(O[0],d,"token");else{const x={type:"element",tagName:"span",properties:{},children:O};a(x,d,"wrapper"),m.children.splice(b,O.length,x)}}function o(c,f){i[c]=a(i[c],f,"line")}function a(c,f,h){const d=f.properties||{},m=f.transform||(g=>g);return c.tagName=f.tagName||"span",c.properties={...c.properties,...d,class:c.properties.class},f.properties?.class&&Mee(c,f.properties.class),c=m(c,h)||c,c}const l=[],u=r.decorations.sort((c,f)=>f.start.offset-c.start.offset);for(const c of u){const{start:f,end:h}=c;if(f.line===h.line)s(f.line,f.character,h.character,c);else if(f.line<h.line){s(f.line,f.character,Number.POSITIVE_INFINITY,c);for(let d=f.line+1;d<h.line;d++)l.unshift(()=>o(d,c));s(h.line,0,h.character,c)}}l.forEach(c=>c())}}}function T9e(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.start.offset>n.end.offset)throw new oo(`Invalid decoration range: ${JSON.stringify(n.start)} - ${JSON.stringify(n.end)}`);for(let r=e+1;r<t.length;r++){const i=t[r],s=n.start.offset<i.start.offset&&i.start.offset<n.end.offset,o=n.start.offset<i.end.offset&&i.end.offset<n.end.offset,a=i.start.offset<n.start.offset&&n.start.offset<i.end.offset,l=i.start.offset<n.end.offset&&n.end.offset<i.end.offset;if(s||o||a||l){if(o&&o||a&&l)continue;throw new oo(`Decorations ${JSON.stringify(n.start)} and ${JSON.stringify(i.start)} intersect.`)}}}}function Bee(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(Bee).join(""):""}const D9e=[E9e()];function m3(t){return[...t.transformers||[],...D9e]}var Ap=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],F6={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",9:"strikethrough"};function P9e(t,e){const n=t.indexOf("\x1B[",e);if(n!==-1){const r=t.indexOf("m",n);return{sequence:t.substring(n+2,r).split(";"),startPosition:n,position:r+1}}return{position:t.length}}function TB(t,e){let n=1;const r=t[e+n++];let i;if(r==="2"){const s=[t[e+n++],t[e+n++],t[e+n]].map(o=>Number.parseInt(o));s.length===3&&!s.some(o=>Number.isNaN(o))&&(i={type:"rgb",rgb:s})}else if(r==="5"){const s=Number.parseInt(t[e+n]);Number.isNaN(s)||(i={type:"table",index:Number(s)})}return[n,i]}function R9e(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n],i=Number.parseInt(r);if(!Number.isNaN(i))if(i===0)e.push({type:"resetAll"});else if(i<=9)F6[i]&&e.push({type:"setDecoration",value:F6[i]});else if(i<=29){const s=F6[i-20];s&&e.push({type:"resetDecoration",value:s})}else if(i<=37)e.push({type:"setForegroundColor",value:{type:"named",name:Ap[i-30]}});else if(i===38){const[s,o]=TB(t,n);o&&e.push({type:"setForegroundColor",value:o}),n+=s}else if(i===39)e.push({type:"resetForegroundColor"});else if(i<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:Ap[i-40]}});else if(i===48){const[s,o]=TB(t,n);o&&e.push({type:"setBackgroundColor",value:o}),n+=s}else i===49?e.push({type:"resetBackgroundColor"}):i>=90&&i<=97?e.push({type:"setForegroundColor",value:{type:"named",name:Ap[i-90+8]}}):i>=100&&i<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:Ap[i-100+8]}})}return e}function $9e(){let t=null,e=null,n=new Set;return{parse(r){const i=[];let s=0;do{const o=P9e(r,s),a=o.sequence?r.substring(s,o.startPosition):r.substring(s);if(a.length>0&&i.push({value:a,foreground:t,background:e,decorations:new Set(n)}),o.sequence){const l=R9e(o.sequence);for(const u of l)u.type==="resetAll"?(t=null,e=null,n.clear()):u.type==="resetForegroundColor"?t=null:u.type==="resetBackgroundColor"?e=null:u.type==="resetDecoration"&&n.delete(u.value);for(const u of l)u.type==="setForegroundColor"?t=u.value:u.type==="setBackgroundColor"?e=u.value:u.type==="setDecoration"&&n.add(u.value)}s=o.position}while(s<r.length);return i}}}var I9e={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function F9e(t=I9e){function e(a){return t[a]}function n(a){return`#${a.map(l=>Math.max(0,Math.min(l,255)).toString(16).padStart(2,"0")).join("")}`}let r;function i(){if(r)return r;r=[];for(let u=0;u<Ap.length;u++)r.push(e(Ap[u]));let a=[0,95,135,175,215,255];for(let u=0;u<6;u++)for(let c=0;c<6;c++)for(let f=0;f<6;f++)r.push(n([a[u],a[c],a[f]]));let l=8;for(let u=0;u<24;u++,l+=10)r.push(n([l,l,l]));return r}function s(a){return i()[a]}function o(a){switch(a.type){case"named":return e(a.name);case"rgb":return n(a.rgb);case"table":return s(a.index)}}return{value:o}}function M9e(t,e,n){const r=p3(t,n),i=Jk(e),s=F9e(Object.fromEntries(Ap.map(a=>[a,t.colors?.[`terminal.ansi${a[0].toUpperCase()}${a.substring(1)}`]]))),o=$9e();return i.map(a=>o.parse(a[0]).map(l=>{let u,c;l.decorations.has("reverse")?(u=l.background?s.value(l.background):t.bg,c=l.foreground?s.value(l.foreground):t.fg):(u=l.foreground?s.value(l.foreground):t.fg,c=l.background?s.value(l.background):void 0),u=Cp(u,r),c=Cp(c,r),l.decorations.has("dim")&&(u=L9e(u));let f=Ef.None;return l.decorations.has("bold")&&(f|=Ef.Bold),l.decorations.has("italic")&&(f|=Ef.Italic),l.decorations.has("underline")&&(f|=Ef.Underline),{content:l.value,offset:a[1],color:u,bgColor:c,fontStyle:f}}))}function L9e(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(e)if(e[3]){const r=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${r}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(r=>`${r}${r}`).join("")}80`;const n=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:t}function o9(t,e,n={}){const{lang:r="text",theme:i=t.getLoadedThemes()[0]}=n;if(i9(r)||s9(i))return Jk(e).map(l=>[{content:l[0],offset:l[1]}]);const{theme:s,colorMap:o}=t.setTheme(i);if(r==="ansi")return M9e(s,e,n);const a=t.getLanguage(r);if(n.grammarState){if(n.grammarState.lang!==a.name)throw new Up(`Grammar state language "${n.grammarState.lang}" does not match highlight language "${a.name}"`);if(!n.grammarState.themes.includes(s.name))throw new Up(`Grammar state themes "${n.grammarState.themes}" do not contain highlight theme "${s.name}"`)}return Q9e(e,a,s,o,n)}function N9e(...t){if(t.length===2)return eO(t[1]);const[e,n,r={}]=t,{lang:i="text",theme:s=e.getLoadedThemes()[0]}=r;if(i9(i)||s9(s))throw new Up("Plain language does not have grammar state");if(i==="ansi")throw new Up("ANSI language does not have grammar state");const{theme:o,colorMap:a}=e.setTheme(s),l=e.getLanguage(i);return new V1(g3(n,l,o,a,r).stateStack,l.name,o.name)}function Q9e(t,e,n,r,i){const s=g3(t,e,n,r,i),o=new V1(g3(t,e,n,r,i).stateStack,e.name,n.name);return e4(s.tokens,o),s.tokens}function g3(t,e,n,r,i){const s=p3(n,i),{tokenizeMaxLineLength:o=0,tokenizeTimeLimit:a=500}=i,l=Jk(t);let u=i.grammarState?A9e(i.grammarState,n.name)??V8:i.grammarContextCode!=null?g3(i.grammarContextCode,e,n,r,{...i,grammarState:void 0,grammarContextCode:void 0}).stateStack:V8,c=[];const f=[];for(let h=0,d=l.length;h<d;h++){const[m,g]=l[h];if(m===""){c=[],f.push([]);continue}if(o>0&&m.length>=o){c=[],f.push([{content:m,offset:g,color:"",fontStyle:0}]);continue}let b,v,O;i.includeExplanation&&(b=e.tokenizeLine(m,u),v=b.tokens,O=0);const x=e.tokenizeLine2(m,u,a),C=x.tokens.length/2;for(let S=0;S<C;S++){const A=x.tokens[2*S],k=S+1<C?x.tokens[2*S+2]:m.length;if(A===k)continue;const T=x.tokens[2*S+1],D=Cp(r[a1.getForeground(T)],s),$=a1.getFontStyle(T),M={content:m.substring(A,k),offset:g+A,color:D,fontStyle:$};if(i.includeExplanation){const L=[];if(i.includeExplanation!=="scopeName")for(const I of n.settings){let B;switch(typeof I.scope){case"string":B=I.scope.split(/,/).map(z=>z.trim());break;case"object":B=I.scope;break;default:continue}L.push({settings:I,selectors:B.map(z=>z.split(/ /))})}M.explanation=[];let R=0;for(;A+R<k;){const I=v[O],B=m.substring(I.startIndex,I.endIndex);R+=B.length,M.explanation.push({content:B,scopes:i.includeExplanation==="scopeName"?B9e(I.scopes):z9e(L,I.scopes)}),O+=1}}c.push(M)}f.push(c),c=[],u=x.ruleStack}return{tokens:f,stateStack:u}}function B9e(t){return t.map(e=>({scopeName:e}))}function z9e(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n[r]={scopeName:s,themeMatches:j9e(t,s,e.slice(0,r))}}return n}function DB(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function U9e(t,e,n){if(!DB(t[t.length-1],e))return!1;let r=t.length-2,i=n.length-1;for(;r>=0&&i>=0;)DB(t[r],n[i])&&(r-=1),i-=1;return r===-1}function j9e(t,e,n){const r=[];for(const{selectors:i,settings:s}of t)for(const o of i)if(U9e(o,e,n)){r.push(s);break}return r}function zee(t,e,n){const r=Object.entries(n.themes).filter(l=>l[1]).map(l=>({color:l[0],theme:l[1]})),i=r.map(l=>{const u=o9(t,e,{...n,theme:l.theme}),c=eO(u),f=typeof l.theme=="string"?l.theme:l.theme.name;return{tokens:u,state:c,theme:f}}),s=q9e(...i.map(l=>l.tokens)),o=s[0].map((l,u)=>l.map((c,f)=>{const h={content:c.content,variants:{},offset:c.offset};return"includeExplanation"in n&&n.includeExplanation&&(h.explanation=c.explanation),s.forEach((d,m)=>{const{content:g,explanation:b,offset:v,...O}=d[u][f];h.variants[r[m].color]=O}),h})),a=i[0].state?new V1(Object.fromEntries(i.map(l=>[l.theme,l.state?.getInternalStack(l.theme)])),i[0].state.lang):void 0;return a&&e4(o,a),o}function q9e(...t){const e=t.map(()=>[]),n=t.length;for(let r=0;r<t[0].length;r++){const i=t.map(l=>l[r]),s=e.map(()=>[]);e.forEach((l,u)=>l.push(s[u]));const o=i.map(()=>0),a=i.map(l=>l[0]);for(;a.every(l=>l);){const l=Math.min(...a.map(u=>u.content.length));for(let u=0;u<n;u++){const c=a[u];c.content.length===l?(s[u].push(c),o[u]+=1,a[u]=i[u][o[u]]):(s[u].push({...c,content:c.content.slice(0,l)}),a[u]={...c,content:c.content.slice(l),offset:c.offset+l})}}}return e}function y3(t,e,n){let r,i,s,o,a,l;if("themes"in n){const{defaultColor:u="light",cssVariablePrefix:c="--shiki-"}=n,f=Object.entries(n.themes).filter(b=>b[1]).map(b=>({color:b[0],theme:b[1]})).sort((b,v)=>b.color===u?-1:v.color===u?1:0);if(f.length===0)throw new Up("`themes` option must not be empty");const h=zee(t,e,n);if(l=eO(h),u&&!f.find(b=>b.color===u))throw new Up(`\`themes\` option must contain the defaultColor key \`${u}\``);const d=f.map(b=>t.getTheme(b.theme)),m=f.map(b=>b.color);s=h.map(b=>b.map(v=>V9e(v,m,c,u))),l&&e4(s,l);const g=f.map(b=>p3(b.theme,n));i=f.map((b,v)=>(v===0&&u?"":`${c+b.color}:`)+(Cp(d[v].fg,g[v])||"inherit")).join(";"),r=f.map((b,v)=>(v===0&&u?"":`${c+b.color}-bg:`)+(Cp(d[v].bg,g[v])||"inherit")).join(";"),o=`shiki-themes ${d.map(b=>b.name).join(" ")}`,a=u?void 0:[i,r].join(";")}else if("theme"in n){const u=p3(n.theme,n);s=o9(t,e,n);const c=t.getTheme(n.theme);r=Cp(c.bg,u),i=Cp(c.fg,u),o=c.name,l=eO(s)}else throw new Up("Invalid options, either `theme` or `themes` must be provided");return{tokens:s,fg:i,bg:r,themeName:o,rootStyle:a,grammarState:l}}function V9e(t,e,n,r){const i={content:t.content,explanation:t.explanation,offset:t.offset},s=e.map(l=>Nee(t.variants[l])),o=new Set(s.flatMap(l=>Object.keys(l))),a={};return s.forEach((l,u)=>{for(const c of o){const f=l[c]||"inherit";if(u===0&&r)a[c]=f;else{const h=c==="color"?"":c==="background-color"?"-bg":`-${c}`,d=n+e[u]+(c==="color"?"":h);a[d]=f}}}),i.htmlStyle=a,i}function b3(t,e,n,r={meta:{},options:n,codeToHast:(i,s)=>b3(t,i,s),codeToTokens:(i,s)=>y3(t,i,s)}){let i=e;for(const d of m3(n))i=d.preprocess?.call(r,i,n)||i;let{tokens:s,fg:o,bg:a,themeName:l,rootStyle:u,grammarState:c}=y3(t,i,n);const{mergeWhitespaces:f=!0}=n;f===!0?s=Z9e(s):f==="never"&&(s=W9e(s));const h={...r,get source(){return i}};for(const d of m3(n))s=d.tokens?.call(h,s)||s;return X9e(s,{...n,fg:o,bg:a,themeName:l,rootStyle:u},h,c)}function X9e(t,e,n,r=eO(t)){const i=m3(e),s=[],o={type:"root",children:[]},{structure:a="classic",tabindex:l="0"}=e;let u={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,...l!==!1&&l!=null?{tabindex:l.toString()}:{},...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([m])=>!m.startsWith("_")))},children:[]},c={type:"element",tagName:"code",properties:{},children:s};const f=[],h={...n,structure:a,addClassToHast:Mee,get source(){return n.source},get tokens(){return t},get options(){return e},get root(){return o},get pre(){return u},get code(){return c},get lines(){return f}};if(t.forEach((m,g)=>{g&&(a==="inline"?o.children.push({type:"element",tagName:"br",properties:{},children:[]}):a==="classic"&&s.push({type:"text",value:`
`}));let b={type:"element",tagName:"span",properties:{class:"line"},children:[]},v=0;for(const O of m){let x={type:"element",tagName:"span",properties:{...O.htmlAttrs},children:[{type:"text",value:O.content}]};O.htmlStyle;const C=k9e(O.htmlStyle||Nee(O));C&&(x.properties.style=C);for(const S of i)x=S?.span?.call(h,x,g+1,v,b,O)||x;a==="inline"?o.children.push(x):a==="classic"&&b.children.push(x),v+=O.content.length}if(a==="classic"){for(const O of i)b=O?.line?.call(h,b,g+1)||b;f.push(b),s.push(b)}}),a==="classic"){for(const m of i)c=m?.code?.call(h,c)||c;u.children.push(c);for(const m of i)u=m?.pre?.call(h,u)||u;o.children.push(u)}let d=o;for(const m of i)d=m?.root?.call(h,d)||d;return r&&e4(d,r),d}function Z9e(t){return t.map(e=>{const n=[];let r="",i=0;return e.forEach((s,o)=>{const l=!(s.fontStyle&&s.fontStyle&Ef.Underline);l&&s.content.match(/^\s+$/)&&e[o+1]?(i||(i=s.offset),r+=s.content):r?(l?n.push({...s,offset:i,content:r+s.content}):n.push({content:r,offset:i},s),i=0,r=""):n.push(s)}),n})}function W9e(t){return t.map(e=>e.flatMap(n=>{if(n.content.match(/^\s+$/))return n;const r=n.content.match(/^(\s*)(.*?)(\s*)$/);if(!r)return n;const[,i,s,o]=r;if(!i&&!o)return n;const a=[{...n,offset:n.offset+i.length,content:s}];return i&&a.unshift({content:i,offset:n.offset}),o&&a.push({content:o,offset:n.offset+i.length+s.length}),a}))}function Y9e(t,e,n){const r={meta:{},options:n,codeToHast:(s,o)=>b3(t,s,o),codeToTokens:(s,o)=>y3(t,s,o)};let i=y9e(b3(t,e,n,r));for(const s of m3(n))i=s.postprocess?.call(r,i,n)||i;return i}const PB={light:"#333333",dark:"#bbbbbb"},RB={light:"#fffffe",dark:"#1e1e1e"},$B="__shiki_resolved";function a9(t){if(t?.[$B])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||="dark",e.colorReplacements={...e.colorReplacements},e.settings||=[];let{bg:n,fg:r}=e;if(!n||!r){const a=e.settings?e.settings.find(l=>!l.name&&!l.scope):void 0;a?.settings?.foreground&&(r=a.settings.foreground),a?.settings?.background&&(n=a.settings.background),!r&&e?.colors?.["editor.foreground"]&&(r=e.colors["editor.foreground"]),!n&&e?.colors?.["editor.background"]&&(n=e.colors["editor.background"]),r||(r=e.type==="light"?PB.light:PB.dark),n||(n=e.type==="light"?RB.light:RB.dark),e.fg=r,e.bg=n}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let i=0;const s=new Map;function o(a){if(s.has(a))return s.get(a);i+=1;const l=`#${i.toString(16).padStart(8,"0").toLowerCase()}`;return e.colorReplacements?.[`#${l}`]?o(a):(s.set(a,l),l)}e.settings=e.settings.map(a=>{const l=a.settings?.foreground&&!a.settings.foreground.startsWith("#"),u=a.settings?.background&&!a.settings.background.startsWith("#");if(!l&&!u)return a;const c={...a,settings:{...a.settings}};if(l){const f=o(a.settings.foreground);e.colorReplacements[f]=a.settings.foreground,c.settings.foreground=f}if(u){const f=o(a.settings.background);e.colorReplacements[f]=a.settings.background,c.settings.background=f}return c});for(const a of Object.keys(e.colors||{}))if((a==="editor.foreground"||a==="editor.background"||a.startsWith("terminal.ansi"))&&!e.colors[a]?.startsWith("#")){const l=o(e.colors[a]);e.colorReplacements[l]=e.colors[a],e.colors[a]=l}return Object.defineProperty(e,$B,{enumerable:!1,writable:!1,value:!0}),e}async function Uee(t){return Array.from(new Set((await Promise.all(t.filter(e=>!w9e(e)).map(async e=>await Lee(e).then(n=>Array.isArray(n)?n:[n])))).flat()))}async function jee(t){return(await Promise.all(t.map(async n=>_9e(n)?null:a9(await Lee(n))))).filter(n=>!!n)}class G9e extends r7e{constructor(e,n,r,i={}){super(e),this._resolver=e,this._themes=n,this._langs=r,this._alias=i,this._themes.map(s=>this.loadTheme(s)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return typeof e=="string"?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){const n=a9(e);return n.name&&(this._resolvedThemes.set(n.name,n),this._loadedThemesCache=null),n}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let n=this._textmateThemeCache.get(e);n||(n=u3.createFromRawTheme(e),this._textmateThemeCache.set(e,n)),this._syncRegistry.setTheme(n)}getGrammar(e){if(this._alias[e]){const n=new Set([e]);for(;this._alias[e];){if(e=this._alias[e],n.has(e))throw new oo(`Circular alias \`${Array.from(n).join(" -> ")} -> ${e}\``);n.add(e)}}return this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;const n=new Set([...this._langMap.values()].filter(s=>s.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);const r={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);const i=this.loadGrammarWithConfiguration(e.scopeName,1,r);if(i.name=e.name,this._resolvedGrammars.set(e.name,i),e.aliases&&e.aliases.forEach(s=>{this._alias[s]=e.name}),this._loadedLanguagesCache=null,n.size)for(const s of n)this._resolvedGrammars.delete(s.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(s.scopeName),this._syncRegistry?._grammars?.delete(s.scopeName),this.loadLanguage(this._langMap.get(s.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(const i of e)this.resolveEmbeddedLanguages(i);const n=Array.from(this._langGraph.entries()),r=n.filter(([i,s])=>!s);if(r.length){const i=n.filter(([s,o])=>o&&o.embeddedLangs?.some(a=>r.map(([l])=>l).includes(a))).filter(s=>!r.includes(s));throw new oo(`Missing languages ${r.map(([s])=>`\`${s}\``).join(", ")}, required by ${i.map(([s])=>`\`${s}\``).join(", ")}`)}for(const[i,s]of n)this._resolver.addLanguage(s);for(const[i,s]of n)this.loadLanguage(s)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){if(this._langMap.set(e.name,e),this._langGraph.set(e.name,e),e.embeddedLangs)for(const n of e.embeddedLangs)this._langGraph.set(n,this._langMap.get(n))}}class H9e{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,n){this._onigLib={createOnigScanner:r=>e.createScanner(r),createOnigString:r=>e.createString(r)},n.forEach(r=>this.addLanguage(r))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(n=>{this._langs.set(n,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(n=>{this._injections.get(n)||this._injections.set(n,[]),this._injections.get(n).push(e.scopeName)})}getInjections(e){const n=e.split(".");let r=[];for(let i=1;i<=n.length;i++){const s=n.slice(0,i).join(".");r=[...r,...this._injections.get(s)||[]]}return r}}let zy=0;function K9e(t){zy+=1,t.warnings!==!1&&zy>=10&&zy%10===0&&console.warn(`[Shiki] ${zy} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new oo("`engine` option is required for synchronous mode");const n=(t.langs||[]).flat(1),r=(t.themes||[]).flat(1).map(a9),i=new H9e(t.engine,n),s=new G9e(i,r,n,t.langAlias);let o;function a(O){b();const x=s.getGrammar(typeof O=="string"?O:O.name);if(!x)throw new oo(`Language \`${O}\` not found, you may need to load it first`);return x}function l(O){if(O==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};b();const x=s.getTheme(O);if(!x)throw new oo(`Theme \`${O}\` not found, you may need to load it first`);return x}function u(O){b();const x=l(O);o!==O&&(s.setTheme(x),o=O);const C=s.getColorMap();return{theme:x,colorMap:C}}function c(){return b(),s.getLoadedThemes()}function f(){return b(),s.getLoadedLanguages()}function h(...O){b(),s.loadLanguages(O.flat(1))}async function d(...O){return h(await Uee(O))}function m(...O){b();for(const x of O.flat(1))s.loadTheme(x)}async function g(...O){return b(),m(await jee(O))}function b(){if(e)throw new oo("Shiki instance has been disposed")}function v(){e||(e=!0,s.dispose(),zy-=1)}return{setTheme:u,getTheme:l,getLanguage:a,getLoadedThemes:c,getLoadedLanguages:f,loadLanguage:d,loadLanguageSync:h,loadTheme:g,loadThemeSync:m,dispose:v,[Symbol.dispose]:v}}async function J9e(t={}){t.loadWasm;const[e,n,r]=await Promise.all([jee(t.themes||[]),Uee(t.langs||[]),t.engine||yPe(t.loadWasm||gPe())]);return K9e({...t,themes:e,langs:n,engine:r})}async function eRe(t={}){const e=await J9e(t);return{getLastGrammarState:(...n)=>N9e(e,...n),codeToTokensBase:(n,r)=>o9(e,n,r),codeToTokensWithThemes:(n,r)=>zee(e,n,r),codeToTokens:(n,r)=>y3(e,n,r),codeToHast:(n,r)=>b3(e,n,r),codeToHtml:(n,r)=>Y9e(e,n,r),...e,getInternalContext:()=>e}}const G8=kl({linkify:!0,typographer:!0});(async()=>{const t=await eRe({themes:[O6(()=>import("./vitesse-light-CVO1_9PV.js"),[],import.meta.url),O6(()=>import("./vitesse-dark-D0r3Knsf.js"),[],import.meta.url)],langs:[O6(()=>import("./javascript-ySlJ1b_l.js"),[],import.meta.url)]});G8.use(KDe(t,{themes:{light:"vitesse-light",dark:"vitesse-dark"}}))})();function pg(t,e=!0){return e?G8.renderInline(t):G8.render(t)}const tRe=lh({String:Q.string,Number:Q.number,"True False":Q.bool,PropertyName:Q.propertyName,Null:Q.null,", :":Q.separator,"[ ]":Q.squareBracket,"{ }":Q.brace}),nRe=Gf.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"â  JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[tRe],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),rRe=()=>t=>{try{JSON.parse(t.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const n=iRe(e,t.state.doc);return[{from:n,message:e.message,severity:"error",to:n}]}return[]};function iRe(t,e){let n;return(n=t.message.match(/at position (\d+)/))?Math.min(+n[1],e.length):(n=t.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+n[1]).from+ +n[2]-1,e.length):0}const qee=Yf.define({name:"json",parser:nRe.configure({props:[$d.add({Object:Bf({except:/^\s*\}/}),Array:Bf({except:/^\s*\]/})}),Id.add({"Object Array":Nk})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function sRe(){return new kd(qee)}var M6={},IB;function oRe(){return IB||(IB=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.enableErrorLogging=t.disableErrorLogging=t.setErrorLogger=void 0;let e=console.error;function n(k){e=k}t.setErrorLogger=n;function r(){e=()=>{}}t.disableErrorLogging=r;function i(){e=console.error}t.enableErrorLogging=i;function s(k){if(k!==void 0){if(k===null)return null;if(k==="")return"";k=k.replace(/\\+$/,T=>T.length%2===0?T:T.slice(0,-1));try{return JSON.parse(k)}catch(T){const[D,$]=k.trimLeft()[0]===":"?o(k,T):o(k,T,v);if(s.lastParseReminding=$,s.onExtraToken&&$.length>0){const M=$.trimRight();s.lastParseReminding=M,M.length>0&&s.onExtraToken(k,D,M)}return D}}}t.parse=s,(function(k){k.onExtraToken=(T,D,$)=>{e("parsed json with extra tokens:",{text:T,data:D,reminding:$})}})(s=t.parse||(t.parse={}));function o(k,T,D){const $=l[k[0]]||D;if(!$)throw e(`no parser registered for ${JSON.stringify(k[0])}:`,{s:k}),T;return $(k,T)}function a(k,T,D){return k[0]==='"'?m(k):k[0]==="'"?b(k):v(k,T,D)}const l={};function u(k){return k.trimLeft()}l[" "]=c,l["\r"]=c,l[`
`]=c,l["	"]=c;function c(k,T){return k=u(k),o(k,T)}l["["]=f;function f(k,T){k=k.substr(1);const D=[];for(k=u(k);k.length>0;){if(k[0]==="]"){k=k.substr(1);break}const $=o(k,T,(M,L)=>v(M,L,[",","]"]));D.push($[0]),k=$[1],k=u(k),k[0]===","&&(k=k.substring(1),k=u(k))}return[D,k]}for(const k of"0123456789.-".slice())l[k]=h;function h(k){for(let T=0;T<k.length;T++){const D=k[T];if(l[D]===h)continue;const $=k.substring(0,T);return k=k.substring(T),[d($),k]}return[d(k),""]}function d(k){if(k==="-")return-0;const T=+k;return Number.isNaN(T)?k:T}l['"']=m;function m(k){for(let T=1;T<k.length;T++){const D=k[T];if(D==="\\"){T++;continue}if(D==='"'){const $=g(k.substring(0,T+1));return k=k.substring(T+1),[JSON.parse($),k]}}return[JSON.parse(g(k)+'"'),""]}function g(k){return k.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}l["'"]=b;function b(k){for(let T=1;T<k.length;T++){const D=k[T];if(D==="\\"){T++;continue}if(D==="'"){const $=g(k.substring(0,T+1));return k=k.substring(T+1),[JSON.parse('"'+$.slice(1,-1)+'"'),k]}}return[JSON.parse('"'+g(k.slice(1))+'"'),""]}function v(k,T,D=[" "]){const $=Math.min(...D.map(R=>{const I=k.indexOf(R);return I===-1?k.length:I})),M=k.substring(0,$).trim(),L=k.substring($);return[M,L]}l["{"]=O;function O(k,T){k=k.substr(1);const D={};for(k=u(k);k.length>0;){if(k[0]==="}"){k=k.substr(1);break}const $=a(k,T,[":","}"]),M=$[0];if(k=$[1],k=u(k),k[0]!==":"){D[M]=void 0;break}if(k=k.substr(1),k=u(k),k.length===0){D[M]=void 0;break}const L=o(k,T);D[M]=L[0],k=L[1],k=u(k),k[0]===","&&(k=k.substr(1),k=u(k))}return[D,k]}l.t=x;function x(k,T){return A(k,"true",!0,T)}l.f=C;function C(k,T){return A(k,"false",!1,T)}l.n=S;function S(k,T){return A(k,"null",null,T)}function A(k,T,D,$){for(let M=T.length;M>=1;M--)if(k.startsWith(T.slice(0,M)))return[D,k.slice(M)];{const M=JSON.stringify(k.slice(0,T.length));throw e(`unknown token starting with ${M}:`,{s:k}),$}}})(M6)),M6}var Vee=oRe();function aRe(t){let e=null;try{e=JSON.parse(t.doc.toString())}catch{try{e=Vee.parse(t.doc.toString())}catch{}}const n=L7(t,mr.JSON);return{data:e,pointers:n}}const lRe=Gf.deserialize({version:14,states:"%WO`QPOOOwQQO'#CbO!SQPO'#ChOOQO'#Cj'#CjOOQO'#Ct'#CtQOQPOOOOQO'#Cd'#CdO!ZQPO'#CcOOQO,58|,58|O!`QPO,58|OOQO,59S,59SO!hQPO,59SO`QPO,58}O!pQQO1G.hO!{QPO1G.hOOQO1G.h1G.hO#TQPO1G.nO#[QPO1G.nOOQO1G.n1G.nOOQO1G.i1G.iOOQO,59Y,59YOOQO7+$S7+$SO#dQQO7+$SOOQO-E6l-E6lOOQO,59Z,59ZOOQO7+$Y7+$YO#oQPO7+$YOOQO-E6m-E6mOOQO<<Gn<<GnPzQQO'#CnOOQO<<Gt<<GtP`QPO'#Co",stateData:"#x~OPOSQOSfOSgOS~OTPOZQO]SO_SO`SOaSOiRO~OSWOiUOjUO~OYYO~P`OX[O~OS_Ok]O~OYbOk`O~OSeOiUOjUO~OSeOkfO~OYiO~P`OYiOkjO~OSlOiUOjUO~OYnO~P`Oj~",goto:"!liPPPPPPjrzPPPjPjPPP!Q!WPPPP!^]SOQ[`joQXPVd]fmXVP]fmQ^XRg^QaZRkaQTOQZQQc[Vh`jo",nodeNames:"â  LineComment BlockComment File } { Object Property PropertyName PropertyColon ] [ Array Number String Null True False",maxTerm:27,nodeProps:[["openedBy",4,"{",10,"["],["closedBy",5,"}",11,"]"]],skippedNodes:[0,1,2],repeatNodeCount:2,tokenData:">X~R!TXY$bYZ%YZ[$b[]$b]^%Ypq$brs%_tu&owx'W{|(c|},O}!O(c!O!P(r!P!Q,T!Q!R)l!R![*l![!]-d!c!k&o!k!l-i!l!p&o!p!q2g!q!}&o!}#O3p#P#Q3u#R#S&o#T#Y&o#Y#Z3z#Z#b&o#b#c6z#c#h&o#h#i9`#i#o&o#o#p;t#q#r;y$f$g$b$g#BY&o#BY#BZ<O#BZ$IS&o$IS$I_<O$I_$I|&o$I|$I}=n$I}$JO=n$JO$JT&o$JT$JU<O$JU$KV&o$KV$KW<O$KW&FU&o&FU&FV<O&FV?HT&o?HT?HU<O?HU~&o~$gZf~XY$bZ[$b[]$bpq$b$f$g$b#BY#BZ$b$IS$I_$b$JT$JU$b$KV$KW$b&FU&FV$b?HT?HU$b~%_Og~~%bTOr%_rs%qs#O%_#O#P%v#P~%_~%vOi~~%y[YZ%_]^%_rs%_#O#P%_#U#V%_#Y#Z%_#b#c%_#f#g%_#h#i%_#j#k%_$I|$I}%_$I}$JO%_Q&tUjQtu&o!Q![&o!c!}&o#R#S&o#T#o&o$g~&o~'ZTOw'Wwx%qx#O'W#O#P'j#P~'W~'m[YZ'W]^'Wwx'W#O#P'W#U#V'W#Y#Z'W#b#c'W#f#g'W#h#i'W#j#k'W$I|$I}'W$I}$JO'WP(fS!O!P(r!Q!R)l!R![*l!k!l*}P(wR]P!Q![(r!g!h)Q#X#Y)QP)TR{|)^}!O)^!Q![)dP)aP!Q![)dP)iP]P!Q![)dP)qT]P!O!P(r!g!h)Q!z!{*Q#X#Y)Q#l#m*QP*TR!Q![*^!c!i*^#T#Z*^P*cR]P!Q![*^!c!i*^#T#Z*^P*qS]P!O!P(r!Q![*l!g!h)Q#X#Y)QP+QP#b#c+TP+WP#Y#Z+ZP+^P#]#^+aP+dP#b#c+gP+jP#]#^+mP+pP#h#i+sP+vP#m#n+yP,OO]P~,TOk~~,WQz{,^!P!Q-R~,aROz,^z{,j{~,^~,mTOz,^z{,j{!P,^!P!Q,|!Q~,^~-ROQ~~-WSP~OY-RZ]-R^$I|-R$JO~-R~-iOX~R-nWjQtu&o!Q![&o!c!}&o#R#S&o#T#b&o#b#c.W#c#o&o$g~&oR.]WjQtu&o!Q![&o!c!}&o#R#S&o#T#Y&o#Y#Z.u#Z#o&o$g~&oR.zWjQtu&o!Q![&o!c!}&o#R#S&o#T#]&o#]#^/d#^#o&o$g~&oR/iWjQtu&o!Q![&o!c!}&o#R#S&o#T#b&o#b#c0R#c#o&o$g~&oR0WWjQtu&o!Q![&o!c!}&o#R#S&o#T#]&o#]#^0p#^#o&o$g~&oR0uWjQtu&o!Q![&o!c!}&o#R#S&o#T#h&o#h#i1_#i#o&o$g~&oR1dWjQtu&o!Q![&o!c!}&o#R#S&o#T#m&o#m#n1|#n#o&o$g~&oR2TU]PjQtu&o!Q![&o!c!}&o#R#S&o#T#o&o$g~&oR2lVjQtu&o!Q![&o!c!}&o#R#S&o#T#U3R#U#o&o$g~&oR3WWjQtu&o!Q![&o!c!p&o!p!q1|!q!}&o#R#S&o#T#o&o$g~&o~3uOZ~~3zOY~R4PVjQtu&o!Q![&o!c!}&o#R#S&o#T#U4f#U#o&o$g~&oR4kWjQtu&o!Q![&o!c!}&o#R#S&o#T#`&o#`#a5T#a#o&o$g~&oR5YWjQtu&o!Q![&o!c!}&o#R#S&o#T#g&o#g#h5r#h#o&o$g~&oR5wWjQtu&o!Q![&o!c!}&o#R#S&o#T#X&o#X#Y6a#Y#o&o$g~&oR6hUaPjQtu&o!Q![&o!c!}&o#R#S&o#T#o&o$g~&oR7PWjQtu&o!Q![&o!c!}&o#R#S&o#T#i&o#i#j7i#j#o&o$g~&oR7nWjQtu&o!Q![&o!c!}&o#R#S&o#T#`&o#`#a8W#a#o&o$g~&oR8]WjQtu&o!Q![&o!c!}&o#R#S&o#T#`&o#`#a8u#a#o&o$g~&oR8|U_PjQtu&o!Q![&o!c!}&o#R#S&o#T#o&o$g~&oR9eWjQtu&o!Q![&o!c!}&o#R#S&o#T#f&o#f#g9}#g#o&o$g~&oR:SWjQtu&o!Q![&o!c!}&o#R#S&o#T#i&o#i#j:l#j#o&o$g~&oR:qWjQtu&o!Q![&o!c!}&o#R#S&o#T#X&o#X#Y;Z#Y#o&o$g~&oR;bU`PjQtu&o!Q![&o!c!}&o#R#S&o#T#o&o$g~&o~;yOT~~<OOS~~<Vgf~jQXY$bZ[$b[]$bpq$btu&o!Q![&o!c!}&o#R#S&o#T#o&o$f$g$b$g#BY&o#BY#BZ<O#BZ$IS&o$IS$I_<O$I_$JT&o$JT$JU<O$JU$KV&o$KV$KW<O$KW&FU&o&FU&FV<O&FV?HT&o?HT?HU<O?HU~&o~=uUg~jQtu&o!Q![&o!c!}&o#R#S&o#T#o&o$g~&o",tokenizers:[0,1],topRules:{File:[0,3]},tokenPrec:130});function uRe(t){let e=t[0],n=t[t.length-1];return(e==="'"&&n==="'"||e==='"'&&n==='"')&&(t=t.slice(1,-1)),t}function cRe(t,e){if(e.name!=="Property")return null;let n=e.getChild("PropertyName");return n?uRe(t.sliceDoc(n.from,n.to)):null}function fRe(t){var e;let n=(e=t.parent)===null||e===void 0?void 0:e.cursor();if(!n)return null;for(;n.node.name!=="Property"&&n.node.name!=="Array";)if(!n.parent())return null;return n.node}function hRe(t,e){let n=[];for(;;){let r=fRe(e);if(!r)break;if(r.name==="Array"){let i=e.from,s=r.firstChild,o=0;for(;s&&s.to<i;)s=dRe(s.nextSibling),o+=1;n.unshift(o)}else{let i=cRe(t,r);i&&n.unshift(i)}e=r}return n}function dRe(t){for(;t&&/Comment/.test(t.name);)t=t.nextSibling;return t}function pRe(t,e){let r=Hn(t).resolveInner(e,-1);for(;r;){let i=r.childBefore(e);if(!i)break;r=i}return r}const Xee=Yf.define({parser:lRe.configure({props:[$d.add({Object:Bf({except:/^\s*\}/}),Array:Bf({except:/^\s*\]/})}),Id.add({"Object Array":Nk}),lh({String:Q.string,"PropertyName!":Q.propertyName,Number:Q.number,"True False":Q.bool,Null:Q.null,LineComment:Q.lineComment,BlockComment:Q.blockComment,", PropertyColon":Q.separator,"[ ]":Q.squareBracket,"{ }":Q.brace})]}),languageData:{closeBrackets:{brackets:["[","{",'"',"'"]},indentOnInput:/^\s*[}\]]$/,commentTokens:{line:"//",block:{open:"/*",clone:"*/"}}}});function mRe(){return new kd(Xee,[Zee.extension,yRe.extension])}function FB(t,e){let n=0;return"lineNumber"in e&&"columnNumber"in e&&(n=Math.min(t.line(e.lineNumber).from+e.columnNumber-1,t.length)),[{from:n,to:n,message:e.message,severity:"error"}]}function gRe(t){return e=>{var n,r;let i=e.state.doc,s=e.state.field(Zee,!1);if(s){if(s.err)return FB(i,s.err);if(s.obj!==void 0)return(n=void 0)!==null&&n!==void 0?n:[]}try{let o=Xg.parse(i.toString());return(r=t?.(e,o))!==null&&r!==void 0?r:[]}catch(o){return FB(i,o)}}}const Zee=Ni.define({create(){return null},update(t,e){if(!e.docChanged)return t;try{return{err:null,obj:Xg.parse(e.newDoc.toString())}}catch(n){return{err:n,obj:t?.obj}}}}),yRe=Ni.define({create(){return{path:null,node:null}},update(t,e){let n=e.state.selection.main.to,r=pRe(e.state,n),i=r?hRe(e.state,r):null;return{path:i??null,node:r}}});function Wee(t){const e=t.doc.toString();let n=null;try{n=Xg.parse(e)}catch{try{n=Vee.parse(e)}catch{}}const r=L7(t,mr.JSON5);return{data:n,pointers:r}}const l9=Symbol.for("yaml.alias"),H8=Symbol.for("yaml.document"),nd=Symbol.for("yaml.map"),Yee=Symbol.for("yaml.pair"),kc=Symbol.for("yaml.scalar"),X1=Symbol.for("yaml.seq"),Cl=Symbol.for("yaml.node.type"),Md=t=>!!t&&typeof t=="object"&&t[Cl]===l9,T0=t=>!!t&&typeof t=="object"&&t[Cl]===H8,Z1=t=>!!t&&typeof t=="object"&&t[Cl]===nd,Vr=t=>!!t&&typeof t=="object"&&t[Cl]===Yee,vr=t=>!!t&&typeof t=="object"&&t[Cl]===kc,W1=t=>!!t&&typeof t=="object"&&t[Cl]===X1;function ri(t){if(t&&typeof t=="object")switch(t[Cl]){case nd:case X1:return!0}return!1}function si(t){if(t&&typeof t=="object")switch(t[Cl]){case l9:case nd:case kc:case X1:return!0}return!1}const Gee=t=>(vr(t)||ri(t))&&!!t.anchor,zo=Symbol("break visit"),Hee=Symbol("skip children"),hc=Symbol("remove node");function D0(t,e){const n=Kee(e);T0(t)?Nm(null,t.contents,n,Object.freeze([t]))===hc&&(t.contents=null):Nm(null,t,n,Object.freeze([]))}D0.BREAK=zo;D0.SKIP=Hee;D0.REMOVE=hc;function Nm(t,e,n,r){const i=Jee(t,e,n,r);if(si(i)||Vr(i))return ete(t,r,i),Nm(t,i,n,r);if(typeof i!="symbol"){if(ri(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){const o=Nm(s,e.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===zo)return zo;o===hc&&(e.items.splice(s,1),s-=1)}}}else if(Vr(e)){r=Object.freeze(r.concat(e));const s=Nm("key",e.key,n,r);if(s===zo)return zo;s===hc&&(e.key=null);const o=Nm("value",e.value,n,r);if(o===zo)return zo;o===hc&&(e.value=null)}}return i}async function t4(t,e){const n=Kee(e);T0(t)?await Qm(null,t.contents,n,Object.freeze([t]))===hc&&(t.contents=null):await Qm(null,t,n,Object.freeze([]))}t4.BREAK=zo;t4.SKIP=Hee;t4.REMOVE=hc;async function Qm(t,e,n,r){const i=await Jee(t,e,n,r);if(si(i)||Vr(i))return ete(t,r,i),Qm(t,i,n,r);if(typeof i!="symbol"){if(ri(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){const o=await Qm(s,e.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===zo)return zo;o===hc&&(e.items.splice(s,1),s-=1)}}}else if(Vr(e)){r=Object.freeze(r.concat(e));const s=await Qm("key",e.key,n,r);if(s===zo)return zo;s===hc&&(e.key=null);const o=await Qm("value",e.value,n,r);if(o===zo)return zo;o===hc&&(e.value=null)}}return i}function Kee(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function Jee(t,e,n,r){if(typeof n=="function")return n(t,e,r);if(Z1(e))return n.Map?.(t,e,r);if(W1(e))return n.Seq?.(t,e,r);if(Vr(e))return n.Pair?.(t,e,r);if(vr(e))return n.Scalar?.(t,e,r);if(Md(e))return n.Alias?.(t,e,r)}function ete(t,e,n){const r=e[e.length-1];if(ri(r))r.items[t]=n;else if(Vr(r))t==="key"?r.key=n:r.value=n;else if(T0(r))r.contents=n;else{const i=Md(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const bRe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},vRe=t=>t.replace(/[!,[\]{}]/g,e=>bRe[e]);class to{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},to.defaultYaml,e),this.tags=Object.assign({},to.defaultTags,n)}clone(){const e=new to(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new to(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:to.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},to.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:to.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},to.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[s,o]=r;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[s]=r;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{const o=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,i]=e.match(/^(.*!)([^!]*)$/s);i||n(`The ${e} tag has no suffix`);const s=this.tags[r];if(s)try{return s+decodeURIComponent(i)}catch(o){return n(String(o)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+vRe(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(e&&r.length>0&&si(e.contents)){const s={};D0(e.contents,(o,a)=>{si(a)&&a.tag&&(s[a.tag]=!0)}),i=Object.keys(s)}else i=[];for(const[s,o]of r)s==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(o)))&&n.push(`%TAG ${s} ${o}`);return n.join(`
`)}}to.defaultYaml={explicit:!1,version:"1.2"};to.defaultTags={"!!":"tag:yaml.org,2002:"};function tte(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function nte(t){const e=new Set;return D0(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function rte(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}function ORe(t,e){const n=[],r=new Map;let i=null;return{onAnchor:s=>{n.push(s),i??(i=nte(t));const o=rte(e,i);return i.add(o),o},setAnchors:()=>{for(const s of n){const o=r.get(s);if(typeof o=="object"&&o.anchor&&(vr(o.node)||ri(o.node)))o.node.anchor=o.anchor;else{const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:r}}function Bm(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,s=r.length;i<s;++i){const o=r[i],a=Bm(t,r,String(i),o);a===void 0?delete r[i]:a!==o&&(r[i]=a)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const s=r.get(i),o=Bm(t,r,i,s);o===void 0?r.delete(i):o!==s&&r.set(i,o)}else if(r instanceof Set)for(const i of Array.from(r)){const s=Bm(t,r,i,i);s===void 0?r.delete(i):s!==i&&(r.delete(i),r.add(s))}else for(const[i,s]of Object.entries(r)){const o=Bm(t,r,i,s);o===void 0?delete r[i]:o!==s&&(r[i]=o)}return t.call(e,n,r)}function yl(t,e,n){if(Array.isArray(t))return t.map((r,i)=>yl(r,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!Gee(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=s=>{r.res=s,delete n.onCreate};const i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!n?.keep?Number(t):t}class u9{constructor(e){Object.defineProperty(this,Cl,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:s}={}){if(!T0(e))throw new TypeError("A document argument is required");const o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=yl(this,"",o);if(typeof i=="function")for(const{count:l,res:u}of o.anchors.values())i(u,l);return typeof s=="function"?Bm(s,{"":a},"",a):a}}class n4 extends u9{constructor(e){super(l9),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let r;n?.aliasResolveCache?r=n.aliasResolveCache:(r=[],D0(e,{Node:(s,o)=>{(Md(o)||Gee(o))&&r.push(o)}}),n&&(n.aliasResolveCache=r));let i;for(const s of r){if(s===this)break;s.anchor===this.source&&(i=s)}return i}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:s}=n,o=this.resolve(i,n);if(!o){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=r.get(o);if(a||(yl(o,null,n),a=r.get(o)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=fx(i,o,r)),a.count*a.aliasCount>s)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,r){const i=`*${this.source}`;if(e){if(tte(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${i} `}return i}}function fx(t,e,n){if(Md(e)){const r=e.resolve(t),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(ri(e)){let r=0;for(const i of e.items){const s=fx(t,i,n);s>r&&(r=s)}return r}else if(Vr(e)){const r=fx(t,e.key,n),i=fx(t,e.value,n);return Math.max(r,i)}return 1}const ite=t=>!t||typeof t!="function"&&typeof t!="object";class jt extends u9{constructor(e){super(kc),this.value=e}toJSON(e,n){return n?.keep?this.value:yl(this.value,e,n)}toString(){return String(this.value)}}jt.BLOCK_FOLDED="BLOCK_FOLDED";jt.BLOCK_LITERAL="BLOCK_LITERAL";jt.PLAIN="PLAIN";jt.QUOTE_DOUBLE="QUOTE_DOUBLE";jt.QUOTE_SINGLE="QUOTE_SINGLE";const wRe="tag:yaml.org,2002:";function _Re(t,e,n){if(e){const r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)??r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>r.identify?.(t)&&!r.format)}function tO(t,e,n){if(T0(t)&&(t=t.contents),si(t))return t;if(Vr(t)){const f=n.schema[nd].createNode?.(n.schema,null,n);return f.items.push(t),f}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:o,sourceObjects:a}=n;let l;if(r&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor??(l.anchor=i(t)),new n4(l.anchor);l={anchor:null,node:null},a.set(t,l)}e?.startsWith("!!")&&(e=wRe+e.slice(2));let u=_Re(t,e,o.tags);if(!u){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const f=new jt(t);return l&&(l.node=f),f}u=t instanceof Map?o[nd]:Symbol.iterator in Object(t)?o[X1]:o[nd]}s&&(s(u),delete n.onTagObj);const c=u?.createNode?u.createNode(n.schema,t,n):typeof u?.nodeClass?.from=="function"?u.nodeClass.from(n.schema,t,n):new jt(t);return e?c.tag=e:u.default||(c.tag=u.tag),l&&(l.node=c),c}function v3(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){const s=e[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const o=[];o[s]=r,r=o}else r=new Map([[s,r]])}return tO(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const _b=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class ste extends u9{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>si(r)||Vr(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(_b(e))this.add(n);else{const[r,...i]=e,s=this.get(r,!0);if(ri(s))s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,v3(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(ri(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...i]=e,s=this.get(r,!0);return i.length===0?!n&&vr(s)?s.value:s:ri(s)?s.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Vr(n))return!1;const r=n.value;return r==null||e&&vr(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const i=this.get(n,!0);return ri(i)?i.hasIn(r):!1}setIn(e,n){const[r,...i]=e;if(i.length===0)this.set(r,n);else{const s=this.get(r,!0);if(ri(s))s.setIn(i,n);else if(s===void 0&&this.schema)this.set(r,v3(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}const xRe=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Tf(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Ep=(t,e,n)=>t.endsWith(`
`)?Tf(n,e):n.includes(`
`)?`
`+Tf(n,e):(t.endsWith(" ")?"":" ")+n,ote="flow",K8="block",hx="quoted";function r4(t,e,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return t;i<s&&(s=0);const l=Math.max(1+s,1+i-e.length);if(t.length<=l)return t;const u=[],c={};let f=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):f=i-r);let h,d,m=!1,g=-1,b=-1,v=-1;n===K8&&(g=MB(t,g,e.length),g!==-1&&(f=g+l));for(let x;x=t[g+=1];){if(n===hx&&x==="\\"){switch(b=g,t[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}v=g}if(x===`
`)n===K8&&(g=MB(t,g,e.length)),f=g+e.length+l,h=void 0;else{if(x===" "&&d&&d!==" "&&d!==`
`&&d!=="	"){const C=t[g+1];C&&C!==" "&&C!==`
`&&C!=="	"&&(h=g)}if(g>=f)if(h)u.push(h),f=h+l,h=void 0;else if(n===hx){for(;d===" "||d==="	";)d=x,x=t[g+=1],m=!0;const C=g>v+1?g-2:b-1;if(c[C])return t;u.push(C),c[C]=!0,f=C+l,h=void 0}else m=!0}d=x}if(m&&a&&a(),u.length===0)return t;o&&o();let O=t.slice(0,u[0]);for(let x=0;x<u.length;++x){const C=u[x],S=u[x+1]||t.length;C===0?O=`
${e}${t.slice(0,S)}`:(n===hx&&c[C]&&(O+=`${t[C]}\\`),O+=`
${e}${t.slice(C+1,S)}`)}return O}function MB(t,e,n){let r=e,i=e+1,s=t[i];for(;s===" "||s==="	";)if(e<i+n)s=t[++e];else{do s=t[++e];while(s&&s!==`
`);r=e,i=e+1,s=t[i]}return r}const i4=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),s4=t=>/^(%|---|\.\.\.)/m.test(t);function SRe(t,e,n){if(!e||e<0)return!1;const r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(t[s]===`
`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1}return!0}function Zb(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,i=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(s4(t)?"  ":"");let o="",a=0;for(let l=0,u=n[l];u;u=n[++l])if(u===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(o+=n.slice(a,l)+"\\ ",l+=1,a=l,u="\\"),u==="\\")switch(n[l+1]){case"u":{o+=n.slice(a,l);const c=n.substr(l+2,4);switch(c){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:c.substr(0,2)==="00"?o+="\\x"+c.substr(2):o+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(r||n[l+2]==='"'||n.length<i)l+=1;else{for(o+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)o+=`
`,l+=2;o+=s,n[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+n.slice(a):n,r?o:r4(o,s,hx,i4(e,!1))}function J8(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return Zb(t,e);const n=e.indent||(s4(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:r4(r,n,ote,i4(e,!1))}function zm(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=Zb;else{const i=t.includes('"'),s=t.includes("'");i&&!s?r=J8:s&&!i?r=Zb:r=n?J8:Zb}return r(t,e)}let eT;try{eT=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{eT=/\n+(?!\n|$)/g}function dx({comment:t,type:e,value:n},r,i,s){const{blockQuote:o,commentString:a,lineWidth:l}=r.options;if(!o||/\n[\t ]+$/.test(n))return zm(n,r);const u=r.indent||(r.forceBlockIndent||s4(n)?"  ":""),c=o==="literal"?!0:o==="folded"||e===jt.BLOCK_FOLDED?!1:e===jt.BLOCK_LITERAL?!0:!SRe(n,l,u.length);if(!n)return c?`|
`:`>
`;let f,h;for(h=n.length;h>0;--h){const S=n[h-1];if(S!==`
`&&S!=="	"&&S!==" ")break}let d=n.substring(h);const m=d.indexOf(`
`);m===-1?f="-":n===d||m!==d.length-1?(f="+",s&&s()):f="",d&&(n=n.slice(0,-d.length),d[d.length-1]===`
`&&(d=d.slice(0,-1)),d=d.replace(eT,`$&${u}`));let g=!1,b,v=-1;for(b=0;b<n.length;++b){const S=n[b];if(S===" ")g=!0;else if(S===`
`)v=b;else break}let O=n.substring(0,v<b?v+1:b);O&&(n=n.substring(O.length),O=O.replace(/\n+/g,`$&${u}`));let C=(g?u?"2":"1":"")+f;if(t&&(C+=" "+a(t.replace(/ ?[\r\n]+/g," ")),i&&i()),!c){const S=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);let A=!1;const k=i4(r,!0);o!=="folded"&&e!==jt.BLOCK_FOLDED&&(k.onOverflow=()=>{A=!0});const T=r4(`${O}${S}${d}`,u,K8,k);if(!A)return`>${C}
${u}${T}`}return n=n.replace(/\n+/g,`$&${u}`),`|${C}
${u}${O}${n}${d}`}function kRe(t,e,n,r){const{type:i,value:s}=t,{actualString:o,implicitKey:a,indent:l,indentStep:u,inFlow:c}=e;if(a&&s.includes(`
`)||c&&/[[\]{},]/.test(s))return zm(s,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||c||!s.includes(`
`)?zm(s,e):dx(t,e,n,r);if(!a&&!c&&i!==jt.PLAIN&&s.includes(`
`))return dx(t,e,n,r);if(s4(s)){if(l==="")return e.forceBlockIndent=!0,dx(t,e,n,r);if(a&&l===u)return zm(s,e)}const f=s.replace(/\n+/g,`$&
${l}`);if(o){const h=g=>g.default&&g.tag!=="tag:yaml.org,2002:str"&&g.test?.test(f),{compat:d,tags:m}=e.doc.schema;if(m.some(h)||d?.some(h))return zm(s,e)}return a?f:r4(f,l,ote,i4(e,!1))}function e2(t,e,n,r){const{implicitKey:i,inFlow:s}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==jt.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=jt.QUOTE_DOUBLE);const l=c=>{switch(c){case jt.BLOCK_FOLDED:case jt.BLOCK_LITERAL:return i||s?zm(o.value,e):dx(o,e,n,r);case jt.QUOTE_DOUBLE:return Zb(o.value,e);case jt.QUOTE_SINGLE:return J8(o.value,e);case jt.PLAIN:return kRe(o,e,n,r);default:return null}};let u=l(a);if(u===null){const{defaultKeyType:c,defaultStringType:f}=e.options,h=i&&c||f;if(u=l(h),u===null)throw new Error(`Unsupported default string type ${h}`)}return u}function ate(t,e){const n=Object.assign({blockQuote:!0,commentString:xRe,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function CRe(t,e){if(e.tag){const i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)??i[0]}let n,r;if(vr(e)){r=e.value;let i=t.filter(s=>s.identify?.(r));if(i.length>1){const s=i.filter(o=>o.test);s.length>0&&(i=s)}n=i.find(s=>s.format===e.format)??i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=r?.constructor?.name??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${i} value`)}return n}function ARe(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],s=(vr(t)||ri(t))&&t.anchor;s&&tte(s)&&(n.add(s),i.push(`&${s}`));const o=t.tag??(e.default?null:e.tag);return o&&i.push(r.directives.tagString(o)),i.join(" ")}function l1(t,e,n,r){if(Vr(t))return t.toString(e,n,r);if(Md(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i;const s=si(t)?t:e.doc.createNode(t,{onTagObj:l=>i=l});i??(i=CRe(e.doc.schema.tags,s));const o=ARe(s,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const a=typeof i.stringify=="function"?i.stringify(s,e,n,r):vr(s)?e2(s,e,n,r):s.toString(e,n,r);return o?vr(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}function ERe({key:t,value:e},n,r,i){const{allNullValues:s,doc:o,indent:a,indentStep:l,options:{commentString:u,indentSeq:c,simpleKeys:f}}=n;let h=si(t)&&t.comment||null;if(f){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(ri(t)||!si(t)&&typeof t=="object"){const k="With simple keys, collection cannot be used as a key value";throw new Error(k)}}let d=!f&&(!t||h&&e==null&&!n.inFlow||ri(t)||(vr(t)?t.type===jt.BLOCK_FOLDED||t.type===jt.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!d&&(f||!s),indent:a+l});let m=!1,g=!1,b=l1(t,n,()=>m=!0,()=>g=!0);if(!d&&!n.inFlow&&b.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(n.inFlow){if(s||e==null)return m&&r&&r(),b===""?"?":d?`? ${b}`:b}else if(s&&!f||e==null&&d)return b=`? ${b}`,h&&!m?b+=Ep(b,n.indent,u(h)):g&&i&&i(),b;m&&(h=null),d?(h&&(b+=Ep(b,n.indent,u(h))),b=`? ${b}
${a}:`):(b=`${b}:`,h&&(b+=Ep(b,n.indent,u(h))));let v,O,x;si(e)?(v=!!e.spaceBefore,O=e.commentBefore,x=e.comment):(v=!1,O=null,x=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!d&&!h&&vr(e)&&(n.indentAtStart=b.length+1),g=!1,!c&&l.length>=2&&!n.inFlow&&!d&&W1(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let C=!1;const S=l1(e,n,()=>C=!0,()=>g=!0);let A=" ";if(h||v||O){if(A=v?`
`:"",O){const k=u(O);A+=`
${Tf(k,n.indent)}`}S===""&&!n.inFlow?A===`
`&&(A=`

`):A+=`
${n.indent}`}else if(!d&&ri(e)){const k=S[0],T=S.indexOf(`
`),D=T!==-1,$=n.inFlow??e.flow??e.items.length===0;if(D||!$){let M=!1;if(D&&(k==="&"||k==="!")){let L=S.indexOf(" ");k==="&"&&L!==-1&&L<T&&S[L+1]==="!"&&(L=S.indexOf(" ",L+1)),(L===-1||T<L)&&(M=!0)}M||(A=`
${n.indent}`)}}else(S===""||S[0]===`
`)&&(A="");return b+=A+S,n.inFlow?C&&r&&r():x&&!C?b+=Ep(b,n.indent,u(x)):g&&i&&i(),b}function lte(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const t_="<<",zf={identify:t=>t===t_||typeof t=="symbol"&&t.description===t_,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new jt(Symbol(t_)),{addToJSMap:ute}),stringify:()=>t_},TRe=(t,e)=>(zf.identify(e)||vr(e)&&(!e.type||e.type===jt.PLAIN)&&zf.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===zf.tag&&n.default);function ute(t,e,n){if(n=t&&Md(n)?n.resolve(t.doc):n,W1(n))for(const r of n.items)L6(t,e,r);else if(Array.isArray(n))for(const r of n)L6(t,e,r);else L6(t,e,n)}function L6(t,e,n){const r=t&&Md(n)?n.resolve(t.doc):n;if(!Z1(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,t,Map);for(const[s,o]of i)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function cte(t,e,{key:n,value:r}){if(si(n)&&n.addToJSMap)n.addToJSMap(t,e,r);else if(TRe(t,n))ute(t,e,r);else{const i=yl(n,"",t);if(e instanceof Map)e.set(i,yl(r,i,t));else if(e instanceof Set)e.add(i);else{const s=DRe(n,i,t),o=yl(r,s,t);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o}}return e}function DRe(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(si(t)&&n?.doc){const r=ate(n.doc,{});r.anchors=new Set;for(const s of n.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=t.toString(r);if(!n.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),lte(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}function c9(t,e,n){const r=tO(t,void 0,n),i=tO(e,void 0,n);return new Ls(r,i)}class Ls{constructor(e,n=null){Object.defineProperty(this,Cl,{value:Yee}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return si(n)&&(n=n.clone(e)),si(r)&&(r=r.clone(e)),new Ls(n,r)}toJSON(e,n){const r=n?.mapAsMap?new Map:{};return cte(n,r,this)}toString(e,n,r){return e?.doc?ERe(this,e,n,r):JSON.stringify(this)}}function fte(t,e,n){return(e.inFlow??t.flow?RRe:PRe)(t,e,n)}function PRe({comment:t,items:e},n,{blockItemPrefix:r,flowChars:i,itemIndent:s,onChompKeep:o,onComment:a}){const{indent:l,options:{commentString:u}}=n,c=Object.assign({},n,{indent:s,type:null});let f=!1;const h=[];for(let m=0;m<e.length;++m){const g=e[m];let b=null;if(si(g))!f&&g.spaceBefore&&h.push(""),O3(n,h,g.commentBefore,f),g.comment&&(b=g.comment);else if(Vr(g)){const O=si(g.key)?g.key:null;O&&(!f&&O.spaceBefore&&h.push(""),O3(n,h,O.commentBefore,f))}f=!1;let v=l1(g,c,()=>b=null,()=>f=!0);b&&(v+=Ep(v,s,u(b))),f&&b&&(f=!1),h.push(r+v)}let d;if(h.length===0)d=i.start+i.end;else{d=h[0];for(let m=1;m<h.length;++m){const g=h[m];d+=g?`
${l}${g}`:`
`}}return t?(d+=`
`+Tf(u(t),l),a&&a()):f&&o&&o(),d}function RRe({items:t},e,{flowChars:n,itemIndent:r}){const{indent:i,indentStep:s,flowCollectionPadding:o,options:{commentString:a}}=e;r+=s;const l=Object.assign({},e,{indent:r,inFlow:!0,type:null});let u=!1,c=0;const f=[];for(let m=0;m<t.length;++m){const g=t[m];let b=null;if(si(g))g.spaceBefore&&f.push(""),O3(e,f,g.commentBefore,!1),g.comment&&(b=g.comment);else if(Vr(g)){const O=si(g.key)?g.key:null;O&&(O.spaceBefore&&f.push(""),O3(e,f,O.commentBefore,!1),O.comment&&(u=!0));const x=si(g.value)?g.value:null;x?(x.comment&&(b=x.comment),x.commentBefore&&(u=!0)):g.value==null&&O?.comment&&(b=O.comment)}b&&(u=!0);let v=l1(g,l,()=>b=null);m<t.length-1&&(v+=","),b&&(v+=Ep(v,r,a(b))),!u&&(f.length>c||v.includes(`
`))&&(u=!0),f.push(v),c=f.length}const{start:h,end:d}=n;if(f.length===0)return h+d;if(!u){const m=f.reduce((g,b)=>g+b.length+2,2);u=e.options.lineWidth>0&&m>e.options.lineWidth}if(u){let m=h;for(const g of f)m+=g?`
${s}${i}${g}`:`
`;return`${m}
${i}${d}`}else return`${h}${o}${f.join(" ")}${o}${d}`}function O3({indent:t,options:{commentString:e}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const s=Tf(e(r),t);n.push(s.trimStart())}}function Tp(t,e){const n=vr(e)?e.value:e;for(const r of t)if(Vr(r)&&(r.key===e||r.key===n||vr(r.key)&&r.key.value===n))return r}class Aa extends ste{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(nd,e),this.items=[]}static from(e,n,r){const{keepUndefined:i,replacer:s}=r,o=new this(e),a=(l,u)=>{if(typeof s=="function")u=s.call(n,l,u);else if(Array.isArray(s)&&!s.includes(l))return;(u!==void 0||i)&&o.items.push(c9(l,u,r))};if(n instanceof Map)for(const[l,u]of n)a(l,u);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){let r;Vr(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new Ls(e,e?.value):r=new Ls(e.key,e.value);const i=Tp(this.items,r.key),s=this.schema?.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);vr(i.value)&&ite(r.value)?i.value.value=r.value:i.value=r.value}else if(s){const o=this.items.findIndex(a=>s(r,a)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(e){const n=Tp(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const i=Tp(this.items,e)?.value;return(!n&&vr(i)?i.value:i)??void 0}has(e){return!!Tp(this.items,e)}set(e,n){this.add(new Ls(e,n),!0)}toJSON(e,n,r){const i=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(i);for(const s of this.items)cte(n,i,s);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(const i of this.items)if(!Vr(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),fte(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}const Y1={collection:"map",default:!0,nodeClass:Aa,tag:"tag:yaml.org,2002:map",resolve(t,e){return Z1(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>Aa.from(t,e,n)};class Ad extends ste{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(X1,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=n_(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=n_(e);if(typeof r!="number")return;const i=this.items[r];return!n&&vr(i)?i.value:i}has(e){const n=n_(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=n_(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[r];vr(i)&&ite(n)?i.value=n:this.items[r]=n}toJSON(e,n){const r=[];n?.onCreate&&n.onCreate(r);let i=0;for(const s of this.items)r.push(yl(s,String(i++),n));return r}toString(e,n,r){return e?fte(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:i}=r,s=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof i=="function"){const l=n instanceof Set?a:String(o++);a=i.call(n,l,a)}s.items.push(tO(a,void 0,r))}}return s}}function n_(t){let e=vr(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const G1={collection:"seq",default:!0,nodeClass:Ad,tag:"tag:yaml.org,2002:seq",resolve(t,e){return W1(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>Ad.from(t,e,n)},o4={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),e2(t,e,n,r)}},a4={identify:t=>t==null,createNode:()=>new jt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new jt(null),stringify:({source:t},e)=>typeof t=="string"&&a4.test.test(t)?t:e.options.nullStr},f9={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new jt(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&f9.test.test(t)){const r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};function wu({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=e-(s.length-o-1);for(;a-- >0;)s+="0"}return s}const hte={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:wu},dte={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():wu(t)}},pte={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new jt(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:wu},l4=t=>typeof t=="bigint"||Number.isInteger(t),h9=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function mte(t,e,n){const{value:r}=t;return l4(r)&&r>=0?n+r.toString(e):wu(t)}const gte={identify:t=>l4(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>h9(t,2,8,n),stringify:t=>mte(t,8,"0o")},yte={identify:l4,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>h9(t,0,10,n),stringify:wu},bte={identify:t=>l4(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>h9(t,2,16,n),stringify:t=>mte(t,16,"0x")},$Re=[Y1,G1,o4,a4,f9,gte,yte,bte,hte,dte,pte];function LB(t){return typeof t=="bigint"||Number.isInteger(t)}const r_=({value:t})=>JSON.stringify(t),IRe=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:r_},{identify:t=>t==null,createNode:()=>new jt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:r_},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:r_},{identify:LB,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>LB(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:r_}],FRe={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},MRe=[Y1,G1].concat(IRe,FRe),d9={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,i,s){if(!n)return"";const o=n;let a;if(typeof btoa=="function"){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=jt.BLOCK_LITERAL),e!==jt.QUOTE_DOUBLE){const l=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(a.length/l),c=new Array(u);for(let f=0,h=0;f<u;++f,h+=l)c[f]=a.substr(h,l);a=c.join(e===jt.BLOCK_LITERAL?`
`:" ")}return e2({comment:t,type:e,value:a},r,i,s)}};function vte(t,e){if(W1(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!Vr(r)){if(Z1(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");const i=r.items[0]||new Ls(new jt(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const s=i.value??i.key;s.comment=s.comment?`${r.comment}
${s.comment}`:r.comment}r=i}t.items[n]=Vr(r)?r:new Ls(r)}}else e("Expected a sequence for this tag");return t}function Ote(t,e,n){const{replacer:r}=n,i=new Ad(t);i.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof r=="function"&&(o=r.call(e,String(s++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const u=Object.keys(o);if(u.length===1)a=u[0],l=o[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=o;i.items.push(c9(a,l,n))}return i}const p9={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:vte,createNode:Ote};class mg extends Ad{constructor(){super(),this.add=Aa.prototype.add.bind(this),this.delete=Aa.prototype.delete.bind(this),this.get=Aa.prototype.get.bind(this),this.has=Aa.prototype.has.bind(this),this.set=Aa.prototype.set.bind(this),this.tag=mg.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n?.onCreate&&n.onCreate(r);for(const i of this.items){let s,o;if(Vr(i)?(s=yl(i.key,"",n),o=yl(i.value,s,n)):s=yl(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}static from(e,n,r){const i=Ote(e,n,r),s=new this;return s.items=i.items,s}}mg.tag="tag:yaml.org,2002:omap";const m9={collection:"seq",identify:t=>t instanceof Map,nodeClass:mg,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=vte(t,e),r=[];for(const{key:i}of n.items)vr(i)&&(r.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new mg,n)},createNode:(t,e,n)=>mg.from(t,e,n)};function wte({value:t,source:e},n){return e&&(t?_te:xte).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const _te={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new jt(!0),stringify:wte},xte={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new jt(!1),stringify:wte},LRe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:wu},NRe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():wu(t)}},QRe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new jt(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:wu},t2=t=>typeof t=="bigint"||Number.isInteger(t);function u4(t,e,n,{intAsBigInt:r}){const i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return i==="-"?BigInt(-1)*o:o}const s=parseInt(t,n);return i==="-"?-1*s:s}function g9(t,e,n){const{value:r}=t;if(t2(r)){const i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return wu(t)}const BRe={identify:t2,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>u4(t,2,2,n),stringify:t=>g9(t,2,"0b")},zRe={identify:t2,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>u4(t,1,8,n),stringify:t=>g9(t,8,"0")},URe={identify:t2,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>u4(t,0,10,n),stringify:wu},jRe={identify:t2,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>u4(t,2,16,n),stringify:t=>g9(t,16,"0x")};class gg extends Aa{constructor(e){super(e),this.tag=gg.tag}add(e){let n;Vr(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Ls(e.key,null):n=new Ls(e,null),Tp(this.items,n.key)||this.items.push(n)}get(e,n){const r=Tp(this.items,e);return!n&&Vr(r)?vr(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=Tp(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ls(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:i}=r,s=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof i=="function"&&(o=i.call(n,o,o)),s.items.push(c9(o,null,r));return s}}gg.tag="tag:yaml.org,2002:set";const y9={collection:"map",identify:t=>t instanceof Set,nodeClass:gg,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>gg.from(t,e,n),resolve(t,e){if(Z1(t)){if(t.hasAllNullValues(!0))return Object.assign(new gg,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function b9(t,e){const n=t[0],r=n==="-"||n==="+"?t.substring(1):t,i=o=>e?BigInt(o):Number(o),s=r.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return n==="-"?i(-1)*s:s}function Ste(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return wu(t);let r="";e<0&&(r="-",e*=n(-1));const i=n(60),s=[e%i];return e<60?s.unshift(0):(e=(e-s[0])/i,s.unshift(e%i),e>=60&&(e=(e-s[0])/i,s.unshift(e))),r+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const kte={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>b9(t,n),stringify:Ste},Cte={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>b9(t,!1),stringify:Ste},c4={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(c4.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,s,o,a]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let u=Date.UTC(n,r-1,i,s||0,o||0,a||0,l);const c=e[8];if(c&&c!=="Z"){let f=b9(c,!1);Math.abs(f)<30&&(f*=60),u-=6e4*f}return new Date(u)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},NB=[Y1,G1,o4,a4,_te,xte,BRe,zRe,URe,jRe,LRe,NRe,QRe,d9,zf,m9,p9,y9,kte,Cte,c4],QB=new Map([["core",$Re],["failsafe",[Y1,G1,o4]],["json",MRe],["yaml11",NB],["yaml-1.1",NB]]),BB={binary:d9,bool:f9,float:pte,floatExp:dte,floatNaN:hte,floatTime:Cte,int:yte,intHex:bte,intOct:gte,intTime:kte,map:Y1,merge:zf,null:a4,omap:m9,pairs:p9,seq:G1,set:y9,timestamp:c4},qRe={"tag:yaml.org,2002:binary":d9,"tag:yaml.org,2002:merge":zf,"tag:yaml.org,2002:omap":m9,"tag:yaml.org,2002:pairs":p9,"tag:yaml.org,2002:set":y9,"tag:yaml.org,2002:timestamp":c4};function N6(t,e,n){const r=QB.get(e);if(r&&!t)return n&&!r.includes(zf)?r.concat(zf):r.slice();let i=r;if(!i)if(Array.isArray(t))i=[];else{const s=Array.from(QB.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(const s of t)i=i.concat(s);else typeof t=="function"&&(i=t(i.slice()));return n&&(i=i.concat(zf)),i.reduce((s,o)=>{const a=typeof o=="string"?BB[o]:o;if(!a){const l=JSON.stringify(o),u=Object.keys(BB).map(c=>JSON.stringify(c)).join(", ");throw new Error(`Unknown custom tag ${l}; use one of ${u}`)}return s.includes(a)||s.push(a),s},[])}const VRe=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class f4{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:i,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?N6(e,"compat"):e?N6(null,e):null,this.name=typeof s=="string"&&s||"core",this.knownTags=i?qRe:{},this.tags=N6(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,nd,{value:Y1}),Object.defineProperty(this,kc,{value:o4}),Object.defineProperty(this,X1,{value:G1}),this.sortMapEntries=typeof o=="function"?o:o===!0?VRe:null}clone(){const e=Object.create(f4.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function XRe(t,e){const n=[];let r=e.directives===!0;if(e.directives!==!1&&t.directives){const l=t.directives.toString(t);l?(n.push(l),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const i=ate(t,e),{commentString:s}=i.options;if(t.commentBefore){n.length!==1&&n.unshift("");const l=s(t.commentBefore);n.unshift(Tf(l,""))}let o=!1,a=null;if(t.contents){if(si(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const c=s(t.contents.commentBefore);n.push(Tf(c,""))}i.forceBlockIndent=!!t.comment,a=t.contents.comment}const l=a?void 0:()=>o=!0;let u=l1(t.contents,i,()=>a=null,l);a&&(u+=Ep(u,"",s(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(l1(t.contents,i));if(t.directives?.docEnd)if(t.comment){const l=s(t.comment);l.includes(`
`)?(n.push("..."),n.push(Tf(l,""))):n.push(`... ${l}`)}else n.push("...");else{let l=t.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(Tf(s(l),"")))}return n.join(`
`)+`
`}class H1{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Cl,{value:H8});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=s;let{version:o}=s;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new to({version:o}),this.setSchema(o,r),this.contents=e===void 0?null:this.createNode(e,i,r)}clone(){const e=Object.create(H1.prototype,{[Cl]:{value:H8}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=si(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){fm(this.contents)&&this.contents.add(e)}addIn(e,n){fm(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const r=nte(this);e.anchor=!n||r.has(n)?rte(n||"a",r):n}return new n4(e.anchor)}createNode(e,n,r){let i;if(typeof n=="function")e=n.call({"":e},"",e),i=n;else if(Array.isArray(n)){const b=O=>typeof O=="number"||O instanceof String||O instanceof Number,v=n.filter(b).map(String);v.length>0&&(n=n.concat(v)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:u,tag:c}=r??{},{onAnchor:f,setAnchors:h,sourceObjects:d}=ORe(this,o||"a"),m={aliasDuplicateObjects:s??!0,keepUndefined:l??!1,onAnchor:f,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:d},g=tO(e,c,m);return a&&ri(g)&&(g.flow=!0),h(),g}createPair(e,n,r={}){const i=this.createNode(e,null,r),s=this.createNode(n,null,r);return new Ls(i,s)}delete(e){return fm(this.contents)?this.contents.delete(e):!1}deleteIn(e){return _b(e)?this.contents==null?!1:(this.contents=null,!0):fm(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return ri(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return _b(e)?!n&&vr(this.contents)?this.contents.value:this.contents:ri(this.contents)?this.contents.getIn(e,n):void 0}has(e){return ri(this.contents)?this.contents.has(e):!1}hasIn(e){return _b(e)?this.contents!==void 0:ri(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=v3(this.schema,[e],n):fm(this.contents)&&this.contents.set(e,n)}setIn(e,n){_b(e)?this.contents=n:this.contents==null?this.contents=v3(this.schema,Array.from(e),n):fm(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new to({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new to({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new f4(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:s,reviver:o}={}){const a={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=yl(this.contents,n??"",a);if(typeof s=="function")for(const{count:u,res:c}of a.anchors.values())s(c,u);return typeof o=="function"?Bm(o,{"":l},"",l):l}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return XRe(this,e)}}function fm(t){if(ri(t))return!0;throw new Error("Expected a YAML collection as document contents")}class v9 extends Error{constructor(e,n,r,i){super(),this.name=e,this.code=r,this.message=i,this.pos=n}}class Dp extends v9{constructor(e,n,r){super("YAMLParseError",e,n,r)}}class Ate extends v9{constructor(e,n,r){super("YAMLWarning",e,n,r)}}const w3=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let s=i-1,o=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){const a=Math.min(s-39,o.length-79);o="â¦"+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+"â¦"),r>1&&/^ *$/.test(o.substring(0,s))){let a=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`â¦
`),o=a+o}if(/[^ ]/.test(o)){let a=1;const l=n.linePos[1];l&&l.line===r&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-s)));const u=" ".repeat(s)+"^".repeat(a);n.message+=`:

${o}
${u}
`}};function u1(t,{flow:e,indicator:n,next:r,offset:i,onError:s,parentIndent:o,startOnNewline:a}){let l=!1,u=a,c=a,f="",h="",d=!1,m=!1,g=null,b=null,v=null,O=null,x=null,C=null,S=null;for(const T of t)switch(m&&(T.type!=="space"&&T.type!=="newline"&&T.type!=="comma"&&s(T.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),g&&(u&&T.type!=="comment"&&T.type!=="newline"&&s(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),g=null),T.type){case"space":!e&&(n!=="doc-start"||r?.type!=="flow-collection")&&T.source.includes("	")&&(g=T),c=!0;break;case"comment":{c||s(T,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const D=T.source.substring(1)||" ";f?f+=h+D:f=D,h="",u=!1;break}case"newline":u?f?f+=T.source:(!C||n!=="seq-item-ind")&&(l=!0):h+=T.source,u=!0,d=!0,(b||v)&&(O=T),c=!0;break;case"anchor":b&&s(T,"MULTIPLE_ANCHORS","A node can have at most one anchor"),T.source.endsWith(":")&&s(T.offset+T.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),b=T,S??(S=T.offset),u=!1,c=!1,m=!0;break;case"tag":{v&&s(T,"MULTIPLE_TAGS","A node can have at most one tag"),v=T,S??(S=T.offset),u=!1,c=!1,m=!0;break}case n:(b||v)&&s(T,"BAD_PROP_ORDER",`Anchors and tags must be after the ${T.source} indicator`),C&&s(T,"UNEXPECTED_TOKEN",`Unexpected ${T.source} in ${e??"collection"}`),C=T,u=n==="seq-item-ind"||n==="explicit-key-ind",c=!1;break;case"comma":if(e){x&&s(T,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),x=T,u=!1,c=!1;break}default:s(T,"UNEXPECTED_TOKEN",`Unexpected ${T.type} token`),u=!1,c=!1}const A=t[t.length-1],k=A?A.offset+A.source.length:i;return m&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),g&&(u&&g.indent<=o||r?.type==="block-map"||r?.type==="block-seq")&&s(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:x,found:C,spaceBefore:l,comment:f,hasNewline:d,anchor:b,tag:v,newlineAfterProp:O,end:k,start:S??k}}function nO(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(nO(e.key)||nO(e.value))return!0}return!1;default:return!0}}function tT(t,e,n){if(e?.type==="flow-collection"){const r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&nO(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Ete(t,e,n){const{uniqueKeys:r}=t.options;if(r===!1)return!1;const i=typeof r=="function"?r:(s,o)=>s===o||vr(s)&&vr(o)&&s.value===o.value;return e.some(s=>i(s.key,n))}const zB="All mapping items must start at the same column";function ZRe({composeNode:t,composeEmptyNode:e},n,r,i,s){const o=s?.nodeClass??Aa,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let l=r.offset,u=null;for(const c of r.items){const{start:f,key:h,sep:d,value:m}=c,g=u1(f,{indicator:"explicit-key-ind",next:h??d?.[0],offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0}),b=!g.found;if(b){if(h&&(h.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==r.indent&&i(l,"BAD_INDENT",zB)),!g.anchor&&!g.tag&&!d){u=g.end,g.comment&&(a.comment?a.comment+=`
`+g.comment:a.comment=g.comment);continue}(g.newlineAfterProp||nO(h))&&i(h??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else g.found?.indent!==r.indent&&i(l,"BAD_INDENT",zB);n.atKey=!0;const v=g.end,O=h?t(n,h,g,i):e(n,v,f,null,g,i);n.schema.compat&&tT(r.indent,h,i),n.atKey=!1,Ete(n,a.items,O)&&i(v,"DUPLICATE_KEY","Map keys must be unique");const x=u1(d??[],{indicator:"map-value-ind",next:m,offset:O.range[2],onError:i,parentIndent:r.indent,startOnNewline:!h||h.type==="block-scalar"});if(l=x.end,x.found){b&&(m?.type==="block-map"&&!x.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&g.start<x.found.offset-1024&&i(O.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const C=m?t(n,m,x,i):e(n,l,d,null,x,i);n.schema.compat&&tT(r.indent,m,i),l=C.range[2];const S=new Ls(O,C);n.options.keepSourceTokens&&(S.srcToken=c),a.items.push(S)}else{b&&i(O.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),x.comment&&(O.comment?O.comment+=`
`+x.comment:O.comment=x.comment);const C=new Ls(O);n.options.keepSourceTokens&&(C.srcToken=c),a.items.push(C)}}return u&&u<l&&i(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,l,u??l],a}function WRe({composeNode:t,composeEmptyNode:e},n,r,i,s){const o=s?.nodeClass??Ad,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let l=r.offset,u=null;for(const{start:c,value:f}of r.items){const h=u1(c,{indicator:"seq-item-ind",next:f,offset:l,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||f)f&&f.type==="block-seq"?i(h.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{u=h.end,h.comment&&(a.comment=h.comment);continue}const d=f?t(n,f,h,i):e(n,h.end,c,null,h,i);n.schema.compat&&tT(r.indent,f,i),l=d.range[2],a.items.push(d)}return a.range=[r.offset,l,u??l],a}function n2(t,e,n,r){let i="";if(t){let s=!1,o="";for(const a of t){const{source:l,type:u}=a;switch(u){case"space":s=!0;break;case"comment":{n&&!s&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const c=l.substring(1)||" ";i?i+=o+c:i=c,o="";break}case"newline":i&&(o+=l),s=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}e+=l.length}}return{comment:i,offset:e}}const Q6="Block collections are not allowed within flow collections",B6=t=>t&&(t.type==="block-map"||t.type==="block-seq");function YRe({composeNode:t,composeEmptyNode:e},n,r,i,s){const o=r.start.source==="{",a=o?"flow map":"flow sequence",l=s?.nodeClass??(o?Aa:Ad),u=new l(n.schema);u.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let f=r.offset+r.start.source.length;for(let b=0;b<r.items.length;++b){const v=r.items[b],{start:O,key:x,sep:C,value:S}=v,A=u1(O,{flow:a,indicator:"explicit-key-ind",next:x??C?.[0],offset:f,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!A.found){if(!A.anchor&&!A.tag&&!C&&!S){b===0&&A.comma?i(A.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):b<r.items.length-1&&i(A.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),A.comment&&(u.comment?u.comment+=`
`+A.comment:u.comment=A.comment),f=A.end;continue}!o&&n.options.strict&&nO(x)&&i(x,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(b===0)A.comma&&i(A.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(A.comma||i(A.start,"MISSING_CHAR",`Missing , between ${a} items`),A.comment){let k="";e:for(const T of O)switch(T.type){case"comma":case"space":break;case"comment":k=T.source.substring(1);break e;default:break e}if(k){let T=u.items[u.items.length-1];Vr(T)&&(T=T.value??T.key),T.comment?T.comment+=`
`+k:T.comment=k,A.comment=A.comment.substring(k.length+1)}}if(!o&&!C&&!A.found){const k=S?t(n,S,A,i):e(n,A.end,C,null,A,i);u.items.push(k),f=k.range[2],B6(S)&&i(k.range,"BLOCK_IN_FLOW",Q6)}else{n.atKey=!0;const k=A.end,T=x?t(n,x,A,i):e(n,k,O,null,A,i);B6(x)&&i(T.range,"BLOCK_IN_FLOW",Q6),n.atKey=!1;const D=u1(C??[],{flow:a,indicator:"map-value-ind",next:S,offset:T.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(D.found){if(!o&&!A.found&&n.options.strict){if(C)for(const L of C){if(L===D.found)break;if(L.type==="newline"){i(L,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}A.start<D.found.offset-1024&&i(D.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else S&&("source"in S&&S.source&&S.source[0]===":"?i(S,"MISSING_CHAR",`Missing space after : in ${a}`):i(D.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const $=S?t(n,S,D,i):D.found?e(n,D.end,C,null,D,i):null;$?B6(S)&&i($.range,"BLOCK_IN_FLOW",Q6):D.comment&&(T.comment?T.comment+=`
`+D.comment:T.comment=D.comment);const M=new Ls(T,$);if(n.options.keepSourceTokens&&(M.srcToken=v),o){const L=u;Ete(n,L.items,T)&&i(k,"DUPLICATE_KEY","Map keys must be unique"),L.items.push(M)}else{const L=new Aa(n.schema);L.flow=!0,L.items.push(M);const R=($??T).range;L.range=[T.range[0],R[1],R[2]],u.items.push(L)}f=$?$.range[2]:D.end}}const h=o?"}":"]",[d,...m]=r.end;let g=f;if(d&&d.source===h)g=d.offset+d.source.length;else{const b=a[0].toUpperCase()+a.substring(1),v=c?`${b} must end with a ${h}`:`${b} in block collection must be sufficiently indented and end with a ${h}`;i(f,c?"MISSING_CHAR":"BAD_INDENT",v),d&&d.source.length!==1&&m.unshift(d)}if(m.length>0){const b=n2(m,g,n.options.strict,i);b.comment&&(u.comment?u.comment+=`
`+b.comment:u.comment=b.comment),u.range=[r.offset,g,b.offset]}else u.range=[r.offset,g,g];return u}function z6(t,e,n,r,i,s){const o=n.type==="block-map"?ZRe(t,e,n,r,s):n.type==="block-seq"?WRe(t,e,n,r,s):YRe(t,e,n,r,s),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function GRe(t,e,n,r,i){const s=r.tag,o=s?e.directives.tagName(s.source,h=>i(s,"TAG_RESOLVE_FAILED",h)):null;if(n.type==="block-seq"){const{anchor:h,newlineAfterProp:d}=r,m=h&&s?h.offset>s.offset?h:s:h??s;m&&(!d||d.offset<m.offset)&&i(m,"MISSING_CHAR","Missing newline after block sequence props")}const a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===Aa.tagName&&a==="map"||o===Ad.tagName&&a==="seq")return z6(t,e,n,i,o);let l=e.schema.tags.find(h=>h.tag===o&&h.collection===a);if(!l){const h=e.schema.knownTags[o];if(h&&h.collection===a)e.schema.tags.push(Object.assign({},h,{default:!1})),l=h;else return h?i(s,"BAD_COLLECTION_TYPE",`${h.tag} used for ${a} collection, but expects ${h.collection??"scalar"}`,!0):i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),z6(t,e,n,i,o)}const u=z6(t,e,n,i,o,l),c=l.resolve?.(u,h=>i(s,"TAG_RESOLVE_FAILED",h),e.options)??u,f=si(c)?c:new jt(c);return f.range=u.range,f.tag=o,l?.format&&(f.format=l.format),f}function Tte(t,e,n){const r=e.offset,i=HRe(e,t.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const s=i.mode===">"?jt.BLOCK_FOLDED:jt.BLOCK_LITERAL,o=e.source?KRe(e.source):[];let a=o.length;for(let g=o.length-1;g>=0;--g){const b=o[g][1];if(b===""||b==="\r")a=g;else break}if(a===0){const g=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let b=r+i.length;return e.source&&(b+=e.source.length),{value:g,type:s,comment:i.comment,range:[r,b,b]}}let l=e.indent+i.indent,u=e.offset+i.length,c=0;for(let g=0;g<a;++g){const[b,v]=o[g];if(v===""||v==="\r")i.indent===0&&b.length>l&&(l=b.length);else{b.length<l&&n(u+b.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=b.length),c=g,l===0&&!t.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=b.length+v.length+1}for(let g=o.length-1;g>=a;--g)o[g][0].length>l&&(a=g+1);let f="",h="",d=!1;for(let g=0;g<c;++g)f+=o[g][0].slice(l)+`
`;for(let g=c;g<a;++g){let[b,v]=o[g];u+=b.length+v.length+1;const O=v[v.length-1]==="\r";if(O&&(v=v.slice(0,-1)),v&&b.length<l){const C=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(u-v.length-(O?2:1),"BAD_INDENT",C),b=""}s===jt.BLOCK_LITERAL?(f+=h+b.slice(l)+v,h=`
`):b.length>l||v[0]==="	"?(h===" "?h=`
`:!d&&h===`
`&&(h=`

`),f+=h+b.slice(l)+v,h=`
`,d=!0):v===""?h===`
`?f+=`
`:h=`
`:(f+=h+v,h=" ",d=!1)}switch(i.chomp){case"-":break;case"+":for(let g=a;g<o.length;++g)f+=`
`+o[g][0].slice(l);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}const m=r+i.length+e.source.length;return{value:f,type:s,comment:i.comment,range:[r,m,m]}}function HRe({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=e[0],s=i[0];let o=0,a="",l=-1;for(let h=1;h<i.length;++h){const d=i[h];if(!a&&(d==="-"||d==="+"))a=d;else{const m=Number(d);!o&&m?o=m:l===-1&&(l=t+h)}}l!==-1&&r(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,c="",f=i.length;for(let h=1;h<e.length;++h){const d=e[h];switch(d.type){case"space":u=!0;case"newline":f+=d.source.length;break;case"comment":n&&!u&&r(d,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=d.source.length,c=d.source.substring(1);break;case"error":r(d,"UNEXPECTED_TOKEN",d.message),f+=d.source.length;break;default:{const m=`Unexpected token in block scalar header: ${d.type}`;r(d,"UNEXPECTED_TOKEN",m);const g=d.source;g&&typeof g=="string"&&(f+=g.length)}}}return{mode:s,indent:o,chomp:a,comment:c,length:f}}function KRe(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),s=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)s.push([e[o],e[o+1]]);return s}function Dte(t,e,n){const{offset:r,type:i,source:s,end:o}=t;let a,l;const u=(h,d,m)=>n(r+h,d,m);switch(i){case"scalar":a=jt.PLAIN,l=JRe(s,u);break;case"single-quoted-scalar":a=jt.QUOTE_SINGLE,l=e$e(s,u);break;case"double-quoted-scalar":a=jt.QUOTE_DOUBLE,l=t$e(s,u);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+s.length,r+s.length]}}const c=r+s.length,f=n2(o,c,e,n);return{value:l,type:a,comment:f.comment,range:[r,c,f.offset]}}function JRe(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Pte(t)}function e$e(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),Pte(t.slice(1,-1)).replace(/''/g,"'")}function Pte(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let i=r[1],s=" ",o=e.lastIndex;for(n.lastIndex=o;r=n.exec(t);)r[1]===""?s===`
`?i+=s:s=`
`:(i+=s+r[1],s=" "),o=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(t),i+s+(r?.[1]??"")}function t$e(t,e){let n="";for(let r=1;r<t.length-1;++r){const i=t[r];if(!(i==="\r"&&t[r+1]===`
`))if(i===`
`){const{fold:s,offset:o}=n$e(t,r);n+=s,r=o}else if(i==="\\"){let s=t[++r];const o=r$e[s];if(o)n+=o;else if(s===`
`)for(s=t[r+1];s===" "||s==="	";)s=t[++r+1];else if(s==="\r"&&t[r+1]===`
`)for(s=t[++r+1];s===" "||s==="	";)s=t[++r+1];else if(s==="x"||s==="u"||s==="U"){const a={x:2,u:4,U:8}[s];n+=i$e(t,r+1,a,e),r+=a}else{const a=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){const s=r;let o=t[r+1];for(;o===" "||o==="	";)o=t[++r+1];o!==`
`&&!(o==="\r"&&t[r+2]===`
`)&&(n+=r>s?t.slice(s,r+1):i)}else n+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function n$e(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}const r$e={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"Â",_:"Â ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function i$e(t,e,n,r){const i=t.substr(e,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const a=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}function Rte(t,e,n,r){const{value:i,type:s,comment:o,range:a}=e.type==="block-scalar"?Tte(t,e,r):Dte(e,t.options.strict,r),l=n?t.directives.tagName(n.source,f=>r(n,"TAG_RESOLVE_FAILED",f)):null;let u;t.options.stringKeys&&t.atKey?u=t.schema[kc]:l?u=s$e(t.schema,i,l,n,r):e.type==="scalar"?u=o$e(t,i,e,r):u=t.schema[kc];let c;try{const f=u.resolve(i,h=>r(n??e,"TAG_RESOLVE_FAILED",h),t.options);c=vr(f)?f:new jt(f)}catch(f){const h=f instanceof Error?f.message:String(f);r(n??e,"TAG_RESOLVE_FAILED",h),c=new jt(i)}return c.range=a,c.source=i,s&&(c.type=s),l&&(c.tag=l),u.format&&(c.format=u.format),o&&(c.comment=o),c}function s$e(t,e,n,r,i){if(n==="!")return t[kc];const s=[];for(const a of t.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)s.push(a);else return a;for(const a of s)if(a.test?.test(e))return a;const o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[kc])}function o$e({atKey:t,directives:e,schema:n},r,i,s){const o=n.tags.find(a=>(a.default===!0||t&&a.default==="key")&&a.test?.test(r))||n[kc];if(n.compat){const a=n.compat.find(l=>l.default&&l.test?.test(r))??n[kc];if(o.tag!==a.tag){const l=e.tagString(o.tag),u=e.tagString(a.tag),c=`Value may be parsed as either ${l} or ${u}`;s(i,"TAG_RESOLVE_FAILED",c,!0)}}return o}function a$e(t,e,n){if(e){n??(n=e.length);for(let r=n-1;r>=0;--r){let i=e[r];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++r];i?.type==="space";)t+=i.source.length,i=e[++r];break}}return t}const l$e={composeNode:$te,composeEmptyNode:O9};function $te(t,e,n,r){const i=t.atKey,{spaceBefore:s,comment:o,anchor:a,tag:l}=n;let u,c=!0;switch(e.type){case"alias":u=u$e(t,e,r),(a||l)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=Rte(t,e,l,r),a&&(u.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=GRe(l$e,t,e,n,r),a&&(u.anchor=a.source.substring(1));break;default:{const f=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",f),u=O9(t,e.offset,void 0,null,n,r),c=!1}}return a&&u.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&t.options.stringKeys&&(!vr(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(l??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(u.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?u.comment=o:u.commentBefore=o),t.options.keepSourceTokens&&c&&(u.srcToken=e),u}function O9(t,e,n,r,{spaceBefore:i,comment:s,anchor:o,tag:a,end:l},u){const c={type:"scalar",offset:a$e(e,n,r),indent:-1,source:""},f=Rte(t,c,a,u);return o&&(f.anchor=o.source.substring(1),f.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(f.spaceBefore=!0),s&&(f.comment=s,f.range[2]=l),f}function u$e({options:t},{offset:e,source:n,end:r},i){const s=new n4(n.substring(1));s.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=e+n.length,a=n2(r,o,t.strict,i);return s.range=[e,o,a.offset],a.comment&&(s.comment=a.comment),s}function c$e(t,e,{offset:n,start:r,value:i,end:s},o){const a=Object.assign({_directives:e},t),l=new H1(void 0,a),u={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},c=u1(r,{indicator:"doc-start",next:i??s?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});c.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!c.hasNewline&&o(c.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?$te(u,i,c,o):O9(u,c.end,r,null,c,o);const f=l.contents.range[2],h=n2(s,f,!1,o);return h.comment&&(l.comment=h.comment),l.range=[n,f,h.offset],l}function Uy(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function UB(t){let e="",n=!1,r=!1;for(let i=0;i<t.length;++i){const s=t[i];switch(s[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(s.substring(1)||" "),n=!0,r=!1;break;case"%":t[i+1]?.[0]!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class w9{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,s)=>{const o=Uy(n);s?this.warnings.push(new Ate(o,r,i)):this.errors.push(new Dp(o,r,i))},this.directives=new to({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:r,afterEmptyLine:i}=UB(this.prelude);if(r){const s=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(i||e.directives.docStart||!s)e.commentBefore=r;else if(ri(s)&&!s.flow&&s.items.length>0){let o=s.items[0];Vr(o)&&(o=o.key);const a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}else{const o=s.commentBefore;s.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:UB(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(const i of e)yield*this.next(i);yield*this.end(n,r)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,r,i)=>{const s=Uy(e);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",r,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=c$e(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new Dp(Uy(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Dp(Uy(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=n2(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Dp(Uy(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const r=Object.assign({_directives:this.directives},this.options),i=new H1(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}function f$e(t,e=!0,n){if(t){const r=(i,s,o)=>{const a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(a,s,o);else throw new Dp([a,a+1],s,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Dte(t,e,r);case"block-scalar":return Tte({options:{strict:e}},t,r)}}return null}function h$e(t,e){const{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:s=-1,type:o="PLAIN"}=e,a=e2({type:o,value:t},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=e.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(a[0]){case"|":case">":{const u=a.indexOf(`
`),c=a.substring(0,u),f=a.substring(u+1)+`
`,h=[{type:"block-scalar-header",offset:s,indent:r,source:c}];return Ite(h,l)||h.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:s,indent:r,props:h,source:f}}case'"':return{type:"double-quoted-scalar",offset:s,indent:r,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:s,indent:r,source:a,end:l};default:return{type:"scalar",offset:s,indent:r,source:a,end:l}}}function d$e(t,e,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:s=!1,type:o}=n,a="indent"in t?t.indent:null;if(r&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{const u=t.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}const l=e2({type:o,value:e},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":p$e(t,l);break;case'"':U6(t,l,"double-quoted-scalar");break;case"'":U6(t,l,"single-quoted-scalar");break;default:U6(t,l,"scalar")}}function p$e(t,e){const n=e.indexOf(`
`),r=e.substring(0,n),i=e.substring(n+1)+`
`;if(t.type==="block-scalar"){const s=t.props[0];if(s.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s.source=r,t.source=i}else{const{offset:s}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:s,indent:o,source:r}];Ite(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(const l of Object.keys(t))l!=="type"&&l!=="offset"&&delete t[l];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:i})}}function Ite(t,e){if(e)for(const n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function U6(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{const r=t.props.slice(1);let i=e.length;t.props[0].type==="block-scalar-header"&&(i-=t.props[0].source.length);for(const s of r)s.offset+=i;delete t.props,Object.assign(t,{type:n,source:e,end:r});break}case"block-map":case"block-seq":{const i={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[i]});break}default:{const r="indent"in t?t.indent:-1,i="end"in t&&Array.isArray(t.end)?t.end.filter(s=>s.type==="space"||s.type==="comment"||s.type==="newline"):[];for(const s of Object.keys(t))s!=="type"&&s!=="offset"&&delete t[s];Object.assign(t,{type:n,indent:r,source:e,end:i})}}}const m$e=t=>"type"in t?_3(t):px(t);function _3(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=_3(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=px(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=px(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=px(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function px({start:t,key:e,sep:n,value:r}){let i="";for(const s of t)i+=s.source;if(e&&(i+=_3(e)),n)for(const s of n)i+=s.source;return r&&(i+=_3(r)),i}const nT=Symbol("break visit"),g$e=Symbol("skip children"),Fte=Symbol("remove item");function u0(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),Mte(Object.freeze([]),t,e)}u0.BREAK=nT;u0.SKIP=g$e;u0.REMOVE=Fte;u0.itemAtPath=(t,e)=>{let n=t;for(const[r,i]of e){const s=n?.[r];if(s&&"items"in s)n=s.items[i];else return}return n};u0.parentCollection=(t,e)=>{const n=u0.itemAtPath(t,e.slice(0,-1)),r=e[e.length-1][0],i=n?.[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function Mte(t,e,n){let r=n(e,t);if(typeof r=="symbol")return r;for(const i of["key","value"]){const s=e[i];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){const a=Mte(Object.freeze(t.concat([[i,o]])),s.items[o],n);if(typeof a=="number")o=a-1;else{if(a===nT)return nT;a===Fte&&(s.items.splice(o,1),o-=1)}}typeof r=="function"&&i==="key"&&(r=r(e,t))}}return typeof r=="function"?r(e,t):r}const h4="\uFEFF",d4="",p4="",rO="",y$e=t=>!!t&&"items"in t,b$e=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function v$e(t){switch(t){case h4:return"<BOM>";case d4:return"<DOC>";case p4:return"<FLOW_END>";case rO:return"<SCALAR>";default:return JSON.stringify(t)}}function Lte(t){switch(t){case h4:return"byte-order-mark";case d4:return"doc-mode";case p4:return"flow-error-end";case rO:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const O$e=Object.freeze(Object.defineProperty({__proto__:null,BOM:h4,DOCUMENT:d4,FLOW_END:p4,SCALAR:rO,createScalarToken:h$e,isCollection:y$e,isScalar:b$e,prettyToken:v$e,resolveAsScalar:f$e,setScalarValue:d$e,stringify:m$e,tokenType:Lte,visit:u0},Symbol.toStringTag,{value:"Module"}));function Nl(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const jB=new Set("0123456789ABCDEFabcdef"),w$e=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),i_=new Set(",[]{}"),_$e=new Set(` ,[]{}
\r	`),j6=t=>!t||_$e.has(t);class Nte{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){const i=this.buffer[r+e+1];if(i===`
`||!i&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&Nl(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===h4&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){const s=e[r-1];if(s===" "||s==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){const s=e[n-1];if(s===" "||s==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield d4,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&Nl(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Nl(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Nl(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(j6),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&Nl(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield p4,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(j6),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||Nl(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const s=this.continueScalar(i+1);if(s===-1)break;i=r.indexOf(`
`,s)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Nl(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let s=this.pos;r=this.buffer[s];++s)switch(r){case" ":n+=1;break;case`
`:e=s,n=0;break;case"\r":{const o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const s=this.continueScalar(e+1);if(s===-1)break;e=this.buffer.indexOf(`
`,s)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let i=e+1;for(r=this.buffer[i];r===" ";)r=this.buffer[++i];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++i];e=i-1}else if(!this.blockScalarKeep)do{let s=e-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);const a=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+n>a)e=s;else break}while(!0);return yield rO,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const s=this.buffer[r+1];if(Nl(s)||e&&i_.has(s))break;n=r}else if(Nl(i)){let s=this.buffer[r+1];if(i==="\r"&&(s===`
`?(r+=1,i=`
`,s=this.buffer[r+1]):n=r),s==="#"||e&&i_.has(s))break;if(i===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(e&&i_.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield rO,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(j6))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(Nl(n)||e&&i_.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Nl(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(w$e.has(n))n=this.buffer[++e];else if(n==="%"&&jB.has(this.buffer[e+1])&&jB.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Qte{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){const s=n+r>>1;this.lineStarts[s]<e?n=s+1:r=s}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const i=this.lineStarts[n-1];return{line:n,col:e-i+1}}}}function Fh(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function qB(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Bte(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function s_(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function hm(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function VB(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!Fh(e.start,"explicit-key-ind")&&!Fh(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Bte(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class _9{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Nte,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=Lte(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&VB(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&qB(i.start)===-1&&(n.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{qB(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=s_(this.peek(2)),r=hm(n);let i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const r=!this.onKeyLine&&this.indent===e.indent,i=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let s=[];if(i&&n.sep&&!n.value){const o=[];for(let a=0;a<n.sep.length;++a){const l=n.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(s=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(s.push(this.sourceToken),e.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Fh(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(Bte(n.key)&&!Fh(n.sep,"newline")){const o=hm(n.start),a=n.key,l=n.sep;l.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else s.length>0?n.sep=n.sep.concat(s,this.sourceToken):n.sep.push(this.sourceToken);else if(Fh(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=hm(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:s,key:null,sep:[this.sourceToken]}):Fh(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);i||n.value?(e.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(e);if(o){if(o.type==="block-seq"){if(!n.explicitKey&&n.sep&&!Fh(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&e.items.push({start:s});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||Fh(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=s_(r),s=hm(i);VB(e);const o=e.end.splice(1,e.end.length);o.push(this.sourceToken);const a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=s_(e),r=hm(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=s_(e),r=hm(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function zte(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new Qte||null,prettyErrors:e}}function x$e(t,e={}){const{lineCounter:n,prettyErrors:r}=zte(e),i=new _9(n?.addNewLine),s=new w9(e),o=Array.from(s.compose(i.parse(t)));if(r&&n)for(const a of o)a.errors.forEach(w3(t,n)),a.warnings.forEach(w3(t,n));return o.length>0?o:Object.assign([],{empty:!0},s.streamInfo())}function Ute(t,e={}){const{lineCounter:n,prettyErrors:r}=zte(e),i=new _9(n?.addNewLine),s=new w9(e);let o=null;for(const a of s.compose(i.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new Dp(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(w3(t,n)),o.warnings.forEach(w3(t,n))),o}function S$e(t,e,n){let r;typeof e=="function"?r=e:n===void 0&&e&&typeof e=="object"&&(n=e);const i=Ute(t,n);if(!i)return null;if(i.warnings.forEach(s=>lte(i.options.logLevel,s)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function k$e(t,e,n){let r=null;if(typeof e=="function"||Array.isArray(e)?r=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(t===void 0){const{keepUndefined:i}=n??e??{};if(!i)return}return T0(t)&&!r?t.toString(n):new H1(t,r,n).toString(n)}const C$e=Object.freeze(Object.defineProperty({__proto__:null,Alias:n4,CST:O$e,Composer:w9,Document:H1,Lexer:Nte,LineCounter:Qte,Pair:Ls,Parser:_9,Scalar:jt,Schema:f4,YAMLError:v9,YAMLMap:Aa,YAMLParseError:Dp,YAMLSeq:Ad,YAMLWarning:Ate,isAlias:Md,isCollection:ri,isDocument:T0,isMap:Z1,isNode:si,isPair:Vr,isScalar:vr,isSeq:W1,parse:S$e,parseAllDocuments:x$e,parseDocument:Ute,stringify:k$e,visit:D0,visitAsync:t4},Symbol.toStringTag,{value:"Module"}));function A$e(t){let e=null;try{e=C$e.parse(t.doc.toString())}catch{}const n=L7(t,mr.YAML);return{data:e,pointers:n}}const jte=t=>{switch(t){case mr.JSON:return aRe;case mr.JSON5:return Wee;case mr.YAML:return A$e}};function E$e(t){return Object.entries(t)}function xb(t,e){if(typeof t=="string"||typeof t!="object"||t===null)return t;if(Array.isArray(t))return t.map(i=>xb(i,e));if(t instanceof Map){const i=new Map;for(const[s,o]of t){const a=s,l=xb(o,e);i.set(a,l)}return i}if(t instanceof Set){const i=new Set;for(const s of t){const o=xb(s,e);i.add(o)}return i}const n={};function r(i,s,o,a){o===i&&a===s?n[o]=xb(s,e):n[o]=a}for(const[i,s]of E$e(t)){const o=e(i,s);if(o.length===2&&typeof o[0]=="string")r(i,s,o[0],o[1]);else for(const[a,l]of o)r(i,s,a,l)}return n}var T$e=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class D$e{constructor(){this.completions=new Map,this.reservedKeys=new Set}reserve(e){this.reservedKeys.add(e)}add(e){this.reservedKeys.has(e.label)||this.completions.set(e.label,e)}}function Wb(t){return!(!t||js(t)||t.name==="UnknownPropertyError"||t.type==="undefined")}class qte{constructor(e){var n,r,i;this.opts=e,this.originalSchema=null,this.schema=null,this.laxSchema=null,this.mode=mr.JSON,this.mode=(n=e.mode)!==null&&n!==void 0?n:mr.JSON,this.parser=(i=(r=this.opts)===null||r===void 0?void 0:r.jsonParser)!==null&&i!==void 0?i:jte(this.mode)}doComplete(e){var n;const r=N7(e.state);if(this.originalSchema!==r&&(this.schema=(n=lp(r,r))!==null&&n!==void 0?n:r,this.laxSchema=R$e(this.schema)),!this.schema||!this.laxSchema)return[];Kr.log("xxx","trying with original schema");const i=this.doCompleteForSchema(e,this.schema);return i.options.length!==0?i:(Kr.log("xxx","no completions with original schema, trying with lax schema"),this.doCompleteForSchema(e,this.laxSchema))}doCompleteForSchema(e,n){var r,i;const s={from:e.pos,to:e.pos,options:[],filter:!1},o=e.state.doc.sliceString(0);let a=d6(e.state,e.pos),l=e.state.sliceDoc(a.from,e.pos).replace(/^(["'])/,"");if(Kr.log("xxx","node",a,"prefix",l,"ctx",e),!(sx(a,this.mode)||qw(a,this.mode))&&!e.explicit)return Kr.log("xxx","no completions for non-word/primitive",a),s;const u=Tm(e.state.doc,a),c=Tm(e.state.doc,a,!1);if(a&&(sx(a,this.mode)||qw(a,this.mode)))s.from=a.from,s.to=a.to;else{const m=e.matchBefore(/[A-Za-z0-9._]*/),g=e.pos-u.length;Kr.log("xxx","overwriteStart after",g,"ctx.pos",e.pos,"word",m,"currentWord",u,"=>",o[g-1],"..",o[g],"..",o),s.from=a.name===Xt.INVALID?(r=m?.from)!==null&&r!==void 0?r:e.pos:g,s.to=e.pos}const f=new D$e;let h=!0;const d=bQ(a,Xt.PROPERTY_NAME,this.mode);if(d&&(Kr.log("xxx","closestPropertyNameNode",d,"node",a),a=d),qw(a,this.mode)){Kr.log("xxx","isPropertyNameNode",a);const m=a.parent;if(m){const g=yQ(m,this.mode);h=!g||g.name===Xt.INVALID&&g.from-g.to===0||(g.parent?XO(g.parent).length<=1:!1),Kr.log("xxx","addValue",h,yQ(m,this.mode),a),a=(i=bQ(m,Xt.OBJECT,this.mode))!==null&&i!==void 0?i:null}}if(Kr.log("xxx",a,u,e,"node at pos",d6(e.state,e.pos)),a&&[Xt.OBJECT,Xt.JSON_TEXT].includes(Si(a.name,this.mode))&&(qw(d6(e.state,e.pos),this.mode)||d)){if(a.from===e.pos)return Kr.log("xxx","no completions for just before opening brace"),s;this.getPropertyCompletions(n,e,a,f,h,c)}else{const m={},g=this.getValueCompletions(n,e,m,f);Kr.log("xxx","getValueCompletions res",g)}return s.options=Array.from(f.completions.values()).filter(m=>ix(m.label).startsWith(l)),Kr.log("xxx","result",s,"prefix",l,"collector.completions",f.completions,"reservedKeys",f.reservedKeys),s}applySnippetCompletion(e){return Js(typeof e.apply!="string"?e.label:e.apply,e)}getPropertyCompletions(e,n,r,i,s,o){const a=B6e(r,Xt.PROPERTY,this.mode);Kr.log("xxx","getPropertyCompletions",r,n,a),a.forEach(u=>{const c=Tm(n.state.doc,R8(u,Xt.PROPERTY_NAME,this.mode));i.reserve(ix(c))});const l=this.getSchemas(e,n);Kr.log("xxx","propertyCompletion schemas",l),l.forEach(u=>{if(typeof u!="object")return;const c=u.properties;c&&Object.entries(c).forEach(([h,d])=>{var m,g;if(typeof d=="object"){const b=(m=d.description)!==null&&m!==void 0?m:"",v=(g=d.type)!==null&&g!==void 0?g:"",O=Array.isArray(v)?v.toString():v,x={label:h,apply:this.getInsertTextForProperty(h,s,o,e,d),type:"property",detail:O,info:()=>zu("div",{inner:pg(b)})};i.add(this.applySnippetCompletion(x))}});const f=u.propertyNames;if(typeof f=="object"&&(f.enum&&f.enum.forEach(h=>{const d=h?.toString();if(d){const m={label:d,apply:this.getInsertTextForProperty(d,s,o,e),type:"property"};i.add(this.applySnippetCompletion(m))}}),f.const)){const h=f.const.toString(),d={label:h,apply:this.getInsertTextForProperty(h,s,o,e),type:"property"};i.add(this.applySnippetCompletion(d))}})}getInsertTextForProperty(e,n,r,i,s){s=s&&lp(s,i);let o=this.getInsertTextForPropertyName(e,r);if(!n)return o;o+=": ";let a,l=0;if(typeof s=="object"){if(typeof s.default<"u")a||(a=this.getInsertTextForGuessedValue(s.default,"")),l++;else if(s.enum&&(!a&&s.enum.length===1&&(a=this.getInsertTextForGuessedValue(s.enum[0],"")),l+=s.enum.length),typeof s.const<"u"&&(a||(a=this.getInsertTextForGuessedValue(s.const,"")),l++),Array.isArray(s.examples)&&s.examples.length&&(a||(a=this.getInsertTextForGuessedValue(s.examples[0],"")),l+=s.examples.length),a===void 0&&l===0){let u=Array.isArray(s.type)?s.type[0]:s.type;switch(u||(s.properties?u="object":s.items&&(u="array")),u){case"boolean":a="#{}";break;case"string":a=this.getInsertTextForString("");break;case"object":switch(this.mode){case mr.JSON5:a="{#{}}";break;case mr.YAML:a="#{}";break;default:a="{#{}}";break}break;case"array":a="[#{}]";break;case"number":case"integer":a="#{0}";break;case"null":a="#{null}";break;default:a="#{}";break}}}return(!a||l>1)&&(Kr.log("xxx","value",a,"nValueProposals",l,s),a="#{}"),o+a}getInsertTextForPropertyName(e,n){switch(this.mode){case mr.JSON5:case mr.YAML:return n.startsWith('"')?`"${e}"`:n.startsWith("'")?`'${e}'`:e;default:return`"${e}"`}}getInsertTextForString(e,n="#"){switch(this.mode){case mr.JSON5:return`'${n}{${e}}'`;case mr.YAML:return`${n}{${e}}`;default:return`"${n}{${e}}"`}}getInsertTextForGuessedValue(e,n=""){switch(typeof e){case"object":return e===null?"${null}"+n:this.getInsertTextForValue(e,n);case"string":{let r=JSON.stringify(e);return r=r.substr(1,r.length-2),r=this.getInsertTextForPlainText(r),this.getInsertTextForString(r,"$")+n}case"number":case"boolean":return"${"+JSON.stringify(e)+"}"+n}return this.getInsertTextForValue(e,n)}getInsertTextForPlainText(e){return e.replace(/[\\$}]/g,"\\$&")}getInsertTextForValue(e,n){const r=JSON.stringify(e,null,"	");return r==="{}"?"{#{}}"+n:r==="[]"?"[#{}]"+n:this.getInsertTextForPlainText(r+n)}getValueCompletions(e,n,r,i){let s=Hn(n.state).resolveInner(n.pos,-1),o=null,a;if(Kr.log("xxx","getValueCompletions",s,n),s&&sx(s,this.mode)&&(o=s,s=s.parent),!s){this.addSchemaValueCompletions(e,r,i);return}if(Si(s.name,this.mode)===Xt.PROPERTY){const u=R8(s,Xt.PROPERTY_NAME,this.mode);u&&(a=Tm(n.state.doc,u),s=s.parent)}if(Kr.log("xxx","node",s,"parentKey",a),s&&(a!==void 0||Si(s.name,this.mode)===Xt.ARRAY)){const u=this.getSchemas(e,n);for(const c of u){if(typeof c!="object")return;if(Si(s.name,this.mode)===Xt.ARRAY&&c.items){let f=i;if(c.uniqueItems&&(f=Object.assign(Object.assign({},f),{add(h){f.completions.has(h.label)||i.add(h)},reserve(h){i.reserve(h)}})),Array.isArray(c.items)){let h=0;if(o){const m=YK(s,o,this.mode);m>=0&&(h=m)}const d=c.items[h];d&&this.addSchemaValueCompletions(d,r,f)}else this.addSchemaValueCompletions(c.items,r,f)}if((c.type==null||c.type!=="object")&&this.addSchemaValueCompletions(c,r,i),a!==void 0){let f=!1;if(c.properties){const h=c.properties[a];h&&(f=!0,this.addSchemaValueCompletions(h,r,i))}if(c.patternProperties&&!f)for(const h of Object.keys(c.patternProperties)){const d=this.extendedRegExp(h);if(d?.test(a)){f=!0;const m=c.patternProperties[h];m&&this.addSchemaValueCompletions(m,r,i)}}if(c.additionalProperties&&!f){const h=c.additionalProperties;this.addSchemaValueCompletions(h,r,i)}}r.boolean&&(this.addBooleanValueCompletion(!0,i),this.addBooleanValueCompletion(!1,i)),r.null&&this.addNullValueCompletion(i)}}return{valuePrefix:o?Tm(n.state.doc,o,!0,!1):""}}addSchemaValueCompletions(e,n,r){typeof e=="object"&&(this.addEnumValueCompletions(e,r),this.addDefaultValueCompletions(e,r),this.collectTypes(e,n),Array.isArray(e.allOf)&&e.allOf.forEach(i=>this.addSchemaValueCompletions(i,n,r)),Array.isArray(e.anyOf)&&e.anyOf.forEach(i=>this.addSchemaValueCompletions(i,n,r)),Array.isArray(e.oneOf)&&e.oneOf.forEach(i=>this.addSchemaValueCompletions(i,n,r)))}addDefaultValueCompletions(e,n,r=0){let i=!1;if(typeof e.default<"u"){let s=e.type,o=e.default;for(let l=r;l>0;l--)o=[o],s="array";const a=Object.assign(Object.assign({type:s?.toString()},this.getAppliedValue(o)),{detail:"Default value"});n.add(a),i=!0}Array.isArray(e.examples)&&e.examples.forEach(s=>{let o=e.type,a=s;for(let l=r;l>0;l--)a=[a],o="array";n.add(Object.assign({type:o?.toString()},this.getAppliedValue(a))),i=!0}),!i&&typeof e.items=="object"&&!Array.isArray(e.items)&&r<5&&this.addDefaultValueCompletions(e.items,n,r+1)}addEnumValueCompletions(e,n){var r,i;if(typeof e.const<"u"&&n.add(Object.assign(Object.assign({type:(r=e.type)===null||r===void 0?void 0:r.toString()},this.getAppliedValue(e.const)),{info:e.description})),Array.isArray(e.enum))for(let s=0,o=e.enum.length;s<o;s++){const a=e.enum[s];n.add(Object.assign(Object.assign({type:(i=e.type)===null||i===void 0?void 0:i.toString()},this.getAppliedValue(a)),{info:e.description}))}}addBooleanValueCompletion(e,n){n.add({type:"boolean",label:e?"true":"false"})}addNullValueCompletion(e){e.add({type:"null",label:"null"})}collectTypes(e,n){if(Array.isArray(e.enum)||typeof e.const<"u")return;const r=e.type;Array.isArray(r)?r.forEach(i=>n[i]=!0):r&&(n[r]=!0)}getSchemas(e,n){var r,i,s;const{data:o}=this.parser(n.state),a=new MJ(e);let l=ZK(n.state,n.pos,-1,this.mode);if(l===""&&(l=void 0),l!=null&&l.endsWith("/")){l=l.substring(0,l.length-1);const m=XB(e,o,l);if(m!=null)return[m]}let u=l?.replace(/\/[^/]*$/,"");u===""&&(u=void 0);const c=XB(e,o,u),f=l?.split("/").pop(),h=f==null||f in((r=c?.properties)!==null&&r!==void 0?r:{});let d=a.getSchema({pointer:l,data:o??void 0});return!h&&d?.type==="null"&&this.mode==="yaml"&&(d=void 0),Kr.log("xxxx","draft.getSchema",d,"data",o,"pointer",l,"pointerPointsToKnownProperty",h),js(d)&&(d=(i=d.data)===null||i===void 0?void 0:i.schema),!Wb(d)&&c?[c]:(Wb(d)||(d=a.getSchema({pointer:u}),l=u),Kr.log("xxx","pointer..",JSON.stringify(l)),!Wb(d)&&(!l||l==="/")&&(d=(s=lp(e,e))!==null&&s!==void 0?s:e),Kr.log("xxx","subSchema..",d),d?Array.isArray(d.allOf)?[d,...d.allOf.map(m=>lp(m,e))]:Array.isArray(d.oneOf)?[d,...d.oneOf.map(m=>lp(m,e))]:Array.isArray(d.anyOf)?[d,...d.anyOf.map(m=>lp(m,e))]:[d]:[])}getAppliedValue(e){const n=ix(JSON.stringify(e));switch(this.mode){case mr.JSON5:return{label:n,apply:N6e(JSON.stringify(e))};case mr.YAML:return{label:n,apply:n};default:return{label:n,apply:JSON.stringify(e)}}}getValueFromLabel(e){return JSON.parse(e)}extendedRegExp(e){let n="";e.startsWith("(?i)")&&(e=e.substring(4),n="i");try{return new RegExp(e,n+"u")}catch{try{return new RegExp(e,n)}catch{return}}}}function P$e(t={}){const e=new qte(t);return function(r){return e.doComplete(r)}}function R$e(t){return xb(t,(e,n)=>e==="additionalProperties"&&n===!1?[]:e==="required"&&Array.isArray(n)?[]:e==="unevaluatedProperties"&&n===!1?[]:e==="unevaluatedItems"&&n===!1?[]:[e,n])}function XB(t,e,n){const r=new MJ(t),i=r.getSchema({pointer:n,data:e??void 0});if(!Wb(i))return;const s=Vte(r,i),o={};for(let h of s){let d=I$e(n,h);const m=r.getSchema({pointer:d,data:e??void 0});Wb(m)&&Object.assign(o,{[h]:m})}if(s.length===0||Object.keys(o).length===0)return;const a=i,{allOf:l,anyOf:u,oneOf:c}=a,f=T$e(a,["allOf","anyOf","oneOf"]);return Object.assign(Object.assign({},f),{properties:o})}function Vte(t,e){if(e=lp(e,t.rootSchema),typeof e!="object"||e==null)return[];const n=[];function r(i){const s=Vte(t,i);n.push(...s)}if(typeof e.properties=="object"&&e.properties!=null&&n.push(...Object.keys(e.properties)),typeof e.then=="object"&&e.then!=null&&r(e.then),Array.isArray(e.allOf))for(const i of e.allOf)r(i);if(Array.isArray(e.anyOf))for(const i of e.anyOf)r(i);if(Array.isArray(e.oneOf))for(const i of e.oneOf)r(i);return n}function lp(t,e){if(typeof t=="object"&&t.$ref){const n=$$e(e,t.$ref);if(typeof n=="object"){const r=Object.assign(Object.assign({},t),n);return Reflect.deleteProperty(r,"$ref"),r}}return t}function $$e(t,e){const n=e.split("/");let r=t;return n.forEach(i=>{if(i){if(i==="#"){r=t;return}typeof r=="object"&&(r=r[i])}}),r}function I$e(t,e){return t===void 0?`/${e}`:`${t}/${e}`}const iO=(t,e)=>{const n=t.length>2;let r=t.map((i,s)=>{const o="`"+(e?e(i):i)+"`";return s===t.length-1?"or "+o:o});return n?r.join(", "):r.join(" ")},F$e=t=>{var e,n,r;return!((e=t?.data)===null||e===void 0)&&e.pointer&&((n=t?.data)===null||n===void 0?void 0:n.pointer)!=="#"?t.data.pointer.slice(1):!((r=t?.data)===null||r===void 0)&&r.property?`/${t.data.property}`:""},Xte=t=>t.startState.field(JS)!==t.state.field(JS);function M$e(t){const e=new Zte(t);return n=>e.doValidation(n)}const L$e=["NoAdditionalPropertiesError","RequiredPropertyError","InvalidPropertyNameError","ForbiddenPropertyError","UndefinedValueError"];class Zte{constructor(e){var n,r,i,s;this.options=e,this.schema=null,this.mode=mr.JSON,this.rewriteError=o=>{var a,l,u,c,f;const h=o?.data,d=h?.errors;return o.code==="one-of-error"&&d?.length?`Expected one of ${iO(d,g=>g.data.expected)}`:o.code==="type-error"?`Expected \`${!((a=o?.data)===null||a===void 0)&&a.expected&&Array.isArray((l=o?.data)===null||l===void 0?void 0:l.expected)?iO((u=o?.data)===null||u===void 0?void 0:u.expected):(c=o?.data)===null||c===void 0?void 0:c.expected}\` but received \`${(f=o?.data)===null||f===void 0?void 0:f.received}\``:o.message.replaceAll("in `#` ","").replaceAll("at `#`","").replaceAll("/",".").replaceAll("#.","")},this.mode=(r=(n=this.options)===null||n===void 0?void 0:n.mode)!==null&&r!==void 0?r:mr.JSON,this.parser=(s=(i=this.options)===null||i===void 0?void 0:i.jsonParser)!==null&&s!==void 0?s:jte(this.mode)}get schemaTitle(){var e,n,r;return(r=(n=(e=this.schema)===null||e===void 0?void 0:e.getSchema())===null||n===void 0?void 0:n.title)!==null&&r!==void 0?r:"json-schema"}doValidation(e){const n=N7(e.state);if(!n)return[];if(this.schema=new IJ(n),!this.schema)return[];const r=e.state.doc.toString();if(!r?.length)return[];const i=this.parser(e.state);if(i.data==null)return[];let s=[];try{s=this.schema.validate(i.data)}catch{}return Kr.log("xxx","validation errors",s,i.data),s.length?s.reduce((o,a)=>{const l=()=>{const f=this.rewriteError(a);o.push({from:0,to:0,message:f,severity:"error",source:this.schemaTitle,renderMessage:()=>{const h=zu("div",{});return h.innerHTML=pg(f),h}})},u=F$e(a),c=i.pointers.get(u);if(a.name==="MaxPropertiesError"||a.name==="MinPropertiesError"||u==="")l();else if(c){const f=L$e.includes(a.name),h=this.rewriteError(a),d=f?c.keyFrom:c.valueFrom,m=f?c.keyTo:c.valueTo;m!==void 0&&d!==void 0&&o.push({from:d,to:m,message:h,renderMessage:()=>{const g=zu("div",{});return g.innerHTML=pg(h),g},severity:"error",source:this.schemaTitle})}else l();return o},[]):[]}}function N$e(t){const e=new Wte(t);return async function(r,i,s){return e.doHover(r,i,s)}}function ZB(t){if(t.type)return t.$ref?`${t.$ref} (${t.type})`:t.type;if(t.$ref)return`${t.$ref}`}function q6(t,e,n){return`${e}: ${iO(t[e].map(r=>{try{const{data:i}=n.resolveRef({data:r,pointer:r.$ref});return ZB(i||r)}catch{return r.type}}))}`}class Wte{constructor(e){var n,r;this.opts=e,this.schema=null,this.mode=mr.JSON,this.opts=Object.assign({parser:JSON.parse},this.opts),this.mode=(r=(n=this.opts)===null||n===void 0?void 0:n.mode)!==null&&r!==void 0?r:mr.JSON}getDataForCursor(e,n,r){const i=N7(e.state);if(!i)return null;this.schema=new IJ(i);const s=ZK(e.state,n,r,this.mode);let o;try{o=this.opts.parser(e.state.doc.toString())}catch{}if(!s)return null;let a=this.schema.getSchema({pointer:s,data:o,withSchemaWarning:!0});return js(a)&&(a?.data.schema.$ref?a=this.schema.resolveRef(a):a=a?.data.schema),{schema:a,pointer:s}}formatMessage(e){const{message:n,typeInfo:r}=e;return n?zu("div",{class:"cm6-json-schema-hover"},[zu("div",{class:"cm6-json-schema-hover--description",inner:pg(n,!1)}),zu("div",{class:"cm6-json-schema-hover--code-wrapper"},[zu("div",{class:"cm6-json-schema-hover--code",inner:pg(r,!1)})])]):zu("div",{class:"cm6-json-schema-hover"},[zu("div",{class:"cm6-json-schema-hover--code-wrapper"},[zu("code",{class:"cm6-json-schema-hover--code",inner:pg(r,!1)})])])}getHoverTexts(e,n){let r="",i=null;const{schema:s}=e;return s.oneOf&&(r=q6(s,"oneOf",n)),s.anyOf&&(r=q6(s,"anyOf",n)),s.allOf&&(r=q6(s,"allOf",n)),s.type&&(r=Array.isArray(s.type)?iO(s.type):s.type),s.$ref&&(r=` Reference: ${s.$ref}`),s.enum&&(r=`\`enum\`: ${iO(s.enum)}`),s.format&&(r+=`\`format\`: ${s.format}`),s.pattern&&(r+=`\`pattern\`: ${s.pattern}`),s.description&&(i=s.description),{message:i,typeInfo:r}}async doHover(e,n,r){var i,s,o,a;const l=n,u=n;try{const c=this.getDataForCursor(e,n,r);if(Kr.log("cursorData",c),!c?.schema)return null;const h=((s=(i=this.opts)===null||i===void 0?void 0:i.getHoverTexts)!==null&&s!==void 0?s:this.getHoverTexts)(c,this.schema),m=((a=(o=this.opts)===null||o===void 0?void 0:o.formatHover)!==null&&a!==void 0?a:this.formatMessage)(h);return{pos:l,end:u,arrow:!0,above:!0,create:g=>({dom:m})}}catch(c){return Kr.log(c),null}}}function Q$e(t){return[sRe(),NS(rRe()),NS(M$e(),{needsRefresh:Xte}),qee.data.of({autocomplete:P$e()}),GP(N$e()),GK(t)]}function B$e(t){const e=new Zte(Object.assign({jsonParser:Wee,mode:mr.JSON5},t));return n=>e.doValidation(n)}function z$e(t){const e=new Wte(Object.assign(Object.assign({},t),{parser:Xg.parse,mode:mr.JSON5}));return async function(r,i,s){return e.doHover(r,i,s)}}function U$e(t={}){const e=new qte(Object.assign(Object.assign({},t),{mode:mr.JSON5}));return function(r){return e.doComplete(r)}}function j$e(t){return[mRe(),NS(gRe()),NS(B$e(),{needsRefresh:Xte}),Xee.data.of({autocomplete:U$e()}),GP(z$e()),GK(t)]}const q$e="#e5c07b",WB="#e06c75",V$e="#56b6c2",X$e="#ffffff",mx="#abb2bf",rT="#7d8799",Z$e="#61afef",W$e="#98c379",YB="#d19a66",Y$e="#c678dd",G$e="#21252b",GB="#2c313a",HB="#282c34",V6="#353a42",H$e="#3E4451",KB="#528bff",K$e=Xe.theme({"&":{color:mx,backgroundColor:HB},".cm-content":{caretColor:KB},".cm-cursor, .cm-dropCursor":{borderLeftColor:KB},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:H$e},".cm-panels":{backgroundColor:G$e,color:mx},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:HB,color:rT,border:"none"},".cm-activeLineGutter":{backgroundColor:GB},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:V6},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:V6,borderBottomColor:V6},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:GB,color:mx}}},{dark:!0}),J$e=UO.define([{tag:Q.keyword,color:Y$e},{tag:[Q.name,Q.deleted,Q.character,Q.propertyName,Q.macroName],color:WB},{tag:[Q.function(Q.variableName),Q.labelName],color:Z$e},{tag:[Q.color,Q.constant(Q.name),Q.standard(Q.name)],color:YB},{tag:[Q.definition(Q.name),Q.separator],color:mx},{tag:[Q.typeName,Q.className,Q.number,Q.changed,Q.annotation,Q.modifier,Q.self,Q.namespace],color:q$e},{tag:[Q.operator,Q.operatorKeyword,Q.url,Q.escape,Q.regexp,Q.link,Q.special(Q.string)],color:V$e},{tag:[Q.meta,Q.comment],color:rT},{tag:Q.strong,fontWeight:"bold"},{tag:Q.emphasis,fontStyle:"italic"},{tag:Q.strikethrough,textDecoration:"line-through"},{tag:Q.link,color:rT,textDecoration:"underline"},{tag:Q.heading,fontWeight:"bold",color:WB},{tag:[Q.atom,Q.bool,Q.special(Q.variableName)],color:YB},{tag:[Q.processingInstruction,Q.string,Q.inserted],color:W$e},{tag:Q.invalid,color:X$e}]),eIe=[K$e,yG(J$e)];function tIe(){return[L_e(),B_e(),i_e(),zSe(),Zwe(),Kwe(),Dn.allowMultipleSelections.of(!0),Oxe(),yG(Sxe,{fallback:!0}),Pxe(),vSe(),DSe(),g_e(),v_e(),c_e(),fke(),Xe.domEventHandlers({keydown(t){t.stopPropagation()}}),NO.of([...xSe,...q3e,...Dke,...GSe,...RG,...K3e,{key:"Tab",preventDefault:!0,run:z3e},{key:"Shift-Tab",preventDefault:!0,run:fH}])]}function nIe(t,e){const n=Xe.theme({"&.cm-editor":{height:"100%"},".cm-scroller":{overflow:"auto"},"&.cm-focused":{outline:"none"},".cm-content":{fontFamily:"var(--font-mono)"},".cm-tooltip":{boxShadow:e.colorScheme=="light"?"0 2px 5px rgba(0,0,0,0.2)":"0 2px 5px rgba(0,0,0,1)"},".cm6-json-schema-hover":{padding:"6px"}}),r=Xe.updateListener.of(o=>{if(o.docChanged&&e.onChange){const a=o.state.doc.toString();e.onChange(a)}}),i=[];if(e.language=="json"&&i.push(Q$e(e.json?.schema??{})),e.language=="json5"&&i.push(j$e(e.json?.schema??{})),e.language=="sql"){let o=e.sql?.table,a=e.sql?.columns;i.push(P6e({dialect:R6e,upperCaseKeywords:!0,schema:o!=null?{[o]:a?.map(l=>({label:l.name,detail:l.type,type:"property"}))??[]}:void 0,defaultTable:o}))}e.language=="markdown"&&i.push(zCe());const s=new Xe({doc:e.initialText,parent:t,extensions:[...tIe(),O_e({parent:t.parentElement}),...i,...e.colorScheme=="dark"?[eIe]:[],n,r]});return{set:o=>{s.dispatch({changes:{from:0,to:s.state.doc.length,insert:o}})},destroy:()=>{s.destroy()}}}var rIe=ce('<div><div class="rounded-md overflow-hidden border border-slate-200 dark:border-slate-600 w-full h-full"></div></div>');function m4(t,e){Ke(e,!0);let n=Xr(e,["$$slots","$$events","$$legacy"]),r;su(()=>{let o=vs(()=>e.value)??"",a=nIe(r,{language:e.language??"plain",colorScheme:e.colorScheme??"light",initialText:vs(()=>e.value)??"",json:e.json,sql:e.sql,onChange:l=>{o=l,e.onChange?.(l)}});return or(()=>{e.value!=null&&e.value!=o&&(o=n.value,a.set(o))}),()=>{a.destroy()}});var i=rIe(),s=H(i);Ol(s,o=>r=o,()=>r),W(i),Pe(()=>ur(i,1,xO(e.class??""))),j(t,i),Je()}const iIe={$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/BuiltinChartSpec",definitions:{BuiltinChartSpec:{anyOf:[{$ref:"#/definitions/ChartSpec"},{$ref:"#/definitions/ContentViewerSpec"},{$ref:"#/definitions/CountPlotSpec"},{$ref:"#/definitions/EmbeddingSpec"},{$ref:"#/definitions/MarkdownSpec"},{$ref:"#/definitions/PredicatesSpec"},{$ref:"#/definitions/TableSpec"}]},ChartSpec:{type:"object",properties:{title:{type:"string",description:"The title of the chart"},plotSize:{type:"object",properties:{width:{type:"number",description:"Width of the plot area"},height:{type:"number",description:"Height of the plot area"},aspectRatio:{type:"number",description:"Aspect ratio of the plot area"}},additionalProperties:!1,description:"Size configuration"},layers:{type:"array",items:{$ref:"#/definitions/Layer"},description:"Layers"},scale:{type:"object",properties:{x:{$ref:"#/definitions/Scale"},y:{$ref:"#/definitions/Scale"},color:{$ref:"#/definitions/Scale"},size:{$ref:"#/definitions/Scale"}},additionalProperties:!1,description:"Scale configurations"},axis:{type:"object",properties:{x:{$ref:"#/definitions/Axis"},y:{$ref:"#/definitions/Axis"}},additionalProperties:!1,description:"Axis configurations"},selection:{type:"object",additionalProperties:{$ref:"#/definitions/Selection"},description:"Selections"},widgets:{type:"array",items:{$ref:"#/definitions/Widget"},description:"Widgets"}},additionalProperties:!1,description:"Chart specification"},Layer:{type:"object",properties:{from:{$ref:"#/definitions/SQLTable",description:"Data source, default to the main data table"},filter:{type:"string",const:"$filter",description:"Filter the data. Use $filter to refer to the shared filter"},mark:{$ref:"#/definitions/MarkType",description:"Mark type"},style:{$ref:"#/definitions/MarkStyle",description:"Mark style"},zIndex:{type:"number",description:"z-index indicating the layer order. Default value is 0. If the value is negative, the mark will be drawn below grid lines."},orientation:{type:"string",enum:["vertical","horizontal"],description:"Orientation of bar marks"},interpolate:{$ref:"#/definitions/Interpolate",description:"Interpolate method for line and area marks"},width:{$ref:"#/definitions/Dimension",description:"Width of bar / rect marks"},height:{$ref:"#/definitions/Dimension",description:"Height of bar / rect marks"},encoding:{type:"object",properties:{x:{$ref:"#/definitions/Encoding"},y:{$ref:"#/definitions/Encoding"},x1:{$ref:"#/definitions/Encoding"},x2:{$ref:"#/definitions/Encoding"},y1:{$ref:"#/definitions/Encoding"},y2:{$ref:"#/definitions/Encoding"},color:{$ref:"#/definitions/Encoding"},size:{$ref:"#/definitions/Encoding"},group:{$ref:"#/definitions/Encoding"}},additionalProperties:!1,description:"Encoding"}},required:["mark"],additionalProperties:!1},SQLTable:{anyOf:[{type:"string"},{type:"object",properties:{sql:{type:"string"}},required:["sql"],additionalProperties:!1}],description:"Table name or SQL expression that produces a table"},MarkType:{type:"string",enum:["bar","rect","line","area","point","rule"],description:"Mark type"},MarkStyle:{type:"object",properties:{fillColor:{type:["string","null"],description:"Fill color. If `null`, disable fill. Default is based on mark type."},fillOpacity:{type:"number",description:"Fill opacity"},strokeColor:{type:["string","null"],description:"Stroke color. If `null`, disable stroke. Default is based on mark type."},strokeWidth:{type:"number",description:"Stroke width"},strokeOpacity:{type:"number",description:"Stroke opacity"},strokeCap:{type:"string",enum:["butt","round","square"],description:"Stroke cap"},strokeJoin:{type:"string",enum:["round","miter-clip","miter","bevel"],description:"Stroke join"},paintOrder:{type:"string",description:"Paint order"},opacity:{type:"number",description:"Opacity"}},additionalProperties:!1,description:"Mark style"},Interpolate:{type:"string",enum:["linear","cardinal","catmull-rom","natural","monotone","basis","step","step-before","step-after"],description:"Interpolate method for line or area"},Dimension:{anyOf:[{type:"object",properties:{gap:{type:"number"},clampToRatio:{type:"number"}},required:["gap"],additionalProperties:!1},{type:"object",properties:{ratio:{type:"number"}},required:["ratio"],additionalProperties:!1},{type:"number"}],description:"Mark dimension for width and height"},Encoding:{anyOf:[{type:"object",properties:{field:{$ref:"#/definitions/SQLField",description:"The data field"},bin:{type:"object",properties:{desiredCount:{type:"number",description:"Desired bin count"}},additionalProperties:!1}},required:["field"],additionalProperties:!1},{type:"object",properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateFn"},{type:"object",properties:{sql:{type:"string"}},required:["sql"],additionalProperties:!1}],description:"Aggregate type"},field:{$ref:"#/definitions/SQLField",description:"The data field for the aggregate"},quantile:{type:"number",description:'For "quantile" aggregate, the quantile value (0-1)'},normalize:{type:"string",enum:["x","y"],description:"Normalize the value by x or y"}},required:["aggregate"],additionalProperties:!1},{type:"object",properties:{value:{$ref:"#/definitions/DataValue"}},required:["value"],additionalProperties:!1}],description:"Encoding"},SQLField:{anyOf:[{type:"string"},{type:"object",properties:{sql:{type:"string"}},required:["sql"],additionalProperties:!1}],description:"Field from the data table, can be a column name or a SQL expression"},AggregateFn:{type:"string",enum:["count","distinct","min","max","mean","average","median","stdev","stdevp","variance","variancep","sum","product","quantile","ecdf-value","ecdf-rank"]},DataValue:{anyOf:[{type:"string"},{type:"number"},{type:"array",items:{type:"number"},minItems:2,maxItems:2}],description:"Data value"},Scale:{type:"object",properties:{type:{$ref:"#/definitions/ScaleType",description:"Scale type for quantitative scales"},domain:{type:"array",items:{$ref:"#/definitions/DataValue"},description:"Scale domain"},specialValues:{type:"array",items:{type:"string"},description:"Special values. All represented as strings."},constant:{type:"number",description:"symlog constant."},range:{anyOf:[{type:"array",items:{type:["string","number"]}},{type:"string"}],description:"Scale range. Currently do not apply for x and y scales. For size scales, this should be [min, max] size. For nominal color scales, this should be a list of colors. For quantitative color scales, this should be a predefined interpolate scheme, or a list of colors to interpolate."}},additionalProperties:!1,description:"Scale"},ScaleType:{type:"string",enum:["linear","log","symlog","band"],description:"Scale type"},Axis:{type:"object",properties:{title:{type:"string",description:"Axis title"},values:{type:"array",items:{},description:"Values for ticks, grid lines, and labels"},desiredTickCount:{type:"number",description:"Desired number of ticks. Default 5."},extendScaleToTicks:{type:"boolean",description:"Extend scale to ticks. Default true."},labelPadding:{type:"number",description:"Padding to label"},labelFontFamily:{type:"string",description:"Label font family"},labelFontSize:{type:"number",description:"Label font size"},labelMaxWidth:{type:"number",description:"Label max width"}},additionalProperties:!1},Selection:{type:"object",properties:{encoding:{type:"string",enum:["x","y","xy"]}},required:["encoding"],additionalProperties:!1,description:"Chart selection"},Widget:{anyOf:[{type:"object",properties:{type:{type:"string",const:"scale.type"},channel:{$ref:"#/definitions/Channel"}},required:["type","channel"],additionalProperties:!1},{type:"object",properties:{type:{type:"string",const:"encoding.normalize"},layer:{anyOf:[{type:"number"},{type:"array",items:{type:"number"}}]},attribute:{$ref:"#/definitions/Attribute"},options:{type:"array",items:{type:"string",enum:["x","y"]}}},required:["type","layer","attribute","options"],additionalProperties:!1}],description:"Widget for editing a chart"},Channel:{type:"string",enum:["x","y","color","size"],description:"Encoding channel"},Attribute:{type:"string",enum:["x","y","x1","x2","y1","y2","color","size","group"],description:"Mark attribute"},ContentViewerSpec:{type:"object",properties:{type:{type:"string",const:"content-viewer"},title:{type:"string"},field:{type:"string"}},required:["type","field"],additionalProperties:!1},CountPlotSpec:{type:"object",properties:{type:{type:"string",enum:["count-plot","count-plot-list"]},title:{type:"string"},data:{type:"object",properties:{field:{type:"string"}},required:["field"],additionalProperties:!1},expanded:{type:"boolean"},percentage:{type:"boolean"}},required:["type","data"],additionalProperties:!1},EmbeddingSpec:{type:"object",properties:{type:{type:"string",const:"embedding"},title:{type:"string"},data:{type:"object",properties:{x:{type:"string"},y:{type:"string"},text:{type:["string","null"]},category:{type:["string","null"]}},required:["x","y"],additionalProperties:!1},mode:{type:"string",enum:["points","density"]},minimumDensity:{type:"number"},pointSize:{type:"number"},config:{$ref:"#/definitions/EmbeddingViewConfig"}},required:["type","title","data"],additionalProperties:!1},EmbeddingViewConfig:{type:"object",properties:{colorScheme:{type:["string","null"],enum:["light","dark",null],description:"Color scheme."},mode:{type:["string","null"],enum:["points","density",null],description:"View mode."},minimumDensity:{type:["number","null"],description:"Minimum average density for density contours to show up. The density is measured as number of points per square points (aka., px in CSS units)."},pointSize:{type:["number","null"],description:"Override the automatically calculated point size. If not specified, point size is calculated based on density."},autoLabelEnabled:{type:["boolean","null"],description:"Generate labels automatically. By default labels are generated automatically if the `labels` prop is not specified, and a `text` column is specified in the Mosaic view, or a `queryClusterLabels` callback is specified in the non-Mosaic view. Set this to `false` to disable automatic labels."},autoLabelDensityThreshold:{type:["number","null"],description:"The density threshold to filter the clusters before generating automatic labels. The value is relative to the max density."},autoLabelStopWords:{anyOf:[{type:"array",items:{type:"string"}},{type:"null"}],description:"The stop words for automatic label generation. By default use NLTK stop words."}},additionalProperties:!1},MarkdownSpec:{type:"object",properties:{type:{type:"string",const:"markdown"},title:{type:"string"},content:{type:"string"}},required:["type","content"],additionalProperties:!1},PredicatesSpec:{type:"object",properties:{type:{type:"string",const:"predicates"},title:{type:"string"},items:{type:"array",items:{type:"object",properties:{name:{type:"string"},predicate:{type:"string"}},required:["name","predicate"],additionalProperties:!1}}},required:["type"],additionalProperties:!1},TableSpec:{type:"object",properties:{type:{type:"string",const:"table"},title:{type:"string"},columns:{type:"array",items:{type:"string"}}},required:["type","title","columns"],additionalProperties:!1}}};function x9(t,e){Ke(e,!0);let n=Xg.stringify(e.initialValue,{space:2,quote:'"'});function r(i){try{return JSON.parse(JSON.stringify(Xg.parse(i)))}catch{return}}{let i=X(()=>({schema:iIe}));m4(t,{get class(){return e.class},get colorScheme(){return e.colorScheme},language:"json5",get json(){return w(i)},get value(){return n},onChange:s=>{let o=r(s);o?e.onChange?.(o):e.onChange?.(void 0)}})}Je()}var sIe=ce('<span class="mx-1"> </span>'),oIe=ce("<button><!> <!></button>");function Um(t,e){Ke(e,!0);let n=ht(e,"label",3,null),r=ht(e,"icon",3,null),i=ht(e,"title",3,""),s=ht(e,"order",3,null);var o=oIe();o.__click=()=>{e.onClick?.()};let a;var l=H(o);{var u=h=>{const d=X(r);var m=At(),g=Be(m);Zf(g,()=>w(d),(b,v)=>{v(b,{class:"w-4 h-4"})}),j(h,m)};Oe(l,h=>{r()!=null&&h(u)})}var c=ae(l,2);{var f=h=>{var d=sIe(),m=H(d,!0);W(d),Pe(()=>Tt(m,n())),j(h,d)};Oe(c,h=>{n()!=null&&n()!=""&&h(f)})}W(o),Pe(()=>{ur(o,1,`rounded-md flex select-none items-center px-1 py-1 text-slate-500 bg-slate-100 dark:text-slate-400 dark:bg-slate-800 focus-visible:outline-2 outline-blue-600 -outline-offset-1 ${e.class??""??""}`),pe(o,"title",i()),a=ot(o,"",a,{order:s()})}),j(t,o),Je()}Dr(["click"]);var aIe=Jt('<svg><path fill="currentColor" d="M8 1.75a.75.75 0 0 1 .75.75v4.75h4.75a.75.75 0 0 1 0 1.5H8.75v4.75a.75.75 0 0 1-1.5 0V8.75H2.5a.75.75 0 0 1 0-1.5h4.75V2.5A.75.75 0 0 1 8 1.75"></path></svg>');function Yte(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=aIe();fi(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),j(t,r)}var lIe=Jt('<svg><path fill="currentColor" d="M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032"></path></svg>');function Gte(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=lIe();fi(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),j(t,r)}var uIe=Jt('<svg><path fill="currentColor" d="M3.2 5.74a.75.75 0 0 1 1.06-.04L8 9.227L11.74 5.7a.75.75 0 1 1 1.02 1.1l-4.25 4a.75.75 0 0 1-1.02 0l-4.25-4a.75.75 0 0 1-.04-1.06"></path></svg>');function JB(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=uIe();fi(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),j(t,r)}var cIe=Jt('<svg><path fill="currentColor" d="M3.2 10.26a.75.75 0 0 0 1.06.04L8 6.773l3.74 3.527a.75.75 0 1 0 1.02-1.1l-4.25-4a.75.75 0 0 0-1.02 0l-4.25 4a.75.75 0 0 0-.04 1.06"></path></svg>');function ez(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=cIe();fi(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),j(t,r)}var fIe=Jt('<svg><path fill="currentColor" d="M2.75 2a.75.75 0 0 1 .75.75v12.5c0 .69.56 1.25 1.25 1.25h12.5a.75.75 0 0 1 0 1.5H4.75A2.75 2.75 0 0 1 2 15.25V2.75A.75.75 0 0 1 2.75 2M10 7.5a2.5 2.5 0 1 1-5 0a2.5 2.5 0 0 1 5 0m4.5.5a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5m.5 4.5a2.5 2.5 0 1 1-5 0a2.5 2.5 0 0 1 5 0"></path></svg>');function hIe(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=fIe();fi(r,()=>({viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...n})),j(t,r)}var dIe=Jt('<svg><path fill="currentColor" d="m2.397 2.554l.073-.084a.75.75 0 0 1 .976-.073l.084.073L8 6.939l4.47-4.47a.75.75 0 1 1 1.06 1.061L9.061 8l4.47 4.47a.75.75 0 0 1 .072.976l-.073.084a.75.75 0 0 1-.976.073l-.084-.073L8 9.061l-4.47 4.47a.75.75 0 0 1-1.06-1.061L6.939 8l-4.47-4.47a.75.75 0 0 1-.072-.976l.073-.084z"></path></svg>');function r2(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=dIe();fi(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),j(t,r)}var pIe=Jt('<svg><path fill="currentColor" d="M9 1H6a2 2 0 0 0-2 2v2.205a5.5 5.5 0 0 1 4.666 9.791H12a2 2 0 0 0 2-2V6.001h-3.5A1.5 1.5 0 0 1 9 4.5zm4.997 4h-3.498a.5.5 0 0 1-.5-.5V1h.01zM10 10.5a4.5 4.5 0 1 1-9 0a4.5 4.5 0 0 1 9 0m-4.854 2.353l.003.003a.5.5 0 0 0 .348.144h.006a.5.5 0 0 0 .35-.146l2-2a.5.5 0 0 0-.707-.708L6 11.293V8.5a.5.5 0 0 0-1 0v2.793l-1.146-1.147a.5.5 0 0 0-.708.708z"></path></svg>');function tz(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=pIe();fi(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),j(t,r)}var mIe=Jt('<svg><path fill="currentColor" d="M10.529 1.764a2.621 2.621 0 1 1 3.707 3.707l-.779.779L9.75 2.543zM9.043 3.25L2.657 9.636a2.96 2.96 0 0 0-.772 1.354l-.87 3.386a.5.5 0 0 0 .61.608l3.385-.869a2.95 2.95 0 0 0 1.354-.772l6.386-6.386z"></path></svg>');function S9(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=mIe();fi(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),j(t,r)}var gIe=Jt('<svg><path fill="currentColor" d="M7 17H6a3 3 0 0 1-3-3v-1h4zm10-3a3 3 0 0 1-3 3H8v-4h9zM7 12H3V6a3 3 0 0 1 3-3h1zm7-9a3 3 0 0 1 3 3v6H8V3z"></path></svg>');function yIe(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=gIe();fi(r,()=>({viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...n})),j(t,r)}var bIe=Jt('<svg><path fill="currentColor" d="M3 14a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3zm14-1v-2.5H3V13zm0-6v2.5H3V7zm0-1a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3z"></path></svg>');function vIe(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=bIe();fi(r,()=>({viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...n})),j(t,r)}var OIe=Jt('<svg><path fill="currentColor" d="M2 6a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v7a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3zm3-2a2 2 0 0 0-2 2v5h14V6a2 2 0 0 0-2-2z"></path></svg>');function wIe(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=OIe();fi(r,()=>({viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...n})),j(t,r)}var _Ie=Jt('<svg><path fill="currentColor" d="M15 3a3 3 0 0 1 3 3v7a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3zM5 4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h6.5V4z"></path></svg>');function xIe(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=_Ie();fi(r,()=>({viewBox:"0 0 20 20",width:"1.2em",height:"1.2em",...n})),j(t,r)}var SIe=Jt('<svg><path fill="currentColor" d="M10.823 11.883a5.5 5.5 0 1 1 1.06-1.06l2.897 2.897a.75.75 0 1 1-1.06 1.06zM11.5 7.5a4 4 0 1 0-8 0a4 4 0 0 0 8 0"></path></svg>');function kIe(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=SIe();fi(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),j(t,r)}var CIe=Jt('<svg><path fill="currentColor" d="M2.267 6.153A6 6 0 0 1 3.53 3.98a.36.36 0 0 1 .382-.095l1.36.484a.71.71 0 0 0 .935-.538l.26-1.416a.35.35 0 0 1 .274-.282a6.1 6.1 0 0 1 2.52 0c.14.03.248.141.274.282l.26 1.416a.708.708 0 0 0 .935.538l1.36-.484a.36.36 0 0 1 .382.095a6 6 0 0 1 1.262 2.173a.35.35 0 0 1-.108.378l-1.102.931a.703.703 0 0 0 0 1.076l1.102.931c.11.093.152.242.108.378a6 6 0 0 1-1.262 2.173a.36.36 0 0 1-.382.095l-1.36-.484a.71.71 0 0 0-.935.538l-.26 1.416a.35.35 0 0 1-.275.282a6.1 6.1 0 0 1-2.519 0a.35.35 0 0 1-.275-.282l-.259-1.416a.708.708 0 0 0-.935-.538l-1.36.484a.36.36 0 0 1-.382-.095a6 6 0 0 1-1.262-2.173a.35.35 0 0 1 .108-.378l1.102-.931a.704.704 0 0 0 0-1.076l-1.102-.931a.35.35 0 0 1-.108-.378M6.25 8a1.75 1.75 0 1 0 3.5 0a1.75 1.75 0 0 0-3.5 0"></path></svg>');function Hte(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=CIe();fi(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),j(t,r)}var AIe=Jt('<svg><path fill="currentColor" d="M7.456 2a6 6 0 1 1-5.406 8.605a.5.5 0 0 1 .36-.71c1.276-.231 3.278-.937 4.078-3.07c.563-1.5.512-3.015.283-4.23a.5.5 0 0 1 .475-.591Q7.35 2 7.456 2"></path></svg>');function EIe(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=AIe();fi(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),j(t,r)}var TIe=Jt('<svg><path fill="currentColor" d="M8 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 8 1m0 10a3 3 0 1 0 0-6a3 3 0 0 0 0 6m6.5-2.5a.5.5 0 0 0 0-1h-1a.5.5 0 0 0 0 1zM8 13a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 8 13M2.5 8.5a.5.5 0 0 0 0-1h-1a.5.5 0 0 0 0 1zm.646-5.354a.5.5 0 0 1 .708 0l1 1a.5.5 0 1 1-.708.708l-1-1a.5.5 0 0 1 0-.708m.708 9.708a.5.5 0 1 1-.708-.707l1-1a.5.5 0 0 1 .708.707zm9-9.708a.5.5 0 0 0-.708 0l-1 1a.5.5 0 0 0 .708.708l1-1a.5.5 0 0 0 0-.708m-.708 9.708a.5.5 0 0 0 .708-.707l-1-1a.5.5 0 0 0-.708.707z"></path></svg>');function DIe(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=TIe();fi(r,()=>({viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...n})),j(t,r)}function PIe(t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function RIe(t){const e=atob(t);return new Uint8Array([...e].map(n=>n.charCodeAt(0)))}function dm(t,e){if(t.length<e.length)return!1;for(let n=0;n<e.length;n++)if(t[n]!=e[n])return!1;return!0}function nz(t){return dm(t,[137,80,78,71,13,10,26,10])?"image/png":dm(t,[255,216,255])?"image/jpeg":dm(t,[73,73,42,0])?"image/tiff":dm(t,[66,77])?"image/bmp":dm(t,[71,73,70,56,55,97])||dm(t,[71,73,70,56,55,97])?"image/gif":"application/octet-stream"}function Kte(t){if(t==null)return null;if(typeof t=="string")return t.startsWith("data:")||t.startsWith("http://")||t.startsWith("https://")?t:`data:${nz(RIe(t))};base64,`+t;{let e=null;if(t.bytes&&t.bytes instanceof Uint8Array&&(e=t.bytes),t instanceof Uint8Array&&(e=t),e!=null)return`data:${nz(e)};base64,`+PIe(e)}return null}class $Ie{element;constructor(e,n){this.element=e,this.update(n)}update(e){if(e.value==null){this.element.innerText="(null)";return}let n=Kte(e.value);if(n!=null){let r=e.size??100,i=document.createElement("img");i.src=n,i.style.maxHeight=r+"px",i.style.maxWidth=r+"px",this.element.replaceChildren(i)}else this.element.innerText="(unknown)"}}function k9(t,e){try{return JSON.stringify(t,(n,r)=>r instanceof Object&&ArrayBuffer.isView(r)?Array.from(r):r,e)}catch{return"(invalid)"}}class IIe{element;constructor(e,n){this.element=e,this.update(n)}update(e){let n=document.createElement("pre");n.className="text-sm",n.style.whiteSpace="pre-wrap",n.style.wordBreak="break-all",n.innerText=k9(e.value,2),this.element.replaceChildren(n)}}const{entries:Jte,setPrototypeOf:rz,isFrozen:FIe,getPrototypeOf:MIe,getOwnPropertyDescriptor:LIe}=Object;let{freeze:bo,seal:Al,create:iT}=Object,{apply:sT,construct:oT}=typeof Reflect<"u"&&Reflect;bo||(bo=function(e){return e});Al||(Al=function(e){return e});sT||(sT=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return e.apply(n,i)});oT||(oT=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new e(...r)});const o_=vo(Array.prototype.forEach),NIe=vo(Array.prototype.lastIndexOf),iz=vo(Array.prototype.pop),jy=vo(Array.prototype.push),QIe=vo(Array.prototype.splice),gx=vo(String.prototype.toLowerCase),X6=vo(String.prototype.toString),Z6=vo(String.prototype.match),qy=vo(String.prototype.replace),BIe=vo(String.prototype.indexOf),zIe=vo(String.prototype.trim),Ql=vo(Object.prototype.hasOwnProperty),Ks=vo(RegExp.prototype.test),Vy=UIe(TypeError);function vo(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return sT(t,e,r)}}function UIe(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return oT(t,n)}}function dn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gx;rz&&rz(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(FIe(e)||(e[r]=s),i=s)}t[i]=!0}return t}function jIe(t){for(let e=0;e<t.length;e++)Ql(t,e)||(t[e]=null);return t}function af(t){const e=iT(null);for(const[n,r]of Jte(t))Ql(t,n)&&(Array.isArray(r)?e[n]=jIe(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=af(r):e[n]=r);return e}function Xy(t,e){for(;t!==null;){const r=LIe(t,e);if(r){if(r.get)return vo(r.get);if(typeof r.value=="function")return vo(r.value)}t=MIe(t)}function n(){return null}return n}const sz=bo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),W6=bo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y6=bo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),qIe=bo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),G6=bo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),VIe=bo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),oz=bo(["#text"]),az=bo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),H6=bo(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),lz=bo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),a_=bo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),XIe=Al(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ZIe=Al(/<%[\w\W]*|[\w\W]*%>/gm),WIe=Al(/\$\{[\w\W]*/gm),YIe=Al(/^data-[\-\w.\u00B7-\uFFFF]+$/),GIe=Al(/^aria-[\-\w]+$/),ene=Al(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),HIe=Al(/^(?:\w+script|data):/i),KIe=Al(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),tne=Al(/^html$/i),JIe=Al(/^[a-z][.\w]*(-[.\w]+)+$/i);var uz=Object.freeze({__proto__:null,ARIA_ATTR:GIe,ATTR_WHITESPACE:KIe,CUSTOM_ELEMENT:JIe,DATA_ATTR:YIe,DOCTYPE_NAME:tne,ERB_EXPR:ZIe,IS_ALLOWED_URI:ene,IS_SCRIPT_OR_DATA:HIe,MUSTACHE_EXPR:XIe,TMPLIT_EXPR:WIe});const Zy={element:1,text:3,progressingInstruction:7,comment:8,document:9},eFe=function(){return typeof window>"u"?null:window},tFe=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},cz=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function nne(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:eFe();const e=Le=>nne(Le);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==Zy.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:d}=t,m=l.prototype,g=Xy(m,"cloneNode"),b=Xy(m,"remove"),v=Xy(m,"nextSibling"),O=Xy(m,"childNodes"),x=Xy(m,"parentNode");if(typeof o=="function"){const Le=n.createElement("template");Le.content&&Le.content.ownerDocument&&(n=Le.content.ownerDocument)}let C,S="";const{implementation:A,createNodeIterator:k,createDocumentFragment:T,getElementsByTagName:D}=n,{importNode:$}=r;let M=cz();e.isSupported=typeof Jte=="function"&&typeof x=="function"&&A&&A.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:L,ERB_EXPR:R,TMPLIT_EXPR:I,DATA_ATTR:B,ARIA_ATTR:z,IS_SCRIPT_OR_DATA:Z,ATTR_WHITESPACE:J,CUSTOM_ELEMENT:ee}=uz;let{IS_ALLOWED_URI:ie}=uz,K=null;const fe=dn({},[...sz,...W6,...Y6,...G6,...oz]);let le=null;const me=dn({},[...az,...H6,...lz,...a_]);let oe=Object.seal(iT(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),De=null,Ve=null;const Ne=Object.seal(iT(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ae=!0,ke=!0,Te=!1,tt=!0,at=!1,Re=!0,We=!1,Rt=!1,dt=!1,Qt=!1,Br=!1,Zr=!1,cn=!0,Lt=!1;const Jn="user-content-";let li=!0,Pr=!1,Wr={},vt=null;const kn=dn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zr=null;const Hi=dn({},["audio","video","img","source","image","track"]);let mn=null;const Bt=dn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),zt="http://www.w3.org/1998/Math/MathML",fn="http://www.w3.org/2000/svg",Rr="http://www.w3.org/1999/xhtml";let gi=Rr,oa=!1,Yr=null;const us=dn({},[zt,fn,Rr],X6);let wr=dn({},["mi","mo","mn","ms","mtext"]),Ti=dn({},["annotation-xml"]);const wo=dn({},["title","style","font","a","script"]);let yi=null;const Ua=["application/xhtml+xml","text/html"],ws="text/html";let hr=null,Gr=null;const _o=n.createElement("form"),Rl=function(G){return G instanceof RegExp||G instanceof Function},xu=function(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Gr&&Gr===G)){if((!G||typeof G!="object")&&(G={}),G=af(G),yi=Ua.indexOf(G.PARSER_MEDIA_TYPE)===-1?ws:G.PARSER_MEDIA_TYPE,hr=yi==="application/xhtml+xml"?X6:gx,K=Ql(G,"ALLOWED_TAGS")?dn({},G.ALLOWED_TAGS,hr):fe,le=Ql(G,"ALLOWED_ATTR")?dn({},G.ALLOWED_ATTR,hr):me,Yr=Ql(G,"ALLOWED_NAMESPACES")?dn({},G.ALLOWED_NAMESPACES,X6):us,mn=Ql(G,"ADD_URI_SAFE_ATTR")?dn(af(Bt),G.ADD_URI_SAFE_ATTR,hr):Bt,zr=Ql(G,"ADD_DATA_URI_TAGS")?dn(af(Hi),G.ADD_DATA_URI_TAGS,hr):Hi,vt=Ql(G,"FORBID_CONTENTS")?dn({},G.FORBID_CONTENTS,hr):kn,De=Ql(G,"FORBID_TAGS")?dn({},G.FORBID_TAGS,hr):af({}),Ve=Ql(G,"FORBID_ATTR")?dn({},G.FORBID_ATTR,hr):af({}),Wr=Ql(G,"USE_PROFILES")?G.USE_PROFILES:!1,Ae=G.ALLOW_ARIA_ATTR!==!1,ke=G.ALLOW_DATA_ATTR!==!1,Te=G.ALLOW_UNKNOWN_PROTOCOLS||!1,tt=G.ALLOW_SELF_CLOSE_IN_ATTR!==!1,at=G.SAFE_FOR_TEMPLATES||!1,Re=G.SAFE_FOR_XML!==!1,We=G.WHOLE_DOCUMENT||!1,Qt=G.RETURN_DOM||!1,Br=G.RETURN_DOM_FRAGMENT||!1,Zr=G.RETURN_TRUSTED_TYPE||!1,dt=G.FORCE_BODY||!1,cn=G.SANITIZE_DOM!==!1,Lt=G.SANITIZE_NAMED_PROPS||!1,li=G.KEEP_CONTENT!==!1,Pr=G.IN_PLACE||!1,ie=G.ALLOWED_URI_REGEXP||ene,gi=G.NAMESPACE||Rr,wr=G.MATHML_TEXT_INTEGRATION_POINTS||wr,Ti=G.HTML_INTEGRATION_POINTS||Ti,oe=G.CUSTOM_ELEMENT_HANDLING||{},G.CUSTOM_ELEMENT_HANDLING&&Rl(G.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(oe.tagNameCheck=G.CUSTOM_ELEMENT_HANDLING.tagNameCheck),G.CUSTOM_ELEMENT_HANDLING&&Rl(G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(oe.attributeNameCheck=G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),G.CUSTOM_ELEMENT_HANDLING&&typeof G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(oe.allowCustomizedBuiltInElements=G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),at&&(ke=!1),Br&&(Qt=!0),Wr&&(K=dn({},oz),le=[],Wr.html===!0&&(dn(K,sz),dn(le,az)),Wr.svg===!0&&(dn(K,W6),dn(le,H6),dn(le,a_)),Wr.svgFilters===!0&&(dn(K,Y6),dn(le,H6),dn(le,a_)),Wr.mathMl===!0&&(dn(K,G6),dn(le,lz),dn(le,a_))),G.ADD_TAGS&&(typeof G.ADD_TAGS=="function"?Ne.tagCheck=G.ADD_TAGS:(K===fe&&(K=af(K)),dn(K,G.ADD_TAGS,hr))),G.ADD_ATTR&&(typeof G.ADD_ATTR=="function"?Ne.attributeCheck=G.ADD_ATTR:(le===me&&(le=af(le)),dn(le,G.ADD_ATTR,hr))),G.ADD_URI_SAFE_ATTR&&dn(mn,G.ADD_URI_SAFE_ATTR,hr),G.FORBID_CONTENTS&&(vt===kn&&(vt=af(vt)),dn(vt,G.FORBID_CONTENTS,hr)),li&&(K["#text"]=!0),We&&dn(K,["html","head","body"]),K.table&&(dn(K,["tbody"]),delete De.tbody),G.TRUSTED_TYPES_POLICY){if(typeof G.TRUSTED_TYPES_POLICY.createHTML!="function")throw Vy('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof G.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Vy('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=G.TRUSTED_TYPES_POLICY,S=C.createHTML("")}else C===void 0&&(C=tFe(d,i)),C!==null&&typeof S=="string"&&(S=C.createHTML(""));bo&&bo(G),Gr=G}},Su=dn({},[...W6,...Y6,...qIe]),U0=dn({},[...G6,...VIe]),Bd=function(G){let Se=x(G);(!Se||!Se.tagName)&&(Se={namespaceURI:gi,tagName:"template"});const Qe=gx(G.tagName),en=gx(Se.tagName);return Yr[G.namespaceURI]?G.namespaceURI===fn?Se.namespaceURI===Rr?Qe==="svg":Se.namespaceURI===zt?Qe==="svg"&&(en==="annotation-xml"||wr[en]):!!Su[Qe]:G.namespaceURI===zt?Se.namespaceURI===Rr?Qe==="math":Se.namespaceURI===fn?Qe==="math"&&Ti[en]:!!U0[Qe]:G.namespaceURI===Rr?Se.namespaceURI===fn&&!Ti[en]||Se.namespaceURI===zt&&!wr[en]?!1:!U0[Qe]&&(wo[Qe]||!Su[Qe]):!!(yi==="application/xhtml+xml"&&Yr[G.namespaceURI]):!1},Zs=function(G){jy(e.removed,{element:G});try{x(G).removeChild(G)}catch{b(G)}},$l=function(G,Se){try{jy(e.removed,{attribute:Se.getAttributeNode(G),from:Se})}catch{jy(e.removed,{attribute:null,from:Se})}if(Se.removeAttribute(G),G==="is")if(Qt||Br)try{Zs(Se)}catch{}else try{Se.setAttribute(G,"")}catch{}},j0=function(G){let Se=null,Qe=null;if(dt)G="<remove></remove>"+G;else{const _r=Z6(G,/^[\r\n\t ]+/);Qe=_r&&_r[0]}yi==="application/xhtml+xml"&&gi===Rr&&(G='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+G+"</body></html>");const en=C?C.createHTML(G):G;if(gi===Rr)try{Se=new h().parseFromString(en,yi)}catch{}if(!Se||!Se.documentElement){Se=A.createDocument(gi,"template",null);try{Se.documentElement.innerHTML=oa?S:en}catch{}}const Vn=Se.body||Se.documentElement;return G&&Qe&&Vn.insertBefore(n.createTextNode(Qe),Vn.childNodes[0]||null),gi===Rr?D.call(Se,We?"html":"body")[0]:We?Se.documentElement:Vn},q0=function(G){return k.call(G.ownerDocument||G,G,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},ve=function(G){return G instanceof f&&(typeof G.nodeName!="string"||typeof G.textContent!="string"||typeof G.removeChild!="function"||!(G.attributes instanceof c)||typeof G.removeAttribute!="function"||typeof G.setAttribute!="function"||typeof G.namespaceURI!="string"||typeof G.insertBefore!="function"||typeof G.hasChildNodes!="function")},Me=function(G){return typeof a=="function"&&G instanceof a};function Ue(Le,G,Se){o_(Le,Qe=>{Qe.call(e,G,Se,Gr)})}const nt=function(G){let Se=null;if(Ue(M.beforeSanitizeElements,G,null),ve(G))return Zs(G),!0;const Qe=hr(G.nodeName);if(Ue(M.uponSanitizeElement,G,{tagName:Qe,allowedTags:K}),Re&&G.hasChildNodes()&&!Me(G.firstElementChild)&&Ks(/<[/\w!]/g,G.innerHTML)&&Ks(/<[/\w!]/g,G.textContent)||G.nodeType===Zy.progressingInstruction||Re&&G.nodeType===Zy.comment&&Ks(/<[/\w]/g,G.data))return Zs(G),!0;if(!(Ne.tagCheck instanceof Function&&Ne.tagCheck(Qe))&&(!K[Qe]||De[Qe])){if(!De[Qe]&&Ct(Qe)&&(oe.tagNameCheck instanceof RegExp&&Ks(oe.tagNameCheck,Qe)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(Qe)))return!1;if(li&&!vt[Qe]){const en=x(G)||G.parentNode,Vn=O(G)||G.childNodes;if(Vn&&en){const _r=Vn.length;for(let xr=_r-1;xr>=0;--xr){const Qi=g(Vn[xr],!0);Qi.__removalCount=(G.__removalCount||0)+1,en.insertBefore(Qi,v(G))}}}return Zs(G),!0}return G instanceof l&&!Bd(G)||(Qe==="noscript"||Qe==="noembed"||Qe==="noframes")&&Ks(/<\/no(script|embed|frames)/i,G.innerHTML)?(Zs(G),!0):(at&&G.nodeType===Zy.text&&(Se=G.textContent,o_([L,R,I],en=>{Se=qy(Se,en," ")}),G.textContent!==Se&&(jy(e.removed,{element:G.cloneNode()}),G.textContent=Se)),Ue(M.afterSanitizeElements,G,null),!1)},ut=function(G,Se,Qe){if(cn&&(Se==="id"||Se==="name")&&(Qe in n||Qe in _o))return!1;if(!(ke&&!Ve[Se]&&Ks(B,Se))){if(!(Ae&&Ks(z,Se))){if(!(Ne.attributeCheck instanceof Function&&Ne.attributeCheck(Se,G))){if(!le[Se]||Ve[Se]){if(!(Ct(G)&&(oe.tagNameCheck instanceof RegExp&&Ks(oe.tagNameCheck,G)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(G))&&(oe.attributeNameCheck instanceof RegExp&&Ks(oe.attributeNameCheck,Se)||oe.attributeNameCheck instanceof Function&&oe.attributeNameCheck(Se,G))||Se==="is"&&oe.allowCustomizedBuiltInElements&&(oe.tagNameCheck instanceof RegExp&&Ks(oe.tagNameCheck,Qe)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(Qe))))return!1}else if(!mn[Se]){if(!Ks(ie,qy(Qe,J,""))){if(!((Se==="src"||Se==="xlink:href"||Se==="href")&&G!=="script"&&BIe(Qe,"data:")===0&&zr[G])){if(!(Te&&!Ks(Z,qy(Qe,J,"")))){if(Qe)return!1}}}}}}}return!0},Ct=function(G){return G!=="annotation-xml"&&Z6(G,ee)},Cn=function(G){Ue(M.beforeSanitizeAttributes,G,null);const{attributes:Se}=G;if(!Se||ve(G))return;const Qe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:le,forceKeepAttr:void 0};let en=Se.length;for(;en--;){const Vn=Se[en],{name:_r,namespaceURI:xr,value:Qi}=Vn,_s=hr(_r),V0=Qi;let Di=_r==="value"?V0:zIe(V0);if(Qe.attrName=_s,Qe.attrValue=Di,Qe.keepAttr=!0,Qe.forceKeepAttr=void 0,Ue(M.uponSanitizeAttribute,G,Qe),Di=Qe.attrValue,Lt&&(_s==="id"||_s==="name")&&($l(_r,G),Di=Jn+Di),Re&&Ks(/((--!?|])>)|<\/(style|title|textarea)/i,Di)){$l(_r,G);continue}if(_s==="attributename"&&Z6(Di,"href")){$l(_r,G);continue}if(Qe.forceKeepAttr)continue;if(!Qe.keepAttr){$l(_r,G);continue}if(!tt&&Ks(/\/>/i,Di)){$l(_r,G);continue}at&&o_([L,R,I],v2=>{Di=qy(Di,v2," ")});const b2=hr(G.nodeName);if(!ut(b2,_s,Di)){$l(_r,G);continue}if(C&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!xr)switch(d.getAttributeType(b2,_s)){case"TrustedHTML":{Di=C.createHTML(Di);break}case"TrustedScriptURL":{Di=C.createScriptURL(Di);break}}if(Di!==V0)try{xr?G.setAttributeNS(xr,_r,Di):G.setAttribute(_r,Di),ve(G)?Zs(G):iz(e.removed)}catch{$l(_r,G)}}Ue(M.afterSanitizeAttributes,G,null)},Tn=function Le(G){let Se=null;const Qe=q0(G);for(Ue(M.beforeSanitizeShadowDOM,G,null);Se=Qe.nextNode();)Ue(M.uponSanitizeShadowNode,Se,null),nt(Se),Cn(Se),Se.content instanceof s&&Le(Se.content);Ue(M.afterSanitizeShadowDOM,G,null)};return e.sanitize=function(Le){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se=null,Qe=null,en=null,Vn=null;if(oa=!Le,oa&&(Le="<!-->"),typeof Le!="string"&&!Me(Le))if(typeof Le.toString=="function"){if(Le=Le.toString(),typeof Le!="string")throw Vy("dirty is not a string, aborting")}else throw Vy("toString is not a function");if(!e.isSupported)return Le;if(Rt||xu(G),e.removed=[],typeof Le=="string"&&(Pr=!1),Pr){if(Le.nodeName){const Qi=hr(Le.nodeName);if(!K[Qi]||De[Qi])throw Vy("root node is forbidden and cannot be sanitized in-place")}}else if(Le instanceof a)Se=j0("<!---->"),Qe=Se.ownerDocument.importNode(Le,!0),Qe.nodeType===Zy.element&&Qe.nodeName==="BODY"||Qe.nodeName==="HTML"?Se=Qe:Se.appendChild(Qe);else{if(!Qt&&!at&&!We&&Le.indexOf("<")===-1)return C&&Zr?C.createHTML(Le):Le;if(Se=j0(Le),!Se)return Qt?null:Zr?S:""}Se&&dt&&Zs(Se.firstChild);const _r=q0(Pr?Le:Se);for(;en=_r.nextNode();)nt(en),Cn(en),en.content instanceof s&&Tn(en.content);if(Pr)return Le;if(Qt){if(Br)for(Vn=T.call(Se.ownerDocument);Se.firstChild;)Vn.appendChild(Se.firstChild);else Vn=Se;return(le.shadowroot||le.shadowrootmode)&&(Vn=$.call(r,Vn,!0)),Vn}let xr=We?Se.outerHTML:Se.innerHTML;return We&&K["!doctype"]&&Se.ownerDocument&&Se.ownerDocument.doctype&&Se.ownerDocument.doctype.name&&Ks(tne,Se.ownerDocument.doctype.name)&&(xr="<!DOCTYPE "+Se.ownerDocument.doctype.name+`>
`+xr),at&&o_([L,R,I],Qi=>{xr=qy(xr,Qi," ")}),C&&Zr?C.createHTML(xr):xr},e.setConfig=function(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xu(Le),Rt=!0},e.clearConfig=function(){Gr=null,Rt=!1},e.isValidAttribute=function(Le,G,Se){Gr||xu({});const Qe=hr(Le),en=hr(G);return ut(Qe,en,Se)},e.addHook=function(Le,G){typeof G=="function"&&jy(M[Le],G)},e.removeHook=function(Le,G){if(G!==void 0){const Se=NIe(M[Le],G);return Se===-1?void 0:QIe(M[Le],Se,1)[0]}return iz(M[Le])},e.removeHooks=function(Le){M[Le]=[]},e.removeAllHooks=function(){M=cz()},e}var nFe=nne();function C9(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var P0=C9();function rne(t){P0=t}var Yb={exec:()=>null};function Nn(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(fo.caret,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}var rFe=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),fo={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},iFe=/^(?:[ \t]*(?:\n|$))+/,sFe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,oFe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,i2=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,aFe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,A9=/(?:[*+-]|\d{1,9}[.)])/,ine=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,sne=Nn(ine).replace(/bull/g,A9).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),lFe=Nn(ine).replace(/bull/g,A9).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),E9=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,uFe=/^[^\n]+/,T9=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,cFe=Nn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",T9).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),fFe=Nn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,A9).getRegex(),g4="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",D9=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,hFe=Nn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",D9).replace("tag",g4).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),one=Nn(E9).replace("hr",i2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",g4).getRegex(),dFe=Nn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",one).getRegex(),P9={blockquote:dFe,code:sFe,def:cFe,fences:oFe,heading:aFe,hr:i2,html:hFe,lheading:sne,list:fFe,newline:iFe,paragraph:one,table:Yb,text:uFe},fz=Nn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",i2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",g4).getRegex(),pFe={...P9,lheading:lFe,table:fz,paragraph:Nn(E9).replace("hr",i2).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",fz).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",g4).getRegex()},mFe={...P9,html:Nn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",D9).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Yb,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Nn(E9).replace("hr",i2).replace("heading",` *#{1,6} *[^
]`).replace("lheading",sne).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},gFe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,yFe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ane=/^( {2,}|\\)\n(?!\s*$)/,bFe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,y4=/[\p{P}\p{S}]/u,R9=/[\s\p{P}\p{S}]/u,lne=/[^\s\p{P}\p{S}]/u,vFe=Nn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,R9).getRegex(),une=/(?!~)[\p{P}\p{S}]/u,OFe=/(?!~)[\s\p{P}\p{S}]/u,wFe=/(?:[^\s\p{P}\p{S}]|~)/u,_Fe=Nn(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",rFe?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),cne=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,xFe=Nn(cne,"u").replace(/punct/g,y4).getRegex(),SFe=Nn(cne,"u").replace(/punct/g,une).getRegex(),fne="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",kFe=Nn(fne,"gu").replace(/notPunctSpace/g,lne).replace(/punctSpace/g,R9).replace(/punct/g,y4).getRegex(),CFe=Nn(fne,"gu").replace(/notPunctSpace/g,wFe).replace(/punctSpace/g,OFe).replace(/punct/g,une).getRegex(),AFe=Nn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,lne).replace(/punctSpace/g,R9).replace(/punct/g,y4).getRegex(),EFe=Nn(/\\(punct)/,"gu").replace(/punct/g,y4).getRegex(),TFe=Nn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),DFe=Nn(D9).replace("(?:-->|$)","-->").getRegex(),PFe=Nn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",DFe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),x3=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,RFe=Nn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",x3).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),hne=Nn(/^!?\[(label)\]\[(ref)\]/).replace("label",x3).replace("ref",T9).getRegex(),dne=Nn(/^!?\[(ref)\](?:\[\])?/).replace("ref",T9).getRegex(),$Fe=Nn("reflink|nolink(?!\\()","g").replace("reflink",hne).replace("nolink",dne).getRegex(),hz=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,$9={_backpedal:Yb,anyPunctuation:EFe,autolink:TFe,blockSkip:_Fe,br:ane,code:yFe,del:Yb,emStrongLDelim:xFe,emStrongRDelimAst:kFe,emStrongRDelimUnd:AFe,escape:gFe,link:RFe,nolink:dne,punctuation:vFe,reflink:hne,reflinkSearch:$Fe,tag:PFe,text:bFe,url:Yb},IFe={...$9,link:Nn(/^!?\[(label)\]\((.*?)\)/).replace("label",x3).getRegex(),reflink:Nn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",x3).getRegex()},aT={...$9,emStrongRDelimAst:CFe,emStrongLDelim:SFe,url:Nn(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",hz).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Nn(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",hz).getRegex()},FFe={...aT,br:Nn(ane).replace("{2,}","*").getRegex(),text:Nn(aT.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},l_={normal:P9,gfm:pFe,pedantic:mFe},Wy={normal:$9,gfm:aT,breaks:FFe,pedantic:IFe},MFe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dz=t=>MFe[t];function lf(t,e){if(e){if(fo.escapeTest.test(t))return t.replace(fo.escapeReplace,dz)}else if(fo.escapeTestNoEncode.test(t))return t.replace(fo.escapeReplaceNoEncode,dz);return t}function pz(t){try{t=encodeURI(t).replace(fo.percentDecode,"%")}catch{return null}return t}function mz(t,e){let n=t.replace(fo.findPipe,(s,o,a)=>{let l=!1,u=o;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),r=n.split(fo.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(fo.slashPipe,"|");return r}function Yy(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function LFe(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function gz(t,e,n,r,i){let s=e.href,o=e.title||null,a=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:o,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function NFe(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(s=>{let o=s.match(n.other.beginningSpace);if(o===null)return s;let[a]=o;return a.length>=i.length?s.slice(i.length):s}).join(`
`)}var S3=class{options;rules;lexer;constructor(e){this.options=e||P0}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Yy(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],i=NFe(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){let i=Yy(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:Yy(n[0],`
`)}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=Yy(n[0],`
`).split(`
`),i="",s="",o=[];for(;r.length>0;){let a=!1,l=[],u;for(u=0;u<r.length;u++)if(this.rules.other.blockquoteStart.test(r[u]))l.push(r[u]),a=!0;else if(!a)l.push(r[u]);else break;r=r.slice(u);let c=l.join(`
`),f=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${c}`:c,s=s?`${s}
${f}`:f;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,o,!0),this.lexer.state.top=h,r.length===0)break;let d=o.at(-1);if(d?.type==="code")break;if(d?.type==="blockquote"){let m=d,g=m.raw+`
`+r.join(`
`),b=this.blockquote(g);o[o.length-1]=b,i=i.substring(0,i.length-m.raw.length)+b.raw,s=s.substring(0,s.length-m.text.length)+b.text;break}else if(d?.type==="list"){let m=d,g=m.raw+`
`+r.join(`
`),b=this.list(g);o[o.length-1]=b,i=i.substring(0,i.length-d.raw.length)+b.raw,s=s.substring(0,s.length-m.raw.length)+b.raw,r=g.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim(),i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let o=this.rules.other.listItemRegex(r),a=!1;for(;e;){let u=!1,c="",f="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;c=n[0],e=e.substring(c.length);let h=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,v=>" ".repeat(3*v.length)),d=e.split(`
`,1)[0],m=!h.trim(),g=0;if(this.options.pedantic?(g=2,f=h.trimStart()):m?g=n[1].length+1:(g=n[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,f=h.slice(g),g+=n[1].length),m&&this.rules.other.blankLine.test(d)&&(c+=d+`
`,e=e.substring(d.length+1),u=!0),!u){let v=this.rules.other.nextBulletRegex(g),O=this.rules.other.hrRegex(g),x=this.rules.other.fencesBeginRegex(g),C=this.rules.other.headingBeginRegex(g),S=this.rules.other.htmlBeginRegex(g);for(;e;){let A=e.split(`
`,1)[0],k;if(d=A,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),k=d):k=d.replace(this.rules.other.tabCharGlobal,"    "),x.test(d)||C.test(d)||S.test(d)||v.test(d)||O.test(d))break;if(k.search(this.rules.other.nonSpaceChar)>=g||!d.trim())f+=`
`+k.slice(g);else{if(m||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||x.test(h)||C.test(h)||O.test(h))break;f+=`
`+d}!m&&!d.trim()&&(m=!0),c+=A+`
`,e=e.substring(A.length+1),h=k.slice(g)}}s.loose||(a?s.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(a=!0));let b=null;this.options.gfm&&(b=this.rules.other.listIsTask.exec(f),b&&(f=f.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:c,task:!!b,loose:!1,text:f,tokens:[]}),s.raw+=c}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let u of s.items){if(this.lexer.state.top=!1,u.tokens=this.lexer.blockTokens(u.text,[]),u.task){let c=this.rules.other.listTaskCheckbox.exec(u.raw);if(c){let f={type:"checkbox",raw:c[0]+" ",checked:c[0]!=="[ ]"};u.checked=f.checked,s.loose?u.tokens[0]&&["paragraph","text"].includes(u.tokens[0].type)&&"tokens"in u.tokens[0]&&u.tokens[0].tokens?(u.tokens[0].raw=f.raw+u.tokens[0].raw,u.tokens[0].text=f.raw+u.tokens[0].text,u.tokens[0].tokens.unshift(f)):u.tokens.unshift({type:"paragraph",raw:f.raw,text:f.raw,tokens:[f]}):u.tokens.unshift(f)}}if(!s.loose){let c=u.tokens.filter(h=>h.type==="space"),f=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));s.loose=f}}if(s.loose)for(let u of s.items){u.loose=!0;for(let c of u.tokens)c.type==="text"&&(c.type="paragraph")}return s}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=mz(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let a of i)this.rules.other.tableAlignRight.test(a)?o.align.push("right"):this.rules.other.tableAlignCenter.test(a)?o.align.push("center"):this.rules.other.tableAlignLeft.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<r.length;a++)o.header.push({text:r[a],tokens:this.lexer.inline(r[a]),header:!0,align:o.align[a]});for(let a of s)o.rows.push(mz(a,o.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[u]})));return o}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let o=Yy(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{let o=LFe(n[2],"()");if(o===-2)return;if(o>-1){let a=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),gz(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[i.toLowerCase()];if(!s){let o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return gz(r,s,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!r||this.rules.inline.punctuation.exec(r))){let s=[...i[0]].length-1,o,a,l=s,u=0,c=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,n=n.slice(-1*e.length+s);(i=c.exec(n))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(a=[...o].length,i[3]||i[4]){l+=a;continue}else if((i[5]||i[6])&&s%3&&!((s+a)%3)){u+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+u);let f=[...i[0]][0].length,h=e.slice(0,s+i.index+f+a);if(Math.min(s,a)%2){let m=h.slice(1,-1);return{type:"em",raw:h,text:m,tokens:this.lexer.inlineTokens(m)}}let d=h.slice(2,-2);return{type:"strong",raw:h,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=n[1],i="mailto:"+r):(r=n[1],i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=n[0],i="mailto:"+r;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(s!==n[0]);r=n[0],n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}},Vl=class lT{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||P0,this.options.tokenizer=this.options.tokenizer||new S3,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:fo,block:l_.normal,inline:Wy.normal};this.options.pedantic?(n.block=l_.pedantic,n.inline=Wy.pedantic):this.options.gfm&&(n.block=l_.gfm,this.options.breaks?n.inline=Wy.breaks:n.inline=Wy.gfm),this.tokenizer.rules=n}static get rules(){return{block:l_,inline:Wy}}static lex(e,n){return new lT(n).lex(e)}static lexInline(e,n){return new lT(n).inlineTokens(e)}lex(e){e=e.replace(fo.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(fo.tabCharGlobal,"    ").replace(fo.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(o=>(i=o.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let o=n.at(-1);i.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.at(-1).src=o.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title},n.push(i));continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}let s=e;if(this.options.extensions?.startBlock){let o=1/0,a=e.slice(1),l;this.options.extensions.startBlock.forEach(u=>{l=u.call({lexer:this},a),typeof l=="number"&&l>=0&&(o=Math.min(o,l))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){let o=n.at(-1);r&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(i),r=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let o=n.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(i);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,i=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)l.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)s=i[2]?i[2].length:0,r=r.slice(0,i.index+s)+"["+"a".repeat(i[0].length-s-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let o=!1,a="";for(;e;){o||(a=""),o=!1;let l;if(this.options.extensions?.inline?.some(c=>(l=c.call({lexer:this},e,n))?(e=e.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);let c=n.at(-1);l.type==="text"&&c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):n.push(l);continue}if(l=this.tokenizer.emStrong(e,r,a)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),n.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),n.push(l);continue}let u=e;if(this.options.extensions?.startInline){let c=1/0,f=e.slice(1),h;this.options.extensions.startInline.forEach(d=>{h=d.call({lexer:this},f),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(u=e.substring(0,c+1))}if(l=this.tokenizer.inlineText(u)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(a=l.raw.slice(-1)),o=!0;let c=n.at(-1);c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):n.push(l);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}},k3=class{options;parser;constructor(t){this.options=t||P0}space(t){return""}code({text:t,lang:e,escaped:n}){let r=(e||"").match(fo.notSpaceStart)?.[0],i=t.replace(fo.endingNewline,"")+`
`;return r?'<pre><code class="language-'+lf(r)+'">'+(n?i:lf(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:lf(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let o=0;o<t.items.length;o++){let a=t.items[o];r+=this.listitem(a)}let i=e?"ol":"ul",s=e&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+r+"</"+i+`>
`}listitem(t){return`<li>${this.parser.parse(t.tokens)}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let i=0;i<t.header.length;i++)n+=this.tablecell(t.header[i]);e+=this.tablerow({text:n});let r="";for(let i=0;i<t.rows.length;i++){let s=t.rows[i];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${lf(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),i=pz(t);if(i===null)return r;t=i;let s='<a href="'+t+'"';return e&&(s+=' title="'+lf(e)+'"'),s+=">"+r+"</a>",s}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=pz(t);if(i===null)return lf(n);t=i;let s=`<img src="${t}" alt="${n}"`;return e&&(s+=` title="${lf(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:lf(t.text)}},I9=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}checkbox({raw:t}){return t}},Xl=class uT{options;renderer;textRenderer;constructor(e){this.options=e||P0,this.options.renderer=this.options.renderer||new k3,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new I9}static parse(e,n){return new uT(n).parse(e)}static parseInline(e,n){return new uT(n).parseInline(e)}parse(e){let n="";for(let r=0;r<e.length;r++){let i=e[r];if(this.options.extensions?.renderers?.[i.type]){let o=i,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){n+=a||"";continue}}let s=i;switch(s.type){case"space":{n+=this.renderer.space(s);break}case"hr":{n+=this.renderer.hr(s);break}case"heading":{n+=this.renderer.heading(s);break}case"code":{n+=this.renderer.code(s);break}case"table":{n+=this.renderer.table(s);break}case"blockquote":{n+=this.renderer.blockquote(s);break}case"list":{n+=this.renderer.list(s);break}case"checkbox":{n+=this.renderer.checkbox(s);break}case"html":{n+=this.renderer.html(s);break}case"def":{n+=this.renderer.def(s);break}case"paragraph":{n+=this.renderer.paragraph(s);break}case"text":{n+=this.renderer.text(s);break}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,n=this.renderer){let r="";for(let i=0;i<e.length;i++){let s=e[i];if(this.options.extensions?.renderers?.[s.type]){let a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=a||"";continue}}let o=s;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"checkbox":{r+=n.checkbox(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{let a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},Sb=class{options;block;constructor(e){this.options=e||P0}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Vl.lex:Vl.lexInline}provideParser(){return this.block?Xl.parse:Xl.parseInline}},QFe=class{defaults=C9();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Xl;Renderer=k3;TextRenderer=I9;Lexer=Vl;Tokenizer=S3;Hooks=Sb;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(let i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{let s=i;for(let o of s.header)r=r.concat(this.walkTokens(o.tokens,n));for(let o of s.rows)for(let a of o)r=r.concat(this.walkTokens(a.tokens,n));break}case"list":{let s=i;r=r.concat(this.walkTokens(s.items,n));break}default:{let s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{let a=s[o].flat(1/0);r=r.concat(this.walkTokens(a,n))}):s.tokens&&(r=r.concat(this.walkTokens(s.tokens,n)))}}return r}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let o=n.renderers[s.name];o?n.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=n[s.level];o?o.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){let s=this.defaults.renderer||new k3(this.defaults);for(let o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let a=o,l=r.renderer[a],u=s[a];s[a]=(...c)=>{let f=l.apply(s,c);return f===!1&&(f=u.apply(s,c)),f||""}}i.renderer=s}if(r.tokenizer){let s=this.defaults.tokenizer||new S3(this.defaults);for(let o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,l=r.tokenizer[a],u=s[a];s[a]=(...c)=>{let f=l.apply(s,c);return f===!1&&(f=u.apply(s,c)),f}}i.tokenizer=s}if(r.hooks){let s=this.defaults.hooks||new Sb;for(let o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let a=o,l=r.hooks[a],u=s[a];Sb.passThroughHooks.has(o)?s[a]=c=>{if(this.defaults.async&&Sb.passThroughHooksRespectAsync.has(o))return(async()=>{let h=await l.call(s,c);return u.call(s,h)})();let f=l.call(s,c);return u.call(s,f)}:s[a]=(...c)=>{if(this.defaults.async)return(async()=>{let h=await l.apply(s,c);return h===!1&&(h=await u.apply(s,c)),h})();let f=l.apply(s,c);return f===!1&&(f=u.apply(s,c)),f}}i.hooks=s}if(r.walkTokens){let s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Vl.lex(e,n??this.defaults)}parser(e,n){return Xl.parse(e,n??this.defaults)}parseMarkdown(e){return(n,r)=>{let i={...r},s={...this.defaults,...i},o=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&i.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let a=s.hooks?await s.hooks.preprocess(n):n,l=await(s.hooks?await s.hooks.provideLexer():e?Vl.lex:Vl.lexInline)(a,s),u=s.hooks?await s.hooks.processAllTokens(l):l;s.walkTokens&&await Promise.all(this.walkTokens(u,s.walkTokens));let c=await(s.hooks?await s.hooks.provideParser():e?Xl.parse:Xl.parseInline)(u,s);return s.hooks?await s.hooks.postprocess(c):c})().catch(o);try{s.hooks&&(n=s.hooks.preprocess(n));let a=(s.hooks?s.hooks.provideLexer():e?Vl.lex:Vl.lexInline)(n,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let l=(s.hooks?s.hooks.provideParser():e?Xl.parse:Xl.parseInline)(a,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(a){return o(a)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+lf(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}},c0=new QFe;function sr(t,e){return c0.parse(t,e)}sr.options=sr.setOptions=function(t){return c0.setOptions(t),sr.defaults=c0.defaults,rne(sr.defaults),sr};sr.getDefaults=C9;sr.defaults=P0;sr.use=function(...t){return c0.use(...t),sr.defaults=c0.defaults,rne(sr.defaults),sr};sr.walkTokens=function(t,e){return c0.walkTokens(t,e)};sr.parseInline=c0.parseInline;sr.Parser=Xl;sr.parser=Xl.parse;sr.Renderer=k3;sr.TextRenderer=I9;sr.Lexer=Vl;sr.lexer=Vl.lex;sr.Tokenizer=S3;sr.Hooks=Sb;sr.parse=sr;sr.options;sr.setOptions;sr.use;sr.walkTokens;sr.parseInline;Xl.parse;Vl.lex;function F9(t){let e=sr(t,{async:!1,gfm:!0});return nFe.sanitize(e)}class BFe{element;constructor(e,n){this.element=e,this.update(n)}update(e){this.element.innerHTML='<div class="markdown-content">'+F9(e.value?.toString()??"(null)")+"</div>"}}function pne(t,e){if(t==null)return[];if(typeof t=="string"&&t.length>0)e.push({type:"text",text:t});else if(t instanceof Array)for(let n of t)pne(n,e);else typeof t=="object"&&(t.text!=null&&typeof t.text=="string"&&t.text.length>0&&e.push({type:"text",text:t.text}),t.image!=null&&typeof t.image=="string"&&t.image.length>0&&e.push({type:"image",imageUrl:t.image}),t.image_url!=null&&typeof t.image_url=="string"&&t.image_url.length>0&&e.push({type:"image",imageUrl:t.image_url}))}function zFe(t){if(t==null||typeof t!="object")return;let e=t.role?.toString()??"(null)",n=[],r={...t};delete r.role;for(let i of["content","contents"]){let s=t[i];s!=null&&(pne(s,n),delete r[i])}for(let i in r)r[i]==null&&delete r[i];return{role:e,content:n,remaining:r}}class UFe{element;constructor(e,n){this.element=e,this.update(n)}update(e){let n=document.createElement("div");if(e.value==null)n.innerText="(null)";else if(typeof e.value=="string")n.innerText=e.value;else if(e.value instanceof Array)for(let r of e.value){let i=zFe(r);i!=null&&n.appendChild(Gy("div",{class:"mb-1 flex flex-col gap-1",children:[Gy("div",{class:"text-xs font-bold border-b text-gray-400 dark:text-gray-500 border-gray-400 dark:border-gray-500",innerText:i.role}),...i.content.map(s=>{if(s.type=="text")return Gy("div",{class:"prose dark:prose-invert max-w-none",innerHTML:F9(s.text)});if(s.type=="image")return Gy("img",{class:"max-w-120 max-h-120 object-contain",attrs:{src:s.imageUrl}})}),Object.keys(i.remaining).length>0?Gy("pre",{class:"border rounded-md p-1 bg-gray-100 border-gray-200 dark:bg-gray-800 dark:border-gray-700 text-xs",innerText:k9(i.remaining,2)}):null]}))}this.element.replaceChildren(n)}}function Gy(t,e){let n=document.createElement(t);if(e.innerText!=null&&(n.innerText=e.innerText),e.innerHTML!=null&&(n.innerHTML=e.innerHTML),e.class!=null&&(n.className=e.class),e.attrs!=null)for(let[r,i]of Object.entries(e.attrs))n.setAttribute(r,i);return e.children!=null&&n.replaceChildren(...e.children.filter(r=>r!=null)),n}class jFe{element;constructor(e,n){this.element=e,this.update(n)}update(e){if(e.value!=null){let n=document.createElement("a");n.href=e.value,n.innerText=e.value,n.className="underline",n.target="_blank",this.element.replaceChildren(n)}else this.element.innerText="(null)"}}let mne={markdown:BFe,image:$Ie,url:jFe,json:IIe,messages:UFe},qFe=[{renderer:"markdown",label:"Markdown"},{renderer:"image",label:"Image"},{renderer:"url",label:"Link"},{renderer:"json",label:"JSON"},{renderer:"messages",label:"Messages"}];function yz(t){if(t!=null)return typeof t=="string"?mne[t]:t}function VFe(t){return typeof t=="string"&&(t.startsWith("http://")||t.startsWith("https://"))}function XFe(t){return t==null?!1:!!(typeof t=="string"&&t.startsWith("data:image/")||t.bytes&&t.bytes instanceof Uint8Array)}function M9(t){if(t==null)return"(null)";if(typeof t=="string")return t.toString();if(typeof t=="number")return t.toLocaleString();if(Array.isArray(t))return"["+t.map(e=>M9(e)).join(", ")+"]";try{return k9(t)}catch{return t.toString()}}var ZFe=ce('<a class="underline" target="_blank"> </a>'),WFe=ce('<img alt="" class="max-w-24 max-h-24"/>'),YFe=ce("<div></div>");function cT(t,e){Ke(e,!0);let n=ht(e,"value",3,""),r=ht(e,"rendererOptions",19,()=>({})),i=X(()=>e.renderer!=null?mne[e.renderer]??null:null);function s(c,f){let h=new f.class(c,{value:f.value,...f.options});return{update(d){h.update?.({value:d.value,...d.options})},destroy(){h.destroy?.()}}}var o=At(),a=Be(o);{var l=c=>{var f=At(),h=Be(f);{var d=g=>{var b=ZFe(),v=H(b,!0);W(b),Pe(()=>{pe(b,"href",n()),Tt(v,n())}),j(g,b)},m=g=>{var b=At(),v=Be(b);{var O=C=>{var S=WFe();Pe(A=>pe(S,"src",A),[()=>Kte(n())]),j(C,S)},x=C=>{var S=xa();Pe(A=>Tt(S,A),[()=>M9(n())]),j(C,S)};Oe(v,C=>{XFe(n())?C(O):C(x,!1)},!0)}j(g,b)};Oe(h,g=>{VFe(n())?g(d):g(m,!1)})}j(c,f)},u=c=>{var f=At(),h=Be(f);cD(h,()=>w(i),d=>{var m=YFe();ei(m,(g,b)=>s?.(g,b),()=>({class:w(i),value:n(),options:r()??{}})),j(d,m)}),j(c,f)};Oe(a,c=>{w(i)==null?c(l):c(u,!1)})}j(t,o),Je()}var GFe=ce("<div><!></div>");function Ed(t,e){let n=ht(e,"defaultWidth",3,null),r=ht(e,"defaultHeight",3,null),i=ht(e,"scrollX",3,!1),s=ht(e,"scrollY",3,!1),o=X(()=>e.width!=null?e.width:i()?void 0:n()),a=X(()=>e.height!=null?e.height:s()?void 0:r());var l=GFe();let u;var c=H(l);vc(c,()=>e.children),W(l),Pe(()=>{ur(l,1,`p-2 ${e.class??""??""}`),u=ot(l,"",u,{width:w(o)!=null?`${w(o)}px`:void 0,height:w(a)!=null?`${w(a)}px`:void 0,"overflow-x":i()&&e.width!=null?"auto":void 0,"overflow-y":s()&&e.height!=null?"auto":void 0})}),j(t,l)}function HFe(t,e){Ke(e,!0);const n=()=>ki(s,"$columnStyles",r),[r,i]=za();let{columnStyles:s}=e.context,o=Ie(void 0);or(()=>e.context.highlight.subscribe(async l=>{if(l==null)return;let u=await e.context.coordinator.query(lt.from(e.context.table).select({value:e.spec.field}).where(Sa(be(e.context.id,e.context.table),et(l))));se(o,u.get(0)?.value??void 0,!0)}));let a=X(()=>n()[e.spec.field]?.renderer);Ed(t,{get width(){return e.width},get height(){return e.height},scrollY:!0,children:(l,u)=>{var c=At(),f=Be(c);{var h=m=>{cT(m,{get value(){return w(o)},get renderer(){return w(a)}})},d=m=>{var g=xa("(null)");j(m,g)};Oe(f,m=>{w(o)!=null?m(h):m(d,!1)})}j(l,c)},$$slots:{default:!0}}),Je(),i()}function yx(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KFe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gne(t){let e,n,r;t.length!==2?(e=yx,n=(a,l)=>yx(t(a),l),r=(a,l)=>t(a)-l):(e=t===yx||t===KFe?t:JFe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:o,right:s}}function JFe(){return 0}function eMe(t){return t===null?NaN:+t}const tMe=gne(yx),nMe=tMe.right;gne(eMe).center;function rMe(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of t)(s=e(s,++i,t))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class bz extends Map{constructor(e,n=oMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(vz(this,e))}has(e){return super.has(vz(this,e))}set(e,n){return super.set(iMe(this,e),n)}delete(e){return super.delete(sMe(this,e))}}function vz({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function iMe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function sMe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function oMe(t){return t!==null&&typeof t=="object"?t.valueOf():t}const aMe=Math.sqrt(50),lMe=Math.sqrt(10),uMe=Math.sqrt(2);function C3(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=aMe?10:s>=lMe?5:s>=uMe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?C3(t,e,n*2):[a,l,u]}function fT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?C3(e,t,n):C3(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function hT(t,e,n){return e=+e,t=+t,n=+n,C3(t,e,n)[2]}function cMe(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?hT(e,t,n):hT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function fMe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}var hMe={value:()=>{}};function yne(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new bx(n)}function bx(t){this._=t}function dMe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}bx.prototype=yne.prototype={constructor:bx,on:function(t,e){var n=this._,r=dMe(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=pMe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Oz(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Oz(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new bx(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function pMe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Oz(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=hMe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var dT="http://www.w3.org/1999/xhtml";const wz={svg:"http://www.w3.org/2000/svg",xhtml:dT,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function b4(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),wz.hasOwnProperty(e)?{space:wz[e],local:t}:t}function mMe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===dT&&e.documentElement.namespaceURI===dT?e.createElement(t):e.createElementNS(n,t)}}function gMe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function bne(t){var e=b4(t);return(e.local?gMe:mMe)(e)}function yMe(){}function L9(t){return t==null?yMe:function(){return this.querySelector(t)}}function bMe(t){typeof t!="function"&&(t=L9(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=t.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new cu(r,this._parents)}function vMe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function OMe(){return[]}function vne(t){return t==null?OMe:function(){return this.querySelectorAll(t)}}function wMe(t){return function(){return vMe(t.apply(this,arguments))}}function _Me(t){typeof t=="function"?t=wMe(t):t=vne(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new cu(r,i)}function One(t){return function(){return this.matches(t)}}function wne(t){return function(e){return e.matches(t)}}var xMe=Array.prototype.find;function SMe(t){return function(){return xMe.call(this.children,t)}}function kMe(){return this.firstElementChild}function CMe(t){return this.select(t==null?kMe:SMe(typeof t=="function"?t:wne(t)))}var AMe=Array.prototype.filter;function EMe(){return Array.from(this.children)}function TMe(t){return function(){return AMe.call(this.children,t)}}function DMe(t){return this.selectAll(t==null?EMe:TMe(typeof t=="function"?t:wne(t)))}function PMe(t){typeof t!="function"&&(t=One(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new cu(r,this._parents)}function _ne(t){return new Array(t.length)}function RMe(){return new cu(this._enter||this._groups.map(_ne),this._parents)}function A3(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}A3.prototype={constructor:A3,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $Me(t){return function(){return t}}function IMe(t,e,n,r,i,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new A3(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function FMe(t,e,n,r,i,s,o){var a,l,u=new Map,c=e.length,f=s.length,h=new Array(c),d;for(a=0;a<c;++a)(l=e[a])&&(h[a]=d=o.call(l,l.__data__,a,e)+"",u.has(d)?i[a]=l:u.set(d,l));for(a=0;a<f;++a)d=o.call(t,s[a],a,s)+"",(l=u.get(d))?(r[a]=l,l.__data__=s[a],u.delete(d)):n[a]=new A3(t,s[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(h[a])===l&&(i[a]=l)}function MMe(t){return t.__data__}function LMe(t,e){if(!arguments.length)return Array.from(this,MMe);var n=e?FMe:IMe,r=this._parents,i=this._groups;typeof t!="function"&&(t=$Me(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],f=i[u],h=f.length,d=NMe(t.call(c,c&&c.__data__,u,r)),m=d.length,g=a[u]=new Array(m),b=o[u]=new Array(m),v=l[u]=new Array(h);n(c,f,g,b,v,d,e);for(var O=0,x=0,C,S;O<m;++O)if(C=g[O]){for(O>=x&&(x=O+1);!(S=b[x])&&++x<m;);C._next=S||null}}return o=new cu(o,r),o._enter=a,o._exit=l,o}function NMe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function QMe(){return new cu(this._exit||this._groups.map(_ne),this._parents)}function BMe(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function zMe(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],f=u.length,h=a[l]=new Array(f),d,m=0;m<f;++m)(d=u[m]||c[m])&&(h[m]=d);for(;l<i;++l)a[l]=n[l];return new cu(a,this._parents)}function UMe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function jMe(t){t||(t=qMe);function e(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new cu(i,this._parents).order()}function qMe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function VMe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function XMe(){return Array.from(this)}function ZMe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function WMe(){let t=0;for(const e of this)++t;return t}function YMe(){return!this.node()}function GMe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function HMe(t){return function(){this.removeAttribute(t)}}function KMe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function JMe(t,e){return function(){this.setAttribute(t,e)}}function eLe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tLe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function nLe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function rLe(t,e){var n=b4(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?KMe:HMe:typeof e=="function"?n.local?nLe:tLe:n.local?eLe:JMe)(n,e))}function xne(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function iLe(t){return function(){this.style.removeProperty(t)}}function sLe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function oLe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function aLe(t,e,n){return arguments.length>1?this.each((e==null?iLe:typeof e=="function"?oLe:sLe)(t,e,n??"")):c1(this.node(),t)}function c1(t,e){return t.style.getPropertyValue(e)||xne(t).getComputedStyle(t,null).getPropertyValue(e)}function lLe(t){return function(){delete this[t]}}function uLe(t,e){return function(){this[t]=e}}function cLe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function fLe(t,e){return arguments.length>1?this.each((e==null?lLe:typeof e=="function"?cLe:uLe)(t,e)):this.node()[t]}function Sne(t){return t.trim().split(/^|\s+/)}function N9(t){return t.classList||new kne(t)}function kne(t){this._node=t,this._names=Sne(t.getAttribute("class")||"")}kne.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Cne(t,e){for(var n=N9(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ane(t,e){for(var n=N9(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function hLe(t){return function(){Cne(this,t)}}function dLe(t){return function(){Ane(this,t)}}function pLe(t,e){return function(){(e.apply(this,arguments)?Cne:Ane)(this,t)}}function mLe(t,e){var n=Sne(t+"");if(arguments.length<2){for(var r=N9(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?pLe:e?hLe:dLe)(n,e))}function gLe(){this.textContent=""}function yLe(t){return function(){this.textContent=t}}function bLe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function vLe(t){return arguments.length?this.each(t==null?gLe:(typeof t=="function"?bLe:yLe)(t)):this.node().textContent}function OLe(){this.innerHTML=""}function wLe(t){return function(){this.innerHTML=t}}function _Le(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function xLe(t){return arguments.length?this.each(t==null?OLe:(typeof t=="function"?_Le:wLe)(t)):this.node().innerHTML}function SLe(){this.nextSibling&&this.parentNode.appendChild(this)}function kLe(){return this.each(SLe)}function CLe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ALe(){return this.each(CLe)}function ELe(t){var e=typeof t=="function"?t:bne(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function TLe(){return null}function DLe(t,e){var n=typeof t=="function"?t:bne(t),r=e==null?TLe:typeof e=="function"?e:L9(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function PLe(){var t=this.parentNode;t&&t.removeChild(this)}function RLe(){return this.each(PLe)}function $Le(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ILe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function FLe(t){return this.select(t?ILe:$Le)}function MLe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function LLe(t){return function(e){t.call(this,e,this.__data__)}}function NLe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function QLe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function BLe(t,e,n){return function(){var r=this.__on,i,s=LLe(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function zLe(t,e,n){var r=NLe(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=e?BLe:QLe,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function Ene(t,e,n){var r=xne(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ULe(t,e){return function(){return Ene(this,t,e)}}function jLe(t,e){return function(){return Ene(this,t,e.apply(this,arguments))}}function qLe(t,e){return this.each((typeof e=="function"?jLe:ULe)(t,e))}function*VLe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var XLe=[null];function cu(t,e){this._groups=t,this._parents=e}function s2(){return new cu([[document.documentElement]],XLe)}function ZLe(){return this}cu.prototype=s2.prototype={constructor:cu,select:bMe,selectAll:_Me,selectChild:CMe,selectChildren:DMe,filter:PMe,data:LMe,enter:RMe,exit:QMe,join:BMe,merge:zMe,selection:ZLe,order:UMe,sort:jMe,call:VMe,nodes:XMe,node:ZMe,size:WMe,empty:YMe,each:GMe,attr:rLe,style:aLe,property:fLe,classed:mLe,text:vLe,html:xLe,raise:kLe,lower:ALe,append:ELe,insert:DLe,remove:RLe,clone:FLe,datum:MLe,on:zLe,dispatch:qLe,[Symbol.iterator]:VLe};function K1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function o2(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ld(){}var f0=.7,f1=1/f0,yg="\\s*([+-]?\\d+)\\s*",sO="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",WLe=/^#([0-9a-f]{3,8})$/,YLe=new RegExp(`^rgb\\(${yg},${yg},${yg}\\)$`),GLe=new RegExp(`^rgb\\(${dc},${dc},${dc}\\)$`),HLe=new RegExp(`^rgba\\(${yg},${yg},${yg},${sO}\\)$`),KLe=new RegExp(`^rgba\\(${dc},${dc},${dc},${sO}\\)$`),JLe=new RegExp(`^hsl\\(${sO},${dc},${dc}\\)$`),eNe=new RegExp(`^hsla\\(${sO},${dc},${dc},${sO}\\)$`),_z={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};K1(Ld,h0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xz,formatHex:xz,formatHex8:tNe,formatHsl:nNe,formatRgb:Sz,toString:Sz});function xz(){return this.rgb().formatHex()}function tNe(){return this.rgb().formatHex8()}function nNe(){return Tne(this).formatHsl()}function Sz(){return this.rgb().formatRgb()}function h0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=WLe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?kz(e):n===3?new as(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?u_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?u_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=YLe.exec(t))?new as(e[1],e[2],e[3],1):(e=GLe.exec(t))?new as(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=HLe.exec(t))?u_(e[1],e[2],e[3],e[4]):(e=KLe.exec(t))?u_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=JLe.exec(t))?Ez(e[1],e[2]/100,e[3]/100,1):(e=eNe.exec(t))?Ez(e[1],e[2]/100,e[3]/100,e[4]):_z.hasOwnProperty(t)?kz(_z[t]):t==="transparent"?new as(NaN,NaN,NaN,0):null}function kz(t){return new as(t>>16&255,t>>8&255,t&255,1)}function u_(t,e,n,r){return r<=0&&(t=e=n=NaN),new as(t,e,n,r)}function Q9(t){return t instanceof Ld||(t=h0(t)),t?(t=t.rgb(),new as(t.r,t.g,t.b,t.opacity)):new as}function h1(t,e,n,r){return arguments.length===1?Q9(t):new as(t,e,n,r??1)}function as(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}K1(as,h1,o2(Ld,{brighter(t){return t=t==null?f1:Math.pow(f1,t),new as(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?f0:Math.pow(f0,t),new as(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new as(jp(this.r),jp(this.g),jp(this.b),E3(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cz,formatHex:Cz,formatHex8:rNe,formatRgb:Az,toString:Az}));function Cz(){return`#${Pp(this.r)}${Pp(this.g)}${Pp(this.b)}`}function rNe(){return`#${Pp(this.r)}${Pp(this.g)}${Pp(this.b)}${Pp((isNaN(this.opacity)?1:this.opacity)*255)}`}function Az(){const t=E3(this.opacity);return`${t===1?"rgb(":"rgba("}${jp(this.r)}, ${jp(this.g)}, ${jp(this.b)}${t===1?")":`, ${t})`}`}function E3(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function jp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pp(t){return t=jp(t),(t<16?"0":"")+t.toString(16)}function Ez(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gl(t,e,n,r)}function Tne(t){if(t instanceof Gl)return new Gl(t.h,t.s,t.l,t.opacity);if(t instanceof Ld||(t=h0(t)),!t)return new Gl;if(t instanceof Gl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Gl(o,a,l,t.opacity)}function iNe(t,e,n,r){return arguments.length===1?Tne(t):new Gl(t,e,n,r??1)}function Gl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}K1(Gl,iNe,o2(Ld,{brighter(t){return t=t==null?f1:Math.pow(f1,t),new Gl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?f0:Math.pow(f0,t),new Gl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new as(K6(t>=240?t-240:t+120,i,r),K6(t,i,r),K6(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Gl(Tz(this.h),c_(this.s),c_(this.l),E3(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=E3(this.opacity);return`${t===1?"hsl(":"hsla("}${Tz(this.h)}, ${c_(this.s)*100}%, ${c_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Tz(t){return t=(t||0)%360,t<0?t+360:t}function c_(t){return Math.max(0,Math.min(1,t||0))}function K6(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Dne=Math.PI/180,Pne=180/Math.PI,T3=18,Rne=.96422,$ne=1,Ine=.82521,Fne=4/29,bg=6/29,Mne=3*bg*bg,sNe=bg*bg*bg;function Lne(t){if(t instanceof pc)return new pc(t.l,t.a,t.b,t.opacity);if(t instanceof Df)return Qne(t);t instanceof as||(t=Q9(t));var e=nA(t.r),n=nA(t.g),r=nA(t.b),i=J6((.2225045*e+.7168786*n+.0606169*r)/$ne),s,o;return e===n&&n===r?s=o=i:(s=J6((.4360747*e+.3850649*n+.1430804*r)/Rne),o=J6((.0139322*e+.0971045*n+.7141733*r)/Ine)),new pc(116*i-16,500*(s-i),200*(i-o),t.opacity)}function Nne(t,e,n,r){return arguments.length===1?Lne(t):new pc(t,e,n,r??1)}function pc(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}K1(pc,Nne,o2(Ld,{brighter(t){return new pc(this.l+T3*(t??1),this.a,this.b,this.opacity)},darker(t){return new pc(this.l-T3*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Rne*eA(e),t=$ne*eA(t),n=Ine*eA(n),new as(tA(3.1338561*e-1.6168667*t-.4906146*n),tA(-.9787684*e+1.9161415*t+.033454*n),tA(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function J6(t){return t>sNe?Math.pow(t,1/3):t/Mne+Fne}function eA(t){return t>bg?t*t*t:Mne*(t-Fne)}function tA(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function nA(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function oNe(t){if(t instanceof Df)return new Df(t.h,t.c,t.l,t.opacity);if(t instanceof pc||(t=Lne(t)),t.a===0&&t.b===0)return new Df(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Pne;return new Df(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function aNe(t,e,n,r){return arguments.length===1?oNe(t):new Df(t,e,n,r??1)}function Df(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Qne(t){if(isNaN(t.h))return new pc(t.l,0,0,t.opacity);var e=t.h*Dne;return new pc(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}K1(Df,aNe,o2(Ld,{brighter(t){return new Df(this.h,this.c,this.l+T3*(t??1),this.opacity)},darker(t){return new Df(this.h,this.c,this.l-T3*(t??1),this.opacity)},rgb(){return Qne(this).rgb()}}));var Bne=-.14861,B9=1.78277,z9=-.29227,v4=-.90649,oO=1.97294,Dz=oO*v4,Pz=oO*B9,Rz=B9*z9-v4*Bne;function lNe(t){if(t instanceof qp)return new qp(t.h,t.s,t.l,t.opacity);t instanceof as||(t=Q9(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Rz*r+Dz*e-Pz*n)/(Rz+Dz-Pz),s=r-i,o=(oO*(n-i)-z9*s)/v4,a=Math.sqrt(o*o+s*s)/(oO*i*(1-i)),l=a?Math.atan2(o,s)*Pne-120:NaN;return new qp(l<0?l+360:l,a,i,t.opacity)}function Cc(t,e,n,r){return arguments.length===1?lNe(t):new qp(t,e,n,r??1)}function qp(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}K1(qp,Cc,o2(Ld,{brighter(t){return t=t==null?f1:Math.pow(f1,t),new qp(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?f0:Math.pow(f0,t),new qp(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Dne,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new as(255*(e+n*(Bne*r+B9*i)),255*(e+n*(z9*r+v4*i)),255*(e+n*(oO*r)),this.opacity)}}));function uNe(t,e,n,r,i){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*r+o*i)/6}function cNe(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1],o=r>0?t[r-1]:2*i-s,a=r<e-1?t[r+2]:2*s-i;return uNe((n-r/e)*e,o,i,s,a)}}const O4=t=>()=>t;function zne(t,e){return function(n){return t+n*e}}function fNe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function hNe(t,e){var n=e-t;return n?zne(t,n>180||n<-180?n-360*Math.round(n/360):n):O4(isNaN(t)?e:t)}function dNe(t){return(t=+t)==1?vg:function(e,n){return n-e?fNe(e,n,t):O4(isNaN(e)?n:e)}}function vg(t,e){var n=e-t;return n?zne(t,n):O4(isNaN(t)?e:t)}const D3=(function t(e){var n=dNe(e);function r(i,s){var o=n((i=h1(i)).r,(s=h1(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=vg(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r})(1);function pNe(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),s=new Array(n),o,a;for(o=0;o<n;++o)a=h1(e[o]),r[o]=a.r||0,i[o]=a.g||0,s[o]=a.b||0;return r=t(r),i=t(i),s=t(s),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=s(l),a+""}}}var Une=pNe(cNe);function mNe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function gNe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yNe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=U9(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function bNe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Zl(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vNe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=U9(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var pT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rA=new RegExp(pT.source,"g");function ONe(t){return function(){return t}}function wNe(t){return function(e){return t(e)+""}}function jne(t,e){var n=pT.lastIndex=rA.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=pT.exec(t))&&(i=rA.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Zl(r,i)})),n=rA.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?wNe(l[0].x):ONe(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function U9(t,e){var n=typeof e,r;return e==null||n==="boolean"?O4(e):(n==="number"?Zl:n==="string"?(r=h0(e))?(e=r,D3):jne:e instanceof h0?D3:e instanceof Date?bNe:gNe(e)?mNe:Array.isArray(e)?yNe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vNe:Zl)(t,e)}function _Ne(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var $z=180/Math.PI,mT={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function qne(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*$z,skewX:Math.atan(l)*$z,scaleX:o,scaleY:a}}var f_;function xNe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?mT:qne(e.a,e.b,e.c,e.d,e.e,e.f)}function SNe(t){return t==null||(f_||(f_=document.createElementNS("http://www.w3.org/2000/svg","g")),f_.setAttribute("transform",t),!(t=f_.transform.baseVal.consolidate()))?mT:(t=t.matrix,qne(t.a,t.b,t.c,t.d,t.e,t.f))}function Vne(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,f,h,d,m){if(u!==f||c!==h){var g=d.push("translate(",null,e,null,n);m.push({i:g-4,x:Zl(u,f)},{i:g-2,x:Zl(c,h)})}else(f||h)&&d.push("translate("+f+e+h+n)}function o(u,c,f,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Zl(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,h){u!==c?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Zl(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,h,d,m){if(u!==f||c!==h){var g=d.push(i(d)+"scale(",null,",",null,")");m.push({i:g-4,x:Zl(u,f)},{i:g-2,x:Zl(c,h)})}else(f!==1||h!==1)&&d.push(i(d)+"scale("+f+","+h+")")}return function(u,c){var f=[],h=[];return u=t(u),c=t(c),s(u.translateX,u.translateY,c.translateX,c.translateY,f,h),o(u.rotate,c.rotate,f,h),a(u.skewX,c.skewX,f,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,h),u=c=null,function(d){for(var m=-1,g=h.length,b;++m<g;)f[(b=h[m]).i]=b.x(d);return f.join("")}}}var kNe=Vne(xNe,"px, ","px)","deg)"),CNe=Vne(SNe,", ",")",")");function Xne(t){return(function e(n){n=+n;function r(i,s){var o=t((i=Cc(i)).h,(s=Cc(s)).h),a=vg(i.s,s.s),l=vg(i.l,s.l),u=vg(i.opacity,s.opacity);return function(c){return i.h=o(c),i.s=a(c),i.l=l(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=e,r})(1)}Xne(hNe);var j9=Xne(vg),d1=0,kb=0,Hy=0,Zne=1e3,P3,Cb,R3=0,d0=0,w4=0,aO=typeof performance=="object"&&performance.now?performance:Date,Wne=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function q9(){return d0||(Wne(ANe),d0=aO.now()+w4)}function ANe(){d0=0}function $3(){this._call=this._time=this._next=null}$3.prototype=Yne.prototype={constructor:$3,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?q9():+n)+(e==null?0:+e),!this._next&&Cb!==this&&(Cb?Cb._next=this:P3=this,Cb=this),this._call=t,this._time=n,gT()},stop:function(){this._call&&(this._call=null,this._time=1/0,gT())}};function Yne(t,e,n){var r=new $3;return r.restart(t,e,n),r}function ENe(){q9(),++d1;for(var t=P3,e;t;)(e=d0-t._time)>=0&&t._call.call(void 0,e),t=t._next;--d1}function Iz(){d0=(R3=aO.now())+w4,d1=kb=0;try{ENe()}finally{d1=0,DNe(),d0=0}}function TNe(){var t=aO.now(),e=t-R3;e>Zne&&(w4-=e,R3=t)}function DNe(){for(var t,e=P3,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:P3=n);Cb=t,gT(r)}function gT(t){if(!d1){kb&&(kb=clearTimeout(kb));var e=t-d0;e>24?(t<1/0&&(kb=setTimeout(Iz,t-aO.now()-w4)),Hy&&(Hy=clearInterval(Hy))):(Hy||(R3=aO.now(),Hy=setInterval(TNe,Zne)),d1=1,Wne(Iz))}}function Fz(t,e,n){var r=new $3;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var PNe=yne("start","end","cancel","interrupt"),RNe=[],Gne=0,Mz=1,yT=2,vx=3,Lz=4,bT=5,Ox=6;function _4(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;$Ne(t,n,{name:e,index:r,group:i,on:PNe,tween:RNe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Gne})}function V9(t,e){var n=_u(t,e);if(n.state>Gne)throw new Error("too late; already scheduled");return n}function zc(t,e){var n=_u(t,e);if(n.state>vx)throw new Error("too late; already running");return n}function _u(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function $Ne(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Yne(s,0,n.time);function s(u){n.state=Mz,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,f,h,d;if(n.state!==Mz)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===vx)return Fz(o);d.state===Lz?(d.state=Ox,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Ox,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(Fz(function(){n.state===vx&&(n.state=Lz,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=yT,n.on.call("start",t,t.__data__,n.index,n.group),n.state===yT){for(n.state=vx,i=new Array(h=n.tween.length),c=0,f=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=d);i.length=f+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=bT,1),f=-1,h=i.length;++f<h;)i[f].call(t,c);n.state===bT&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Ox,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function INe(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>yT&&r.state<bT,r.state=Ox,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function FNe(t){return this.each(function(){INe(this,t)})}function MNe(t,e){var n,r;return function(){var i=zc(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function LNe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=zc(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function NNe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=_u(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?MNe:LNe)(n,t,e))}function X9(t,e,n){var r=t._id;return t.each(function(){var i=zc(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return _u(i,r).value[e]}}function Hne(t,e){var n;return(typeof e=="number"?Zl:e instanceof h0?D3:(n=h0(e))?(e=n,D3):jne)(t,e)}function QNe(t){return function(){this.removeAttribute(t)}}function BNe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zNe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function UNe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function jNe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function qNe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function VNe(t,e){var n=b4(t),r=n==="transform"?CNe:Hne;return this.attrTween(t,typeof e=="function"?(n.local?qNe:jNe)(n,r,X9(this,"attr."+t,e)):e==null?(n.local?BNe:QNe)(n):(n.local?UNe:zNe)(n,r,e))}function XNe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ZNe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function WNe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&ZNe(t,s)),n}return i._value=e,i}function YNe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&XNe(t,s)),n}return i._value=e,i}function GNe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=b4(t);return this.tween(n,(r.local?WNe:YNe)(r,e))}function HNe(t,e){return function(){V9(this,t).delay=+e.apply(this,arguments)}}function KNe(t,e){return e=+e,function(){V9(this,t).delay=e}}function JNe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?HNe:KNe)(e,t)):_u(this.node(),e).delay}function eQe(t,e){return function(){zc(this,t).duration=+e.apply(this,arguments)}}function tQe(t,e){return e=+e,function(){zc(this,t).duration=e}}function nQe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?eQe:tQe)(e,t)):_u(this.node(),e).duration}function rQe(t,e){if(typeof e!="function")throw new Error;return function(){zc(this,t).ease=e}}function iQe(t){var e=this._id;return arguments.length?this.each(rQe(e,t)):_u(this.node(),e).ease}function sQe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;zc(this,t).ease=n}}function oQe(t){if(typeof t!="function")throw new Error;return this.each(sQe(this._id,t))}function aQe(t){typeof t!="function"&&(t=One(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new Hf(r,this._parents,this._name,this._id)}function lQe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=n[a],c=l.length,f=o[a]=new Array(c),h,d=0;d<c;++d)(h=l[d]||u[d])&&(f[d]=h);for(;a<r;++a)o[a]=e[a];return new Hf(o,this._parents,this._name,this._id)}function uQe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function cQe(t,e,n){var r,i,s=uQe(e)?V9:zc;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function fQe(t,e){var n=this._id;return arguments.length<2?_u(this.node(),n).on.on(t):this.each(cQe(n,t,e))}function hQe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function dQe(){return this.on("end.remove",hQe(this._id))}function pQe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=L9(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,f,h=0;h<l;++h)(c=a[h])&&(f=t.call(c,c.__data__,h,a))&&("__data__"in c&&(f.__data__=c.__data__),u[h]=f,_4(u[h],e,n,h,u,_u(c,n)));return new Hf(s,this._parents,e,n)}function mQe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=vne(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var h=t.call(c,c.__data__,f,l),d,m=_u(c,n),g=0,b=h.length;g<b;++g)(d=h[g])&&_4(d,e,n,g,h,m);s.push(h),o.push(c)}return new Hf(s,o,e,n)}var gQe=s2.prototype.constructor;function yQe(){return new gQe(this._groups,this._parents)}function bQe(t,e){var n,r,i;return function(){var s=c1(this,t),o=(this.style.removeProperty(t),c1(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function Kne(t){return function(){this.style.removeProperty(t)}}function vQe(t,e,n){var r,i=n+"",s;return function(){var o=c1(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function OQe(t,e,n){var r,i,s;return function(){var o=c1(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),c1(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function wQe(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=zc(this,t),u=l.on,c=l.value[s]==null?a||(a=Kne(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function _Qe(t,e,n){var r=(t+="")=="transform"?kNe:Hne;return e==null?this.styleTween(t,bQe(t,r)).on("end.style."+t,Kne(t)):typeof e=="function"?this.styleTween(t,OQe(t,r,X9(this,"style."+t,e))).each(wQe(this._id,t)):this.styleTween(t,vQe(t,r,e),n).on("end.style."+t,null)}function xQe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function SQe(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&xQe(t,o,n)),r}return s._value=e,s}function kQe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,SQe(t,e,n??""))}function CQe(t){return function(){this.textContent=t}}function AQe(t){return function(){var e=t(this);this.textContent=e??""}}function EQe(t){return this.tween("text",typeof t=="function"?AQe(X9(this,"text",t)):CQe(t==null?"":t+""))}function TQe(t){return function(e){this.textContent=t.call(this,e)}}function DQe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&TQe(i)),e}return r._value=t,r}function PQe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,DQe(t))}function RQe(){for(var t=this._name,e=this._id,n=Jne(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=_u(l,e);_4(l,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Hf(r,this._parents,t,n)}function $Qe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=zc(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&s()})}var IQe=0;function Hf(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Jne(){return++IQe}var rf=s2.prototype;Hf.prototype={constructor:Hf,select:pQe,selectAll:mQe,selectChild:rf.selectChild,selectChildren:rf.selectChildren,filter:aQe,merge:lQe,selection:yQe,transition:RQe,call:rf.call,nodes:rf.nodes,node:rf.node,size:rf.size,empty:rf.empty,each:rf.each,on:fQe,attr:VNe,attrTween:GNe,style:_Qe,styleTween:kQe,text:EQe,textTween:PQe,remove:dQe,tween:NNe,delay:JNe,duration:nQe,ease:iQe,easeVarying:oQe,end:$Qe,[Symbol.iterator]:rf[Symbol.iterator]};function FQe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var MQe={time:null,delay:0,duration:250,ease:FQe};function LQe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function NQe(t){var e,n;t instanceof Hf?(e=t._id,t=t._name):(e=Jne(),(n=MQe).time=q9(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&_4(l,t,e,u,o,n||LQe(l,e));return new Hf(r,this._parents,t,e)}s2.prototype.interrupt=FNe;s2.prototype.transition=NQe;const vT=Math.PI,OT=2*vT,up=1e-6,QQe=OT-up;function ere(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function BQe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ere;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class zQe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ere:BQe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,u=i-n,c=o-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>up)if(!(Math.abs(f*l-u*c)>up)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-o,m=i-a,g=l*l+u*u,b=d*d+m*m,v=Math.sqrt(g),O=Math.sqrt(h),x=s*Math.tan((vT-Math.acos((g+h-b)/(2*v*O)))/2),C=x/O,S=x/v;Math.abs(C-1)>up&&this._append`L${e+C*c},${n+C*f}`,this._append`A${s},${s},0,0,${+(f*d>c*m)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>up||Math.abs(this._y1-c)>up)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%OT+OT),h>QQe?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>up&&this._append`A${r},${r},0,${+(h>=vT)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function UQe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function I3(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function p1(t){return t=I3(Math.abs(t)),t?t[1]:NaN}function jQe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function qQe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var VQe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lO(t){if(!(e=VQe.exec(t)))throw new Error("invalid format: "+t);var e;return new Z9({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lO.prototype=Z9.prototype;function Z9(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Z9.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XQe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var tre;function ZQe(t,e){var n=I3(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(tre=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+I3(t,Math.max(0,e+s-1))[0]}function Nz(t,e){var n=I3(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Qz={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:UQe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Nz(t*100,e),r:Nz,s:ZQe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Bz(t){return t}var zz=Array.prototype.map,Uz=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function WQe(t){var e=t.grouping===void 0||t.thousands===void 0?Bz:jQe(zz.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Bz:qQe(zz.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"â":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=lO(f);var h=f.fill,d=f.align,m=f.sign,g=f.symbol,b=f.zero,v=f.width,O=f.comma,x=f.precision,C=f.trim,S=f.type;S==="n"?(O=!0,S="g"):Qz[S]||(x===void 0&&(x=12),C=!0,S="g"),(b||h==="0"&&d==="=")&&(b=!0,h="0",d="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=g==="$"?r:/[%p]/.test(S)?o:"",T=Qz[S],D=/[defgprs%]/.test(S);x=x===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function $(M){var L=A,R=k,I,B,z;if(S==="c")R=T(M)+R,M="";else{M=+M;var Z=M<0||1/M<0;if(M=isNaN(M)?l:T(Math.abs(M),x),C&&(M=XQe(M)),Z&&+M==0&&m!=="+"&&(Z=!1),L=(Z?m==="("?m:a:m==="-"||m==="("?"":m)+L,R=(S==="s"?Uz[8+tre/3]:"")+R+(Z&&m==="("?")":""),D){for(I=-1,B=M.length;++I<B;)if(z=M.charCodeAt(I),48>z||z>57){R=(z===46?i+M.slice(I+1):M.slice(I))+R,M=M.slice(0,I);break}}}O&&!b&&(M=e(M,1/0));var J=L.length+M.length+R.length,ee=J<v?new Array(v-J+1).join(h):"";switch(O&&b&&(M=e(ee+M,ee.length?v-R.length:1/0),ee=""),d){case"<":M=L+M+R+ee;break;case"=":M=L+ee+M+R;break;case"^":M=ee.slice(0,J=ee.length>>1)+L+M+R+ee.slice(J);break;default:M=ee+L+M+R;break}return s(M)}return $.toString=function(){return f+""},$}function c(f,h){var d=u((f=lO(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(p1(h)/3)))*3,g=Math.pow(10,-m),b=Uz[8+m/3];return function(v){return d(g*v)+b}}return{format:u,formatPrefix:c}}var h_,R0,nre;YQe({thousands:",",grouping:[3],currency:["$",""]});function YQe(t){return h_=WQe(t),R0=h_.format,nre=h_.formatPrefix,h_}function GQe(t){return Math.max(0,-p1(Math.abs(t)))}function HQe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(p1(e)/3)))*3-p1(Math.abs(t)))}function KQe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,p1(e)-p1(t))+1}function a2(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const jz=Symbol("implicit");function rre(){var t=new bz,e=[],n=[],r=jz;function i(s){let o=t.get(s);if(o===void 0){if(r!==jz)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new bz;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return rre(e,n).unknown(r)},a2.apply(i,arguments),i}function ire(){var t=rre().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,d=i<r,m=d?i:r,g=d?r:i;s=(g-m)/Math.max(1,h-l+u*2),a&&(s=Math.floor(s)),m+=(g-m-s*(h-l))*c,o=s*(1-l),a&&(m=Math.round(m),o=Math.round(o));var b=fMe(h).map(function(v){return m+s*v});return n(d?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return ire(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},a2.apply(f(),arguments)}function JQe(t){return function(){return t}}function eBe(t){return+t}var qz=[0,1];function jm(t){return t}function wT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:JQe(isNaN(e)?NaN:.5)}function tBe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function nBe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=wT(i,r),s=n(o,s)):(r=wT(r,i),s=n(s,o)),function(a){return s(r(a))}}function rBe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=wT(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=nMe(t,a,1,r)-1;return s[l](i[l](a))}}function W9(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Y9(){var t=qz,e=qz,n=U9,r,i,s,o=jm,a,l,u;function c(){var h=Math.min(t.length,e.length);return o!==jm&&(o=tBe(t[0],t[h-1])),a=h>2?rBe:nBe,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=a(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=a(e,t.map(r),Zl)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,eBe),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=_Ne,c()},f.clamp=function(h){return arguments.length?(o=h?!0:jm,c()):o!==jm},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,d){return r=h,i=d,c()}}function iBe(){return Y9()(jm,jm)}function sBe(t,e,n,r){var i=cMe(t,e,n),s;switch(r=lO(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=HQe(i,o))&&(r.precision=s),nre(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=KQe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=GQe(i))&&(r.precision=s-(r.type==="%")*2);break}}return R0(r)}function sre(t){var e=t.domain;return t.ticks=function(n){var r=e();return fT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return sBe(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,c=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);c-- >0;){if(u=hT(o,a,n),u===l)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function J1(){var t=iBe();return t.copy=function(){return W9(t,J1())},a2.apply(t,arguments),sre(t)}function oBe(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Vz(t){return Math.log(t)}function Xz(t){return Math.exp(t)}function aBe(t){return-Math.log(-t)}function lBe(t){return-Math.exp(-t)}function uBe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cBe(t){return t===10?uBe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fBe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Zz(t){return(e,n)=>-t(-e,n)}function hBe(t){const e=t(Vz,Xz),n=e.domain;let r=10,i,s;function o(){return i=fBe(r),s=cBe(r),n()[0]<0?(i=Zz(i),s=Zz(s),t(aBe,lBe)):t(Vz,Xz),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),d=i(c),m,g;const b=a==null?10:+a;let v=[];if(!(r%1)&&d-h<b){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(m=1;m<r;++m)if(g=h<0?m/s(-h):m*s(h),!(g<u)){if(g>c)break;v.push(g)}}else for(;h<=d;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/s(-h):m*s(h),!(g<u)){if(g>c)break;v.push(g)}v.length*2<b&&(v=fT(u,c,b))}else v=fT(h,d,Math.min(d-h,b)).map(s);return f?v.reverse():v},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=lO(l)).precision==null&&(l.trim=!0),l=R0(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/s(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(oBe(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function uO(){const t=hBe(Y9()).domain([1,10]);return t.copy=()=>W9(t,uO()).base(t.base()),a2.apply(t,arguments),t}function Wz(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Yz(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function dBe(t){var e=1,n=t(Wz(e),Yz(e));return n.constant=function(r){return arguments.length?t(Wz(e=+r),Yz(e)):e},sre(n)}function ore(){var t=dBe(Y9());return t.copy=function(){return W9(t,ore()).constant(t.constant())},a2.apply(t,arguments)}function qn(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Or=t=>Une(t[t.length-1]);var pBe=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(qn);const mBe=Or(pBe);var gBe=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(qn);const yBe=Or(gBe);var bBe=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(qn);const vBe=Or(bBe);var OBe=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(qn);const wBe=Or(OBe);var _Be=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(qn);const xBe=Or(_Be);var SBe=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(qn);const kBe=Or(SBe);var CBe=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(qn);const ABe=Or(CBe);var EBe=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(qn);const TBe=Or(EBe);var DBe=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(qn);const PBe=Or(DBe);var RBe=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(qn);const $Be=Or(RBe);var IBe=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(qn);const FBe=Or(IBe);var MBe=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(qn);const LBe=Or(MBe);var NBe=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(qn);const QBe=Or(NBe);var BBe=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(qn);const zBe=Or(BBe);var UBe=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(qn);const jBe=Or(UBe);var qBe=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(qn);const VBe=Or(qBe);var XBe=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(qn);const ZBe=Or(XBe);var WBe=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(qn);const YBe=Or(WBe);var GBe=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(qn);const HBe=Or(GBe);var KBe=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(qn);const JBe=Or(KBe);var eze=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(qn);const tze=Or(eze);var nze=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(qn);const rze=Or(nze);var ize=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(qn);const sze=Or(ize);var oze=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(qn);const aze=Or(oze);var lze=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(qn);const uze=Or(lze);var cze=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(qn);const fze=Or(cze);var hze=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(qn);const dze=Or(hze);function pze(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const mze=j9(Cc(300,.5,0),Cc(-240,.5,1));var gze=j9(Cc(-100,.75,.35),Cc(80,1.5,.8)),yze=j9(Cc(260,.75,.35),Cc(80,1.5,.8)),d_=Cc();function bze(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return d_.h=360*t-100,d_.s=1.5-1.5*e,d_.l=.8-.9*e,d_+""}var p_=h1(),vze=Math.PI/3,Oze=Math.PI*2/3;function wze(t){var e;return t=(.5-t)*Math.PI,p_.r=255*(e=Math.sin(t))*e,p_.g=255*(e=Math.sin(t+vze))*e,p_.b=255*(e=Math.sin(t+Oze))*e,p_+""}function G9(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function x4(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const _ze=x4(qn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var xze=x4(qn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Sze=x4(qn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),kze=x4(qn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ns(t){return function(){return t}}const Gz=1e-12;function are(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new zQe(e)}function lre(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ure(t){this._context=t}ure.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function F3(t){return new ure(t)}function cre(t){return t[0]}function fre(t){return t[1]}function hre(t,e){var n=ns(!0),r=null,i=F3,s=null,o=are(a);t=typeof t=="function"?t:t===void 0?cre:ns(t),e=typeof e=="function"?e:e===void 0?fre:ns(e);function a(l){var u,c=(l=lre(l)).length,f,h=!1,d;for(r==null&&(s=i(d=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,l),+e(f,u,l));if(d)return s=null,d+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:ns(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:ns(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ns(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function Hz(t,e,n){var r=null,i=ns(!0),s=null,o=F3,a=null,l=are(u);t=typeof t=="function"?t:t===void 0?cre:ns(+t),e=typeof e=="function"?e:ns(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?fre:ns(+n);function u(f){var h,d,m,g=(f=lre(f)).length,b,v=!1,O,x=new Array(g),C=new Array(g);for(s==null&&(a=o(O=l())),h=0;h<=g;++h){if(!(h<g&&i(b=f[h],h,f))===v)if(v=!v)d=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=h-1;m>=d;--m)a.point(x[m],C[m]);a.lineEnd(),a.areaEnd()}v&&(x[h]=+t(b,h,f),C[h]=+e(b,h,f),a.point(r?+r(b,h,f):x[h],n?+n(b,h,f):C[h]))}if(O)return a=null,O+""||null}function c(){return hre().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ns(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ns(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ns(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ns(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ns(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ns(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ns(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(a=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=a=null:a=o(s=f),u):s},u}function Kz(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dre(t){this._context=t}dre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kz(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kz(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cze(t){return new dre(t)}function Jz(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function H9(t,e){this._context=t,this._k=(1-e)/6}H9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Jz(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Jz(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Aze=(function t(e){function n(r){return new H9(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Eze(t,e,n){var r=t._x1,i=t._y1,s=t._x2,o=t._y2;if(t._l01_a>Gz){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Gz){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*u+t._x1*t._l23_2a-e*t._l12_2a)/c,o=(o*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,s,o,t._x2,t._y2)}function pre(t,e){this._context=t,this._alpha=e}pre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Eze(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Tze=(function t(e){function n(r){return e?new pre(r,e):new H9(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function eU(t){return t<0?-1:1}function tU(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(eU(s)+eU(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function nU(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function iA(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function M3(t){this._context=t}M3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iA(this,this._t0,nU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,iA(this,nU(this,n=tU(this,t,e)),n);break;default:iA(this,this._t0,n=tU(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function mre(t){this._context=new gre(t)}(mre.prototype=Object.create(M3.prototype)).point=function(t,e){M3.prototype.point.call(this,e,t)};function gre(t){this._context=t}gre.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Dze(t){return new M3(t)}function Pze(t){return new mre(t)}function yre(t){this._context=t}yre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=rU(t),i=rU(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function rU(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Rze(t){return new yre(t)}function S4(t,e){this._context=t,this._t=e}S4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function $ze(t){return new S4(t,.5)}function Ize(t){return new S4(t,0)}function Fze(t){return new S4(t,1)}function Ab(t,e,n){this.k=t,this.x=e,this.y=n}Ab.prototype={constructor:Ab,scale:function(t){return t===1?this:new Ab(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ab(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ab.prototype;var bf={slate:{300:"oklch(86.9% 0.022 252.894)",400:"oklch(70.4% 0.04 256.788)",500:"oklch(55.4% 0.046 257.417)",700:"oklch(37.2% 0.044 257.287)"},gray:{500:"oklch(55.1% 0.027 264.364)"}};function iU(t){return t===void 0?"undefined":JSON.stringify(t)}function Mze(t){if(t!=="undefined")return JSON.parse(t)}var Lze=ce("<option disabled selected> </option>"),Nze=ce("<hr/>"),Qze=ce("<option> </option>"),Bze=ce("<select><!><!></select>");function _T(t,e){Ke(e,!0);let n=ht(e,"disabled",3,!1),r=ht(e,"placeholder",3,null),i=ht(e,"options",19,()=>[]),s=ht(e,"onChange",3,void 0),o,a=X(()=>i().filter(d=>d!=="---"&&d.value===void 0)[0]);var l=Bze();l.__change=()=>{o&&s()&&s()(Mze(o.value))};var u=H(l);{var c=d=>{var m=Lze(),g=H(m,!0);W(m),m.value=m.__value="undefined",Pe(()=>Tt(g,r())),j(d,m)};Oe(u,d=>{r()!=null&&!w(a)&&d(c)})}var f=ae(u);Zt(f,17,i,Rn,(d,m)=>{var g=At(),b=Be(g);{var v=x=>{var C=Nze();j(x,C)},O=x=>{var C=Qze(),S=H(C,!0);W(C);var A={};Pe(k=>{Tt(S,w(m).label),A!==(A=k)&&(C.value=(C.__value=k)??"")},[()=>iU(w(m).value)]),j(x,C)};Oe(b,x=>{w(m)==="---"?x(v):x(O,!1)})}j(d,g)}),W(l),Ol(l,d=>o=d,()=>o);var h;Gq(l),Pe(d=>{ur(l,1,xO(e.class)),ot(l,e.style),l.disabled=n(),h!==(h=d)&&(l.value=(l.__value=d)??"",Ix(l,d))},[()=>iU(e.value)]),j(t,l),Je()}Dr(["change"]);function K9(t,e){Ke(e,!0);let n=Xr(e,["$$slots","$$events","$$legacy"]);const r="data:image/svg+xml;base64,"+btoa(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 20">
      <path d="M 2,8 L 5,12 L 8,8" style="stroke:${bf.gray[500]};stroke-opacity:0.7;stroke-width:1.5;fill:none;stroke-linecap:round;stroke-linejoin:round" />
    </svg>`);_T(t,Fg(()=>n,{class:"form-select select-none text-center pl-[4px] pr-[16px] py-0 my-0 border-0 rounded text-sm! text-slate-500 bg-slate-100 dark:text-slate-400 dark:bg-slate-900",get style(){return`background-image:url(${r});background-position:right center`}})),Je()}const zze=""+new URL("duckdb-browser-mvp.worker-Bc8GfOvd.js",import.meta.url).href,Uze=""+new URL("duckdb-mvp-C5CQ5aRn.wasm",import.meta.url).href,jze=""+new URL("duckdb-browser-eh.worker-DcYAbAi8.js",import.meta.url).href,qze=""+new URL("duckdb-eh-CAt5YSMB.wasm",import.meta.url).href;function Vze(){let t=window.location.href;return t=t.replace(/#.*$/,""),t=t.replace(/\/[^/]*$/,"/"),t.endsWith("/")||(t+="/"),t+"duckdb-wasm"}async function Xze({log:t=!1}={}){const n=await SW({mvp:{mainModule:Uze,mainWorker:zze},eh:{mainModule:qze,mainWorker:jze}}),r=new Worker(n.mainWorker),i=t?new wW:new OW,s=new xW(i,r);await s.instantiate(n.mainModule,n.pthreadWorker),await s.open({filesystem:{forceFullHTTPReads:!0}});const o=await s.connect();return await o.query(`SET custom_extension_repository = '${Vze()}';`),{duckdb:s,connection:o}}async function J9(t,e,n=void 0){const r=await Xze();if(e=="wasm"){const i=await uOe({duckdb:r.duckdb,connection:r.connection});t.databaseConnector(i)}else if(e=="socket"){const i=await Jme({uri:n??""});t.databaseConnector(i)}else if(e=="rest"){const i=await tye({uri:n??""});t.databaseConnector(i)}}function eR(t){return t==null?null:t instanceof Array?t.length==0?null:Ia(t).toString().trim():typeof t=="string"?t.trim():typeof t=="boolean"?et(t).toString():t.toString().trim()}async function bre(t,e){return Array.from(await t.query(`DESCRIBE ${e}`)).map(r=>({name:r.column_name,type:r.column_type,jsType:cO(r.column_type)}))}async function vre(t,e,n){return(await t.query(`SELECT COUNT(DISTINCT ${be(n)}) AS count FROM ${e}`)).get(0).count}function cO(t){return Zze.has(t)?"number":Wze.has(t)?"string":t.match(/^(VARCHAR|TEXT)\[\d*\]$/)?"string[]":null}const Zze=new Set(["REAL","FLOAT4","FLOAT8","FLOAT","DOUBLE","INT","TINYINT","INT1","SMALLINT","INT2","SHORT","INTEGER","INT4","INT","SIGNED","INT8","LONG","BIGINT","UTINYINT","USMALLINT","UINTEGER","UBIGINT","UHUGEINT"]),Wze=new Set(["BOOLEAN","DATE","VARCHAR","CHAR","BPCHAR","TEXT","STRING"]),Ky={linear:{type:"linear",expr:t=>t,forward:t=>t,reverse:t=>t},log:{type:"log",expr:t=>vp(kk(t,0),rX(t),et("nan")),forward:t=>Math.log10(t),reverse:t=>Math.pow(10,t)},symlog:{type:"symlog",expr:(t,e)=>Ci(t0(t),Hm(tP(1,Ng(os(t,e))))),forward:(t,e)=>Math.sign(t)*Math.log1p(Math.abs(t)/e),reverse:(t,e)=>Math.sign(t)*Math.expm1(Math.abs(t))*e}};function Yze(t,e){let n=t,r=1/0;for(let i of e){let s=Math.abs(t-i);s<r&&(r=s,n=i)}return n}function Ore(t,e={}){let{min:n,max:r,median:i,count:s}=t,o=e.scale;o=="band"&&(o=null),o==null&&(o="linear",s>=100&&n>=0&&i<r*.05&&(o=n>0?"log":"symlog")),n<=0&&o=="log"&&(r<=0?(n=1,r=10):n=Math.min(t.minPositive,r/10));let a=e.desiredCount??5;switch(o){case"linear":{let l=J1().domain([n,r]).nice(a),u=l.ticks(a);return{scale:{...Ky.linear,domain:l.domain()},binStart:l.domain()[0],binSize:u[1]-u[0]}}case"log":{let l=uO().domain([n,r]).nice(),u=Math.log10(l.domain()[0]),c=(Math.log10(l.domain()[1])-u)/a;return c=Yze(c,[.05,.1,.2,.5,1,1.5,2]),{scale:{...Ky.log,domain:l.domain()},binStart:u,binSize:c}}case"symlog":{let l=Math.max(Math.abs(n),Math.abs(r)),u=l>=100?1:l>0?l/1e5:1,c=Ky.symlog.forward(n,u),f=Ky.symlog.forward(r,u);return{scale:{...Ky.symlog,domain:[n,r],constant:u},binStart:c,binSize:(f-c)/a}}default:throw new Error("invalid scale type")}}async function wre(t,e,n){let r=a=>t.query(a),s=(await r(lt.describe(lt.from(e).select({field:n})))).get(0)?.column_type;if(s==null)return;let o=cO(s);if(o=="number"){let a=hi(n,"DOUBLE"),l=await r(lt.from(e).select({count:_i(),min:Lg(a),minPositive:Lg(vp(kk(a,0),a,et(null))),max:AO(a),mean:Bx(a),median:JD(a)}).where(Kh(a))),u=await r(lt.from(e).select({countNonFinite:_i()}).where(uc(lv(Kh(a)),Mf(a))));return{field:n,quantitative:{...l.get(0),...u.get(0)}}}else if(o=="string"){let a=hi(n,"TEXT"),l=Array.from(await r(lt.from(e).select({value:a,count:_i()}).where(uv(a)).groupby(a).orderby(EO(_i())).limit(1e3))),u=(await r(lt.from(e).select({count:_i()}).where(Mf(a)))).get(0).count,{otherCount:c,numOtherLevels:f}=(await r(lt.from(e).select({otherCount:_i(),numOtherLevels:Pt`COUNT(DISTINCT(${a}))`}).where(uv(a),lv(Qg(a,l.map(h=>et(h.value))))))).get(0);return{field:n,nominal:{levels:l,numOtherLevels:f,otherCount:c,nullCount:u}}}}function _re({stats:t,scaleType:e,binCount:n}){if(t.quantitative){let r=Ore(t.quantitative,{scale:e,desiredCount:n??20}),i=hi(t.field,"DOUBLE"),s=r.scale.expr(i,r.scale.constant??0),o=r.scale.type=="log"?vp(Ia(Kh(i),kk(i,et(0))),Ux(Ci(Fi(s,r.binStart),1/r.binSize)),et(null)):vp(Kh(i),Ux(Ci(Fi(s,r.binStart),1/r.binSize)),et(null)),a=m=>Math.floor((r.scale.forward(m,r.scale.constant??0)-r.binStart)/r.binSize),l=m=>r.scale.reverse(m*r.binSize+r.binStart,r.scale.constant??0),u=a(r.scale.type=="log"?t.quantitative.minPositive:t.quantitative.min),c=a(t.quantitative.max),f=[l(u),l(c+1)],h=t.quantitative.countNonFinite>0;r.scale.type=="log"&&t.quantitative.min<0&&(h=!0);let d=m=>{if(typeof m=="string"){if(m=="n/a")return uc(lv(Kh(i)),Mf(i))}else if(m instanceof Array)if(m.length==2&&typeof m[0]=="number"){let[g,b]=m;if(typeof g=="number"&&typeof b=="number")return Bh(i,[Math.min(g,b),Math.max(g,b)])}else return uc(...m.map(d));return et(!1)};return{select:o,scale:{type:r.scale.type,constant:r.scale.constant,domain:f,specialValues:h?["n/a"]:[]},predicate:d,order:(m,g)=>{let b=typeof m=="string"?[1,0]:[0,m[0]],v=typeof g=="string"?[1,0]:[0,g[0]];return b[0]!=v[0]?b[0]-v[0]:b[1]-v[1]},field:m=>m==null?"n/a":[l(m),l(m+1)]}}if(t.nominal){n=n??15;let{levels:r,nullCount:i,otherCount:s,numOtherLevels:o}=t.nominal;r.length>n&&(o+=r.length-n,s=r.slice(n).reduce((m,g)=>m+g.count,0),r=r.slice(0,n));let a=`(${o.toLocaleString()} others)`,l="(null)",u=hi(t.field,"TEXT"),c=vp(Qg(u,r.map(m=>et(m.value))),u,vp(Mf(u),et(l),et(a))),f=[...s>0?[a]:[],...i>0?[l]:[]],h=m=>m==l?Mf(u):m==a?Ia(lv(Qg(u,r.map(g=>et(g.value)))),uv(u)):Kge(u,et(m)),d=r.map(m=>m.value);return{select:c,scale:{type:"band",domain:r.map(m=>m.value),specialValues:f},field:m=>m,predicate:m=>{if(m instanceof Array)return uc(...m.map(g=>h(g)));if(typeof m=="string")return h(m)},order:(m,g)=>{if(typeof m=="string"&&typeof g=="string"){let b=d.indexOf(m);b<0&&(b=d.length+f.indexOf(m));let v=d.indexOf(g);return v<0&&(v=d.length+f.indexOf(g)),b-v}return 0}}}}function xre(){return!(navigator.gpu==null||navigator.gpu.requestAdapter==null||navigator.gpu.wgslLanguageFeatures==null||!navigator.gpu.wgslLanguageFeatures.has("unrestricted_pointer_parameters"))}function Gze(t){return t==0&&(t=4),t%4!=0&&(t+=4-t%4),t}function Og(t,e,n,r){return(t.buffer==null||t.byteSize!=n||t.usage!=r)&&(t.buffer!=null&&t.buffer.destroy(),t.buffer=e.createBuffer({size:Gze(n),usage:r}),t.byteSize=n,t.destroy=()=>{t.buffer?.destroy()}),t.buffer}function sA(t,e,n,r){if(t.buffer!==n||t.data!==r){if(r!=null)if(r.byteLength%4!=0){let i=r.byteLength-r.byteLength%4;if(e.queue.writeBuffer(n,0,r,0,i),r instanceof Uint8Array){let s=new Uint8Array(4);for(let o=0;o<4;o++)i+o<r.length&&(s[o]=r[i+o]);e.queue.writeBuffer(n,i,s)}}else e.queue.writeBuffer(n,0,r,0);else e.queue.writeBuffer(n,0,new ArrayBuffer(n.size));t.buffer=n,t.data=r}return n}function sU(t,e,n,r,i,s){return(t.texture==null||t.width!=n||t.height!=r||t.format!=i||t.usage!=s)&&(t.texture!=null&&t.texture.destroy(),t.texture=e.createTexture({size:[n,r],format:i,usage:s}),t.destroy=()=>{t.texture?.destroy()}),t.texture}const qs=2,k4=4,C4=8,uh=16,ch=32,$0=64,A4=128,Ps=1024,ea=2048,fh=4096,Fa=8192,Uf=16384,tR=32768,m1=65536,oU=1<<17,Sre=1<<18,ey=1<<19,kre=1<<20,bl=256,L3=512,N3=32768,xT=1<<21,nR=1<<22,rd=1<<23,Vp=Symbol("$state"),Cre=Symbol("legacy props"),Hze=Symbol(""),qm=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},rR=3,ty=8,Kze=!1;var Are=Array.isArray,Jze=Array.prototype.indexOf,iR=Array.from,Ere=Object.defineProperty,wg=Object.getOwnPropertyDescriptor,Tre=Object.getOwnPropertyDescriptors,eUe=Object.prototype,tUe=Array.prototype,sR=Object.getPrototypeOf,aU=Object.isExtensible;function nUe(t){for(var e=0;e<t.length;e++)t[e]()}function Dre(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}function Pre(t){return t===this.v}function Rre(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function $re(t){return!Rre(t,this.v)}function Ire(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function rUe(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function iUe(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function sUe(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function oUe(t){throw new Error("https://svelte.dev/e/effect_orphan")}function aUe(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function lUe(){throw new Error("https://svelte.dev/e/hydration_failed")}function uUe(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function cUe(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function fUe(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function hUe(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function dUe(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}let pUe=!1;const oR=1,aR=2,Fre=4,mUe=8,gUe=16,yUe=1,bUe=4,vUe=8,OUe=16,wUe=1,_Ue=2,Mre="[",E4="[!",lR="]",g1={},Cs=Symbol(),xUe="http://www.w3.org/1999/xhtml";let ta=null;function y1(t){ta=t}function I0(t,e=!1,n){ta={p:ta,i:!1,c:null,e:null,s:t,x:null,l:null}}function F0(t){var e=ta,n=e.e;if(n!==null){e.e=null;for(var r of n)uie(r)}return e.i=!0,ta=e.p,{}}function Lre(){return!0}let Rp=[];function Nre(){var t=Rp;Rp=[],nUe(t)}function ny(t){if(Rp.length===0&&!Gb){var e=Rp;queueMicrotask(()=>{e===Rp&&Nre()})}Rp.push(t)}function SUe(){for(;Rp.length>0;)Nre()}function T4(t){console.warn("https://svelte.dev/e/hydration_mismatch")}function kUe(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Ln=!1;function Pf(t){Ln=t}let $n;function Wo(t){if(t===null)throw T4(),g1;return $n=t}function l2(){return Wo(Uc($n))}function $i(t){if(Ln){if(Uc($n)!==null)throw T4(),g1;$n=t}}function Qre(t=1){if(Ln){for(var e=t,n=$n;e--;)n=Uc(n);$n=n}}function Q3(t=!0){for(var e=0,n=$n;;){if(n.nodeType===ty){var r=n.data;if(r===lR){if(e===0)return n;e-=1}else(r===Mre||r===E4)&&(e+=1)}var i=Uc(n);t&&n.remove(),n=i}}function Bre(t){if(!t||t.nodeType!==ty)throw T4(),g1;return t.data}function $p(t){if(typeof t!="object"||t===null||Vp in t)return t;const e=sR(t);if(e!==eUe&&e!==tUe)return t;var n=new Map,r=Are(t),i=Ar(0),s=Xp,o=a=>{if(Xp===s)return a();var l=vn,u=Xp;Vo(null),hU(s);var c=a();return Vo(l),hU(u),c};return r&&n.set("length",Ar(t.length)),new Proxy(t,{defineProperty(a,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&cUe();var c=n.get(l);return c===void 0?c=o(()=>{var f=Ar(u.value);return n.set(l,f),f}):$t(c,u.value,!0),!0},deleteProperty(a,l){var u=n.get(l);if(u===void 0){if(l in a){const c=o(()=>Ar(Cs));n.set(l,c),Hb(i)}}else $t(u,Cs),Hb(i);return!0},get(a,l,u){if(l===Vp)return t;var c=n.get(l),f=l in a;if(c===void 0&&(!f||wg(a,l)?.writable)&&(c=o(()=>{var d=$p(f?a[l]:Cs),m=Ar(d);return m}),n.set(l,c)),c!==void 0){var h=V(c);return h===Cs?void 0:h}return Reflect.get(a,l,u)},getOwnPropertyDescriptor(a,l){var u=Reflect.getOwnPropertyDescriptor(a,l);if(u&&"value"in u){var c=n.get(l);c&&(u.value=V(c))}else if(u===void 0){var f=n.get(l),h=f?.v;if(f!==void 0&&h!==Cs)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(a,l){if(l===Vp)return!0;var u=n.get(l),c=u!==void 0&&u.v!==Cs||Reflect.has(a,l);if(u!==void 0||pn!==null&&(!c||wg(a,l)?.writable)){u===void 0&&(u=o(()=>{var h=c?$p(a[l]):Cs,d=Ar(h);return d}),n.set(l,u));var f=V(u);if(f===Cs)return!1}return c},set(a,l,u,c){var f=n.get(l),h=l in a;if(r&&l==="length")for(var d=u;d<f.v;d+=1){var m=n.get(d+"");m!==void 0?$t(m,Cs):d in a&&(m=o(()=>Ar(Cs)),n.set(d+"",m))}if(f===void 0)(!h||wg(a,l)?.writable)&&(f=o(()=>Ar(void 0)),$t(f,$p(u)),n.set(l,f));else{h=f.v!==Cs;var g=o(()=>$p(u));$t(f,g)}var b=Reflect.getOwnPropertyDescriptor(a,l);if(b?.set&&b.set.call(c,u),!h){if(r&&typeof l=="string"){var v=n.get("length"),O=Number(l);Number.isInteger(O)&&O>=v.v&&$t(v,O+1)}Hb(i)}return!0},ownKeys(a){V(i);var l=Reflect.ownKeys(a).filter(f=>{var h=n.get(f);return h===void 0||h.v!==Cs});for(var[u,c]of n)c.v!==Cs&&!(u in a)&&l.push(u);return l},setPrototypeOf(){fUe()}})}var lU,zre,Ure,jre;function ST(){if(lU===void 0){lU=window,zre=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Ure=wg(e,"firstChild").get,jre=wg(e,"nextSibling").get,aU(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),aU(n)&&(n.__t=void 0)}}function Ac(t=""){return document.createTextNode(t)}function Kf(t){return Ure.call(t)}function Uc(t){return jre.call(t)}function rs(t,e){if(!Ln)return Kf(t);var n=Kf($n);if(n===null)n=$n.appendChild(Ac());else if(e&&n.nodeType!==rR){var r=Ac();return n?.before(r),Wo(r),r}return Wo(n),n}function Dm(t,e=!1){if(!Ln){var n=Kf(t);return n instanceof Comment&&n.data===""?Uc(n):n}if(e&&$n?.nodeType!==rR){var r=Ac();return $n?.before(r),Wo(r),r}return $n}function jr(t,e=1,n=!1){let r=Ln?$n:t;for(var i;e--;)i=r,r=Uc(r);if(!Ln)return r;if(n&&r?.nodeType!==rR){var s=Ac();return r===null?i?.after(s):r.before(s),Wo(s),s}return Wo(r),r}function qre(t){t.textContent=""}function CUe(){return!1}function Vre(t){var e=pn;if(e===null)return vn.f|=rd,t;if((e.f&tR)===0){if((e.f&A4)===0)throw t;e.b.error(t)}else b1(t,e)}function b1(t,e){for(;e!==null;){if((e.f&A4)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const m_=new Set;let Ui=null,Hl=null,Gu=[],D4=null,kT=!1,Gb=!1,Ip=class CT{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#r=0;#l=null;#a=[];#i=[];skipped_effects=new Set;is_fork=!1;process(e){Gu=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)this.#s(r,n);this.is_fork||this.#u(),this.#r>0||this.is_fork?(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects)):(Ui=null,uU(n.render_effects),uU(n.effects),this.#l?.resolve()),Hl=null}#s(e,n){e.f^=Ps;for(var r=e.first;r!==null;){var i=r.f,s=(i&(ch|$0))!==0,o=s&&(i&Ps)!==0,a=o||(i&Fa)!==0||this.skipped_effects.has(r);if((r.f&A4)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!a&&r.fn!==null){s?r.f^=Ps:(i&k4)!==0?n.effects.push(r):u2(r)&&((r.f&uh)!==0&&n.block_effects.push(r),hO(r));var l=r.first;if(l!==null){r=l;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects),n=n.parent),r=u.next,u=u.parent}}#o(e){for(const n of e)((n.f&ea)!==0?this.#a:this.#i).push(n),Ns(n,Ps)}capture(e,n){this.previous.has(e)||this.previous.set(e,n),(e.f&rd)===0&&(this.current.set(e,e.v),Hl?.set(e,e.v))}activate(){Ui=this,this.apply()}deactivate(){Ui=null,Hl=null}flush(){if(this.activate(),Gu.length>0){if(Xre(),Ui!==null&&Ui!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#u(){if(this.#r===0){for(const e of this.#e)e();this.#e.clear()}this.#n===0&&this.#c()}#c(){if(m_.size>1){this.previous.clear();var e=Hl,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of m_){if(i===this){n=!1;continue}const s=[];for(const[a,l]of this.current){if(i.current.has(a))if(n&&l!==i.current.get(a))i.current.set(a,l);else continue;s.push(a)}if(s.length===0)continue;const o=[...i.current.keys()].filter(a=>!this.current.has(a));if(o.length>0){const a=new Set,l=new Map;for(const u of s)Zre(u,o,a,l);if(Gu.length>0){Ui=i,i.apply();for(const u of Gu)i.#s(u,r);Gu=[],i.deactivate()}}}Ui=null,Hl=e}this.committed=!0,m_.delete(this)}increment(e){this.#n+=1,e&&(this.#r+=1)}decrement(e){this.#n-=1,e&&(this.#r-=1),this.revive()}revive(){for(const e of this.#a)Ns(e,ea),p0(e);for(const e of this.#i)Ns(e,fh),p0(e);this.#a=[],this.#i=[],this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#l??=Dre()).promise}static ensure(){if(Ui===null){const e=Ui=new CT;m_.add(Ui),Gb||CT.enqueue(()=>{Ui===e&&e.flush()})}return Ui}static enqueue(e){ny(e)}apply(){}};function AUe(t){var e=Gb;Gb=!0;try{for(var n;;){if(SUe(),Gu.length===0&&(Ui?.flush(),Gu.length===0))return D4=null,n;Xre()}}finally{Gb=e}}function Xre(){var t=_g;kT=!0;try{var e=0;for(cU(!0);Gu.length>0;){var n=Ip.ensure();if(e++>1e3){var r,i;EUe()}n.process(Gu),id.clear()}}finally{kT=!1,cU(t),D4=null}}function EUe(){try{aUe()}catch(t){b1(t,D4)}}let mf=null;function uU(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(Uf|Fa))===0&&u2(r)&&(mf=new Set,hO(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?die(r):r.fn=null),mf?.size>0)){id.clear();for(const i of mf){if((i.f&(Uf|Fa))!==0)continue;const s=[i];let o=i.parent;for(;o!==null;)mf.has(o)&&(mf.delete(o),s.push(o)),o=o.parent;for(let a=s.length-1;a>=0;a--){const l=s[a];(l.f&(Uf|Fa))===0&&hO(l)}}mf.clear()}}mf=null}}function Zre(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const s=i.f;(s&qs)!==0?Zre(i,e,n,r):(s&(nR|uh))!==0&&(s&ea)===0&&Wre(i,e,r)&&(Ns(i,ea),p0(i))}}function Wre(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&qs)!==0&&Wre(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function p0(t){for(var e=D4=t;e.parent!==null;){e=e.parent;var n=e.f;if(kT&&e===pn&&(n&uh)!==0&&(n&Sre)===0)return;if((n&($0|ch))!==0){if((n&Ps)===0)return;e.f^=Ps}}Gu.push(e)}function TUe(t){let e=0,n=m0(0),r;return()=>{jUe()&&(V(n),fR(()=>(e===0&&(r=L0(()=>t(()=>Hb(n)))),e+=1,()=>{ny(()=>{e-=1,e===0&&(r?.(),r=void 0,Hb(n))})})))}}var DUe=m1|ey|A4;function PUe(t,e,n){new RUe(t,e,n)}class RUe{parent;#e=!1;#t;#n=Ln?$n:null;#r;#l;#a;#i=null;#s=null;#o=null;#u=null;#c=null;#d=0;#f=0;#p=!1;#h=null;#y=TUe(()=>(this.#h=m0(this.#d),()=>{this.#h=null}));constructor(e,n,r){this.#t=e,this.#r=n,this.#l=r,this.parent=pn.b,this.#e=!!this.#r.pending,this.#a=R4(()=>{if(pn.b=this,Ln){const s=this.#n;l2(),s.nodeType===ty&&s.data===E4?this.#v():this.#b()}else{var i=this.#O();try{this.#i=jl(()=>r(i))}catch(s){this.error(s)}this.#f>0?this.#g():this.#e=!1}return()=>{this.#c?.remove()}},DUe),Ln&&(this.#t=$n)}#b(){try{this.#i=jl(()=>this.#l(this.#t))}catch(e){this.error(e)}this.#e=!1}#v(){const e=this.#r.pending;e&&(this.#s=jl(()=>e(this.#t)),Ip.enqueue(()=>{var n=this.#O();this.#i=this.#m(()=>(Ip.ensure(),jl(()=>this.#l(n)))),this.#f>0?this.#g():(xg(this.#s,()=>{this.#s=null}),this.#e=!1)}))}#O(){var e=this.#t;return this.#e&&(this.#c=Ac(),this.#t.before(this.#c),e=this.#c),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#m(e){var n=pn,r=vn,i=ta;Ec(this.#a),Vo(this.#a),y1(this.#a.ctx);try{return e()}catch(s){return Vre(s),null}finally{Ec(n),Vo(r),y1(i)}}#g(){const e=this.#r.pending;this.#i!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#c),gie(this.#i,this.#u)),this.#s===null&&(this.#s=jl(()=>e(this.#t)))}#w(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#w(e);return}this.#f+=e,this.#f===0&&(this.#e=!1,this.#s&&xg(this.#s,()=>{this.#s=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(e){this.#w(e),this.#d+=e,this.#h&&v1(this.#h,this.#d)}get_effect_pending(){return this.#y(),V(this.#h)}error(e){var n=this.#r.onerror;let r=this.#r.failed;if(this.#p||!n&&!r)throw e;this.#i&&(mo(this.#i),this.#i=null),this.#s&&(mo(this.#s),this.#s=null),this.#o&&(mo(this.#o),this.#o=null),Ln&&(Wo(this.#n),Qre(),Wo(Q3()));var i=!1,s=!1;const o=()=>{if(i){kUe();return}i=!0,s&&dUe(),Ip.ensure(),this.#d=0,this.#o!==null&&xg(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#i=this.#m(()=>(this.#p=!1,jl(()=>this.#l(this.#t)))),this.#f>0?this.#g():this.#e=!1};var a=vn;try{Vo(null),s=!0,n?.(e,o),s=!1}catch(l){b1(l,this.#a&&this.#a.parent)}finally{Vo(a)}r&&ny(()=>{this.#o=this.#m(()=>{Ip.ensure(),this.#p=!0;try{return jl(()=>{r(this.#t,()=>e,()=>o)})}catch(l){return b1(l,this.#a.parent),null}finally{this.#p=!1}})})}}function $Ue(t,e,n,r){const i=P4;if(n.length===0&&t.length===0){r(e.map(i));return}var s=Ui,o=pn,a=IUe();function l(){Promise.all(n.map(u=>FUe(u))).then(u=>{a();try{r([...e.map(i),...u])}catch(c){(o.f&Uf)===0&&b1(c,o)}s?.deactivate(),B3()}).catch(u=>{b1(u,o)})}t.length>0?Promise.all(t).then(()=>{a();try{return l()}finally{s?.deactivate(),B3()}}):l()}function IUe(){var t=pn,e=vn,n=ta,r=Ui;return function(i=!0){Ec(t),Vo(e),y1(n),i&&r?.activate()}}function B3(){Ec(null),Vo(null),y1(null)}function P4(t){var e=qs|ea,n=vn!==null&&(vn.f&qs)!==0?vn:null;return pn===null||n!==null&&(n.f&bl)!==0?e|=bl:pn.f|=ey,{ctx:ta,deps:null,effects:null,equals:Pre,f:e,fn:t,reactions:null,rv:0,v:Cs,wv:0,parent:n??pn,ac:null}}function FUe(t,e){let n=pn;n===null&&rUe();var r=n.b,i=void 0,s=m0(Cs),o=!vn,a=new Map;return VUe(()=>{var l=Dre();i=l.promise;try{Promise.resolve(t()).then(l.resolve,l.reject).then(()=>{u===Ui&&u.committed&&u.deactivate(),B3()})}catch(h){l.reject(h),B3()}var u=Ui;if(o){var c=!r.is_pending();r.update_pending_count(1),u.increment(c),a.get(u)?.reject(qm),a.delete(u),a.set(u,l)}const f=(h,d=void 0)=>{if(u.activate(),d)d!==qm&&(s.f|=rd,v1(s,d));else{(s.f&rd)!==0&&(s.f^=rd),v1(s,h);for(const[m,g]of a){if(a.delete(m),m===u)break;g.reject(qm)}}o&&(r.update_pending_count(-1),u.decrement(c))};l.promise.then(f,h=>f(null,h||"unknown"))}),lie(()=>{for(const l of a.values())l.reject(qm)}),new Promise(l=>{function u(c){function f(){c===i?l(s):u(i)}c.then(f,f)}u(i)})}function Nt(t){const e=P4(t);return tie(e),e}function Yre(t){const e=P4(t);return e.equals=$re,e}function Gre(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)mo(e[n])}}function MUe(t){for(var e=t.parent;e!==null;){if((e.f&qs)===0)return e;e=e.parent}return null}function uR(t){var e,n=pn;Ec(MUe(t));try{t.f&=~N3,Gre(t),e=sie(t)}finally{Ec(n)}return e}function Hre(t){var e=uR(t);if(t.equals(e)||(t.v=e,t.wv=rie()),!M0)if(Hl!==null)Hl.set(t,t.v);else{var n=(qh||(t.f&bl)!==0)&&t.deps!==null?fh:Ps;Ns(t,n)}}let AT=new Set;const id=new Map;let Kre=!1;function m0(t,e){var n={f:0,v:t,reactions:null,equals:Pre,rv:0,wv:0};return n}function Ar(t,e){const n=m0(t);return tie(n),n}function Jre(t,e=!1,n=!0){const r=m0(t);return e||(r.equals=$re),r}function $t(t,e,n=!1){vn!==null&&(!Kl||(vn.f&oU)!==0)&&Lre()&&(vn.f&(qs|uh|nR|oU))!==0&&!jf?.includes(t)&&hUe();let r=n?$p(e):e;return v1(t,r)}function v1(t,e){if(!t.equals(e)){var n=t.v;M0?id.set(t,e):id.set(t,n),t.v=e;var r=Ip.ensure();r.capture(t,n),(t.f&qs)!==0&&((t.f&ea)!==0&&uR(t),Ns(t,(t.f&bl)===0?Ps:fh)),t.wv=rie(),eie(t,ea),pn!==null&&(pn.f&Ps)!==0&&(pn.f&(ch|$0))===0&&(el===null?NUe([t]):el.push(t)),!r.is_fork&&AT.size>0&&!Kre&&LUe()}return e}function LUe(){Kre=!1;const t=Array.from(AT);for(const e of t)(e.f&Ps)!==0&&Ns(e,fh),u2(e)&&hO(e);AT.clear()}function Hb(t){$t(t,t.v+1)}function eie(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i],o=s.f,a=(o&ea)===0;a&&Ns(s,e),(o&qs)!==0?(o&N3)===0&&(s.f|=N3,eie(s,fh)):a&&((o&uh)!==0&&mf!==null&&mf.add(s),p0(s))}}function cR(t){var e=vn,n=pn;Vo(null),Ec(null);try{return t()}finally{Vo(e),Ec(n)}}let _g=!1;function cU(t){_g=t}let M0=!1;function fU(t){M0=t}let vn=null,Kl=!1;function Vo(t){vn=t}let pn=null;function Ec(t){pn=t}let jf=null;function tie(t){vn!==null&&(jf===null?jf=[t]:jf.push(t))}let no=null,ba=0,el=null;function NUe(t){el=t}let nie=1,fO=0,Xp=fO;function hU(t){Xp=t}let qh=!1;function rie(){return++nie}function u2(t){var e=t.f;if((e&ea)!==0)return!0;if((e&fh)!==0){var n=t.deps,r=(e&bl)!==0;if(e&qs&&(t.f&=~N3),n!==null){var i,s,o=(e&L3)!==0,a=r&&pn!==null&&!qh,l=n.length;if((o||a)&&(pn===null||(pn.f&Uf)===0)){var u=t,c=u.parent;for(i=0;i<l;i++)s=n[i],(o||!s?.reactions?.includes(u))&&(s.reactions??=[]).push(u);o&&(u.f^=L3),a&&c!==null&&(c.f&bl)===0&&(u.f^=bl)}for(i=0;i<l;i++)if(s=n[i],u2(s)&&Hre(s),s.wv>t.wv)return!0}(!r||pn!==null&&!qh)&&Ns(t,Ps)}return!1}function iie(t,e,n=!0){var r=t.reactions;if(r!==null&&!jf?.includes(t))for(var i=0;i<r.length;i++){var s=r[i];(s.f&qs)!==0?iie(s,e,!1):e===s&&(n?Ns(s,ea):(s.f&Ps)!==0&&Ns(s,fh),p0(s))}}function sie(t){var e=no,n=ba,r=el,i=vn,s=qh,o=jf,a=ta,l=Kl,u=Xp,c=t.f;no=null,ba=0,el=null,qh=(c&bl)!==0&&(Kl||!_g||vn===null),vn=(c&(ch|$0))===0?t:null,jf=null,y1(t.ctx),Kl=!1,Xp=++fO,t.ac!==null&&(cR(()=>{t.ac.abort(qm)}),t.ac=null);try{t.f|=xT;var f=t.fn,h=f(),d=t.deps;if(no!==null){var m;if(z3(t,ba),d!==null&&ba>0)for(d.length=ba+no.length,m=0;m<no.length;m++)d[ba+m]=no[m];else t.deps=d=no;if(!qh||(c&qs)!==0&&t.reactions!==null)for(m=ba;m<d.length;m++)(d[m].reactions??=[]).push(t)}else d!==null&&ba<d.length&&(z3(t,ba),d.length=ba);if(Lre()&&el!==null&&!Kl&&d!==null&&(t.f&(qs|fh|ea))===0)for(m=0;m<el.length;m++)iie(el[m],t);return i!==null&&i!==t&&(fO++,el!==null&&(r===null?r=el:r.push(...el))),(t.f&rd)!==0&&(t.f^=rd),h}catch(g){return Vre(g)}finally{t.f^=xT,no=e,ba=n,el=r,vn=i,qh=s,jf=o,y1(a),Kl=l,Xp=u}}function QUe(t,e){let n=e.reactions;if(n!==null){var r=Jze.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&qs)!==0&&(no===null||!no.includes(e))&&(Ns(e,fh),(e.f&(bl|L3))===0&&(e.f^=L3),Gre(e),z3(e,0))}function z3(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)QUe(t,n[r])}function hO(t){var e=t.f;if((e&Uf)===0){Ns(t,Ps);var n=pn,r=_g;pn=t,_g=!0;try{(e&uh)!==0?XUe(t):hie(t),fie(t);var i=sie(t);t.teardown=typeof i=="function"?i:null,t.wv=nie;var s;Kze&&pUe&&(t.f&ea)!==0&&t.deps}finally{_g=r,pn=n}}}function V(t){var e=t.f,n=(e&qs)!==0;if(vn!==null&&!Kl){var r=pn!==null&&(pn.f&Uf)!==0;if(!r&&!jf?.includes(t)){var i=vn.deps;if((vn.f&xT)!==0)t.rv<fO&&(t.rv=fO,no===null&&i!==null&&i[ba]===t?ba++:no===null?no=[t]:(!qh||!no.includes(t))&&no.push(t));else{(vn.deps??=[]).push(t);var s=t.reactions;s===null?t.reactions=[vn]:s.includes(vn)||s.push(vn)}}}else if(n&&t.deps===null&&t.effects===null){var o=t,a=o.parent;a!==null&&(a.f&bl)===0&&(o.f^=bl)}if(M0){if(id.has(t))return id.get(t);if(n){o=t;var l=o.v;return((o.f&Ps)===0&&o.reactions!==null||oie(o))&&(l=uR(o)),id.set(o,l),l}}else if(n){if(o=t,Hl?.has(o))return Hl.get(o);u2(o)&&Hre(o)}if(Hl?.has(t))return Hl.get(t);if((t.f&rd)!==0)throw t.v;return t.v}function oie(t){if(t.v===Cs)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(id.has(e)||(e.f&qs)!==0&&oie(e))return!0;return!1}function L0(t){var e=Kl;try{return Kl=!0,t()}finally{Kl=e}}const BUe=-7169;function Ns(t,e){t.f=t.f&BUe|e}function zUe(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Vp in t)ET(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&Vp in n&&ET(n)}}}function ET(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{ET(t[r],e)}catch{}const n=sR(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Tre(n);for(let i in r){const s=r[i].get;if(s)try{s.call(t)}catch{}}}}}function aie(t){pn===null&&vn===null&&oUe(),vn!==null&&(vn.f&bl)!==0&&pn===null&&sUe(),M0&&iUe()}function UUe(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function jc(t,e,n,r=!0){var i=pn;i!==null&&(i.f&Fa)!==0&&(t|=Fa);var s={ctx:ta,deps:null,nodes_start:null,nodes_end:null,f:t|ea,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{hO(s),s.f|=tR}catch(l){throw mo(s),l}else e!==null&&p0(s);if(r){var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&ey)===0&&(o=o.first,(t&uh)!==0&&(t&m1)!==0&&o!==null&&(o.f|=m1)),o!==null&&(o.parent=i,i!==null&&UUe(o,i),vn!==null&&(vn.f&qs)!==0&&(t&$0)===0)){var a=vn;(a.effects??=[]).push(o)}}return s}function jUe(){return vn!==null&&!Kl}function lie(t){const e=jc(C4,null,!1);return Ns(e,Ps),e.teardown=t,e}function uf(t){aie();var e=pn.f,n=!vn&&(e&ch)!==0&&(e&tR)===0;if(n){var r=ta;(r.e??=[]).push(t)}else return uie(t)}function uie(t){return jc(k4|kre,t,!1)}function Kb(t){return aie(),jc(C4|kre,t,!0)}function qUe(t){Ip.ensure();const e=jc($0|ey,t,!0);return(n={})=>new Promise(r=>{n.outro?xg(e,()=>{mo(e),r(void 0)}):(mo(e),r(void 0))})}function cie(t){return jc(k4,t,!1)}function VUe(t){return jc(nR|ey,t,!0)}function fR(t,e=0){return jc(C4|e,t,!0)}function Ea(t,e=[],n=[],r=[],i=!1){$Ue(r,e,n,s=>{jc(i?k4:C4,()=>t(...s.map(V)),!0)})}function R4(t,e=0){var n=jc(uh|e,t,!0);return n}function jl(t,e=!0){return jc(ch|ey,t,!0,e)}function fie(t){var e=t.teardown;if(e!==null){const n=M0,r=vn;fU(!0),Vo(null);try{e.call(null)}finally{fU(n),Vo(r)}}}function hie(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&cR(()=>{i.abort(qm)});var r=n.next;(n.f&$0)!==0?n.parent=null:mo(n,e),n=r}}function XUe(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&ch)===0&&mo(e),e=n}}function mo(t,e=!0){var n=!1;(e||(t.f&Sre)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(ZUe(t.nodes_start,t.nodes_end),n=!0),hie(t,e&&!n),z3(t,0),Ns(t,Uf);var r=t.transitions;if(r!==null)for(const s of r)s.stop();fie(t);var i=t.parent;i!==null&&i.first!==null&&die(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function ZUe(t,e){for(;t!==null;){var n=t===e?null:Uc(t);t.remove(),t=n}}function die(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function xg(t,e,n=!0){var r=[];hR(t,r,!0),pie(r,()=>{n&&mo(t),e&&e()})}function pie(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function hR(t,e,n){if((t.f&Fa)===0){if(t.f^=Fa,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&m1)!==0||(r.f&ch)!==0&&(t.f&uh)!==0;hR(r,e,s?n:!1),r=i}}}function dR(t){mie(t,!0)}function mie(t,e){if((t.f&Fa)!==0){t.f^=Fa,(t.f&Ps)===0&&(Ns(t,ea),p0(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&m1)!==0||(n.f&ch)!==0;mie(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function gie(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:Uc(n);e.append(n),n=i}}const yie=new Set,TT=new Set;function WUe(t,e,n,r={}){function i(s){if(r.capture||Eb.call(e,s),!s.cancelBubble)return cR(()=>n?.call(this,s))}return ny(()=>{e.addEventListener(t,i,r)}),i}function YUe(t,e,n,r,i){var s={capture:r,passive:i},o=WUe(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&lie(()=>{e.removeEventListener(t,o,s)})}function GUe(t){for(var e=0;e<t.length;e++)yie.add(t[e]);for(var n of TT)n(t)}let dU=null;function Eb(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],s=i[0]||t.target;dU=t;var o=0,a=dU===t&&t.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=i.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(s=i[o]||t.target,s!==e){Ere(t,"currentTarget",{configurable:!0,get(){return s||n}});var c=vn,f=pn;Vo(null),Ec(null);try{for(var h,d=[];s!==null;){var m=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];g!=null&&(!s.disabled||t.target===s)&&g.call(s,t)}catch(b){h?d.push(b):h=b}if(t.cancelBubble||m===e||m===null)break;s=m}if(h){for(let b of d)queueMicrotask(()=>{throw b});throw h}}finally{t.__root=e,delete t.currentTarget,Vo(c),Ec(f)}}}function bie(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function sd(t,e){var n=pn;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function Nd(t,e){var n=(e&wUe)!==0,r=(e&_Ue)!==0,i,s=!t.startsWith("<!>");return()=>{if(Ln)return sd($n,null),$n;i===void 0&&(i=bie(s?t:"<!>"+t),n||(i=Kf(i)));var o=r||zre?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=Kf(o),l=o.lastChild;sd(a,l)}else sd(o,o);return o}}function HUe(t,e,n="svg"){var r=!t.startsWith("<!>"),i=`<${n}>${r?t:"<!>"+t}</${n}>`,s;return()=>{if(Ln)return sd($n,null),$n;if(!s){var o=bie(i),a=Kf(o);s=Kf(a)}var l=s.cloneNode(!0);return sd(l,l),l}}function hh(t,e){return HUe(t,e,"svg")}function Jy(){if(Ln)return sd($n,null),$n;var t=document.createDocumentFragment(),e=document.createComment(""),n=Ac();return t.append(e,n),sd(e,n),t}function ci(t,e){if(Ln){pn.nodes_end=$n,l2();return}t!==null&&t.before(e)}const KUe=["touchstart","touchmove"];function JUe(t){return KUe.includes(t)}function Jb(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function vie(t,e){return Oie(t,e)}function eje(t,e){ST(),e.intro=e.intro??!1;const n=e.target,r=Ln,i=$n;try{for(var s=Kf(n);s&&(s.nodeType!==ty||s.data!==Mre);)s=Uc(s);if(!s)throw g1;Pf(!0),Wo(s);const o=Oie(t,{...e,anchor:s});return Pf(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(a=>a.startsWith("https://svelte.dev/e/")))throw o;return o!==g1&&console.warn("Failed to hydrate: ",o),e.recover===!1&&lUe(),ST(),qre(n),Pf(!1),vie(t,e)}finally{Pf(r),Wo(i)}}const pm=new Map;function Oie(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:o=!0}){ST();var a=new Set,l=f=>{for(var h=0;h<f.length;h++){var d=f[h];if(!a.has(d)){a.add(d);var m=JUe(d);e.addEventListener(d,Eb,{passive:m});var g=pm.get(d);g===void 0?(document.addEventListener(d,Eb,{passive:m}),pm.set(d,1)):pm.set(d,g+1)}}};l(iR(yie)),TT.add(l);var u=void 0,c=qUe(()=>{var f=n??e.appendChild(Ac());return PUe(f,{pending:()=>{}},h=>{if(s){I0({});var d=ta;d.c=s}if(i&&(r.$$events=i),Ln&&sd(h,null),u=t(h,r)||{},Ln&&(pn.nodes_end=$n,$n===null||$n.nodeType!==ty||$n.data!==lR))throw T4(),g1;s&&F0()}),()=>{for(var h of a){e.removeEventListener(h,Eb);var d=pm.get(h);--d===0?(document.removeEventListener(h,Eb),pm.delete(h)):pm.set(h,d)}TT.delete(l),f!==n&&f.parentNode?.removeChild(f)}});return DT.set(u,c),u}let DT=new WeakMap;function tje(t,e){const n=DT.get(t);return n?(DT.delete(t),n(e)):Promise.resolve()}function nje(t){return new rje(t)}class rje{#e;#t;constructor(e){var n=new Map,r=(s,o)=>{var a=Jre(o,!1,!1);return n.set(s,a),a};const i=new Proxy({...e.props||{},$$events:{}},{get(s,o){return V(n.get(o)??r(o,Reflect.get(s,o)))},has(s,o){return o===Cre?!0:(V(n.get(o)??r(o,Reflect.get(s,o))),Reflect.has(s,o))},set(s,o,a){return $t(n.get(o)??r(o,a),a),Reflect.set(s,o,a)}});this.#t=(e.hydrate?eje:vie)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||e.sync===!1)&&AUe(),this.#e=i.$$events;for(const s of Object.keys(this.#t))s==="$set"||s==="$destroy"||s==="$on"||Ere(this,s,{get(){return this.#t[s]},set(o){this.#t[s]=o},enumerable:!0});this.#t.$set=s=>{Object.assign(i,s)},this.#t.$destroy=()=>{tje(this.#t)}}$set(e){this.#t.$set(e)}$on(e,n){this.#e[e]=this.#e[e]||[];const r=(...i)=>n.call(this,...i);return this.#e[e].push(r),()=>{this.#e[e]=this.#e[e].filter(i=>i!==r)}}$destroy(){this.#t.$destroy()}}const ije="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ije);class wie{anchor;#e=new Map;#t=new Map;#n=new Map;#r=!0;constructor(e,n=!0){this.anchor=e,this.#r=n}#l=()=>{var e=Ui;if(this.#e.has(e)){var n=this.#e.get(e),r=this.#t.get(n);if(r)dR(r);else{var i=this.#n.get(n);i&&(this.#t.set(n,i.effect),this.#n.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,o]of this.#e){if(this.#e.delete(s),s===e)break;const a=this.#n.get(o);a&&(mo(a.effect),this.#n.delete(o))}for(const[s,o]of this.#t){if(s===n)continue;const a=()=>{if(Array.from(this.#e.values()).includes(s)){var l=document.createDocumentFragment();gie(o,l),l.append(Ac()),this.#n.set(s,{effect:o,fragment:l})}else mo(o);this.#t.delete(s)};this.#r||!r?xg(o,a,!1):a()}}};#a=e=>{this.#e.delete(e);const n=Array.from(this.#e.values());for(const[r,i]of this.#n)n.includes(r)||(mo(i.effect),this.#n.delete(r))};ensure(e,n){var r=Ui,i=CUe();n&&!this.#t.has(e)&&!this.#n.has(e)&&this.#t.set(e,jl(()=>n(this.anchor))),this.#e.set(r,e),i||(Ln&&(this.anchor=$n),this.#l())}}function pR(t){ta===null&&Ire(),uf(()=>{const e=L0(t);if(typeof e=="function")return e})}function sje(t){ta===null&&Ire(),pR(()=>()=>L0(t))}function To(t,e,n=!1){Ln&&l2();var r=new wie(t),i=n?m1:0;function s(o,a){if(Ln){const u=Bre(t)===E4;if(o===u){var l=Q3();Wo(l),r.anchor=l,Pf(!1),r.ensure(o,a),Pf(!0);return}}r.ensure(o,a)}R4(()=>{var o=!1;e((a,l=!0)=>{o=!0,s(l,a)}),o||s(!1,null)},i)}function oje(t,e,n){Ln&&l2();var r=new wie(t);R4(()=>{var i=e();r.ensure(i,n)})}function oA(t,e){return e}function aje(t,e,n){for(var r=t.items,i=[],s=e.length,o=0;o<s;o++)hR(e[o].e,i,!0);var a=s>0&&i.length===0&&n!==null;if(a){var l=n.parentNode;qre(l),l.append(n),r.clear(),Qu(t,e[0].prev,e[s-1].next)}pie(i,()=>{for(var u=0;u<s;u++){var c=e[u];a||(r.delete(c.k),Qu(t,c.prev,c.next)),mo(c.e,!a)}})}function aA(t,e,n,r,i,s=null){var o=t,a={flags:e,items:new Map,first:null},l=(e&Fre)!==0;if(l){var u=t;o=Ln?Wo(Kf(u)):u.appendChild(Ac())}Ln&&l2();var c=null,f=!1,h=new Map,d=Yre(()=>{var v=n();return Are(v)?v:v==null?[]:iR(v)}),m,g;function b(){lje(g,m,a,h,o,i,e,r,n),s!==null&&(m.length===0?c?dR(c):c=jl(()=>s(o)):c!==null&&xg(c,()=>{c=null}))}R4(()=>{g??=pn,m=V(d);var v=m.length;if(f&&v===0)return;f=v===0;let O=!1;if(Ln){var x=Bre(o)===E4;x!==(v===0)&&(o=Q3(),Wo(o),Pf(!1),O=!0)}if(Ln){for(var C=null,S,A=0;A<v;A++){if($n.nodeType===ty&&$n.data===lR){o=$n,O=!0,Pf(!1);break}var k=m[A],T=r(k,A);S=_ie($n,a,C,null,k,T,A,i,e,n),a.items.set(T,S),C=S}v>0&&Wo(Q3())}Ln?v===0&&s&&(c=jl(()=>s(o))):b(),O&&Pf(!0),V(d)}),Ln&&(o=$n)}function lje(t,e,n,r,i,s,o,a,l){var u=(o&mUe)!==0,c=(o&(oR|aR))!==0,f=e.length,h=n.items,d=n.first,m=d,g,b=null,v,O=[],x=[],C,S,A,k;if(u)for(k=0;k<f;k+=1)C=e[k],S=a(C,k),A=h.get(S),A!==void 0&&(A.a?.measure(),(v??=new Set).add(A));for(k=0;k<f;k+=1){if(C=e[k],S=a(C,k),A=h.get(S),A===void 0){var T=r.get(S);if(T!==void 0){r.delete(S),h.set(S,T);var D=b?b.next:m;Qu(n,b,T),Qu(n,T,D),lA(T,D,i),b=T}else{var $=m?m.e.nodes_start:i;b=_ie($,n,b,b===null?n.first:b.next,C,S,k,s,o,l)}h.set(S,b),O=[],x=[],m=b.next;continue}if(c&&uje(A,C,k,o),(A.e.f&Fa)!==0&&(dR(A.e),u&&(A.a?.unfix(),(v??=new Set).delete(A))),A!==m){if(g!==void 0&&g.has(A)){if(O.length<x.length){var M=x[0],L;b=M.prev;var R=O[0],I=O[O.length-1];for(L=0;L<O.length;L+=1)lA(O[L],M,i);for(L=0;L<x.length;L+=1)g.delete(x[L]);Qu(n,R.prev,I.next),Qu(n,b,R),Qu(n,I,M),m=M,b=I,k-=1,O=[],x=[]}else g.delete(A),lA(A,m,i),Qu(n,A.prev,A.next),Qu(n,A,b===null?n.first:b.next),Qu(n,b,A),b=A;continue}for(O=[],x=[];m!==null&&m.k!==S;)(m.e.f&Fa)===0&&(g??=new Set).add(m),x.push(m),m=m.next;if(m===null)continue;A=m}O.push(A),b=A,m=A.next}if(m!==null||g!==void 0){for(var B=g===void 0?[]:iR(g);m!==null;)(m.e.f&Fa)===0&&B.push(m),m=m.next;var z=B.length;if(z>0){var Z=(o&Fre)!==0&&f===0?i:null;if(u){for(k=0;k<z;k+=1)B[k].a?.measure();for(k=0;k<z;k+=1)B[k].a?.fix()}aje(n,B,Z)}}u&&ny(()=>{if(v!==void 0)for(A of v)A.a?.apply()}),t.first=n.first&&n.first.e,t.last=b&&b.e;for(var J of r.values())mo(J.e);r.clear()}function uje(t,e,n,r){(r&oR)!==0&&v1(t.v,e),(r&aR)!==0?v1(t.i,n):t.i=n}function _ie(t,e,n,r,i,s,o,a,l,u,c){var f=(l&oR)!==0,h=(l&gUe)===0,d=f?h?Jre(i,!1,!1):m0(i):i,m=(l&aR)===0?o:m0(o),g={i:m,v:d,k:s,a:null,e:null,prev:n,next:r};try{if(t===null){var b=document.createDocumentFragment();b.append(t=Ac())}return g.e=jl(()=>a(t,d,m,u),Ln),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?c||(e.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function lA(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var o=Uc(s);i.before(s),s=o}}function Qu(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Bl(t,e,n){cie(()=>{var r=L0(()=>e(t,n?.())||{});if(n&&r?.update){var i=!1,s={};fR(()=>{var o=n();zUe(o),i&&Rre(s,o)&&(s=o,r.update(o))}),i=!0}if(r?.destroy)return()=>r.destroy()})}function pU(t,e=!1){var n=e?" !important;":";",r="";for(var i in t){var s=t[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function cje(t,e){if(e){var n="",r,i;return Array.isArray(e)?(r=e[0],i=e[1]):r=e,r&&(n+=pU(r)),i&&(n+=pU(i,!0)),n=n.trim(),n===""?null:n}return String(t)}function uA(t,e={},n,r){for(var i in n){var s=n[i];e[i]!==s&&(n[i]==null?t.style.removeProperty(i):t.style.setProperty(i,s,r))}}function Pn(t,e,n,r){var i=t.__style;if(Ln||i!==e){var s=cje(e,r);(!Ln||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=e}else r&&(Array.isArray(r)?(uA(t,n?.[0],r[0]),uA(t,n?.[1],r[1],"important")):uA(t,n,r));return r}const fje=Symbol("is custom element"),hje=Symbol("is html");function Ge(t,e,n,r){var i=dje(t);Ln&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=n)&&(e==="loading"&&(t[Hze]=n),n==null?t.removeAttribute(e):typeof n!="string"&&pje(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function dje(t){return t.__attributes??={[fje]:t.nodeName.includes("-"),[hje]:t.namespaceURI===xUe}}var mU=new Map;function pje(t){var e=t.getAttribute("is")||t.nodeName,n=mU.get(e);if(n)return n;mU.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=Tre(i);for(var o in r)r[o].set&&n.push(o);i=sR(i)}return n}function gU(t,e){return t===e||t?.[Vp]===e}function PT(t={},e,n,r){return cie(()=>{var i,s;return fR(()=>{i=s,s=[],L0(()=>{t!==n(...s)&&(e(t,...s),i&&gU(n(...i),t)&&e(null,...i))})}),()=>{ny(()=>{s&&gU(n(...s),t)&&e(null,...s)})}}),t}let g_=!1;function mje(t){var e=g_;try{return g_=!1,[t(),g_]}finally{g_=e}}function ft(t,e,n,r){var i=(n&vUe)!==0,s=(n&OUe)!==0,o=r,a=!0,l=()=>(a&&(a=!1,o=s?L0(r):r),o),u;if(i){var c=Vp in t||Cre in t;u=wg(t,e)?.set??(c&&e in t?O=>t[e]=O:void 0)}var f,h=!1;i?[f,h]=mje(()=>t[e]):f=t[e],f===void 0&&r!==void 0&&(f=l(),u&&(uUe(),u(f)));var d;if(d=()=>{var O=t[e];return O===void 0?l():(a=!0,O)},(n&bUe)===0)return d;if(u){var m=t.$$legacy;return(function(O,x){return arguments.length>0?((!x||m||h)&&u(x?d():O),O):d()})}var g=!1,b=((n&yUe)!==0?P4:Yre)(()=>(g=!1,d()));i&&V(b);var v=pn;return(function(O,x){if(arguments.length>0){const C=x?V(b):i?$p(O):O;return $t(b,C),g=!0,o!==void 0&&(o=C),O}return M0&&g||(v.f&Uf)!==0?b.v:V(b)})}var gje=hh('<g><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect></g>');function yje(t,e){I0(e,!0);let n=Nt(()=>e.pointLocation(e.value.xMin,e.value.yMin)),r=Nt(()=>e.pointLocation(e.value.xMax,e.value.yMax));const i=8;function s(b){return v=>{e.preventHover(!0);let O=[V(n).x,V(n).y,V(r).x,V(r).y];return{move:x=>{let C=x.pageX-v.pageX,S=x.pageY-v.pageY,A=[C,S,C,S].map((D,$)=>O[$]+D*b[$]),k=e.coordinateAtPoint(A[0],A[1]),T=e.coordinateAtPoint(A[2],A[3]);e.onChange({xMin:Math.min(k.x,T.x),xMax:Math.max(k.x,T.x),yMin:Math.min(k.y,T.y),yMax:Math.max(k.y,T.y)})},up:()=>{e.preventHover(!1)},cancel:()=>{e.preventHover(!1)}}}}var o=gje(),a=rs(o);Pn(a,"",{},{stroke:"#fff",fill:"rgba(128,128,128,0.25)",cursor:"move"}),Bl(a,(b,v)=>Zn?.(b,v),()=>({drag:s([1,1,1,1])}));var l=jr(a);Ge(l,"width",i),Pn(l,"",{},{cursor:"ew-resize",stroke:"none",fill:"none","pointer-events":"all"}),Bl(l,(b,v)=>Zn?.(b,v),()=>({drag:s([1,0,0,0])}));var u=jr(l);Ge(u,"width",i),Pn(u,"",{},{cursor:"ew-resize",stroke:"none",fill:"none","pointer-events":"all"}),Bl(u,(b,v)=>Zn?.(b,v),()=>({drag:s([0,0,1,0])}));var c=jr(u);Ge(c,"height",i),Pn(c,"",{},{cursor:"ns-resize",stroke:"none",fill:"none","pointer-events":"all"}),Bl(c,(b,v)=>Zn?.(b,v),()=>({drag:s([0,1,0,0])}));var f=jr(c);Ge(f,"height",i),Pn(f,"",{},{cursor:"ns-resize",stroke:"none",fill:"none","pointer-events":"all"}),Bl(f,(b,v)=>Zn?.(b,v),()=>({drag:s([0,0,0,1])}));var h=jr(f);Ge(h,"width",i),Ge(h,"height",i),Pn(h,"",{},{cursor:"nesw-resize",stroke:"none",fill:"none","pointer-events":"all"}),Bl(h,(b,v)=>Zn?.(b,v),()=>({drag:s([1,1,0,0])}));var d=jr(h);Ge(d,"width",i),Ge(d,"height",i),Pn(d,"",{},{cursor:"nwse-resize",stroke:"none",fill:"none","pointer-events":"all"}),Bl(d,(b,v)=>Zn?.(b,v),()=>({drag:s([1,0,0,1])}));var m=jr(d);Ge(m,"width",i),Ge(m,"height",i),Pn(m,"",{},{cursor:"nwse-resize",stroke:"none",fill:"none","pointer-events":"all"}),Bl(m,(b,v)=>Zn?.(b,v),()=>({drag:s([0,1,1,0])}));var g=jr(m);Ge(g,"width",i),Ge(g,"height",i),Pn(g,"",{},{cursor:"nesw-resize",stroke:"none",fill:"none","pointer-events":"all"}),Bl(g,(b,v)=>Zn?.(b,v),()=>({drag:s([0,0,1,1])})),$i(o),Ea((b,v,O,x,C,S,A,k,T,D,$,M)=>{Ge(a,"x",b),Ge(a,"width",v),Ge(a,"y",O),Ge(a,"height",x),Ge(l,"x",V(n).x-i/2),Ge(l,"y",C),Ge(l,"height",S),Ge(u,"x",V(r).x-i/2),Ge(u,"y",A),Ge(u,"height",k),Ge(c,"x",T),Ge(c,"width",D),Ge(c,"y",V(n).y-i/2),Ge(f,"x",$),Ge(f,"width",M),Ge(f,"y",V(r).y-i/2),Ge(h,"x",V(n).x-i/2),Ge(h,"y",V(n).y-i/2),Ge(d,"x",V(n).x-i/2),Ge(d,"y",V(r).y-i/2),Ge(m,"x",V(r).x-i/2),Ge(m,"y",V(n).y-i/2),Ge(g,"x",V(r).x-i/2),Ge(g,"y",V(r).y-i/2)},[()=>Math.min(V(n).x,V(r).x),()=>Math.abs(V(n).x-V(r).x),()=>Math.min(V(n).y,V(r).y),()=>Math.abs(V(n).y-V(r).y),()=>Math.min(V(n).y,V(r).y),()=>Math.abs(V(n).y-V(r).y),()=>Math.min(V(n).y,V(r).y),()=>Math.abs(V(n).y-V(r).y),()=>Math.min(V(n).x,V(r).x),()=>Math.abs(V(n).x-V(r).x),()=>Math.min(V(n).x,V(r).x),()=>Math.abs(V(n).x-V(r).x)]),ci(t,o),F0()}function bje(t,e){let n=!1,r,i,s,o=300,a=300,l=async c=>{n=!0;try{await t(c)}catch(f){console.error(f)}if(n=!1,r!==void 0){let f=r;r=void 0,u(f)}},u=async c=>{if(n){r=c;return}let f=new Date().getTime();e()&&(i=f);let h=!0;(i==null||f-i<a)&&(h=!1),h?(s&&clearTimeout(s),s=setTimeout(()=>l(c),o)):l(c)};return u}function vje(t,e){let n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}function Oje(t){return"M "+t.map(({x:e,y:n})=>`${e},${n}`).join(" L ")+" Z"}function xie(t){let e=1/0,n=-1/0,r=1/0,i=-1/0;for(let{x:s,y:o}of t)e=Math.min(e,s),r=Math.min(r,o),n=Math.max(n,s),i=Math.max(i,o);return{xMin:e,yMin:r,xMax:n,yMax:i}}async function wje(t){let e=JSON.stringify(t);return xje(e)}function Vh(t,e){if(t===e)return!0;if(t===null||e===null||typeof t!="object"||typeof e!="object"||Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(e.hasOwnProperty(n)){if(!Vh(t[n],e[n]))return!1}else return!1;return!0}function _je(t,e=0){let n=3735928559^e,r=1103547991^e;for(let i=0;i<t.length;i++){let s=t[i];n=Math.imul(n^s,2654435761),r=Math.imul(r^s,1597334677)}return n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507),r^=Math.imul(n^n>>>13,3266489909),[r>>>0,n>>>0]}function xje(t){let e=new TextEncoder().encode(t),n=_je(e);return n[0].toString(16).padStart(8,"0")+n[1].toString(16).padStart(8,"0")}var Sje=hh("<path></path>");function kje(t,e){I0(e,!0);let n=Nt(()=>e.value.map(({x:i,y:s})=>e.pointLocation(i,s)));var r=Sje();Pn(r,"",{},{stroke:"#fff",fill:"rgba(128,128,128,0.25)"}),Ea(i=>Ge(r,"d",i),[()=>Oje(V(n))]),ci(t,r),F0()}const Cje={marquee:"M7 5a2 2 0 1 1-4 0a2 2 0 0 1 4 0m1-.25c0 .414.336.75.75.75h6.5a.75.75 0 0 0 0-1.5h-6.5a.75.75 0 0 0-.75.75M4.75 8a.75.75 0 0 0-.75.75v6.5a.75.75 0 0 0 1.5 0v-6.5A.75.75 0 0 0 4.75 8m14.5 0a.75.75 0 0 0-.75.75v6.5a.75.75 0 0 0 1.5 0v-6.5a.75.75 0 0 0-.75-.75M8.75 20a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5zM5 21a2 2 0 1 0 0-4a2 2 0 0 0 0 4M21 5a2 2 0 1 1-4 0a2 2 0 0 1 4 0m-2 16a2 2 0 1 0 0-4a2 2 0 0 0 0 4",lasso:"M9.703 2.265A10 10 0 0 1 12 2c.79 0 1.559.092 2.297.265a.75.75 0 1 1-.343 1.46A8.5 8.5 0 0 0 12 3.5a8.6 8.6 0 0 0-1.954.225a.75.75 0 1 1-.343-1.46m-1.93 1.47a.75.75 0 0 1-.242 1.033a8.55 8.55 0 0 0-2.763 2.763a.75.75 0 1 1-1.275-.79a10.05 10.05 0 0 1 3.248-3.248a.75.75 0 0 1 1.032.243m8.454 0a.75.75 0 0 1 1.032-.242a10.05 10.05 0 0 1 3.248 3.248a.75.75 0 1 1-1.275.79a8.55 8.55 0 0 0-2.763-2.763a.75.75 0 0 1-.242-1.032m-13.06 5.41a.75.75 0 0 1 .558.901A8.5 8.5 0 0 0 3.5 12c0 .673.078 1.327.225 1.954a.75.75 0 1 1-1.46.343A10 10 0 0 1 2 12c0-.79.092-1.559.265-2.297a.75.75 0 0 1 .902-.559m17.666 0a.75.75 0 0 1 .902.558a10.1 10.1 0 0 1 0 4.595a.75.75 0 1 1-1.46-.343a8.54 8.54 0 0 0-.001-3.908a.75.75 0 0 1 .559-.902M3.736 16.226a.75.75 0 0 1 1.032.242a8.55 8.55 0 0 0 2.763 2.763a.75.75 0 0 1-.79 1.275a10.05 10.05 0 0 1-3.248-3.248a.75.75 0 0 1 .243-1.032m16.685.858a.75.75 0 1 0-1.342-.67l-.002.004l-.015.029l-.069.123a8 8 0 0 1-.289.466a9.6 9.6 0 0 1-.965 1.219c-1.17-1.073-2.756-2.006-4.74-2.006c-2.347 0-3.99 1.203-3.99 2.875S10.653 22 13 22c1.942 0 3.495-.75 4.658-1.645a11.7 11.7 0 0 1 1.315 2.01q.05.099.073.149l.017.035l.004.009a.75.75 0 0 0 1.368-.615c-.087-.183 0-.001 0-.001v-.002l-.003-.004l-.007-.015l-.024-.052l-.091-.184a13.2 13.2 0 0 0-1.538-2.337a11 11 0 0 0 1.525-2.032l.09-.162l.024-.047l.007-.014l.002-.005zM13 17.75c1.433 0 2.644.652 3.616 1.512c-.95.7-2.155 1.238-3.616 1.238c-1.973 0-2.49-.922-2.49-1.375s.517-1.375 2.49-1.375"};var Aje=hh('<svg width="24" height="24" viewBox="0 0 24 24"><path></path></svg>'),Eje=Nd("<button><!></button>");function yU(t,e){let n=ft(e,"active",3,!1);var r=Eje();r.__click=function(...a){e.onClick?.apply(this,a)};let i;var s=rs(r);{var o=a=>{var l=Aje();Pn(l,"",{},{width:"14px",height:"14px"});var u=rs(l);Pn(u,"",{},{fill:"currentColor"}),$i(l),Ea(()=>Ge(u,"d",Cje[e.icon])),ci(a,l)};To(s,a=>{e.icon!=null&&a(o)})}$i(r),Ea(()=>{Ge(r,"title",e.title),i=Pn(r,"",i,{border:"none",appearance:"none",background:n()?"color-mix(in srgb, currentColor 20%, transparent)":"none","border-radius":"2px",height:"16px",width:"16px",padding:"0",margin:"0","font-family":"inherit","font-size":"1em",color:"currentColor",display:"flex","flex-direction":"row","align-items":"center","justify-content":"center"})}),ci(t,r)}GUe(["click"]);var Tje=Nd('<div><div> </div> <svg height="6px"><line shape-rendering="crispEdges"></line><line shape-rendering="crispEdges"></line><line shape-rendering="crispEdges"></line></svg></div>');function Dje(t,e){function n(h,d){let m=Math.log10(d*h),g=Math.round(m),b=[.1,.2,.5,1,2,5,10],v=0,O=1e10;for(let x of b){let C=Math.abs(Math.log10(x)+g-m);C<O&&(v=x,O=C)}return v*Math.pow(10,g)}let r=Nt(()=>n(e.distancePerPoint,30)),i=Nt(()=>V(r)/e.distancePerPoint);var s=Tje();Pn(s,"",{},{display:"flex","align-items":"center"});var o=rs(s);Pn(o,"",{},{"padding-right":"4px"});var a=rs(o,!0);$i(o);var l=jr(o,2),u=rs(l);Ge(u,"x1",1),Ge(u,"y1",3),Ge(u,"y2",3),Pn(u,"",{},{stroke:"currentColor","stroke-width":"2","stroke-cap":"butt"});var c=jr(u);Ge(c,"x1",1),Ge(c,"x2",1),Ge(c,"y1",0),Ge(c,"y2",6),Pn(c,"",{},{stroke:"currentColor"});var f=jr(c);Ge(f,"y1",0),Ge(f,"y2",6),Pn(f,"",{},{stroke:"currentColor"}),$i(l),$i(s),Ea(h=>{Jb(a,h),Ge(l,"width",`${V(i)+2}px`),Ge(u,"x2",V(i)+1),Ge(f,"x1",V(i)+1),Ge(f,"x2",V(i)+1)},[()=>V(r).toLocaleString()]),ci(t,s)}var Pje=Nd("<div> </div>"),Rje=Nd('<a target="_blank"> </a> <div style="border-right: 1px solid currentColor; margin: 4px 2px; opacity: 0.3; width: 0; height: 10px"></div>',1),$je=Nd('<div><div><!></div> <div></div> <div><!> <!> <!> <div style="border-right: 1px solid currentColor; margin: 4px 2px; opacity: 0.3; width: 0; height: 10px"></div> <!> <div style="border-right: 1px solid currentColor; margin: 4px 2px; opacity: 0.3; width: 0; height: 10px"></div> <span> </span></div></div>');function Ije(t,e){I0(e,!0);let n=ft(e,"statusMessage",3,null);var r=$je();let i;var s=rs(r);let o;var a=rs(s);{var l=x=>{var C=Pje();Pn(C,"",{},{display:"inline-block"});var S=rs(C,!0);$i(C),Ea(()=>Jb(S,n())),ci(x,C)};To(a,x=>{n()!=null&&x(l)})}$i(s);var u=jr(s,2);Pn(u,"",{},{flex:"1 1 0%"});var c=jr(u,2);let f;var h=rs(c);{var d=x=>{var C=Rje(),S=Dm(C);Pn(S,"",{},{color:"currentColor","text-decoration":"underline"});var A=rs(S,!0);$i(S),Qre(2),Ea(()=>{Ge(S,"href",e.resolvedTheme.brandingLink.href),Jb(A,e.resolvedTheme.brandingLink.text)}),ci(x,C)};To(h,x=>{e.resolvedTheme.brandingLink!=null&&x(d)})}var m=jr(h,2);{let x=Nt(()=>e.selectionMode=="marquee");yU(m,{icon:"marquee",get active(){return V(x)},title:"Toggle rectangle selection mode. In normal mode, use shift + drag for rectangle selection.",onClick:()=>e.onSelectionMode(e.selectionMode=="marquee"?"none":"marquee")})}var g=jr(m,2);{let x=Nt(()=>e.selectionMode=="lasso");yU(g,{icon:"lasso",get active(){return V(x)},title:"Toggle lasso selection mode. In normal mode, use shift + meta + drag for lasso selection.",onClick:()=>e.onSelectionMode(e.selectionMode=="lasso"?"none":"lasso")})}var b=jr(g,4);Dje(b,{get distancePerPoint(){return e.distancePerPoint}});var v=jr(b,4),O=rs(v);$i(v),$i(c),$i(r),Ea(x=>{i=Pn(r,"",i,{"font-size":"12px","line-height":"20px",height:"20px",color:e.resolvedTheme.statusBarTextColor,position:"absolute",bottom:"0px",left:"0px",right:"0px","user-select":"none","font-family":e.resolvedTheme.fontFamily,display:"flex","flex-direction":"row"}),o=Pn(s,"",o,{flex:"none",display:"flex","flex-direction":"row",gap:"4px",padding:"0px 4px","border-radius":"2px",background:e.resolvedTheme.statusBarBackgroundColor}),f=Pn(c,"",f,{flex:"none",display:"flex","flex-direction":"row","align-items":"center",gap:"4px",padding:"0px 4px","border-radius":"2px",background:e.resolvedTheme.statusBarBackgroundColor}),Jb(O,`${x??""} points`)},[()=>e.pointCount.toLocaleString()]),ci(t,r),F0()}function Fje(t){return(e,n)=>{let r=new t(e,n);return{...r.update?{update:r.update.bind(r)}:{},...r.destroy?{destroy:r.destroy.bind(r)}:{}}}}let cA=new WeakMap;function Sie(t){let e=typeof t=="function"?t:t.class;if(cA.has(e))return cA.get(e);{let n=Fje(e);return cA.set(e,n),n}}function kie(t,e){return typeof t=="function"?e:{...t.props??{},...e}}var Mje=Nd("<div><div></div></div>");function Lje(t,e){I0(e,!0);let n=ft(e,"margin",3,4),r,i,s=Nt(()=>Sie(e.customTooltip)),o=Nt(()=>kie(e.customTooltip,{tooltip:e.tooltip}));pR(()=>{Kb(()=>{let u=V(s),c=null;return Kb(()=>{i.style.left="0px",i.style.top="0px",i.style.pointerEvents=e.allowInteraction?"all":"none",c==null?c=u(i,V(o)):c.update?.(V(o));function f(b,v,O,x){let C=e.location.x,S=e.location.y,A=2,k=b/2,T=v+(e.targetHeight+n());C-k<O&&(k=C-O),C-k>x-b&&(k=C-x+b),S-T<A&&(T=-(e.targetHeight+n())),i.style.left=C-k+"px",i.style.top=S-T+"px"}let h=r.getBoundingClientRect(),{width:d,height:m}=i.getBoundingClientRect();f(d,m,2,h.width-2);let g=requestAnimationFrame(()=>{g=null;let b=i.getBoundingClientRect();(b.width!=d||b.height!=m)&&f(b.width,b.height,2,h.width-2)});return()=>{g!=null&&cancelAnimationFrame(g)}}),()=>{c?.destroy?.(),i.replaceChildren()}})});var a=Mje();Pn(a,"",{},{position:"absolute",width:"100%"});var l=rs(a);Pn(l,"",{},{display:"flex",position:"absolute",width:"fit-content",height:"fit-content","z-index":"100"}),PT(l,u=>i=u,()=>i),$i(a),PT(a,u=>r=u,()=>r),ci(t,a),F0()}function mR(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Cie(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function c2(){}var dO=.7,U3=1/dO,Sg="\\s*([+-]?\\d+)\\s*",pO="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nje=/^#([0-9a-f]{3,8})$/,Qje=new RegExp(`^rgb\\(${Sg},${Sg},${Sg}\\)$`),Bje=new RegExp(`^rgb\\(${mc},${mc},${mc}\\)$`),zje=new RegExp(`^rgba\\(${Sg},${Sg},${Sg},${pO}\\)$`),Uje=new RegExp(`^rgba\\(${mc},${mc},${mc},${pO}\\)$`),jje=new RegExp(`^hsl\\(${pO},${mc},${mc}\\)$`),qje=new RegExp(`^hsla\\(${pO},${mc},${mc},${pO}\\)$`),bU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mR(c2,gR,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vU,formatHex:vU,formatHex8:Vje,formatHsl:Xje,formatRgb:OU,toString:OU});function vU(){return this.rgb().formatHex()}function Vje(){return this.rgb().formatHex8()}function Xje(){return Eie(this).formatHsl()}function OU(){return this.rgb().formatRgb()}function gR(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Nje.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?wU(e):n===3?new Xo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?y_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?y_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Qje.exec(t))?new Xo(e[1],e[2],e[3],1):(e=Bje.exec(t))?new Xo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=zje.exec(t))?y_(e[1],e[2],e[3],e[4]):(e=Uje.exec(t))?y_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jje.exec(t))?SU(e[1],e[2]/100,e[3]/100,1):(e=qje.exec(t))?SU(e[1],e[2]/100,e[3]/100,e[4]):bU.hasOwnProperty(t)?wU(bU[t]):t==="transparent"?new Xo(NaN,NaN,NaN,0):null}function wU(t){return new Xo(t>>16&255,t>>8&255,t&255,1)}function y_(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xo(t,e,n,r)}function Zje(t){return t instanceof c2||(t=gR(t)),t?(t=t.rgb(),new Xo(t.r,t.g,t.b,t.opacity)):new Xo}function Aie(t,e,n,r){return arguments.length===1?Zje(t):new Xo(t,e,n,r??1)}function Xo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}mR(Xo,Aie,Cie(c2,{brighter(t){return t=t==null?U3:Math.pow(U3,t),new Xo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?dO:Math.pow(dO,t),new Xo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xo(Zp(this.r),Zp(this.g),Zp(this.b),j3(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_U,formatHex:_U,formatHex8:Wje,formatRgb:xU,toString:xU}));function _U(){return`#${Fp(this.r)}${Fp(this.g)}${Fp(this.b)}`}function Wje(){return`#${Fp(this.r)}${Fp(this.g)}${Fp(this.b)}${Fp((isNaN(this.opacity)?1:this.opacity)*255)}`}function xU(){const t=j3(this.opacity);return`${t===1?"rgb(":"rgba("}${Zp(this.r)}, ${Zp(this.g)}, ${Zp(this.b)}${t===1?")":`, ${t})`}`}function j3(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fp(t){return t=Zp(t),(t<16?"0":"")+t.toString(16)}function SU(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Jl(t,e,n,r)}function Eie(t){if(t instanceof Jl)return new Jl(t.h,t.s,t.l,t.opacity);if(t instanceof c2||(t=gR(t)),!t)return new Jl;if(t instanceof Jl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Jl(o,a,l,t.opacity)}function Yje(t,e,n,r){return arguments.length===1?Eie(t):new Jl(t,e,n,r??1)}function Jl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}mR(Jl,Yje,Cie(c2,{brighter(t){return t=t==null?U3:Math.pow(U3,t),new Jl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?dO:Math.pow(dO,t),new Jl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Xo(fA(t>=240?t-240:t+120,i,r),fA(t,i,r),fA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Jl(kU(this.h),b_(this.s),b_(this.l),j3(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=j3(this.opacity);return`${t===1?"hsl(":"hsla("}${kU(this.h)}, ${b_(this.s)*100}%, ${b_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function kU(t){return t=(t||0)%360,t<0?t+360:t}function b_(t){return Math.max(0,Math.min(1,t||0))}function fA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const CU=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],v_=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"];function g0(t){if(t<1&&(t=1),t<=CU.length)return CU.slice(0,t);if(t<=v_.length)return v_.slice(0,t);{let e=[];for(let n=0;n<t;n++)e[n]=v_[n%v_.length];return e}}function yR(t){let{r:e,g:n,b:r,opacity:i}=Aie(t);return{r:e/255,g:n/255,b:r/255,a:i}}function Tie(){return[1,0,0,0,1,0,0,0,1]}function bR(t,e){return[t[0]*e[0]+t[3]*e[1]+t[6]*e[2],t[1]*e[0]+t[4]*e[1]+t[7]*e[2],t[2]*e[0]+t[5]*e[1]+t[8]*e[2],t[0]*e[3]+t[3]*e[4]+t[6]*e[5],t[1]*e[3]+t[4]*e[4]+t[7]*e[5],t[2]*e[3]+t[5]*e[4]+t[8]*e[5],t[0]*e[6]+t[3]*e[7]+t[6]*e[8],t[1]*e[6]+t[4]*e[7]+t[7]*e[8],t[2]*e[6]+t[5]*e[7]+t[8]*e[8]]}function Die(t,e){return[e[0]*t[0]+e[3]*t[1]+e[6]*t[2],e[1]*t[0]+e[4]*t[1]+e[7]*t[2],e[2]*t[0]+e[5]*t[1]+e[8]*t[2]]}function Gje(t){return t[0]*t[4]*t[8]-t[0]*t[5]*t[7]-t[1]*t[3]*t[8]+t[1]*t[5]*t[6]+t[2]*t[3]*t[7]-t[2]*t[4]*t[6]}function Pie(t){let e=Gje(t);return[(t[4]*t[8]-t[5]*t[7])/e,(t[2]*t[7]-t[1]*t[8])/e,(t[1]*t[5]-t[2]*t[4])/e,(t[5]*t[6]-t[3]*t[8])/e,(t[0]*t[8]-t[2]*t[6])/e,(t[2]*t[3]-t[0]*t[5])/e,(t[3]*t[7]-t[4]*t[6])/e,(t[1]*t[6]-t[0]*t[7])/e,(t[0]*t[4]-t[1]*t[3])/e]}class $4{viewport;width;height;_matrix=[0,0,0,0,0,0,0,0,0];_pixel_kx=0;_pixel_bx=0;_pixel_ky=0;_pixel_by=0;constructor(e,n,r){this.viewport=e,this.width=n,this.height=r,this.updateCoefficients()}update(e,n,r){this.viewport=e,this.width=n,this.height=r,this.updateCoefficients()}updateCoefficients(){let{x:e,y:n,scale:r}=this.viewport,i=r,s=r;this.width<this.height?i*=this.height/this.width:s*=this.width/this.height,this._matrix=[i,0,0,0,s,0,-e*i,-n*s,1],this._pixel_kx=this._matrix[0]*this.width/2,this._pixel_bx=(this._matrix[6]+1)*this.width/2,this._pixel_ky=-this._matrix[4]*this.height/2,this._pixel_by=(-this._matrix[7]+1)*this.height/2}matrix(){return this._matrix}pixelLocation(e,n){return{x:e*this._pixel_kx+this._pixel_bx,y:n*this._pixel_ky+this._pixel_by}}coordinateAtPixel(e,n){return{x:(e-this._pixel_bx)/this._pixel_kx,y:(n-this._pixel_by)/this._pixel_ky}}pixelLocationFunction(){let e=this._pixel_kx,n=this._pixel_ky,r=this._pixel_bx,i=this._pixel_by;return(s,o)=>({x:s*e+r,y:o*n+i})}coordinateAtPixelFunction(){let e=this._pixel_kx,n=this._pixel_ky,r=this._pixel_bx,i=this._pixel_by;return(s,o)=>({x:(s-r)/e,y:(o-i)/n})}}let RT=class{_needsRun=!0;_inputs=new Set;_targets=new Set;constructor(e=[]){this._inputs=new Set(e);for(let n of this._inputs)n._targets.add(this)}addInput(e){this._inputs.add(e),e._targets.add(this)}removeInput(e){e._targets.delete(this),this._inputs.delete(e)}run(){if(this._needsRun){for(let e of this._inputs)e.run();this.update(),this._needsRun=!1}}setNeedsRunDownstream(){for(let e of this._targets)e._needsRun||(e._needsRun=!0,e.setNeedsRunDownstream())}update(){}destroy(){for(let e of this._inputs)e._targets.delete(this)}},ry=class extends RT{_value=null;setValue(e){this._value!==e&&(this._value=e,this.setNeedsRunDownstream())}get value(){return this.run(),this._value}};class Rie extends ry{constructor(e){super([]),this.setValue(e)}get value(){return super.value}set value(e){this.setValue(e)}}let Hje=class extends ry{fn;constructor(e,n){super(n),this.fn=e}update(){this.setValue(this.fn())}},Kje=class extends ry{fn;state;constructor(e,n){super(n),this.fn=e,this.state={}}update(){this.setValue(this.fn(this.state))}destroy(){super.destroy(),this.state.destroy&&this.state.destroy(),this.state={}}},Jje=class extends ry{parent;condition;buildTrue;buildFalse;context=null;currentCondition=null;currentNode=null;constructor(e,n,r,i){super([n]),this.parent=e,this.condition=n,this.buildTrue=r,this.buildFalse=i}update(){(this.currentNode==null||this.currentCondition!==this.condition.value)&&(this.currentNode&&this.removeInput(this.currentNode),this.context?.destroy(),this.context=new N0(this.parent),this.currentCondition=this.condition.value,this.currentCondition?this.currentNode=this.buildTrue(this.context):this.currentNode=this.buildFalse(this.context),this.addInput(this.currentNode)),this.setValue(this.currentNode.value)}destroy(){super.destroy(),this.context?.destroy()}},eqe=class extends ry{parent;input;build;cache;constructor(e,n,r){super([n]),this.parent=e,this.input=n,this.build=r,this.cache=new Map}update(){let e=new Set,n=this.input.value.map(r=>{if(e.add(r),this.cache.has(r)){let i=this.cache.get(r);return i.input.value=r,i.output.value}else{let i=new N0(this.parent),s=new Rie(r),o=this.build(i,s);return this.cache.set(r,{context:i,input:s,output:o}),this.addInput(o),o.value}});for(let[r,i]of this.cache)e.has(r)||(this.cache.delete(r),this.removeInput(i.output),i.context.destroy());this.setValue(n)}destroy(){super.destroy();for(let e of this.cache.values())e.context.destroy()}},tqe=class extends ry{parent;input;cases;currentCase=null;currentNode=null;currentContext=null;constructor(e,n,r){super([n]),this.parent=e,this.input=n,this.cases=r}update(){(this.currentNode==null||this.input.value!==this.currentCase)&&(this.currentNode&&this.removeInput(this.currentNode),this.currentContext?.destroy(),this.currentContext=new N0(this.parent),this.currentCase=this.input.value,this.currentNode=this.cases[this.currentCase](this.currentContext),this.addInput(this.currentNode)),this.setValue(this.currentNode.value)}destroy(){super.destroy(),this.currentContext?.destroy()}};class N0{_children;_nodes;constructor(e=null){this._children=new Set,this._nodes=new Set,e?._children.add(this)}destroy(){for(let e of this._children)e.destroy();for(let e of this._nodes)e.destroy();this._children.clear(),this._nodes.clear()}value(e){let n=new Rie(e);return this._nodes.add(n),n}derive(e,n){let r=e.map(s=>s instanceof RT?s:this.value(s)),i=new Hje(()=>n(...r.map(s=>s.value)),r);return this._nodes.add(i),i}statefulDerive(e,n){let r=e.map(s=>s instanceof RT?s:this.value(s)),i=new Kje(s=>n(s,...r.map(o=>o.value)),r);return this._nodes.add(i),i}if(e,n,r){let i=new Jje(this,e,n,r);return this._nodes.add(i),i}switch(e,n){let r=new tqe(this,e,n);return this._nodes.add(r),r}map(e,n){let r=new eqe(this,e,n);return this._nodes.add(r),r}assertNotNull(e){return e}subgraph(){return new N0(this)}}function Tc(t,e,n,r){if(t.program==null||t.vsSource!=n||t.fsSource!=r){t.destroy&&t.destroy();let s=AU(e,e.VERTEX_SHADER,n),o=AU(e,e.FRAGMENT_SHADER,r),a=e.createProgram();if(e.attachShader(a,s),e.attachShader(a,o),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS)){var i=e.getProgramInfoLog(a);throw new Error(`failed to link program: ${i}, vertex source: ${n}, fragment source: ${r}`)}t.program=a,t.vsSource=n,t.fsSource=r,t.destroy=()=>{e.deleteProgram(a),e.deleteShader(s),e.deleteShader(o)},t.uniforms={};for(let l of(n+r).matchAll(/uniform +[0-9a-zA-Z_]+ +([0-9a-zA-Z_]+) *(;|\[)/g)){let u=l[1];t.uniforms[u]=e.getUniformLocation(a,u)}}return{program:t.program,uniforms:t.uniforms??{}}}function AU(t,e,n){let r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var i=t.getShaderInfoLog(r);throw new Error(`failed to compile shader: ${i}, source: ${n}`)}return r}function gc(t,e,n,r){if(t.buffer==null){let i=e.createBuffer();t.buffer=i,t.destroy=()=>{e.deleteBuffer(i)}}if(t.data!==n){if(t.data=n,e.bindBuffer(e.ARRAY_BUFFER,t.buffer),n instanceof Array)switch(r??"f32"){case"f32":e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW);break;case"i32":e.bufferData(e.ARRAY_BUFFER,new Int32Array(n),e.STATIC_DRAW);break;case"u32":e.bufferData(e.ARRAY_BUFFER,new Uint32Array(n),e.STATIC_DRAW);break;case"i16":e.bufferData(e.ARRAY_BUFFER,new Int16Array(n),e.STATIC_DRAW);break;case"u16":e.bufferData(e.ARRAY_BUFFER,new Uint16Array(n),e.STATIC_DRAW);break;case"i8":e.bufferData(e.ARRAY_BUFFER,new Int8Array(n),e.STATIC_DRAW);break;case"u8":e.bufferData(e.ARRAY_BUFFER,new Uint8Array(n),e.STATIC_DRAW);break;default:throw new Error("invalid type")}else e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW);e.bindBuffer(e.ARRAY_BUFFER,null)}return t.buffer}function nqe(t,e,n,r,i){const s={u8:{1:[t.R8,t.RED,t.UNSIGNED_BYTE],2:[t.RG8,t.RG,t.UNSIGNED_BYTE],3:[t.RGB8,t.RGB,t.UNSIGNED_BYTE],4:[t.RGBA8,t.RGBA,t.UNSIGNED_BYTE]},u16:{1:[t.R8,t.RED,t.UNSIGNED_SHORT],2:[t.RG8,t.RG,t.UNSIGNED_SHORT],3:[t.RGB8,t.RGB,t.UNSIGNED_SHORT],4:[t.RGBA8,t.RGBA,t.UNSIGNED_SHORT]},u32:{1:[t.R8,t.RED,t.UNSIGNED_INT],2:[t.RG8,t.RG,t.UNSIGNED_INT],3:[t.RGB8,t.RGB,t.UNSIGNED_INT],4:[t.RGBA8,t.RGBA,t.UNSIGNED_INT]},f32:{1:[t.R32F,t.RED,t.FLOAT],2:[t.RG32F,t.RG,t.FLOAT],3:[t.RGB32F,t.RGB,t.FLOAT],4:[t.RGBA32F,t.RGBA,t.FLOAT]}};let[o,a,l]=s[i][r];t.texImage2D(t.TEXTURE_2D,0,o,e,n,0,a,l,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}function Xh(t,e,n,r,i,s){if(t.framebuffer==null||t.texture==null){let a=e.createFramebuffer(),l=e.createTexture();e.bindFramebuffer(e.FRAMEBUFFER,a),e.bindTexture(e.TEXTURE_2D,l),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,l,0),e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.framebuffer=a,t.texture=l,t.destroy=()=>{e.deleteFramebuffer(a),e.deleteTexture(l)}}let o=`${n},${r},${i},${s}`;return t.cacheKey!=o&&(t.cacheKey=o,e.bindTexture(e.TEXTURE_2D,t.texture),nqe(e,n,r,i,s),e.bindTexture(e.TEXTURE_2D,null)),{framebuffer:t.framebuffer,texture:t.texture,width:n,height:r}}function rqe(t){let e=t.squareMaxSize,n=t.samples,r=`#version 300 es
    precision highp float;
    layout(location=0) in vec2 xy;
    out vec2 uv;
    void main() {
      gl_Position = vec4(xy, 0, 1);
      uv = (xy + 1.0) / 2.0;
    }
  `,i=`#version 300 es
    precision highp float;
    uniform sampler2D image;
    uniform vec2 resolution;
    uniform vec2 direction;
    in vec2 uv;
    out vec4 outColor;
    void main() {
      vec4 color = vec4(0.0);
      const int count = ${e};
      int i = -count;
      while(i + 1 <= count) {
        color += texture(image, uv + direction * (float(i) + 0.5) / resolution) * 2.0;
        i += 2;
      }
      if (i <= count) {
        color += texture(image, uv + direction * float(count) / resolution);
      }
      outColor = color;
    }
  `,s=`#version 300 es
    precision highp float;
    uniform sampler2D image;
    uniform sampler2D imageBox;
    uniform vec2 resolution;
    uniform float scaler;
    in vec2 uv;
    out vec4 outColor;

    void main() {
      vec4 color = texture(imageBox, uv);
      if (color != vec4(0.0)) {
        ${n.map(({x:o,y:a,w:l})=>`color -= texture(image, uv + vec2(${o.toFixed(8)}, ${a.toFixed(8)}) / resolution) * (${l.toFixed(8)})`).join(";")};
      }
      outColor = color * scaler;
    }
  `;return{vertex:r,fragment1:i,fragment2:s}}function iqe(t,e,n){let r=t.derive([n],sqe),i=t.derive([r],rqe),s=t.statefulDerive([e,t.derive([i],l=>l.vertex),t.derive([i],l=>l.fragment1)],Tc),o=t.statefulDerive([e,t.derive([i],l=>l.vertex),t.derive([i],l=>l.fragment2)],Tc),a=t.statefulDerive([e,[-1,-1,-1,1,1,-1,1,1],"f32"],gc);return t.derive([e,a,s,o,n,r],(l,u,c,f,h,d)=>(m,g,b)=>{let{width:v,height:O}=g;l.disable(l.BLEND),l.enableVertexAttribArray(0),l.bindBuffer(l.ARRAY_BUFFER,u),l.vertexAttribPointer(0,2,l.FLOAT,!1,0,0),l.bindBuffer(l.ARRAY_BUFFER,null),l.useProgram(c.program),l.uniform2f(c.uniforms.resolution,v,O),l.uniform1i(c.uniforms.image,0),l.bindFramebuffer(l.FRAMEBUFFER,g.framebuffer),l.bindTexture(l.TEXTURE_2D,m),l.uniform2f(c.uniforms.direction,0,1),l.drawArrays(l.TRIANGLE_STRIP,0,4),l.bindFramebuffer(l.FRAMEBUFFER,b.framebuffer),l.bindTexture(l.TEXTURE_2D,g.texture),l.uniform2f(c.uniforms.direction,1,0),l.drawArrays(l.TRIANGLE_STRIP,0,4),l.bindFramebuffer(l.FRAMEBUFFER,g.framebuffer),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,b.texture),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,m),l.useProgram(f.program),l.uniform2f(f.uniforms.resolution,v,O),l.uniform1i(f.uniforms.image,0),l.uniform1i(f.uniforms.imageBox,1);let x=1/d.totalWeight*h*h*Math.PI;l.uniform1f(f.uniforms.scaler,x),l.drawArrays(l.TRIANGLE_STRIP,0,4),l.bindFramebuffer(l.FRAMEBUFFER,null),l.useProgram(null),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,null),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,null),l.disableVertexAttribArray(0)})}function EU(t,e,n){let r=Math.sqrt(e*e+n*n);if(r<t-Math.sqrt(2)/2)return 1;if(r>t+Math.sqrt(2)/2)return 0;let i=2,s=0;for(let o=0;o<i;o++)for(let a=0;a<i;a++){let l=e+(o+.5)/i-.5,u=n+(a+.5)/i-.5;Math.sqrt(l*l+u*u)<t&&(s+=1)}return s/i/i}function sqe(t){let e=Math.floor(t+.5),n=e,r=EU(t,0,0),i=[];for(let a=-e;a<=e;a++)for(let l=-e;l<=e;l++){let u=r-EU(t,a,l);if(!(u<=0))if(i.length>0&&a==i[i.length-1].x&&l==i[i.length-1].y+1){let c=i[i.length-1].w,f=u;i[i.length-1].y+=1-c/(c+f),i[i.length-1].w=c+f}else i.push({x:a,y:l,w:u})}i=i.sort((a,l)=>a.y!=l.y?a.y-l.y:a.x-l.x);let s=[];for(let{x:a,y:l,w:u}of i)if(s.length>0&&l==s[s.length-1].y&&a==s[s.length-1].x+1){let c=s[s.length-1].w,f=u;s[s.length-1].x+=1-c/(c+f),s[s.length-1].w=c+f}else s.push({x:a,y:l,w:u});let o=-s.reduce((a,l)=>a+l.w,0);return o+=r*(1+n*2)*(1+n*2),{squareMaxSize:n,squareWeight:r,samples:s,totalWeight:o}}function oqe(t){let e;return t?e=`#version 300 es
      precision highp float;
      uniform mat3 matrix;
      layout(location=0) in float x;
      layout(location=1) in float y;
      layout(location=2) in int category;
      out vec4 color;
      void main() {
        gl_Position = vec4(matrix * vec3(x, y, 1), 1);
        if (category == 0) {
          color = vec4(1, 0, 0, 0);
        } else if (category == 1) {
          color = vec4(0, 1, 0, 0);
        } else if (category == 2) {
          color = vec4(0, 0, 1, 0);
        } else if (category == 3) {
          color = vec4(0, 0, 0, 1);
        }
        gl_PointSize = 1.0;
      }
    `:e=`#version 300 es
      precision highp float;
      uniform mat3 matrix;
      layout(location=0) in float x;
      layout(location=1) in float y;
      out vec4 color;
      void main() {
        gl_Position = vec4(matrix * vec3(x, y, 1), 1);
        color = vec4(1, 0, 0, 0);
        gl_PointSize = 1.0;
      }
    `,{vertex:e,fragment:`#version 300 es
    precision highp float;
    in vec4 color;
    out vec4 outColor;
    void main() {
      outColor = color;
    }
  `}}function $T(t,e,n,r,i,s){let o=i!=null,a=oqe(o),l=t.statefulDerive([e,a.vertex,a.fragment],Tc);return t.derive([e,l,n,r,i,s],(u,c,f,h,d,m)=>g=>{u.enable(u.BLEND),u.blendFunc(u.ONE,u.ONE),u.useProgram(c.program),u.enableVertexAttribArray(0),u.bindBuffer(u.ARRAY_BUFFER,f),u.vertexAttribPointer(0,1,u.FLOAT,!1,0,0),u.enableVertexAttribArray(1),u.bindBuffer(u.ARRAY_BUFFER,h),u.vertexAttribPointer(1,1,u.FLOAT,!1,0,0),d!=null&&(u.enableVertexAttribArray(2),u.bindBuffer(u.ARRAY_BUFFER,d),u.vertexAttribIPointer(2,1,u.BYTE,0,0)),u.bindBuffer(u.ARRAY_BUFFER,null),u.uniformMatrix3fv(c.uniforms.matrix,!1,g),u.drawArrays(u.POINTS,0,m),u.disableVertexAttribArray(0),u.disableVertexAttribArray(1),d!=null&&u.disableVertexAttribArray(2),u.useProgram(null)})}function aqe(){return{vertex:`#version 300 es
    precision highp float;
    uniform vec2 xyScaler;
    layout(location=0) in vec2 xy;
    out vec2 uv;
    void main() {
      gl_Position = vec4(xy * xyScaler, 0, 1);
      uv = (xy + 1.0) / 2.0;
    }
  `,fragment:`#version 300 es
    precision highp float;
    uniform sampler2D source;
    uniform float gamma;
    in vec2 uv;
    out vec4 outColor;
    void main() {
      vec4 color = texture(source, uv);
      color.rgb = pow(color.rgb, vec3(1.0 / gamma));
      outColor = color;
    }
  `}}function $ie(t,e){let{vertex:n,fragment:r}=aqe(),i=t.statefulDerive([e,n,r],Tc),s=t.statefulDerive([e,[-1,-1,-1,1,1,-1,1,1],"f32"],gc);return t.derive([e,i,s],(o,a,l)=>(u,c,f,h)=>{o.disable(o.BLEND),o.enableVertexAttribArray(0),o.bindBuffer(o.ARRAY_BUFFER,l),o.vertexAttribPointer(0,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,null),o.bindTexture(o.TEXTURE_2D,u),o.useProgram(a.program),o.uniform1i(a.uniforms.source,0),o.uniform2f(a.uniforms.xyScaler,f??1,h??1),o.uniform1f(a.uniforms.gamma,c??2.2),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.useProgram(null),o.bindTexture(o.TEXTURE_2D,null),o.disableVertexAttribArray(0)})}function Iie(t){return Math.ceil(t*3)}function lqe(t){let e=Iie(t),n=[];for(let a=-e;a<=e;a++)n.push(Math.exp(-a*a/t/t/2));let r=n.reduce((a,l)=>a+l,0);n=n.map(a=>a/r);let i=cqe(n).map(([a,l])=>[a-e,l]),s=`#version 300 es
    precision highp float;
    layout(location=0) in vec2 xy;
    out vec2 uv;
    void main() {
      gl_Position = vec4(xy, 0, 1);
      uv = (xy + 1.0) / 2.0;
    }
  `,o=`#version 300 es
    precision highp float;
    uniform sampler2D image;
    uniform vec2 resolution;
    uniform vec2 direction;
    in vec2 uv;
    out vec4 outColor;

    void main() {
      vec4 color = vec4(0.0);
      ${i.map(([a,l])=>`color += texture(image, uv + direction * vec2(${a.toFixed(10)}) / resolution) * ${l.toFixed(10)};`).join(`
`)}
      outColor = color;
    }
  `;return{vertex:s,fragment:o}}function uqe(t,e,n){let r=t.derive([n],lqe),i=t.statefulDerive([e,t.derive([r],o=>o.vertex),t.derive([r],o=>o.fragment)],Tc),s=t.statefulDerive([e,[-1,-1,-1,1,1,-1,1,1],"f32"],gc);return t.derive([e,s,i,n],(o,a,l,u)=>(c,f,h)=>{let{width:d,height:m}=f;o.disable(o.BLEND),o.enableVertexAttribArray(0),o.bindBuffer(o.ARRAY_BUFFER,a),o.vertexAttribPointer(0,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,null),o.useProgram(l.program),o.uniform2f(l.uniforms.resolution,d,m),o.uniform1i(l.uniforms.image,0),o.bindFramebuffer(o.FRAMEBUFFER,h.framebuffer),o.bindTexture(o.TEXTURE_2D,c),o.uniform2f(l.uniforms.direction,0,1),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.bindFramebuffer(o.FRAMEBUFFER,f.framebuffer),o.bindTexture(o.TEXTURE_2D,h.texture),o.uniform2f(l.uniforms.direction,1,0),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.bindFramebuffer(o.FRAMEBUFFER,null),o.useProgram(null),o.bindTexture(o.TEXTURE_2D,null),o.disableVertexAttribArray(0)})}function cqe(t){let e=[];for(let n=0;n<t.length;n+=2)if(n+1<t.length){let r=t[n],i=t[n+1],s=1-r/(r+i);if(s>=0&&s<=1){let o=r+i;o!=0&&e.push([n+s,o])}else e.push([n,t[n]]),e.push([n+1,t[n+1]])}else e.push([n,t[n]]);return e}function fqe(t){return Math.ceil(t*3)}function hqe(){return{vertex:`#version 300 es
    precision highp float;
    layout(location=0) in vec2 xy;
    out vec2 uv;
    void main() {
      gl_Position = vec4(xy, 0, 1);
      uv = (xy + 1.0) / 2.0;
    }
  `,fragment:`#version 300 es
    precision highp float;
    uniform sampler2D image;
    uniform vec2 resolution;
    uniform vec2 direction;
    in vec2 uv;
    out vec4 outColor;

    uniform float weight0;
    uniform vec3 distances;
    uniform vec3 weights;

    void main() {
      vec4 color = texture(image, uv) * weight0;
      if (weights.x != 0.0) {
        color += texture(image, uv + direction * vec2(distances.x) / resolution) * weights.x;
        color += texture(image, uv - direction * vec2(distances.x) / resolution) * weights.x;
      }
      if (weights.y != 0.0) {
        color += texture(image, uv + direction * vec2(distances.y) / resolution) * weights.y;
        color += texture(image, uv - direction * vec2(distances.y) / resolution) * weights.y;
      }
      if (weights.z != 0.0) {
        color += texture(image, uv + direction * vec2(distances.z) / resolution) * weights.z;
        color += texture(image, uv - direction * vec2(distances.z) / resolution) * weights.z;
      }
      outColor = color;
    }
  `}}function dqe(t,e,n){let{vertex:r,fragment:i}=hqe(),s=t.statefulDerive([e,r,i],Tc),o=t.statefulDerive([e,[-1,-1,-1,1,1,-1,1,1],"f32"],gc);return t.derive([e,o,s],(a,l,u)=>(c,f,h)=>{let{width:d,height:m}=f;a.disable(a.BLEND),a.enableVertexAttribArray(0),a.bindBuffer(a.ARRAY_BUFFER,l),a.vertexAttribPointer(0,2,a.FLOAT,!1,0,0),a.bindBuffer(a.ARRAY_BUFFER,null),a.useProgram(u.program),a.uniform2f(u.uniforms.resolution,d,m),a.uniform1i(u.uniforms.image,0);let g=c,b=h,v=f;for(let O=0;O<2;O++){a.uniform2f(u.uniforms.direction,O,1-O);for(let[x,C,S]of pqe){a.bindFramebuffer(a.FRAMEBUFFER,b.framebuffer),a.bindTexture(a.TEXTURE_2D,g),a.uniform1fv(u.uniforms.weight0,C),a.uniform3fv(u.uniforms.distances,x),a.uniform3fv(u.uniforms.weights,S),a.drawArrays(a.TRIANGLE_STRIP,0,4),g=b.texture;let A=b;b=v,v=A}}a.bindFramebuffer(a.FRAMEBUFFER,null),a.useProgram(null),a.bindTexture(a.TEXTURE_2D,null),a.disableVertexAttribArray(0)})}const pqe=[[[1,2,3],[.2288468365182578],[.18230006506971572,.1356122230111784,.06766429365997693]],[[2,6,10],[.09116254014100238],[.23317759354726447,.18385867277788717,.03738246360434722]],[[3,10,20],[.2950645715317288],[.010918865853671198,.23773695670296047,.10381189167750389]],[[4,16,30],[.20085957073474772],[.14463019087130788,.17934533765938643,.07559468610193185]]];function mqe(){return{vertex:`#version 300 es
    precision highp float;
    layout(location=0) in vec2 xy;
    out vec2 uv;
    void main() {
      gl_Position = vec4(xy, 0, 1);
      uv = (xy + 1.0) / 2.0;
    }
  `,fragment:`#version 300 es
    precision highp float;
    uniform sampler2D source;
    uniform vec2 resolution;
    uniform float densityScaler;
    uniform float quantizationStep;
    uniform vec4 channelMask;
    uniform vec4 color;
    uniform float globalAlpha;

    in vec2 uv;
    out vec4 outColor;

    float sample_density(vec2 uv) {
      float d = dot(texture(source, uv), channelMask) * densityScaler;
      d = min(1.0, max(0.0, d));
      d = floor(d / quantizationStep);
      return d;
    }

    void main() {
      // Run the Sobel operator.
      float v = sample_density(uv);
      float v11 = sample_density(uv + vec2(-1, -1) / resolution);
      float v12 = sample_density(uv + vec2(-1,  0) / resolution);
      float v13 = sample_density(uv + vec2(-1, +1) / resolution);
      float v21 = sample_density(uv + vec2( 0, -1) / resolution);
      float v23 = sample_density(uv + vec2( 0, +1) / resolution);
      float v31 = sample_density(uv + vec2(+1, -1) / resolution);
      float v32 = sample_density(uv + vec2(+1,  0) / resolution);
      float v33 = sample_density(uv + vec2(+1, +1) / resolution);
      float gx = v11 + v12 * 2.0 + v13 - v31 - v32 * 2.0 - v33;
      float gy = v11 + v21 * 2.0 + v31 - v13 - v23 * 2.0 - v33;
      // Derive alpha value from the result.
      float alpha = length(vec2(gx, gy)) * 0.2;
      alpha = min(1.0, max(0.0, alpha));
      outColor = color * alpha * globalAlpha;
    }
  `}}function gqe(t,e){let{vertex:n,fragment:r}=mqe(),i=t.statefulDerive([e,n,r],Tc),s=t.statefulDerive([e,[-1,-1,-1,1,1,-1,1,1],"f32"],gc);return t.derive([e,i,s],(o,a,l)=>(u,c,f,h,d,m)=>{o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.enableVertexAttribArray(0),o.bindBuffer(o.ARRAY_BUFFER,l),o.vertexAttribPointer(0,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,null),o.bindTexture(o.TEXTURE_2D,u.texture),o.useProgram(a.program),o.uniform1i(a.uniforms.source,0),o.uniform2f(a.uniforms.resolution,u.width,u.height),o.uniform1f(a.uniforms.densityScaler,c),o.uniform1f(a.uniforms.quantizationStep,f),o.uniform1f(a.uniforms.globalAlpha,h),o.uniform4fv(a.uniforms.channelMask,d),o.uniform4fv(a.uniforms.color,m),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.useProgram(null),o.bindTexture(o.TEXTURE_2D,null),o.disableVertexAttribArray(0)})}function yqe(){return{vertex:`#version 300 es
    precision highp float;
    layout(location=0) in vec2 xy;
    out vec2 uv;
    void main() {
      gl_Position = vec4(xy, 0, 1);
      uv = (xy + 1.0) / 2.0;
    }
    `,fragment:`#version 300 es
    precision highp float;
    uniform sampler2D source;
    uniform vec2 resolution;
    uniform float densityScaler;
    uniform float quantizationStep;

    uniform mat4 colorMatrix;
    uniform int isDarkMode;
    uniform float globalAlpha;

    in vec2 uv;
    out vec4 outColor;

    /* Combine alphas with symmetric blending equation f(a, b) = a + b - ab. */
    float combine_alphas(vec4 alphas) {
      float r = alphas.x + alphas.y - alphas.x * alphas.y;
      r = r + alphas.z - r * alphas.z;
      r = r + alphas.w - r * alphas.w;
      return r;
    }

    void main() {
      vec4 density = texture(source, uv) * densityScaler;

      if (density.x > 1.0 || density.y > 1.0 || density.z > 1.0 || density.w > 1.0) {
        density = density / max(max(max(density.x, density.y), density.z), density.w);
      } else {
        density = floor(density / quantizationStep) * quantizationStep;
      }

      if (density.x + density.y + density.z + density.w == 0.0) {
        discard;
      }

      float alpha = combine_alphas(density);

      density *= alpha / (density.x + density.y + density.z + density.w);

      vec3 c1 = colorMatrix[0].rgb * density.x;
      vec3 c2 = colorMatrix[1].rgb * density.y;
      vec3 c3 = colorMatrix[2].rgb * density.z;
      vec3 c4 = colorMatrix[3].rgb * density.w;
      vec3 c;

      if (isDarkMode == 0) {
        c = vec3(1.0) - alpha + c1 + c2 + c3 + c4;
      } else {
        c = c1 + c2 + c3 + c4;
      }

      outColor = vec4(c, 1.0) * alpha * globalAlpha;
    }
  `}}function bqe(t,e){let{vertex:n,fragment:r}=yqe(),i=t.statefulDerive([e,n,r],Tc),s=t.statefulDerive([e,[-1,-1,-1,1,1,-1,1,1],"f32"],gc);return t.derive([e,i,s],(o,a,l)=>(u,c,f,h,d,m)=>{o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.enableVertexAttribArray(0),o.bindBuffer(o.ARRAY_BUFFER,l),o.vertexAttribPointer(0,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,null),o.bindTexture(o.TEXTURE_2D,u.texture),o.useProgram(a.program),o.uniform1i(a.uniforms.source,0),o.uniform2f(a.uniforms.resolution,u.width,u.height),o.uniform1f(a.uniforms.densityScaler,c),o.uniform1f(a.uniforms.quantizationStep,f),o.uniform1f(a.uniforms.globalAlpha,h),o.uniform1i(a.uniforms.isDarkMode,m=="dark"?1:0),o.uniformMatrix4fv(a.uniforms.colorMatrix,!1,d),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.useProgram(null),o.bindTexture(o.TEXTURE_2D,null),o.disableVertexAttribArray(0)})}function vqe(t){let e;return t?e=`#version 300 es
      precision highp float;
      uniform mat3 matrix;
      uniform float point_size;
      uniform float alpha;
      uniform vec4 colorScheme[64];

      layout(location=0) in float x;
      layout(location=1) in float y;
      layout(location=2) in int category;

      out vec4 color;

      void main() {
        gl_Position = vec4(matrix * vec3(x, y, 1), 1);
        if (category < 64) {
          color = colorScheme[category];
        } else {
          color = vec4(0.5, 0.5, 0.5, 1);
        }
        color *= alpha;
        gl_PointSize = point_size;
      }
    `:e=`#version 300 es
      precision highp float;
      uniform mat3 matrix;
      uniform float point_size;
      uniform vec4 colorScheme;
      uniform float alpha;

      layout(location=0) in float x;
      layout(location=1) in float y;

      out vec4 color;

      void main() {
        gl_Position = vec4(matrix * vec3(x, y, 1), 1);
        color = colorScheme;
        color *= alpha;
        gl_PointSize = point_size;
      }
    `,{vertex:e,fragment:`#version 300 es
    precision highp float;
    uniform float point_size;
    in vec4 color;
    out vec4 outColor;
    void main() {
      float r = length(gl_PointCoord.xy - vec2(0.5, 0.5)) * point_size;
      float a = max(0.0, min(1.0, point_size / 2.0 - r));
      outColor = color * a;
    }
  `}}function TU(t,e,n,r,i,s){let o=i!=null,a=vqe(o),l=t.statefulDerive([e,a.vertex,a.fragment],Tc);return t.derive([e,l,n,r,i,s],(u,c,f,h,d,m)=>(g,b,v,O)=>{u.enable(u.BLEND),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA),u.useProgram(c.program),u.enableVertexAttribArray(0),u.bindBuffer(u.ARRAY_BUFFER,f),u.vertexAttribPointer(0,1,u.FLOAT,!1,0,0),u.enableVertexAttribArray(1),u.bindBuffer(u.ARRAY_BUFFER,h),u.vertexAttribPointer(1,1,u.FLOAT,!1,0,0),d!=null&&(u.enableVertexAttribArray(2),u.bindBuffer(u.ARRAY_BUFFER,d),u.vertexAttribIPointer(2,1,u.BYTE,0,0)),u.bindBuffer(u.ARRAY_BUFFER,null),u.uniformMatrix3fv(c.uniforms.matrix,!1,g),u.uniform1f(c.uniforms.point_size,b*2),u.uniform1f(c.uniforms.alpha,v),o?u.uniform4fv(c.uniforms.colorScheme,O):u.uniform4fv(c.uniforms.colorScheme,O.slice(0,4)),u.drawArrays(u.POINTS,0,m),u.disableVertexAttribArray(0),u.disableVertexAttribArray(1),d!=null&&u.disableVertexAttribArray(2),u.useProgram(null)})}function Oqe(){return{vertex:`#version 300 es
    precision highp float;
    layout(location=0) in vec2 xy;
    out vec2 uv;
    void main() {
      gl_Position = vec4(xy, 0, 1);
      uv = (xy + 1.0) / 2.0;
    }
  `,fragment:`#version 300 es
    precision highp float;
    uniform sampler2D source;
    uniform vec2 resolution;
    uniform mat4 colorMatrix;
    uniform float pointAlpha;
    uniform float globalAlpha;
    uniform int isDarkMode;
    in vec2 uv;
    out vec4 outColor;

    /* Combine alphas with symmetric blending equation f(a, b) = a + b - ab. */
    float combine_alphas(vec4 alphas) {
      float r = alphas.x + alphas.y - alphas.x * alphas.y;
      r = r + alphas.z - r * alphas.z;
      r = r + alphas.w - r * alphas.w;
      return r;
    }

    void main() {
      vec4 count = texture(source, uv);
      vec4 alphas = pointAlpha >= 0.999
        ? vec4(count.x > 0.0 ? 1.0 : 0.0, count.y > 0.0 ? 1.0 : 0.0, count.z > 0.0 ? 1.0 : 0.0, count.w > 0.0 ? 1.0 : 0.0)
        : vec4(1.0) - pow(vec4(1.0 - pointAlpha), count);
      float a = combine_alphas(alphas);
      if (a <= 0.0) { discard; }
      alphas *= a / (alphas.x + alphas.y + alphas.z + alphas.w);

      vec3 c1 = colorMatrix[0].rgb * alphas.x;
      vec3 c2 = colorMatrix[1].rgb * alphas.y;
      vec3 c3 = colorMatrix[2].rgb * alphas.z;
      vec3 c4 = colorMatrix[3].rgb * alphas.w;
      vec3 c;
      if (isDarkMode == 0) {
        c = vec3(1.0) - a + c1 + c2 + c3 + c4;
      } else {
        c = c1 + c2 + c3 + c4;
      }
      outColor = vec4(c, 1.0) * a * globalAlpha;
    }
  `}}function wqe(t,e){let{vertex:n,fragment:r}=Oqe(),i=t.statefulDerive([e,n,r],Tc),s=t.statefulDerive([e,[-1,-1,-1,1,1,-1,1,1],"f32"],gc);return t.derive([e,i,s],(o,a,l)=>(u,c,f,h,d)=>{o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.enableVertexAttribArray(0),o.bindBuffer(o.ARRAY_BUFFER,l),o.vertexAttribPointer(0,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,null),o.bindTexture(o.TEXTURE_2D,u.texture),o.useProgram(a.program),o.uniform1i(a.uniforms.source,0),o.uniform2f(a.uniforms.resolution,u.width,u.height),o.uniform1f(a.uniforms.pointAlpha,c),o.uniform1f(a.uniforms.globalAlpha,f),o.uniform1i(a.uniforms.isDarkMode,d=="dark"?1:0),o.uniformMatrix4fv(a.uniforms.colorMatrix,!1,h),o.drawArrays(o.TRIANGLE_STRIP,0,4),o.useProgram(null),o.bindTexture(o.TEXTURE_2D,null),o.disableVertexAttribArray(0)})}let _qe=class{props;viewport;df;gl;renderInputs;dataBuffers;renderer;constructor(e,n,r){this.props={mode:"points",colorScheme:"light",x:new Float32Array,y:new Float32Array,category:null,categoryCount:1,categoryColors:null,viewportX:0,viewportY:0,viewportScale:1,pointSize:1,pointAlpha:1,pointsAlpha:1,densityScaler:1,densityBandwidth:1,densityQuantizationStep:.1,contoursAlpha:1,densityAlpha:1,gamma:2.2,width:n,height:r},this.viewport=new $4({x:0,y:0,scale:1},n,r);let i=new N0,s=i.value(e);this.df=i,this.gl=s,this.renderInputs={mode:i.value(this.props.mode),colorScheme:i.value(this.props.colorScheme),xData:i.value(this.props.x),yData:i.value(this.props.y),categoryData:i.value(this.props.category),categoryCount:i.value(this.props.categoryCount),matrix:i.value(Tie()),width:i.value(n),height:i.value(r),pointSize:i.value(this.props.pointSize),densityBandwidth:i.value(this.props.densityBandwidth)},this.dataBuffers=xqe(i,s,this.renderInputs),this.renderer=Sqe(i,s,this.renderInputs,this.dataBuffers)}setProps(e){let n=!1,r;for(r in e)e[r]!==this.props[r]&&(this.props[r]=e[r],n=!0);return this.viewport.update({x:this.props.viewportX,y:this.props.viewportY,scale:this.props.viewportScale},this.props.width,this.props.height),this.renderInputs.mode.value=this.props.mode,this.renderInputs.colorScheme.value=this.props.colorScheme,this.renderInputs.xData.value=this.props.x,this.renderInputs.yData.value=this.props.y,this.renderInputs.categoryData.value=this.props.category,this.props.category!=null?this.renderInputs.categoryCount.value=this.props.categoryCount:this.renderInputs.categoryCount.value=1,this.renderInputs.matrix.value=this.viewport.matrix(),this.renderInputs.width.value=this.props.width,this.renderInputs.height.value=this.props.height,this.renderInputs.pointSize.value=this.props.pointSize,this.renderInputs.densityBandwidth.value=this.props.densityBandwidth,n}render(){this.renderer.value(this.props)}destroy(){this.df.destroy()}async densityMap(e,n,r,i){let s=this.df.subgraph(),o=Aqe(s,this.gl,this.dataBuffers,s.value(e),s.value(n),s.value(r)),{x:a,y:l,scale:u}=i,c=[u,0,0,0,u,0,-a*u,-l*u,1],f=o.value(c),h=Pie(c);return s.destroy(),{data:f,width:e,height:n,coordinateAtPixel:(d,m)=>{let g=d/e*2-1,b=m/n*2-1,v=Die([g,b,1],h);return{x:v[0],y:v[1]}}}}};function xqe(t,e,n){const r=t.statefulDerive([e,n.xData,"f32"],gc),i=t.statefulDerive([e,n.yData,"f32"],gc),s=t.if(t.derive([n.categoryData],a=>a!=null),a=>a.statefulDerive([e,a.assertNotNull(n.categoryData),"u8"],gc),a=>a.value(null)),o=t.derive([n.xData],a=>a.length);return{x:r,y:i,category:s,count:o}}function Sqe(t,e,n,r){return t.switch(n.mode,{points:i=>kqe(i,e,n,r),density:i=>Cqe(i,e,n,r)})}function kqe(t,e,n,r){const i=t.derive([n.categoryCount],l=>l>1),s=t.statefulDerive([e,n.width,n.height,4,"f32"],Xh);let o=t.if(i,l=>TU(l,e,r.x,r.y,l.assertNotNull(r.category),r.count),l=>TU(l,e,r.x,r.y,null,r.count)),a=$ie(t,e);return t.derive([e,s,o,a,n.colorScheme,n.matrix,n.categoryCount],(l,u,c,f,h,d,m)=>g=>{let b=[],v=g.categoryColors??g0(g.categoryCount);for(let O=0;O<m;O++)if(O<v.length){let{r:x,g:C,b:S}=yR(v[O]);x=Math.pow(x,g.gamma),C=Math.pow(C,g.gamma),S=Math.pow(S,g.gamma),b=b.concat([x,C,S,1])}else b=b.concat([.5,.5,.5,1]);l.bindFramebuffer(l.FRAMEBUFFER,u.framebuffer),l.viewport(0,0,u.width,u.height),h=="light"?l.clearColor(1,1,1,1):l.clearColor(0,0,0,1),l.clear(l.COLOR_BUFFER_BIT),c(d,Math.max(3,g.pointSize),g.pointAlpha*g.pointsAlpha,b),l.bindFramebuffer(l.FRAMEBUFFER,null),l.viewport(0,0,g.width,g.height),f(u.texture,g.gamma)})}function Cqe(t,e,n,r){let i=t.derive([n.densityBandwidth],x=>fqe(x)+1),s=t.derive([n.width,i],(x,C)=>x+C*2),o=t.derive([n.height,i],(x,C)=>x+C*2);const a=t.derive([n.categoryCount],x=>x>1),l=t.statefulDerive([e,s,o,4,"f32"],Xh),u=t.statefulDerive([e,s,o,4,"f32"],Xh),c=t.statefulDerive([e,s,o,4,"f32"],Xh),f=t.statefulDerive([e,s,o,4,"f32"],Xh);let h=t.if(a,x=>$T(x,e,r.x,r.y,x.assertNotNull(r.category),r.count),x=>$T(x,e,r.x,r.y,null,r.count)),d=iqe(t,e,n.pointSize),m=dqe(t,e,n.densityBandwidth),g=wqe(t,e),b=bqe(t,e),v=gqe(t,e),O=$ie(t,e);return t.derive([e,l,u,c,f,n.colorScheme,n.matrix,h,d,m,g,b,v,O],(x,C,S,A,k,T,D,$,M,L,R,I,B,z)=>Z=>{let J=Z.categoryColors??g0(Z.categoryCount),ee=[];for(let le=0;le<4;le++)if(le<J.length){let{r:me,g:oe,b:De}=yR(J[le]);me=Math.pow(me,Z.gamma),oe=Math.pow(oe,Z.gamma),De=Math.pow(De,Z.gamma),ee=ee.concat([me,oe,De,1])}else ee=ee.concat([.5,.5,.5,1]);let ie=Z.width/S.width,K=Z.height/S.height,fe=bR([ie,0,0,0,K,0,0,0,1],D);if(x.bindFramebuffer(x.FRAMEBUFFER,C.framebuffer),x.viewport(0,0,C.width,C.height),x.clearColor(0,0,0,0),x.clear(x.COLOR_BUFFER_BIT),$(fe),x.bindFramebuffer(x.FRAMEBUFFER,S.framebuffer),x.viewport(0,0,S.width,S.height),T=="light"?x.clearColor(1,1,1,1):x.clearColor(0,0,0,1),x.clear(x.COLOR_BUFFER_BIT),Z.pointAlpha>0&&Z.pointsAlpha>0&&(M(C.texture,A,k),x.bindFramebuffer(x.FRAMEBUFFER,S.framebuffer),R(A,Z.pointAlpha,Z.pointsAlpha,ee,T)),Z.densityScaler>0&&(Z.densityAlpha>0||Z.contoursAlpha>0)&&(L(C.texture,A,k),x.bindFramebuffer(x.FRAMEBUFFER,S.framebuffer),Z.densityAlpha>0&&I(A,Z.densityScaler,Z.densityQuantizationStep,Z.densityAlpha,ee,T),Z.contoursAlpha>0))for(let le=0;le<J.length;le++){let me=[0,0,0,0];me[le]=1,B(A,Z.densityScaler,Z.densityQuantizationStep,Z.contoursAlpha,me,ee.slice(le*4,le*4+4))}x.bindFramebuffer(x.FRAMEBUFFER,null),x.viewport(0,0,Z.width,Z.height),z(S.texture,Z.gamma,1/ie,1/K)})}function Aqe(t,e,n,r,i,s){let o=t.derive([s],m=>Iie(m)+1),a=t.derive([r,o],(m,g)=>m+g*2),l=t.derive([i,o],(m,g)=>m+g*2);const u=t.statefulDerive([e,a,l,1,"f32"],Xh),c=t.statefulDerive([e,a,l,1,"f32"],Xh),f=t.statefulDerive([e,a,l,1,"f32"],Xh);let h=$T(t,e,n.x,n.y,null,n.count),d=uqe(t,e,s);return t.derive([e,o,r,i,u,c,f,h,d],(m,g,b,v,O,x,C,S,A)=>k=>{let T=b/O.width,D=v/O.height,$=bR([T,0,0,0,D,0,0,0,1],k);m.bindFramebuffer(m.FRAMEBUFFER,O.framebuffer),m.viewport(0,0,O.width,O.height),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT),S($),A(O.texture,x,C),m.bindFramebuffer(m.FRAMEBUFFER,x.framebuffer);let M=new Float32Array(b*v);return m.readPixels(g,g,b,v,m.RED,m.FLOAT,M),m.bindFramebuffer(m.FRAMEBUFFER,null),M})}let Eqe=class{i32View;u32View;f32View;offset;constructor(e){this.i32View=new Int32Array(e),this.u32View=new Uint32Array(e),this.f32View=new Float32Array(e),this.offset=0}align2(){this.offset%2!=0&&(this.offset+=2-this.offset%2)}align4(){this.offset%4!=0&&(this.offset+=4-this.offset%4)}f32(e){this.f32View[this.offset++]=e}u32(e){this.u32View[this.offset++]=e}i32(e){this.i32View[this.offset++]=e}vec2f(e,n){this.align2(),this.f32View[this.offset++]=e,this.f32View[this.offset++]=n}vec3f(e,n,r){this.align4(),this.f32View[this.offset++]=e,this.f32View[this.offset++]=n,this.f32View[this.offset++]=r}vec4f(e,n,r,i){this.align4(),this.f32View[this.offset++]=e,this.f32View[this.offset++]=n,this.f32View[this.offset++]=r,this.f32View[this.offset++]=i}mat3x3f(e){this.vec3f(e[0],e[1],e[2]),this.vec3f(e[3],e[4],e[5]),this.vec3f(e[6],e[7],e[8])}byteOffset(){return this.offset*4}};function Tqe(t,e){let n=new ArrayBuffer(4288),r=t.statefulDerive([e,4288,GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST|GPUBufferUsage.VERTEX],Og);return{buffer:r,update:t.derive([e,r],(i,s)=>o=>{let a=new Eqe(n);a.u32(o.count),a.u32(o.category_count),a.i32(o.framebuffer_width),a.i32(o.framebuffer_height),a.i32(o.density_width),a.i32(o.density_height),a.f32(o.gamma),a.f32(o.point_size),a.f32(o.point_alpha),a.f32(o.points_alpha),a.f32(o.density_scaler),a.f32(o.quantization_step),a.f32(o.density_alpha),a.f32(o.contours_alpha),a.mat3x3f(o.matrix),a.vec2f(...o.view_xy_scaler),a.vec4f(...o.kde_causal),a.vec4f(...o.kde_anticausal),a.vec4f(...o.kde_a),a.vec4f(...o.background_color);let l=o.gamma;for(let u=0;u<Math.min(o.category_colors.length,256);u++){let{r:c,g:f,b:h,a:d}=o.category_colors[u];c=Math.pow(c,l),f=Math.pow(f,l),h=Math.pow(h,l),a.vec4f(c,f,h,d)}i.queue.writeBuffer(s,0,n,0,a.byteOffset())})}}const hA=64,dA=64;function Fie(t,e,n,r,i,s){let o=t.derive([e,n,r.layouts],(a,l,u)=>a.createComputePipeline({layout:a.createPipelineLayout({bindGroupLayouts:[u.group0,u.group1,u.group2A]}),compute:{module:l,entryPoint:"accumulate"}}));return t.derive([o,r.group0,r.group1,r.group2A,s.countBuffer,i.count],(a,l,u,c,f,h)=>d=>{if(d.clearBuffer(f),h==0)return;let m=d.beginComputePass();m.setPipeline(a),m.setBindGroup(0,l),m.setBindGroup(1,u),m.setBindGroup(2,c),h<=hA*dA?m.dispatchWorkgroups(Math.ceil(h/hA)):m.dispatchWorkgroups(dA,Math.ceil(h/(hA*dA))),m.end()})}function Dqe(t){const{COMPUTE:e,VERTEX:n,FRAGMENT:r}=GPUShaderStage;return{group0:t.createBindGroupLayout({entries:[{binding:0,visibility:e|n|r,buffer:{type:"uniform"}}]}),group1:t.createBindGroupLayout({entries:[{binding:0,visibility:e|n,buffer:{type:"read-only-storage"}},{binding:1,visibility:e|n,buffer:{type:"read-only-storage"}},{binding:2,visibility:e|n,buffer:{type:"read-only-storage"}}]}),group2A:t.createBindGroupLayout({entries:[{binding:0,visibility:e|r,buffer:{type:"storage"}}]}),group2B:t.createBindGroupLayout({entries:[{binding:1,visibility:e|r,buffer:{type:"storage"}},{binding:2,visibility:e|r,buffer:{type:"storage"}}]}),group3:t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.FRAGMENT,sampler:{type:"non-filtering"}},{binding:1,visibility:GPUShaderStage.FRAGMENT,texture:{sampleType:"float"}},{binding:2,visibility:GPUShaderStage.FRAGMENT,texture:{sampleType:"float"}}]})}}function Mie(t,e,n,r,i){let s=t.derive([e],f=>Dqe(f)),o=t.derive([e,s,n],(f,h,d)=>f.createBindGroup({layout:h.group0,entries:[{binding:0,resource:{buffer:d}}]})),a=t.derive([e,s,r.x,r.y,r.category],(f,h,d,m,g)=>f.createBindGroup({layout:h.group1,entries:[{binding:0,resource:{buffer:d}},{binding:1,resource:{buffer:m}},{binding:2,resource:{buffer:g??d}}]})),l=t.derive([e,s,i.countBuffer,i.blurBuffer],(f,h,d,m)=>f.createBindGroup({layout:h.group2A,entries:[{binding:0,resource:{buffer:d}}]})),u=t.derive([e,s,i.countBuffer,i.blurBuffer],(f,h,d,m)=>f.createBindGroup({layout:h.group2B,entries:[{binding:1,resource:{buffer:d}},{binding:2,resource:{buffer:m}}]})),c=t.derive([e,s,i.colorTexture,i.alphaTexture],(f,h,d,m)=>f.createBindGroup({layout:h.group3,entries:[{binding:0,resource:f.createSampler({})},{binding:1,resource:d.createView()},{binding:2,resource:m.createView()}]}));return{layouts:s,group0:o,group1:a,group2A:l,group2B:u,group3:c}}function Pqe(t,e,n,r,i){const s=t.derive([e,n,r.layouts],(o,a,l)=>o.createRenderPipeline({layout:o.createPipelineLayout({bindGroupLayouts:[l.group0,l.group1,l.group2B]}),vertex:{entryPoint:"draw_density_map_vs",module:a},fragment:{entryPoint:"draw_density_map_fs",module:a,targets:[{format:i.colorTextureFormat,blend:{color:{srcFactor:"one",dstFactor:"one"},alpha:{srcFactor:"one",dstFactor:"one"}}},{format:i.alphaTextureFormat,blend:{color:{srcFactor:"one",dstFactor:"one"},alpha:{srcFactor:"one",dstFactor:"one"}}}]},primitive:{topology:"triangle-strip"}}));return t.derive([s,r.group0,r.group1,r.group2B,i.colorTexture,i.alphaTexture],(o,a,l,u,c,f)=>h=>{let d=h.beginRenderPass({colorAttachments:[{loadOp:"load",storeOp:"store",view:c.createView()},{loadOp:"load",storeOp:"store",view:f.createView()}]});d.setPipeline(o),d.setBindGroup(0,a),d.setBindGroup(1,l),d.setBindGroup(2,u),d.draw(4),d.end()})}function Rqe(t,e,n,r,i,s){const o=t.derive([e,n,r.layouts],(a,l,u)=>a.createRenderPipeline({layout:a.createPipelineLayout({bindGroupLayouts:[u.group0,u.group1]}),vertex:{entryPoint:"points_vs",module:l},fragment:{entryPoint:"points_fs",module:l,targets:[{format:s.colorTextureFormat,blend:{color:{srcFactor:"one",dstFactor:"one"},alpha:{srcFactor:"one",dstFactor:"one"}}},{format:s.alphaTextureFormat,blend:{color:{srcFactor:"one",dstFactor:"one"},alpha:{srcFactor:"one",dstFactor:"one"}}}]},primitive:{topology:"triangle-strip"}}));return t.derive([o,r.group0,r.group1,i.count,s.colorTexture,s.alphaTexture],(a,l,u,c,f,h)=>d=>{let m=d.beginRenderPass({colorAttachments:[{clearValue:[0,0,0,0],loadOp:"clear",storeOp:"store",view:f.createView()},{clearValue:[0,0,0,0],loadOp:"clear",storeOp:"store",view:h.createView()}]});m.setPipeline(a),m.setBindGroup(0,l),m.setBindGroup(1,u),c>0&&m.draw(4,c),m.end()})}function $qe(t,e,n,r,i){const s=t.derive([e,n,i.layouts],(o,a,l)=>o.createRenderPipeline({layout:o.createPipelineLayout({bindGroupLayouts:[l.group0,l.group1,l.group2B,l.group3]}),vertex:{entryPoint:"gamma_correction_vs",module:a},fragment:{entryPoint:"gamma_correction_fs",module:a,targets:[{format:r}]},primitive:{topology:"triangle-strip"}}));return t.derive([s,i.group0,i.group1,i.group2B,i.group3],(o,a,l,u,c)=>(f,h)=>{let d=f.beginRenderPass({colorAttachments:[{clearValue:[1,1,1,1],loadOp:"clear",storeOp:"store",view:h}]});d.setPipeline(o),d.setBindGroup(0,a),d.setBindGroup(1,l),d.setBindGroup(2,u),d.setBindGroup(3,c),d.draw(4),d.end()})}const DU=64;function Lie(t,e,n,r,i,s,o){let a=t.derive([e,n,r.layouts],(u,c,f)=>u.createComputePipeline({layout:u.createPipelineLayout({bindGroupLayouts:[f.group0,f.group1,f.group2B,f.group3]}),compute:{module:c,entryPoint:"gaussian_blur_stage_1"}})),l=t.derive([e,n,r.layouts],(u,c,f)=>u.createComputePipeline({layout:u.createPipelineLayout({bindGroupLayouts:[f.group0,f.group1,f.group2B,f.group3]}),compute:{module:c,entryPoint:"gaussian_blur_stage_2"}}));return t.derive([a,l,r.group0,r.group1,r.group2B,r.group3,i,s,o],(u,c,f,h,d,m,g,b,v)=>O=>{let x=O.beginComputePass();x.setBindGroup(0,f),x.setBindGroup(1,h),x.setBindGroup(2,d),x.setBindGroup(3,m),x.setPipeline(u),x.dispatchWorkgroups(Math.ceil(g/DU),v),x.setPipeline(c),x.dispatchWorkgroups(Math.ceil(b/DU),v),x.end()})}function Iqe(t,e=!1){const n=new Float64Array(5),r=new Float64Array(4);Fqe(n,r,t);const i=Float64Array.of(0,r[1]-n[1]*r[0],r[2]-n[2]*r[0],r[3]-n[3]*r[0],-n[4]*r[0]),s=1+n[1]+n[2]+n[3]+n[4],o=(r[0]+r[1]+r[2]+r[3])/s,a=(i[1]+i[2]+i[3]+i[4])/s;return{sigma:t,negative:e,a:n,b_causal:r,b_anticausal:i,sum_causal:o,sum_anticausal:a}}function Fqe(t,e,n){const r=Float64Array.of(.84,1.8675,.84,-1.8675,-.34015,-.1299,-.34015,.1299),i=Math.exp(-1.783/n),s=Math.exp(-1.723/n),o=.6318/n,a=1.997/n,l=Float64Array.of(-i*Math.cos(o),i*Math.sin(o),-i*Math.cos(-o),i*Math.sin(-o),-s*Math.cos(a),s*Math.sin(a),-s*Math.cos(-a),s*Math.sin(-a)),u=n*2.5066282746310007,c=Float64Array.of(r[0],r[1],0,0,0,0,0,0),f=Float64Array.of(1,0,l[0],l[1],0,0,0,0,0,0);let h,d;for(d=2;d<8;d+=2){for(c[d]=l[d]*c[d-2]-l[d+1]*c[d-1],c[d+1]=l[d]*c[d-1]+l[d+1]*c[d-2],h=d-2;h>0;h-=2)c[h]+=l[d]*c[h-2]-l[d+1]*c[h-1],c[h+1]+=l[d]*c[h-1]+l[d+1]*c[h-2];for(h=0;h<=d;h+=2)c[h]+=r[d]*f[h]-r[d+1]*f[h+1],c[h+1]+=r[d]*f[h+1]+r[d+1]*f[h];for(f[d+2]=l[d]*f[d]-l[d+1]*f[d+1],f[d+3]=l[d]*f[d+1]+l[d+1]*f[d],h=d;h>0;h-=2)f[h]+=l[d]*f[h-2]-l[d+1]*f[h-1],f[h+1]+=l[d]*f[h-1]+l[d+1]*f[h-2]}for(d=0;d<4;++d)h=d<<1,e[d]=c[h]/u,t[d+1]=f[h+2]}function Nie(t){let e=Iqe(t);return{kde_causal:[e.b_causal[0],e.b_causal[1],e.b_causal[2],e.b_causal[3]],kde_anticausal:[e.b_anticausal[1],e.b_anticausal[2],e.b_anticausal[3],e.b_anticausal[4]],kde_a:[e.a[1],e.a[2],e.a[3],e.a[4]]}}const Mqe=`// Copyright (c) 2025 Apple Inc. Licensed under MIT License.

enable f16;

struct Uniforms {
  count: u32,
  category_count: u32,
  framebuffer_width: i32,
  framebuffer_height: i32,
  density_width: i32,
  density_height: i32,
  gamma: f32,
  point_size: f32,
  point_alpha: f32,
  points_alpha: f32,
  density_scaler: f32,
  quantization_step: f32,
  density_alpha: f32,
  contours_alpha: f32,
  matrix: mat3x3<f32>,
  view_xy_scaler: vec2<f32>,
  kde_causal: vec4<f32>,
  kde_anticausal: vec4<f32>,
  kde_a: vec4<f32>,
  background_color: vec4<f32>,
  category_colors: array<vec4<f32>, 256>,
}

struct PointData {
  position: vec3<f32>,
  category: u32,
}

struct FragmentOutput {
  @location(0) color: vec4<f32>,
  @location(1) log1malpha: f32, // log(1 - alpha)
}

@group(0) @binding(0) var<uniform> uniforms: Uniforms;

@group(1) @binding(0) var<storage, read> x_buffer: array<f32>;
@group(1) @binding(1) var<storage, read> y_buffer: array<f32>;
@group(1) @binding(2) var<storage, read> category_buffer: array<u32>;

@group(2) @binding(0) var<storage, read_write> count_buffer: array<atomic<u32>>;
@group(2) @binding(1) var<storage, read_write> blur_buffer: array<f16>;
@group(2) @binding(2) var<storage, read_write> blur_swap_buffer: array<f16>;

@group(3) @binding(0) var framebuffer_sampler: sampler;
@group(3) @binding(1) var color_texture: texture_2d<f32>;
@group(3) @binding(2) var log1malpha_texture: texture_2d<f32>;

fn get_point(index: u32) -> PointData {
  var result: PointData;
  result.position = vec3(x_buffer[index], y_buffer[index], 1.0);
  if (uniforms.category_count > 1) {
    result.category = (category_buffer[index >> 2] >> ((index & 3) << 3)) & 0xff;
  } else {
    result.category = 0;
  }
  return result;
}

const ACCUMULATE_UNIT: u32 = 4096;

fn increment_count(x: i32, y: i32, category: u32, value: u32) {
  let width = uniforms.density_width;
  let height = uniforms.density_height;
  if (x < 0 || x >= width || y < 0 || y >= height || category >= uniforms.category_count || value == 0) {
    return;
  }
  let offset = (y * width + x) + i32(category) * (width * height);
  atomicAdd(&count_buffer[offset], value);
}

@compute @workgroup_size(64, 1)
fn accumulate(@builtin(global_invocation_id) id: vec3<u32>) {
  let width = uniforms.density_width;
  let height = uniforms.density_height;
  let index = id.y * 4096 + id.x; // 4096 = 64 * 64
  if (index >= uniforms.count) { return; }
  let point = get_point(index);
  let pos = uniforms.matrix * point.position;
  let x = (pos.x + 1.0) / 2.0 * f32(width) - 0.5;
  let y = (pos.y + 1.0) / 2.0 * f32(height) - 0.5;
  let ix = i32(x);
  let iy = i32(y);
  let tx = x - f32(ix);
  let ty = y - f32(iy);
  let w1: u32 = u32((1 - tx) * (1 - ty) * f32(ACCUMULATE_UNIT));
  let w2: u32 = u32(tx * (1 - ty) * f32(ACCUMULATE_UNIT));
  let w3: u32 = u32((1 - tx) * ty * f32(ACCUMULATE_UNIT));
  let w123 = w1 + w2 + w3;
  var w4: u32 = select(0, ACCUMULATE_UNIT - w123, w123 < ACCUMULATE_UNIT);
  increment_count(ix, iy, point.category, w1);
  increment_count(ix + 1, iy, point.category, w2);
  increment_count(ix, iy + 1, point.category, w3);
  increment_count(ix + 1, iy + 1, point.category, w4);
}

// Draw Discrete Points

struct PointsVertexOutput {
  @builtin(position) position: vec4<f32>,
  @location(0) dp: vec3<f32>,
  @location(1) color: vec4<f32>,
}

@vertex
fn points_vs(
  @builtin(instance_index) index: u32,
  @builtin(vertex_index) part: u32,
) -> PointsVertexOutput {
  let framebuffer_size = vec2(f32(uniforms.framebuffer_width), f32(uniforms.framebuffer_height));
  let alpha = uniforms.point_alpha * uniforms.points_alpha;
  let dp = vec2<f32>(f32(part % 2), f32(part / 2)) * 2.0 - 1.0;
  let point = get_point(index);
  let pos = uniforms.matrix * point.position;

  var out: PointsVertexOutput;
  out.position = vec4<f32>(pos.xy + dp * uniforms.point_size / framebuffer_size * 2.0, 0.0, 1.0);
  out.dp = vec3(dp, uniforms.point_size);
  out.color = uniforms.category_colors[point.category] * alpha;
  return out;
}

@fragment
fn points_fs(in: PointsVertexOutput) -> FragmentOutput {
  let r = length(in.dp.xy) * in.dp.z;
  let a = max(0.0, min(1.0, in.dp.z - r));
  var out: FragmentOutput;
  out.color = in.color * a;
  out.log1malpha = log(1 - out.color.a);
  return out;
}

// Draw Density Map

struct DrawDensityMapVertexOutput {
  @builtin(position) position: vec4<f32>,
  @location(0) texture_coord: vec2<f32>,
}

@vertex
fn draw_density_map_vs(
  @builtin(vertex_index) part: u32,
) -> DrawDensityMapVertexOutput {
  let framebuffer_size = vec2(f32(uniforms.framebuffer_width), f32(uniforms.framebuffer_height));
  let dp = vec2<f32>(f32(part % 2), f32(part / 2)) * 2.0 - 1.0;
  var out: DrawDensityMapVertexOutput;
  out.position = vec4(dp, 0.0, 1.0);
  out.texture_coord = (vec2(dp.x, dp.y) + 1.0) / 2.0 * framebuffer_size;
  return out;
}

fn get_density_raw(x: i32, y: i32, category: u32) -> f32 {
  let width = uniforms.density_width;
  let height = uniforms.density_height;
  let density_scaler = uniforms.density_scaler;
  if (x < 0 || x >= width || y < 0 || y >= height) {
    return 0.0;
  }
  let offset = (y * width + x) + i32(category) * (width * height);
  return max(0.0, f32(blur_buffer[offset]) * density_scaler);
}

fn get_density(x: f32, y: f32, category: u32) -> f32 {
  let px = x / f32(uniforms.framebuffer_width) * f32(uniforms.density_width) - 0.5;
  let py = y / f32(uniforms.framebuffer_height) * f32(uniforms.density_height) - 0.5;
  let ix = i32(px);
  let iy = i32(py);
  let tx = px - f32(ix);
  let ty = py - f32(iy);
  let v00 = get_density_raw(ix, iy, category);
  let v10 = get_density_raw(ix + 1, iy, category);
  let v01 = get_density_raw(ix, iy + 1, category);
  let v11 = get_density_raw(ix + 1, iy + 1, category);
  return mix(mix(v00, v10, tx), mix(v01, v11, tx), ty);
}

fn get_density_quantized(x: f32, y: f32, category: u32) -> f32 {
  let v = get_density(x, y, category);
  return floor(clamp(v, 0, 1) / uniforms.quantization_step);
}

fn get_density_quantized_sobel(x: f32, y: f32, category: u32) -> vec2<f32> {
  let v11 = get_density_quantized(x - 1, y - 1, category);
  let v21 = get_density_quantized(x, y - 1, category);
  let v31 = get_density_quantized(x + 1, y - 1, category);
  let v12 = get_density_quantized(x - 1, y, category);
  let v22 = get_density_quantized(x, y, category);
  let v32 = get_density_quantized(x + 1, y, category);
  let v13 = get_density_quantized(x - 1, y + 1, category);
  let v23 = get_density_quantized(x, y + 1, category);
  let v33 = get_density_quantized(x + 1, y + 1, category);
  let gx = v11 + v12 * 2.0 + v13 - v31 - v32 * 2.0 - v33;
  let gy = v11 + v21 * 2.0 + v31 - v13 - v23 * 2.0 - v33;
  return vec2(gx, gy);
}

@fragment
fn draw_density_map_fs(in: DrawDensityMapVertexOutput) -> FragmentOutput {
  let px = in.texture_coord.x;
  let py = in.texture_coord.y;
  let quantization_step: f32 = uniforms.quantization_step;

  var sum_color: vec4<f32> = vec4(0);
  var sum_log1malpha: f32 = 0.0;

  for (var i: u32 = 0; i < uniforms.category_count; i++) {
    let density = get_density(px, py, i);
    var alpha = min(1.0, floor(density / quantization_step) * quantization_step);
    alpha *= uniforms.density_alpha;
    let color = uniforms.category_colors[i] * alpha;
    sum_color += color;
    sum_log1malpha += log(1 - color.a);
  }

  if (uniforms.contours_alpha > 0.0) {
    for (var i: u32 = 0; i < uniforms.category_count; i++) {
      let sobel = get_density_quantized_sobel(px, py, i);
      let alpha = clamp(length(sobel) * 0.2, 0.0, 1.0) * uniforms.contours_alpha;
      let color = uniforms.category_colors[i] * alpha;
      sum_color += color;
      sum_log1malpha += log(1 - color.a);
    }
  }

  var out: FragmentOutput;
  out.color = sum_color;
  out.log1malpha = sum_log1malpha;
  return out;
}

// Gamma Correction

struct GammaCorrectionVertexOutput {
  @builtin(position) position: vec4<f32>,
  @location(0) texture_coord: vec2<f32>,
}

@vertex
fn gamma_correction_vs(
  @builtin(vertex_index) part: u32,
) -> GammaCorrectionVertexOutput {
  let dp = vec2<f32>(f32(part % 2), f32(part / 2)) * 2.0 - 1.0;
  var out: GammaCorrectionVertexOutput;
  out.position = vec4(dp * uniforms.view_xy_scaler, 0.0, 1.0);
  out.texture_coord = (vec2(dp.x, -dp.y) + 1.0) / 2.0;
  return out;
}

@fragment
fn gamma_correction_fs(in: GammaCorrectionVertexOutput) -> @location(0) vec4<f32> {
  let sum_color = textureSample(color_texture, framebuffer_sampler, in.texture_coord);
  let sum_log_one_minus_alpha = textureSample(log1malpha_texture, framebuffer_sampler, in.texture_coord).r;
  var color: vec4<f32>;
  if (sum_color.a > 0.0) {
    color = sum_color / sum_color.a * (1.0 - exp(sum_log_one_minus_alpha));
    color = color + uniforms.background_color * (1 - color.a);
  } else {
    color = uniforms.background_color;
  }
  let rgb = pow(color.rgb, vec3(1.0 / uniforms.gamma));
  return vec4(rgb, 1.0);
}

// Gaussian Blur

@compute @workgroup_size(64, 1)
fn gaussian_blur_stage_1(@builtin(global_invocation_id) id: vec3<u32>) {
  let width = uniforms.density_width;
  let height = uniforms.density_height;
  let x = id.x;
  if (x >= u32(width)) { return; }
  let start = x + id.y * u32(width * height);
  let count = u32(height);
  let stride = u32(width);

  deriche_conv_1d(
    &blur_buffer, &blur_swap_buffer, start, stride, count,
    uniforms.kde_causal, uniforms.kde_anticausal, uniforms.kde_a,
    true
  );
}

@compute @workgroup_size(64, 1)
fn gaussian_blur_stage_2(@builtin(global_invocation_id) id: vec3<u32>) {
  let width = uniforms.density_width;
  let height = uniforms.density_height;
  let y = id.x;
  if (y >= u32(height)) { return; }
  let start = y * u32(width) + id.y * u32(width * height);
  let count = u32(width);
  let stride = u32(1);

  deriche_conv_1d(
    &blur_swap_buffer, &blur_buffer, start, stride, count,
    uniforms.kde_causal, uniforms.kde_anticausal, uniforms.kde_a,
    false
  );
}

fn deriche_conv_1d(
    src: ptr<storage, array<f16>, read_write>,
    dst: ptr<storage, array<f16>, read_write>,
    start: u32, stride: u32, count: u32,
    kde_causal: vec4<f32>, kde_anticausal: vec4<f32>, kde_a: vec4<f32>,
    src_is_u32: bool
) {
  var s: vec4<f32> = vec4(0.0);
  var y0: f32 = 0.0;
  var y1234: vec4<f32> = vec4(0.0);

  var first_nonzero: u32 = count;
  var last_nonzero: u32 = 0;

  for (var i: u32 = 0; i < count; i++) {
    let offset = start + i * stride;
    var input: f32;
    if (src_is_u32) {
      input = f32(bitcast<u32>(vec2((*src)[offset * 2], (*src)[offset * 2 + 1]))) / f32(ACCUMULATE_UNIT);
    } else {
      input = f32((*src)[offset]);
    }
    if (input != 0.0) {
      first_nonzero = min(i, first_nonzero);
      last_nonzero = max(i, last_nonzero);
    }
    s = vec4(input, s.xyz);
    y1234 = vec4(y0, y1234.xyz);
    y0 = dot(kde_causal, s) - dot(kde_a, y1234);
    (*dst)[offset] = f16(y0);
  }

  if (first_nonzero > last_nonzero) {
    return;
  }

  s = vec4(0.0);
  y0 = 0.0;
  y1234 = vec4(0.0);

  for (var i: u32 = count - 1 - last_nonzero; i < count; i++) {
    let p = count - 1 - i;
    let offset = start + p * stride;
    var input: f32 = 0.0;
    if (p >= first_nonzero) {
      if (src_is_u32) {
        input = f32(bitcast<u32>(vec2((*src)[offset * 2], (*src)[offset * 2 + 1]))) / f32(ACCUMULATE_UNIT);
      } else {
        input = f32((*src)[offset]);
      }
    }
    y1234 = vec4(y0, y1234.xyz);
    y0 = dot(kde_anticausal, s) - dot(kde_a, y1234);
    s = vec4(input, s.xyz);
    if (y0 != 0.0) {
      (*dst)[offset] = f16(f32((*dst)[offset]) + y0);
    }
  }
}
`;class Lqe{props;viewport;df;device;module;uniforms;context;renderInputs;dataBuffers;renderer;constructor(e,n,r,i,s){this.context=e,this.props={mode:"points",colorScheme:"light",x:new Float32Array,y:new Float32Array,category:null,categoryCount:1,categoryColors:null,viewportX:0,viewportY:0,viewportScale:1,pointSize:1,pointAlpha:1,pointsAlpha:1,densityScaler:1,densityBandwidth:1,densityQuantizationStep:.1,contoursAlpha:1,densityAlpha:1,gamma:2.2,width:i,height:s},this.viewport=new $4({x:0,y:0,scale:1},i,s),this.df=new N0;let o=this.df;this.renderInputs={mode:o.value(this.props.mode),colorScheme:o.value(this.props.colorScheme),xData:o.value(this.props.x),yData:o.value(this.props.y),categoryData:o.value(this.props.category),categoryCount:o.value(this.props.categoryCount),categoryColors:o.value(this.props.categoryColors),matrix:o.value(Tie()),width:o.value(i),height:o.value(s),pointSize:o.value(this.props.pointSize),densityBandwidth:o.value(this.props.densityBandwidth)},this.device=o.value(n),this.dataBuffers=Nqe(o,this.device,this.renderInputs),this.module=o.derive([this.device],a=>a.createShaderModule({code:Mqe})),this.uniforms=Tqe(o,this.device),this.renderer=Qqe(o,this.device,this.module,this.uniforms,r,this.renderInputs,this.dataBuffers)}setProps(e){let n=!1,r;for(r in e)e[r]!==this.props[r]&&(this.props[r]=e[r],n=!0);return this.viewport.update({x:this.props.viewportX,y:this.props.viewportY,scale:this.props.viewportScale},this.props.width,this.props.height),this.renderInputs.mode.value=this.props.mode,this.renderInputs.colorScheme.value=this.props.colorScheme,this.renderInputs.xData.value=this.props.x,this.renderInputs.yData.value=this.props.y,this.renderInputs.categoryData.value=this.props.category,this.renderInputs.categoryColors.value=this.props.categoryColors,this.props.category!=null?this.renderInputs.categoryCount.value=this.props.categoryCount:this.renderInputs.categoryCount.value=1,this.renderInputs.matrix.value=this.viewport.matrix(),this.renderInputs.width.value=this.props.width,this.renderInputs.height.value=this.props.height,this.renderInputs.pointSize.value=this.props.pointSize,this.renderInputs.densityBandwidth.value=this.props.densityBandwidth,n}render(){this.renderer.value(this.props,this.context.getCurrentTexture().createView())}destroy(){this.df.destroy()}async densityMap(e,n,r,i){let s=this.df.subgraph(),{x:o,y:a,scale:l}=i,u=[l,0,0,0,l,0,-o*l,-a*l,1],c=Pie(u),f=await Bqe(s,this.device,this.module,this.uniforms,s.value(e),s.value(n),s.value(r),s.value(u),this.dataBuffers).value();return s.destroy(),{data:f,width:e,height:n,coordinateAtPixel:(h,d)=>{let m=h/e*2-1,g=d/n*2-1,b=Die([m,g,1],c);return{x:b[0],y:b[1]}}}}}function Nqe(t,e,n){let r=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST;const i=t.derive([n.xData],c=>c.length),s=t.derive([i],c=>c*4),o=i,a=t.statefulDerive([e,t.statefulDerive([e,s,r],Og),n.xData],sA),l=t.statefulDerive([e,t.statefulDerive([e,s,r],Og),n.yData],sA),u=t.statefulDerive([e,t.statefulDerive([e,o,r],Og),n.categoryData],sA);return{x:a,y:l,category:u,count:i}}function Qie(t,e,n,r,i,s,o){let a="rgba16float",l="r16float",u=GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING,c=t.statefulDerive([e,n,r,a,u],sU),f=t.statefulDerive([e,n,r,l,u],sU),h=t.derive([i,s,o],(b,v,O)=>b*v*O*4),d=t.derive([i,s,o],(b,v,O)=>b*v*O*2),m=t.statefulDerive([e,h,GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC],Og),g=t.statefulDerive([e,d,GPUBufferUsage.STORAGE],Og);return{colorTexture:c,alphaTexture:f,colorTextureFormat:a,alphaTextureFormat:l,countBuffer:m,blurBuffer:g}}function Qqe(t,e,n,r,i,s,o){let a=t.derive([s.densityBandwidth],S=>Math.ceil(S*3)+1),l=t.derive([s.width,a],(S,A)=>S+A*2),u=t.derive([s.height,a],(S,A)=>S+A*2),c=t.derive([l],S=>Math.ceil(S/4)),f=t.derive([u],S=>Math.ceil(S/4)),h=Qie(t,e,l,u,c,f,s.categoryCount),d=Mie(t,e,r.buffer,o,h),m=Fie(t,e,n,d,o,h),g=Rqe(t,e,n,d,o,h),b=Pqe(t,e,n,d,h),v=$qe(t,e,n,i,d),O=Lie(t,e,n,d,l,u,s.categoryCount),x=t.derive([s.densityBandwidth,l,c],(S,A,k)=>Nie(S/A*k)),C=t.derive([s.categoryColors,s.categoryCount],(S,A)=>(S==null&&(S=g0(A)),S.map(k=>yR(k))));return t.derive([e,l,u,c,f,r.update,o.count,s.matrix,C,g,v,m,O,b,x],(S,A,k,T,D,$,M,L,R,I,B,z,Z,J,ee)=>(ie,K)=>{let fe=ie.colorScheme=="light"?[1,1,1,1]:[0,0,0,1],le=ie.width/A,me=ie.height/k,oe=bR([le,0,0,0,me,0,0,0,1],L);$({count:M,category_count:ie.categoryCount,framebuffer_width:A,framebuffer_height:k,density_width:T,density_height:D,gamma:ie.gamma,point_size:Math.max(ie.mode=="points"?3:1,ie.pointSize),point_alpha:ie.pointAlpha,points_alpha:ie.pointsAlpha,density_scaler:ie.densityScaler/16,quantization_step:ie.densityQuantizationStep,density_alpha:ie.densityAlpha,contours_alpha:ie.contoursAlpha,matrix:oe,view_xy_scaler:[1/le,1/me],kde_causal:ee.kde_causal,kde_anticausal:ee.kde_anticausal,kde_a:ee.kde_a,background_color:fe,category_colors:R});let De=S.createCommandEncoder();I(De),ie.mode=="density"&&(ie.densityAlpha>0||ie.contoursAlpha>0)&&(z(De),Z(De),J(De)),B(De,K),S.queue.submit([De.finish()])})}function Bqe(t,e,n,r,i,s,o,a,l){let u=Qie(t,e,i,s,i,s,t.value(1)),c=Mie(t,e,r.buffer,l,u),f=Fie(t,e,n,c,l,u),h=Lie(t,e,n,c,i,s,t.value(1));return t.derive([e,i,s,l.count,r.update,o,a,f,h,u.countBuffer],(d,m,g,b,v,O,x,C,S,A)=>()=>{let k=d.createCommandEncoder(),T=Nie(O);v({count:b,category_count:1,framebuffer_width:m,framebuffer_height:g,density_width:m,density_height:g,gamma:1,point_size:0,point_alpha:0,points_alpha:0,density_scaler:0,quantization_step:0,density_alpha:0,contours_alpha:0,matrix:x,view_xy_scaler:[1,1],kde_causal:T.kde_causal,kde_anticausal:T.kde_anticausal,kde_a:T.kde_a,background_color:[0,0,0,0],category_colors:[]}),C(k),S(k);let D=d.createBuffer({size:m*g*2,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});return k.copyBufferToBuffer(A,0,D,0,m*g*2),d.queue.submit([k.finish()]),D.mapAsync(GPUMapMode.READ,0,m*g*2).then(()=>zqe(D.getMappedRange()))})}function zqe(t){let e=new Uint16Array(t),n=new Uint32Array(e.length);for(let r=0;r<e.length;r++){let i=e[r]&32767,s=e[r]&32768,o=e[r]&31744;i<<=13,s<<=16,i+=939524096,i=o==0?0:i,i|=s,n[r]=i}return new Float32Array(n.buffer)}let eb;function Uqe(){return eb==null&&(eb=document.createElement("canvas"),eb.width=1,eb.height=1),eb.getContext("2d")}function jqe(t){let e=Uqe();e.font=`${t.fontSize??10}px ${t.fontFamily??"system-ui"}`;let n=t.text.split(`
`).map(i=>e.measureText(i).width),r=(t.fontSize??10)*(t.lineSpacing??1)*n.length;return{width:n.reduce((i,s)=>Math.max(i,s)),height:r}}let pA=null,IT=new Map;function qqe(){return pA==null&&(pA=new Promise((t,e)=>{let n=new Worker(new URL(""+new URL("clustering.worker-D2J4tBmF.js",import.meta.url).href,import.meta.url),{type:"module"});n.onmessage=r=>{if(r.data.ready){t(n);return}if(r.data.id!=null){let i=IT.get(r.data.id);i!=null&&(IT.delete(r.data.id),i(r.data))}}})),pA}function iy(t,e,n=[]){return new Promise((r,i)=>{qqe().then(s=>{let o=new Date().getTime().toString()+"-"+Math.random().toString();IT.set(o,a=>{r(a.payload)}),s.postMessage({id:o,name:t,payload:e},n)})})}let Vqe=(t,e,n,r)=>iy("findClusters",[t,e,n,r],[t.buffer]),Xqe=(...t)=>iy("dynamicLabelPlacement",t),Zqe=(...t)=>iy("textSummarizerCreate",t),Wqe=(...t)=>iy("textSummarizerDestroy",t),Yqe=(...t)=>iy("textSummarizerAdd",t),Gqe=(...t)=>iy("textSummarizerSummarize",t);async function PU(t,e,n,r,i){let s=new $4(n,t,e),o=r.reduce((m,g)=>Math.min(m,g.level??0),0),a=r.reduce((m,g)=>Math.max(m,g.level??0),0),l=n.scale,u=n.scale/2,c=u*4,f=l/c,h=r.map(m=>{let g=s.pixelLocation(m.x,m.y),b=m.level??0,v=b==0?14:12,O=jqe({text:m.text,fontSize:v,fontFamily:i});return O.width+=4,O.height+=4,{text:m.text,fontSize:v,bounds:{xMin:g.x-O.width/2,xMax:g.x+O.width/2,yMin:g.y-O.height/2,yMax:g.y+O.height/2},locationAtZero:g,priority:m.priority,minScale:m.level==a?null:f*Math.pow(2,-b)/1.2,maxScale:m.level==o?null:f*Math.pow(2,-b+1),coordinate:{x:m.x,y:m.y},placement:null}}),d=await Xqe(h,{globalMaxScale:l/u});for(let m=0;m<d.length;m++){let g=d[m];if(g!=null){let b=l/g.minScale,v=l/g.maxScale;h[m].placement={minScale:v,maxScale:b}}}return h}function Hqe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RU={exports:{}},$U;function Kqe(){return $U||($U=1,(function(t){(function(){function e(a,l){var u=a.x-l.x,c=a.y-l.y;return u*u+c*c}function n(a,l,u){var c=l.x,f=l.y,h=u.x-c,d=u.y-f;if(h!==0||d!==0){var m=((a.x-c)*h+(a.y-f)*d)/(h*h+d*d);m>1?(c=u.x,f=u.y):m>0&&(c+=h*m,f+=d*m)}return h=a.x-c,d=a.y-f,h*h+d*d}function r(a,l){for(var u=a[0],c=[u],f,h=1,d=a.length;h<d;h++)f=a[h],e(f,u)>l&&(c.push(f),u=f);return u!==f&&c.push(f),c}function i(a,l,u,c,f){for(var h=c,d,m=l+1;m<u;m++){var g=n(a[m],a[l],a[u]);g>h&&(d=m,h=g)}h>c&&(d-l>1&&i(a,l,d,c,f),f.push(a[d]),u-d>1&&i(a,d,u,c,f))}function s(a,l){var u=a.length-1,c=[a[0]];return i(a,0,u,l,c),c.push(a[u]),c}function o(a,l,u){if(a.length<=2)return a;var c=l!==void 0?l*l:1;return a=u?a:r(a,c),a=s(a,c),a}t.exports=o,t.exports.default=o})()})(RU)),RU.exports}var Jqe=Kqe();const IU=Hqe(Jqe);function eVe(t,e){let n=t.slice();for(let r=0;r<e;r++){const i=[],s=n.length;for(let o=0;o<s;o++){const a=n[o],l=n[(o+1)%s],u={x:.75*a.x+.25*l.x,y:.75*a.y+.25*l.y},c={x:.25*a.x+.75*l.x,y:.25*a.y+.75*l.y};i.push(u,c)}n=i}return n}function tVe(t,e){const n=eVe(t,5),r=xie(n);let i=Math.max(r.xMax-r.xMin,r.yMax-r.yMin)/100,s=IU(n,i),o=0;for(;s.length>e&&o<20;)i*=1.1,o+=1,s=IU(n,i);return s}const FU={light:{fontFamily:"system-ui,sans-serif",clusterLabelColor:"#000",clusterLabelOutlineColor:"rgba(255,255,255,0.8)",clusterLabelOpacity:.8,statusBar:!0,statusBarTextColor:"#525252",statusBarBackgroundColor:"rgba(255,255,255,0.9)",brandingLink:{text:"Embedding Atlas",href:"https://apple.github.io/embedding-atlas"}},dark:{fontFamily:"system-ui,sans-serif",clusterLabelColor:"#ccc",clusterLabelOutlineColor:"rgba(0,0,0,0.8)",clusterLabelOpacity:.8,statusBar:!0,statusBarTextColor:"#d9d9d9",statusBarBackgroundColor:"rgba(0,0,0,0.9)",brandingLink:{text:"Embedding Atlas",href:"https://apple.github.io/embedding-atlas"}}};function nVe(t,e){return t==null?FU[e]:{...FU[e],...t,...t[e]!=null?t[e]:{}}}function rVe(t,e,n,r,i,s,o){let a=Math.max(r,i)/s,l=t/(n*n)/(a*a),u=1/(l/(s*s))*.2,c=Math.sqrt(t/e/(a*a)),f=Math.log(c),h=Math.log(n),d=(Math.min(Math.max((h-f)*2,-1),1)+1)/2,m;if(o!=null)m=o*s;else{let v=.25/Math.sqrt(l);m=Math.max(.2,Math.min(5,v))*s}let g=1-d,b=.5+d*.5;return{densityScaler:u,densityAlpha:g,contoursAlpha:g,pointSize:m,pointAlpha:.7,pointsAlpha:b,densityBandwidth:20}}var iVe=Nd("<div></div>"),sVe=hh("<circle></circle>"),oVe=hh("<circle></circle>"),aVe=hh('<text dominant-baseline="middle"> </text>'),lVe=hh("<g></g>"),uVe=hh("<g><!></g>"),cVe=hh("<g></g>"),fVe=Nd('<div><canvas></canvas> <div><!></div> <svg role="none"><!><!><!><!></svg> <!> <!></div>');function hVe(t,e){I0(e,!0);let n=ft(e,"data",19,()=>({x:new Float32Array,y:new Float32Array,category:null})),r=ft(e,"categoryCount",3,1),i=ft(e,"categoryColors",3,null),s=ft(e,"width",3,800),o=ft(e,"height",3,800),a=ft(e,"pixelRatio",3,2),l=ft(e,"theme",3,null),u=ft(e,"config",3,null),c=ft(e,"totalCount",3,null),f=ft(e,"maxDensity",3,null),h=ft(e,"labels",3,null),d=ft(e,"queryClusterLabels",3,null),m=ft(e,"tooltip",7,null),g=ft(e,"selection",7,null),b=ft(e,"querySelection",3,null),v=ft(e,"rangeSelection",7,null),O=ft(e,"defaultViewportState",3,null),x=ft(e,"viewportState",7,null),C=ft(e,"customTooltip",3,null),S=ft(e,"customOverlay",3,null),A=ft(e,"onViewportState",3,null),k=ft(e,"onTooltip",3,null),T=ft(e,"onSelection",3,null),D=ft(e,"onRangeSelection",3,null),$=ft(e,"cache",3,null),M=Nt(()=>u()?.colorScheme??"light"),L=Nt(()=>nVe(l(),V(M))),R=Nt(()=>i()??g0(r())),I=Nt(()=>x()??O()??{x:0,y:0,scale:1}),B=Nt(()=>new $4(V(I),s(),o())),z=Nt(()=>V(B).pixelLocationFunction()),Z=Nt(()=>V(B).coordinateAtPixelFunction()),J=Ar(!1);function ee(ve,Me){return ve.x==Me.x&&ve.y==Me.y&&ve.category==Me.category&&ve.text==Me.text}let ie=Nt(()=>g()?.length==1&&m()!=null&&ee(g()[0],m()));function K(ve){Vh(x(),ve)||(x(ve),A()?.(ve))}function fe(ve){Vh(m(),ve)||(m(ve),k()?.(ve))}function le(ve){Vh(g(),ve)||(g(ve),T()?.(ve))}function me(ve){Vh(v(),ve)||(v(ve),D()?.(ve))}let oe=Ar($p([])),De=Ar(null),Ve=Ar("none"),Ne=Nt(()=>s()*a()),Ae=Nt(()=>o()*a()),ke=Ar(null),Te=Ar(null),tt=Ar(null),at=Nt(()=>u()?.minimumDensity??1/16),Re=Nt(()=>u()?.pointSize??null),We=Nt(()=>u()?.mode??"points"),Rt=Nt(()=>u()?.autoLabelEnabled),dt=Nt(()=>rVe(f()??(c()??n().x.length)/4,V(at),V(I).scale,V(Ne),V(Ae),a(),V(Re))),Qt=Nt(()=>V(dt).pointSize),Br=!0;Kb(()=>{V(Te)?.setProps({mode:V(We),colorScheme:V(M),viewportX:V(I).x,viewportY:V(I).y,viewportScale:V(I).scale,width:V(Ne),height:V(Ae),x:n().x,y:n().y,category:n().category,categoryCount:r(),categoryColors:V(R),...V(dt)})&&(Lt(),(V(Rt)!==!1||h()!=null)&&Br&&V(Te)!=null&&n().x!=null&&n().x.length>0&&O()!=null&&(Br=!1,gi(O())))});function Zr(){cn=null,!(!V(ke)||!V(Te))&&(V(ke).width=V(Te).props.width,V(ke).height=V(Te).props.height,V(ke).style.width=`${V(Te).props.width/a()}px`,V(ke).style.height=`${V(Te).props.height/a()}px`,V(Te).render())}let cn=null;function Lt(){cn==null&&(cn=requestAnimationFrame(Zr))}function Jn(ve){let Me;function Ue(){Me=ve.getContext("webgl2",{antialias:!1}),Me.getExtension("EXT_color_buffer_float"),Me.getExtension("EXT_float_blend"),Me.getExtension("OES_texture_float_linear"),$t(Te,new _qe(Me,V(Ne),V(Ae)),!0)}Ue(),ve.addEventListener("webglcontextlost",()=>{V(Te)?.destroy(),$t(Te,null),Me=null}),ve.addEventListener("webglcontextrestored",()=>{Ue()})}function li(ve){async function Me(){let Ue=ve.getContext("webgpu");if(Ue==null){console.error("Could not get WebGPU canvas context");return}let nt=await navigator.gpu.requestAdapter();if(!nt){console.error("Could not request WebGPU adapter");return}let ut=512*1048576,Ct=512*1048576;ut=Math.min(ut,nt.limits.maxBufferSize),Ct=Math.min(Ct,nt.limits.maxStorageBufferBindingSize);let Cn={requiredLimits:{maxBufferSize:ut,maxStorageBufferBindingSize:Ct},requiredFeatures:["shader-f16"]},Tn=await nt.requestDevice(Cn);Tn.lost.then(G=>{console.info(`WebGPU device was lost: ${G.message}`),G.reason!="destroyed"&&(V(Te)?.destroy(),$t(Te,null),Me())});let Le=navigator.gpu.getPreferredCanvasFormat();Ue.configure({device:Tn,format:Le,alphaMode:"premultiplied"}),$t(Te,new Lqe(Ue,Tn,Le,V(Ne),V(Ae)),!0)}Me()}function Pr(ve){ve!=null&&x()==null&&K(ve)}Kb(()=>Pr(O())),pR(()=>{V(ke)!=null&&(xre()?li(V(ke)):(Jn(V(ke)),$t(tt,"WebGPU is unavailable. If you are using Safari, please enable the WebGPU feature flag.")))}),sje(()=>{V(Te)?.destroy(),$t(Te,null)});function Wr(ve){let Me=V(ke)?.getBoundingClientRect()??{left:0,top:0};return{x:ve.clientX-Me.left,y:ve.clientY-Me.top}}function vt(ve){ve.preventDefault();let{x:Me,y:Ue}=Wr(ve),nt=Math.exp(-ve.deltaY/200);kn(nt,{x:Me,y:Ue})}function kn(ve,Me){let{x:Ue,y:nt,scale:ut}=V(I);fe(null);let Ct=(O()?.scale??1)*100,Cn=(O()?.scale??1)*.01,Tn=Math.min(Ct,Math.max(Cn,ut*ve)),Le=V(ke).getBoundingClientRect(),G=Math.max(Le.width,Le.height),Se=(Me.x-Le.width/2)/G*2,Qe=(Le.height/2-Me.y)/G*2,en=Ue+Se/ut-Se/Tn,Vn=nt+Qe/ut-Qe/Tn;K({x:en,y:Vn,scale:Tn})}function zr(ve){fe(null);let Me="pan";V(Ve)!="none"?ve.modifiers.shift||(Me=V(Ve)):ve.modifiers.shift&&(Me=ve.modifiers.meta?"lasso":"marquee");let Ue=Wr(ve);switch(Me){case"marquee":return{move:nt=>{if(fe(null),V(Te)==null)return;let ut=Wr(nt),Ct=V(Z)(Ue.x,Ue.y),Cn=V(Z)(ut.x,ut.y);me({xMin:Math.min(Ct.x,Cn.x),yMin:Math.min(Ct.y,Cn.y),xMax:Math.max(Ct.x,Cn.x),yMax:Math.max(Ct.y,Cn.y)})}};case"lasso":{let nt=[V(Z)(Ue.x,Ue.y)];return{move:ut=>{if(fe(null),V(Te)==null)return;let Ct=Wr(ut);nt=[...nt,V(Z)(Ct.x,Ct.y)],nt.length>=3&&me(tVe(nt,24))}}}case"pan":{let nt=V(Z)(0,0),ut=V(Z)(1,1),Ct=nt.x-ut.x,Cn=nt.y-ut.y,Tn=V(I).x,Le=V(I).y;return{move:G=>{K({x:Tn+(G.clientX-ve.clientX)*Ct,y:Le+(G.clientY-ve.clientY)*Cn,scale:V(I).scale})}}}}}async function Hi(ve){if(v()!=null)me(null);else{const Me=await zt(Wr(ve));if(Me==null)le([]),fe(null);else if(ve.modifiers.shift||ve.modifiers.ctrl||ve.modifiers.meta){let Ue=g()?.findIndex(nt=>nt.x==Me.x&&nt.y==Me.y&&nt.category==Me.category);g()==null||Ue==null||Ue<0?(le([...g()??[],Me]),fe(Me)):(le([...g().slice(0,Ue),...g().slice(Ue+1)]),fe(null))}else le([Me]),fe(Me)}}let mn=bje(async ve=>{let Me=ve?Wr(ve):null;if(g()!=null&&g().length==1){let Ue=V(z)(g()[0].x,g()[0].y);Me!=null&&vje(Me,Ue)<10&&fe(g()[0])}else fe(await zt(Me))},()=>m()!=null);function Bt(ve){ve!=null?V(J)||mn(ve):mn(null)}Kb(()=>{V(J)&&mn(null)});async function zt(ve){if(V(Te)==null||ve==null||b()==null)return null;let{x:Me,y:Ue}=V(Z)(ve.x,ve.y),nt=Math.abs(V(Z)(ve.x+1,ve.y).x-Me);return await b()(Me,Ue,nt)}async function fn(ve,Me,Ue,nt=.005){let ut=await ve.densityMap(1e3,1e3,Me,Ue),Ct=await Vqe(ut.data,ut.width,ut.height),Cn=[];for(let Le=0;Le<Ct.length;Le++){let G=Ct[Le],Se=ut.coordinateAtPixel(G.meanX,G.meanY),Qe=G.boundaryRectApproximation.map(([en,Vn,_r,xr])=>{let Qi=ut.coordinateAtPixel(en,Vn),_s=ut.coordinateAtPixel(_r,xr);return{xMin:Math.min(Qi.x,_s.x),xMax:Math.max(Qi.x,_s.x),yMin:Math.min(Qi.y,_s.y),yMax:Math.max(Qi.y,_s.y)}});Cn.push({x:Se.x,y:Se.y,sumDensity:G.sumDensity,rects:Qe,bandwidth:Me})}let Tn=Cn.reduce((Le,G)=>Math.max(Le,G.sumDensity),0);return Cn.filter(Le=>Le.sumDensity/Tn>nt)}async function Rr(ve){if(V(Te)==null||d()==null)return[];let Me=await wje({autoLabel:{version:1,viewport:ve,stopWords:u()?.autoLabelStopWords,densityThreshold:u()?.autoLabelDensityThreshold}});if($()!=null){let ut=await $().get(Me);if(ut!=null)return ut}let Ue=await fn(V(Te),10,ve,u()?.autoLabelDensityThreshold??.005);if(Ue=Ue.concat(await fn(V(Te),5,ve)),d()){let ut=await d()(Ue.map(Ct=>Ct.rects));for(let Ct=0;Ct<Ue.length;Ct++)Ue[Ct].label=ut[Ct]}let nt=Ue.filter(ut=>ut.label!=null&&ut.label.length>0).map(ut=>({x:ut.x,y:ut.y,text:ut.label,priority:ut.sumDensity,level:ut.bandwidth==10?0:1}));return $()!=null&&await $().set(Me,nt),nt}async function gi(ve){if(V(Te)!=null)if(h()!=null)$t(oe,await PU(s(),o(),ve,h(),V(L).fontFamily),!0);else{$t(De,"Generating labels...");let Me=await Rr(ve);$t(oe,await PU(s(),o(),ve,Me,V(L).fontFamily),!0),$t(De,null)}}class oa{content;constructor(Me,Ue){let nt=document.createElement("div");this.content=nt,this.update(Ue),Me.appendChild(nt)}update(Me){let Ue=this.content;Ue.style.fontFamily=Me.fontFamily,V(M)=="light"?(Ue.style.color="#000",Ue.style.background="#fff",Ue.style.border="1px solid #000"):(Ue.style.color="#ccc",Ue.style.background="#000",Ue.style.border="1px solid #ccc"),Ue.style.borderRadius="2px",Ue.style.padding="5px",Ue.style.fontSize="12px",Ue.style.maxWidth="300px",Ue.innerText=Me.tooltip.text??JSON.stringify(Me.tooltip)}}var Yr=fVe();let us;var wr=rs(Yr);Pn(wr,"",{},{position:"absolute",top:"0",left:"0"}),PT(wr,ve=>$t(ke,ve),()=>V(ke));var Ti=jr(wr,2);let wo;var yi=rs(Ti);{var Ua=ve=>{const Me=Nt(()=>Sie(S())),Ue=Nt(()=>({location:V(z),width:s(),height:o()}));var nt=Jy(),ut=Dm(nt);oje(ut,()=>V(Me),Ct=>{var Cn=iVe();Bl(Cn,(Tn,Le)=>V(Me)?.(Tn,Le),()=>kie(S(),{proxy:V(Ue)})),ci(Ct,Cn)}),ci(ve,nt)};To(yi,ve=>{S()&&ve(Ua)})}$i(Ti);var ws=jr(Ti,2);Pn(ws,"",{},{position:"absolute",left:"0",top:"0"});var hr=rs(ws);{var Gr=ve=>{const Me=Nt(()=>{const{x:Cn,y:Tn}=V(z)(m().x,m().y);return{x:Cn,y:Tn}}),Ue=Nt(()=>Math.max(3,V(Qt)/a())+1);var nt=Jy(),ut=Dm(nt);{var Ct=Cn=>{var Tn=sVe();let Le;Ea(()=>{Ge(Tn,"cx",V(Me).x),Ge(Tn,"cy",V(Me).y),Ge(Tn,"r",V(Ue)),Le=Pn(Tn,"",Le,{stroke:V(M)=="light"?"#000":"#fff","stroke-width":1,fill:"none"})}),ci(Cn,Tn)};To(ut,Cn=>{isFinite(V(Me).x)&&isFinite(V(Me).y)&&isFinite(V(Ue))&&Cn(Ct)})}ci(ve,nt)};To(hr,ve=>{m()!=null&&V(Te)!=null&&ve(Gr)})}var _o=jr(hr);{var Rl=ve=>{var Me=Jy(),Ue=Dm(Me);aA(Ue,17,g,oA,(nt,ut)=>{const Ct=Nt(()=>{const{x:Qe,y:en}=V(z)(V(ut).x,V(ut).y);return{x:Qe,y:en}}),Cn=Nt(()=>V(ut).category!=null?V(R)[V(ut).category]:V(R)[0]),Tn=Nt(()=>Math.max(3,V(Qt)/a())+1);var Le=Jy(),G=Dm(Le);{var Se=Qe=>{var en=oVe();let Vn;Ea(()=>{Ge(en,"cx",V(Ct).x),Ge(en,"cy",V(Ct).y),Ge(en,"r",V(Tn)),Vn=Pn(en,"",Vn,{stroke:V(M)=="light"?"#000":"#fff","stroke-width":2,fill:V(Cn)})}),ci(Qe,en)};To(G,Qe=>{isFinite(V(Ct).x)&&isFinite(V(Ct).y)&&isFinite(V(Tn))&&Qe(Se)})}ci(nt,Le)}),ci(ve,Me)};To(_o,ve=>{g()!=null&&V(Te)!=null&&ve(Rl)})}var xu=jr(_o);{var Su=ve=>{var Me=cVe();aA(Me,21,()=>V(oe),oA,(Ue,nt)=>{const ut=Nt(()=>V(nt).text.split(`
`)),Ct=Nt(()=>V(z)(V(nt).coordinate.x,V(nt).coordinate.y)),Cn=Nt(()=>V(nt).placement!=null&&V(nt).placement.minScale<=V(I).scale&&V(I).scale<=V(nt).placement.maxScale);var Tn=uVe(),Le=rs(Tn);{var G=Se=>{var Qe=lVe();aA(Qe,21,()=>V(ut),oA,(en,Vn,_r)=>{var xr=aVe();Ge(xr,"x",0);let Qi;var _s=rs(xr,!0);$i(xr),Ea(()=>{Ge(xr,"y",(_r-(V(ut).length-1)/2)*V(nt).fontSize),Ge(xr,"font-size",V(nt).fontSize),Qi=Pn(xr,"",Qi,{"paint-order":"stroke","stroke-width":"4","stroke-linejoin":"round","stroke-linecap":"round","text-anchor":"middle",fill:V(L).clusterLabelColor,stroke:V(L).clusterLabelOutlineColor,opacity:V(L).clusterLabelOpacity,"user-select":"none","-webkit-user-select":"none","font-family":V(L).fontFamily}),Jb(_s,V(Vn))}),ci(en,xr)}),$i(Qe),ci(Se,Qe)};To(Le,Se=>{V(Cn)&&Se(G)})}$i(Tn),Ea(()=>Ge(Tn,"transform",`translate(${V(Ct).x??""},${V(Ct).y??""})`)),ci(Ue,Tn)}),$i(Me),ci(ve,Me)};To(xu,ve=>{ve(Su)})}var U0=jr(xu);{var Bd=ve=>{var Me=Jy(),Ue=Dm(Me);{var nt=Ct=>{kje(Ct,{get value(){return v()},get pointLocation(){return V(z)}})},ut=Ct=>{yje(Ct,{get value(){return v()},onChange:me,get pointLocation(){return V(z)},get coordinateAtPoint(){return V(Z)},preventHover:Cn=>{$t(J,Cn,!0)}})};To(Ue,Ct=>{v()instanceof Array?Ct(nt):Ct(ut,!1)})}ci(ve,Me)};To(U0,ve=>{v()!=null&&V(Te)!=null&&ve(Bd)})}$i(ws),Bl(ws,(ve,Me)=>Zn?.(ve,Me),()=>({click:Hi,drag:zr,hover:Bt}));var Zs=jr(ws,2);{var $l=ve=>{const Me=Nt(()=>V(z)(m().x,m().y));{let Ue=Nt(()=>Math.max(3,V(Qt)/a())),nt=Nt(()=>C()??{class:oa,props:{colorScheme:V(M),fontFamily:V(L).fontFamily}});Lje(ve,{get location(){return V(Me)},get allowInteraction(){return V(ie)},get targetHeight(){return V(Ue)},get customTooltip(){return V(nt)},get tooltip(){return m()}})}};To(Zs,ve=>{m()!=null&&V(Te)!=null&&ve($l)})}var j0=jr(Zs,2);{var q0=ve=>{{let Me=Nt(()=>V(De)??V(tt)),Ue=Nt(()=>1/(V(z)(1,0).x-V(z)(0,0).x));Ije(ve,{get resolvedTheme(){return V(L)},get statusMessage(){return V(Me)},get distancePerPoint(){return V(Ue)},get pointCount(){return n().x.length},get selectionMode(){return V(Ve)},onSelectionMode:nt=>$t(Ve,nt,!0)})}};To(j0,ve=>{V(L).statusBar&&ve(q0)})}$i(Yr),Ea(()=>{us=Pn(Yr,"",us,{width:`${s()??""}px`,height:`${o()??""}px`,position:"relative"}),wo=Pn(Ti,"",wo,{width:`${s()??""}px`,height:`${o()??""}px`,position:"absolute",top:"0",left:"0"}),Ge(ws,"width",s()),Ge(ws,"height",o())}),YUe("wheel",ws,vt),ci(t,Yr),F0()}function MU(t,e){if(e.length==0)return et(!1);if(t.identifier!=null){let n=t.identifier;return uc(...e.map(r=>Sa(be(n),et(r.identifier))))}else{let n=t.x,r=t.y,i=t.category;return i!=null?uc(...e.map(s=>Ia(Sa(hi(be(n),"DOUBLE"),et(s.x)),Sa(hi(be(r),"DOUBLE"),et(s.y)),Sa(hi(be(i),"INTEGER"),et(s.category))))):uc(...e.map(s=>Ia(Sa(hi(be(n),"DOUBLE"),et(s.x)),Sa(hi(be(r),"DOUBLE"),et(s.y)))))}}function dVe(t,e,n){let r=[];for(let s=0;s<n.length;s++){let o=(s+1)%n.length,{x:a,y:l}=n[s],{x:u,y:c}=n[o],f=l<c?Ia(ZF(et(l),e),hC(e,et(c))):Ia(ZF(et(c),e),hC(e,et(l))),h=(l<c?hC:kk)(Fi(Ci(et(u-a),e),Ci(et(c-l),t)),et((u-a)*l-(c-l)*a));r.push(hi(Ia(f,h),"INT"))}let i=r.reduce((s,o)=>tP(s,o));return Sa(Hge(i,et(2)),et(1))}function pVe(t,e){if(e instanceof Array){if(e.length<3)return et(!1);let n=xie(e);return Ia(Bh(be(t.x),[n.xMin,n.xMax]),Bh(be(t.y),[n.yMin,n.yMax]),dVe(be(t.x),be(t.y),e))}else return Ia(Bh(be(t.x),[e.xMin,e.xMax]),Bh(be(t.y),[e.yMin,e.yMax]))}async function mVe(t,e){let{x:n,y:r,table:i}=e,s=await t.query(lt.from(i).select({centerX:Pt`MEDIAN(${be(n)})`,centerY:Pt`MEDIAN(${be(r)})`,stdX:Pt`STDDEV(${be(n)})`,stdY:Pt`STDDEV(${be(r)})`,...e.category!=null?{maxCategory:Pt`MAX(${be(e.category)}::UTINYINT)`}:{}})),{centerX:o,centerY:a,stdX:l,stdY:u,maxCategory:c}=s.get(0),f=1/(Math.max(l,u,.001)*3),h=.1/f,d=Pt`FLOOR((${be(n)} - ${o}) / ${h})`,m=Pt`FLOOR((${be(r)} - ${a}) / ${h})`,g=e.category!=null?be(e.category):null,b=g!=null?[d,m,g]:[d,m],v=lt.from(lt.from(i).select({count:Pt`COUNT(*)`}).groupby(...b)).select({totalCount:Pt`SUM(count)::INT`,maxCount:Pt`MAX(count)::INT`});s=await t.query(v);let{maxCount:O,totalCount:x}=s.get(0),C=O/(h*h);return{centerX:o,centerY:a,scaler:f,totalCount:x,categoryCount:(c??0)+1,maxDensity:C}}class gVe{coordinator;source;lastDistance;selectParams;constructor(e,n){this.coordinator=e,this.source=n,this.lastDistance=0;let{x:r,y:i,category:s,text:o,identifier:a}=this.source,l={},u=n.additionalFields??{};for(let c in u){let f=u[c];typeof f=="string"?l["field_"+c]=be(f):l["field_"+c]=Pt`${f.sql}`}this.selectParams={x:Pt`${be(r)}::DOUBLE`,y:Pt`${be(i)}::DOUBLE`,...s!=null?{category:Pt`${be(s)}::INT`}:{},...o!=null?{text:Pt`${be(o)}`}:{},...a!=null?{identifier:Pt`${be(a)}`}:{},...l}}_convertToDataPoint(e){let n={};for(let r in e)r.startsWith("field_")&&(n[r.slice(6)]=e[r]);return{x:e.x,y:e.y,category:e.category,text:e.text,identifier:e.identifier,fields:n}}async queryClosestPoint(e,n,r,i){let s=i*12,{x:o,y:a}=this.source;for(let l of[this.lastDistance,s]){if(l==0||l>s)continue;let u=lt.from(this.source.table).select(this.selectParams);u=u.where(Pt`${be(o)} BETWEEN ${n-l} AND ${n+l}`),u=u.where(Pt`${be(a)} BETWEEN ${r-l} AND ${r+l}`),e&&(u=u.where(e)),u=u.orderby(Pt`(x - (${n}))**2 + (y - (${r}))**2`).limit(1);let c=(await this.coordinator.query(u)).get(0);if(c)return this.lastDistance=Math.max(Math.abs(c.x-n),Math.abs(c.y-r))*4,this._convertToDataPoint(c)}return null}async queryPoints(e){let{table:n,identifier:r}=this.source;if(r==null)return[];let i=lt.from(n).select(this.selectParams);return i=i.where(Qg(be(r),e.map(s=>et(s)))),Array.from(await this.coordinator.query(i)).map(s=>this._convertToDataPoint(s))}}function yVe(t,e){I0(e,!0);let n=ft(e,"coordinator",19,TO),r=ft(e,"category",3,null),i=ft(e,"text",3,null),s=ft(e,"identifier",3,null),o=ft(e,"filter",3,null),a=ft(e,"categoryColors",3,null),l=ft(e,"tooltip",3,null),u=ft(e,"additionalFields",3,null),c=ft(e,"selection",3,null),f=ft(e,"rangeSelection",3,null),h=ft(e,"rangeSelectionValue",3,null),d=ft(e,"width",3,null),m=ft(e,"height",3,null),g=ft(e,"pixelRatio",3,null),b=ft(e,"config",3,null),v=ft(e,"theme",3,null),O=ft(e,"viewportState",3,null),x=ft(e,"labels",3,null),C=ft(e,"customTooltip",3,null),S=ft(e,"customOverlay",3,null),A=ft(e,"onViewportState",3,null),k=ft(e,"onTooltip",3,null),T=ft(e,"onSelection",3,null),D=ft(e,"onRangeSelection",3,null),$=ft(e,"cache",3,null),M=Ar(new Float32Array),L=Ar(new Float32Array),R=Ar(null),I=Ar(1),B=Ar(1),z=Ar(1),Z=Ar(null),J=Ar(null),ee=Ar(null),ie=Ar(null),K=Ar(null);uf(()=>{let Ae={coordinator:n(),source:{table:e.table,x:e.x,y:e.y,category:r()}},ke=null,Te=!1;async function tt(){let at=Ae.source,Re=await mVe(Ae.coordinator,at);if(Te)return;let We=Re.scaler*.95;$t(Z,{x:Re.centerX,y:Re.centerY,scale:We}),$t(B,Re.totalCount),$t(z,Re.maxDensity),$t(I,Re.categoryCount),ke=M1({coordinator:Ae.coordinator,selection:o()??void 0,query:Rt=>lt.from(at.table).select({x:Pt`${be(at.x)}::FLOAT`,y:Pt`${be(at.y)}::FLOAT`,...at.category!=null?{c:Pt`${be(at.category)}::UTINYINT`}:{}}).where(Rt),queryResult:Rt=>{let dt=Rt.getChild("x").toArray(),Qt=Rt.getChild("y").toArray(),Br=Rt.getChild("c")?.toArray()??null;dt!=null&&!(dt instanceof Float32Array)&&(dt=new Float32Array(dt)),Qt!=null&&!(Qt instanceof Float32Array)&&(Qt=new Float32Array(Qt)),Br!=null&&!(Br instanceof Uint8Array)&&(Br=new Uint8Array(Br)),$t(M,dt),$t(L,Qt),$t(R,Br),fe(null),le(null)}}),ke.reset=()=>{me()},$t(K,ke)}return tt(),()=>{$t(K,null),Te=!0,ke?.destroy()}}),uf(()=>{if(KF(l())){let Ae=V(K);if(Ae==null)return;let ke=l();$t(J,ke.valueFor(Ae)??null);let Te=()=>{$t(J,ke.valueFor(Ae)??null)};return uf(()=>{let tt=V(J),at={x:e.x,y:e.y,category:r(),identifier:s()};ke.update({source:Ae,clients:new Set().add(Ae),predicate:tt!=null?MU(at,[tt]):null,value:tt})}),ke.addEventListener("value",Te),()=>{ke.removeEventListener("value",Te),ke.update({source:Ae,clients:new Set().add(Ae),value:null,predicate:null})}}else if(l()==null||typeof l()=="object")$t(J,l());else{if(V(J)?.identifier==l())return;let Ae=!1;return Ve([l()]).then(ke=>{Ae||(ke.length>0?$t(J,ke[0]):$t(J,null))}),()=>{Ae=!0}}});function fe(Ae){Vh(l(),Ae)||($t(J,Ae),k()?.(Ae))}uf(()=>{if(KF(c())){let Ae=V(K);if(Ae==null)return;let ke=c();$t(ee,ke.valueFor(Ae)??null);let Te=()=>{$t(ee,ke.valueFor(Ae)??null)};return uf(()=>{let tt=V(ee),at={x:e.x,y:e.y,category:r(),identifier:s()};ke.update({source:Ae,clients:new Set().add(Ae),predicate:tt!=null?MU(at,tt):null,value:tt})}),ke.addEventListener("value",Te),()=>{ke.removeEventListener("value",Te),ke.update({source:Ae,clients:new Set().add(Ae),value:null,predicate:null})}}else if(c()==null)$t(ee,null);else if(c().length==0)$t(ee,[]);else if(c().every(Ae=>typeof Ae=="object"))$t(ee,c());else{let Ae=!1;return Ve(c()).then(ke=>{Ae||$t(ee,ke)}),()=>{Ae=!0}}});function le(Ae){Vh(c(),Ae)||($t(ee,Ae),T()?.(Ae))}uf(()=>{let Ae=V(K);if(Ae==null)return;let ke=f();if(ke!=null)return uf(()=>{let Te=V(ie),tt={x:e.x,y:e.y},at={source:Ae,clients:new Set().add(Ae),predicate:Te!=null?pVe(tt,Te):null,value:Te};ke.update(at),ke.activate(at)}),()=>{ke.update({source:Ae,clients:new Set().add(Ae),value:null,predicate:null})}}),uf(()=>{Vh(L0(()=>V(ie)),h())||$t(ie,h())});function me(){le(null),fe(null),D()?.(null),$t(ie,null)}let oe=Nt(()=>new gVe(n(),{table:e.table,x:e.x,y:e.y,category:r(),text:i(),identifier:s(),additionalFields:u()}));async function De(Ae,ke,Te){return await V(oe).queryClosestPoint(o()?.predicate?.(V(K)),Ae,ke,Te)}async function Ve(Ae){return await V(oe).queryPoints(Ae)}async function Ne(Ae){if(i()==null)return Ae.map(()=>null);let ke=await Zqe({regions:Ae,stopWords:b()?.autoLabelStopWords??null}),Te=0,tt=1e4,at=null;for(;;){let We=await n().query(lt.from(e.table).select({x:be(e.x),y:be(e.y),text:be(i())}).offset(Te).limit(tt)),Rt={x:We.getChild("x").toArray(),y:We.getChild("y").toArray(),text:We.getChild("text").toArray()};if(at!=null&&await at,at=Yqe(ke,Rt),We.getChild("text").length<tt)break;Te+=tt}at!=null&&await at;let Re=await Gqe(ke);return await Wqe(ke),Re.map(We=>We.length==0?null:We.length>2?We.slice(0,2).join("-")+`-
`+We.slice(2).join("-"):We.join("-"))}{let Ae=Nt(()=>d()??800),ke=Nt(()=>m()??800),Te=Nt(()=>g()??2),tt=Nt(()=>({x:V(M),y:V(L),category:V(R)}));hVe(t,{get width(){return V(Ae)},get height(){return V(ke)},get pixelRatio(){return V(Te)},get theme(){return v()},get config(){return b()},get data(){return V(tt)},get totalCount(){return V(B)},get maxDensity(){return V(z)},get categoryCount(){return V(I)},get categoryColors(){return a()},get defaultViewportState(){return V(Z)},querySelection:De,queryClusterLabels:Ne,get labels(){return x()},get customTooltip(){return C()},get customOverlay(){return S()},get tooltip(){return V(J)},onTooltip:fe,get selection(){return V(ee)},onSelection:le,get viewportState(){return O()},get onViewportState(){return A()},get rangeSelection(){return V(ie)},onRangeSelection:at=>{$t(ie,at),D()?.(at)},get cache(){return $()}})}F0()}class bVe{component;currentProps;constructor(e,n){this.currentProps={...n},this.component=nje({component:yVe,target:e,props:n})}update(e){let n={};for(let r in e)e[r]!==this.currentProps[r]&&(n[r]=e[r],this.currentProps[r]=e[r]);this.component.$set(n)}destroy(){this.component.$destroy()}}function vVe(){return xre()?32:4}const OVe={blues:rze,brbg:mBe,bugn:$Be,bupu:FBe,cividis:pze,cool:yze,cubehelixdefault:mze,gnbu:LBe,greens:sze,greys:aze,inferno:Sze,magma:xze,oranges:dze,orrd:QBe,piyg:vBe,plasma:kze,prgn:yBe,pubu:jBe,pubugn:zBe,puor:wBe,purd:VBe,purples:uze,rainbow:bze,rdbu:xBe,rdgy:kBe,rdpu:ZBe,rdylbu:ABe,rdylgn:TBe,reds:fze,sinebow:wze,spectral:PBe,turbo:G9,viridis:_ze,warm:gze,ylgn:HBe,ylgnbu:YBe,ylorbr:JBe,ylorrd:tze};function O_(t,e=0){let n=Nne(t);return n.l+=e,n.a=0,n.b=0,n.rgb().formatHex8()}const wVe={light:{scheme:"light",interpolate:"pubugn",categoryColors:g0,markColor:"#3b82f6",markColorFade:"#dbeafe",markColorGray:O_("#3b82f6",20),markColorGrayFade:O_("#dbeafe"),ruleColor:"#000",gridColor:bf.slate[300],labelColor:bf.slate[400],labelFontFamily:"system-ui",labelFontSize:11,labelMaxWidth:80,brushBorder:bf.slate[500],brushBorderBack:"#fff",brushFill:"rgba(0,0,0,0.1)"},dark:{scheme:"dark",interpolate:"inferno",categoryColors:g0,markColor:"#3b82f6",markColorFade:"#3b4d7f",markColorGray:O_("#3b82f6",-20),markColorGrayFade:O_("#1f398a"),ruleColor:"#fff",gridColor:bf.slate[700],labelColor:bf.slate[500],labelFontFamily:"system-ui",labelFontSize:11,labelMaxWidth:80,brushBorder:bf.slate[400],brushBorderBack:"#000",brushFill:"rgba(255,255,255,0.1)"}};function vR(t,e){let n=wVe[t];return e!=null&&(n=rg(n,rg(e,{light:void 0,dark:void 0})??e)??n,e[t]!=null&&(n=rg(n,e[t])??n)),n}function _Ve(t){return typeof t=="string"?OVe[t.toLowerCase()]??G9:typeof t=="function"?t:Une(t)}function xVe(t){let e=[];for(let n=0;n<t;n++)e.push(G9((n+.5)/t));return e}var SVe=ce('<hr class="mt-1 mb-1 border-slate-300 dark:border-slate-500 border-dashed"/>'),kVe=ce('<div class="absolute left-0 top-0 bottom-0 rounded-sm"></div>'),CVe=ce('<!> <div class="absolute left-0 top-0 bottom-0 rounded-sm"></div>',1),AVe=ce('<div class="absolute left-0 top-0 bottom-0 rounded-sm"></div>'),EVe=ce('<!> <div class="absolute left-0 top-0 bottom-0 rounded-sm"></div>',1),TVe=ce('<!> <button class="text-left items-center flex py-0.5"><div class="w-40 flex-none overflow-hidden whitespace-nowrap text-ellipsis pr-1"><span> </span></div> <div class="flex-1 h-4 relative"><!></div> <div class="flex-none"><span><!></span></div></button>',1),DVe=ce('<button class="py-0.5 text-left text-slate-400 dark:text-slate-500 hover:text-slate-800 dark:hover:text-slate-200 whitespace-nowrap text-ellipsis w-full overflow-hidden"><!></button>'),PVe=ce('<!> <div class="flex"><div class="flex-1 pl-40 mr-2 overflow-hidden"><!></div> <div class="flex"><!></div></div>',1),RVe=ce('<div class="flex flex-col text-sm w-full select-none"><!></div>');function $Ve(t,e){Ke(e,!0);const n=()=>ki(u,"$colorScheme",i),r=()=>ki(c,"$themeConfig",i),[i,s]=za(),o=10,a=100;let{coordinator:l,colorScheme:u,theme:c}=e.context,f=X(()=>e.state.selection),h=X(()=>e.spec.expanded),d=X(()=>e.spec.percentage),m=Ie(void 0),g=Ie(400),b=X(()=>w(m)?.items.reduce(($,M)=>Math.max($,w(d)?M.selected:M.total),0)??0),v=X(()=>J1([0,Math.max(1,w(b))],[0,w(g)-250])),O=X(()=>$=>$!=0?Math.max(1,w(v)($)):0),x=X(()=>vR(n(),r()));function C($,M,L,R){let I=Ie(void 0);wre($,Pt`${M}`,be(L)).then(Z=>{se(I,Z)});let B=X(()=>w(I)?_re({stats:w(I),binCount:w(h)?a:o}):void 0);function z(Z,J,ee){return M1({coordinator:$,selection:J,query:ie=>lt.from(M).select({x:Z.select,count:_i()}).where(ie).groupby(Z.select),queryResult:ie=>{let K=Array.from(ie);ee(K.map(({x:fe,count:le})=>({x:Z.field(fe),count:le})))}})}or(()=>{if(w(B)==null)return;let Z=w(B),J=Ie([]),ee=Ie([]),ie=z(Z,void 0,le=>{se(J,le)}),K=z(Z,R,le=>{se(ee,le)}),fe={reset:()=>{e.onStateChange({selection:void 0})}};return or(()=>{if(w(J).length>0){let le=De=>JSON.stringify(De),me=new Map(w(J).map(({x:De,count:Ve})=>[le(De),Ve])),oe=new Map(w(ee).map(({x:De,count:Ve})=>[le(De),Ve]));if(w(J).every(De=>typeof De.x=="string")){let De=Z.scale.specialValues??[],Ve=De.filter(Te=>Te!="(null)").length>0,Ne=[...Z.scale.domain,...De].map(Te=>({x:Te,total:me.get(le(Te))??0,selected:oe.get(le(Te))??0})),Ae=Ne.reduce((Te,tt)=>Te+tt.total,0),ke=Ne.reduce((Te,tt)=>Te+tt.selected,0);se(m,{items:Ne,sumTotal:Ae,sumSelected:ke,firstSpecialIndex:Z.scale.domain.length,hasOther:Ve})}else{let De=Array.from(me.keys()).map(ke=>JSON.parse(ke));De=De.sort((ke,Te)=>{let tt=typeof ke=="string"?1/0:ke[0],at=typeof Te=="string"?1/0:Te[0];return tt-at});let Ve=De.map(ke=>({x:ke,total:me.get(le(ke))??0,selected:oe.get(le(ke))??0})),Ne=Ve.reduce((ke,Te)=>ke+Te.total,0),Ae=Ve.reduce((ke,Te)=>ke+Te.selected,0);se(m,{items:Ve,sumTotal:Ne,sumSelected:Ae,firstSpecialIndex:De.findIndex(ke=>typeof ke=="string"),hasOther:!1})}}}),or(()=>{let le={source:fe,clients:new Set([K]),...w(f)!=null?{value:w(f),predicate:Z.predicate(w(f))??null}:{value:null,predicate:null}};R.update(le),R.activate(le)}),()=>{ie.destroy(),K.destroy(),R.update({source:fe,clients:new Set([K]),value:null,predicate:null})}})}or(()=>{C(l,e.context.table,e.spec.data.field,e.context.filter)});const S=($,M)=>JSON.stringify($)==JSON.stringify(M);function A($,M){if(w(f)==null||w(f).length==0)e.onStateChange({selection:[$]});else{let L=w(f).findIndex(R=>S(R,$))>=0;M?L?e.onStateChange({selection:w(f).filter(R=>!S(R,$))}):e.onStateChange({selection:[...w(f),$]}):L?e.onStateChange({selection:void 0}):e.onStateChange({selection:[$]})}}const k=R0(".6");function T($){return typeof $=="string"?$:"["+k($[0])+", "+k($[1])+")"}function D($,M){return M==0?"-%":($/M*100).toFixed(1)+"%"}Ed(t,{get width(){return e.width},get height(){return e.height},scrollY:!0,children:($,M)=>{var L=RVe(),R=H(L);{var I=B=>{var z=PVe(),Z=Be(z);Zt(Z,17,()=>w(m).items,Rn,(me,oe,De)=>{const Ve=X(()=>w(f)==null||w(f).length==0||w(f).findIndex(vt=>S(vt,w(oe).x))>=0),Ne=X(()=>!w(m).items.every(vt=>vt.total==vt.selected));var Ae=TVe(),ke=Be(Ae);{var Te=vt=>{var kn=SVe();j(vt,kn)};Oe(ke,vt=>{De==w(m).firstSpecialIndex&&vt(Te)})}var tt=ae(ke,2);tt.__click=vt=>A(w(oe).x,vt.shiftKey);var at=H(tt),Re=H(at);let We;var Rt=H(Re,!0);W(Re),W(at);var dt=ae(at,2),Qt=H(dt);{var Br=vt=>{var kn=CVe(),zr=Be(kn);{var Hi=zt=>{var fn=kVe();let Rr;Pe(gi=>Rr=ot(fn,"",Rr,gi),[()=>({background:w(x).markColorFade,width:`${w(O)(w(oe).total)??""}px`})]),j(zt,fn)};Oe(zr,zt=>{w(d)||zt(Hi)})}var mn=ae(zr,2);let Bt;Pe(zt=>Bt=ot(mn,"",Bt,zt),[()=>({background:w(x).markColor,width:`${w(O)(w(oe).selected)??""}px`})]),j(vt,kn)},Zr=vt=>{var kn=EVe(),zr=Be(kn);{var Hi=zt=>{var fn=AVe();let Rr;Pe(gi=>Rr=ot(fn,"",Rr,gi),[()=>({background:w(x).markColorGrayFade,width:`${w(O)(w(oe).total)??""}px`})]),j(zt,fn)};Oe(zr,zt=>{w(d)||zt(Hi)})}var mn=ae(zr,2);let Bt;Pe(zt=>Bt=ot(mn,"",Bt,zt),[()=>({background:w(x).markColorGray,width:`${w(O)(w(oe).selected)??""}px`})]),j(vt,kn)};Oe(Qt,vt=>{w(Ve)?vt(Br):vt(Zr,!1)})}W(dt);var cn=ae(dt,2),Lt=H(cn);let Jn;var li=H(Lt);{var Pr=vt=>{var kn=At(),zr=Be(kn);{var Hi=Bt=>{var zt=xa();Pe(fn=>Tt(zt,fn),[()=>D(w(oe).selected,w(m).sumSelected)]),j(Bt,zt)},mn=Bt=>{var zt=xa();Pe(fn=>Tt(zt,fn),[()=>w(oe).selected.toLocaleString()+" / "+w(oe).total.toLocaleString()]),j(Bt,zt)};Oe(zr,Bt=>{w(d)?Bt(Hi):Bt(mn,!1)})}j(vt,kn)},Wr=vt=>{var kn=At(),zr=Be(kn);{var Hi=Bt=>{var zt=xa();Pe(fn=>Tt(zt,fn),[()=>D(w(oe).total,w(m).sumTotal)]),j(Bt,zt)},mn=Bt=>{var zt=xa();Pe(fn=>Tt(zt,fn),[()=>w(oe).total.toLocaleString()]),j(Bt,zt)};Oe(zr,Bt=>{w(d)?Bt(Hi):Bt(mn,!1)},!0)}j(vt,kn)};Oe(li,vt=>{w(Ne)?vt(Pr):vt(Wr,!1)})}W(Lt),W(cn),W(tt),Pe((vt,kn)=>{pe(tt,"title",w(oe).x),We=ur(Re,1,"",null,We,{"text-gray-400":!w(Ve),"dark:text-gray-400":!w(Ve)}),Tt(Rt,vt),Jn=ur(Lt,1,"text-slate-400 dark:text-slate-500",null,Jn,{"!text-gray-200":!w(Ve),"dark:!text-gray-600":!w(Ve)}),pe(Lt,"title",kn)},[()=>T(w(oe).x),()=>w(Ne)?`${w(oe).selected.toLocaleString()} / ${w(oe).total.toLocaleString()} (${D(w(oe).selected,w(oe).total)})
${D(w(oe).selected,w(m).sumSelected)} of selection`:`${w(oe).total.toLocaleString()}
${D(w(oe).total,w(m).sumTotal)} of all rows`]),j(me,Ae)});var J=ae(Z,2),ee=H(J),ie=H(ee);{var K=me=>{var oe=DVe();oe.__click=()=>{w(h)==!0?(e.onSpecChange({expanded:!1}),e.onStateChange({selection:void 0})):e.onSpecChange({expanded:!0})};var De=H(oe);{var Ve=Ae=>{var ke=xa();ke.nodeValue="â Show up to 10 values",j(Ae,ke)},Ne=Ae=>{var ke=xa();ke.nodeValue="â Show up to 100 values",j(Ae,ke)};Oe(De,Ae=>{w(h)?Ae(Ve):Ae(Ne,!1)})}W(oe),j(me,oe)};Oe(ie,me=>{(w(h)||w(m).hasOther)&&me(K)})}W(ee);var fe=ae(ee,2),le=H(fe);{let me=X(()=>w(d)?.toString()??"false");K9(le,{options:[{value:"true",label:"%"},{value:"false",label:"#/#"}],get value(){return w(me)},onChange:oe=>e.onSpecChange({percentage:oe=="true"})})}W(fe),W(J),j(B,z)};Oe(R,B=>{w(m)&&B(I)})}W(L),Oc(L,"clientWidth",B=>se(g,B)),j($,L)},$$slots:{default:!0}}),Je(),s()}Dr(["click"]);async function IVe(t,e,n,r){let i=be(n,e),s=await t.query(lt.from(lt.from(e).select({value:Pt`UNNEST(${i})`})).select({value:"value",count:_i()}).groupby("value").orderby(EO("count")).limit(r+1)),o=Array.from(s);return{values:o.slice(0,r),hasOther:o.length>r}}function FVe(t,e){return uc(...e.map(n=>Pt`${et(n)} IN ${be(t)}`))}var MVe=ce('<hr class="mt-1 mb-1 border-slate-300 dark:border-slate-500 border-dashed"/>'),LVe=ce('<div class="absolute left-0 top-0 bottom-0 rounded-sm"></div> <div class="absolute left-0 top-0 bottom-0 rounded-sm"></div>',1),NVe=ce('<div class="absolute left-0 top-0 bottom-0 rounded-sm"></div> <div class="absolute left-0 top-0 bottom-0 rounded-sm"></div>',1),QVe=ce('<!> <button class="text-left items-center flex py-0.5"><div class="w-40 flex-none overflow-hidden whitespace-nowrap text-ellipsis pr-1"><span> </span></div> <div class="flex-1 h-4 relative"><!></div> <div class="flex-none"><span><!></span></div></button>',1),BVe=ce('<button class="py-0.5 text-left text-slate-400 dark:text-slate-500 hover:text-slate-800 dark:hover:text-slate-200 whitespace-nowrap text-ellipsis w-full overflow-hidden"><!></button>'),zVe=ce('<!> <div class="flex"><div class="flex-1 pl-40 mr-2 overflow-hidden"><!></div></div>',1),UVe=ce('<div class="flex flex-col text-sm w-full select-none"><!></div>');function jVe(t,e){Ke(e,!0);const n=()=>ki(l,"$colorScheme",i),r=()=>ki(u,"$themeConfig",i),[i,s]=za(),o=10,a=100;let{colorScheme:l,theme:u}=e.context,c=X(()=>e.state.selection),f=Ie(null),h=Ie(400),d=X(()=>w(f)?.items.reduce((k,T)=>Math.max(k,T.total),0)??0),m=X(()=>J1([0,Math.max(1,w(d))],[0,w(h)-250])),g=X(()=>k=>k!=0?Math.max(1,w(m)(k)):0),b=X(()=>vR(n(),r()));function v(k,T,D,$,M){let L=Ie(null);IVe(k,T,D,M).then(I=>{se(L,I)});function R(I,B,z){return M1({coordinator:k,selection:I??void 0,query:Z=>{let J=be(D,T);return lt.from(lt.from(T).select({value:Pt`UNNEST(${J})`}).where(Z)).select({x:"value",count:_i()}).where(Qg("value",B.map(ee=>et(ee)))).groupby("value").orderby(EO("count"))},queryResult:Z=>{z(Array.from(Z))}})}or(()=>{if(w(L)==null)return;let I=w(L).values.map(K=>K.value),B=w(L).hasOther,z=Ie([]),Z=Ie([]),J=R(null,I,K=>{se(z,K)}),ee=R($,I,K=>{se(Z,K)}),ie={reset:()=>{e.onStateChange({selection:null})}};return or(()=>{if(w(z).length>0){let K=oe=>JSON.stringify(oe),fe=new Map(w(z).map(({x:oe,count:De})=>[K(oe),De])),le=new Map(w(Z).map(({x:oe,count:De})=>[K(oe),De])),me=I.map(oe=>({x:oe,total:fe.get(K(oe))??0,selected:le.get(K(oe))??0}));se(f,{items:me,firstSpecialIndex:I.length,hasOther:B})}}),or(()=>{let K={source:ie,clients:new Set([ee]),...w(c)!=null?{value:w(c),predicate:FVe(D,w(c))}:{value:null,predicate:null}};$.update(K),$.activate(K)}),()=>{J.destroy(),ee.destroy(),$.update({source:ie,clients:new Set([ee]),value:null,predicate:null})}})}or(()=>{v(e.context.coordinator,e.context.table,e.spec.data.field,e.context.filter,e.spec.expanded?a:o)});const O=(k,T)=>JSON.stringify(k)==JSON.stringify(T);function x(k,T){if(w(c)==null||w(c).length==0)e.onStateChange({selection:[k]});else{let D=w(c).findIndex($=>O($,k))>=0;T?D?e.onStateChange({selection:w(c).filter($=>!O($,k))}):e.onStateChange({selection:[...w(c),k]}):D?e.onStateChange({selection:null}):e.onStateChange({selection:[k]})}}const C=R0(".6");function S(k){return typeof k=="string"?k:"["+C(k[0])+", "+C(k[1])+")"}function A(k,T){return T==0?"-%":(k/T*100).toFixed(1)+"%"}Ed(t,{get width(){return e.width},get height(){return e.height},scrollY:!0,children:(k,T)=>{var D=UVe(),$=H(D);{var M=L=>{var R=zVe(),I=Be(R);Zt(I,17,()=>w(f).items,Rn,(ee,ie,K)=>{const fe=X(()=>w(c)==null||w(c).length==0||w(c).findIndex(Lt=>O(Lt,w(ie).x))>=0),le=X(()=>!w(f).items.every(Lt=>Lt.total==Lt.selected));var me=QVe(),oe=Be(me);{var De=Lt=>{var Jn=MVe();j(Lt,Jn)};Oe(oe,Lt=>{K==w(f).firstSpecialIndex&&Lt(De)})}var Ve=ae(oe,2);Ve.__click=Lt=>x(w(ie).x,Lt.shiftKey);var Ne=H(Ve),Ae=H(Ne);let ke;var Te=H(Ae,!0);W(Ae),W(Ne);var tt=ae(Ne,2),at=H(tt);{var Re=Lt=>{var Jn=LVe(),li=Be(Jn);let Pr;var Wr=ae(li,2);let vt;Pe((kn,zr)=>{Pr=ot(li,"",Pr,kn),vt=ot(Wr,"",vt,zr)},[()=>({background:w(b).markColorFade,width:`${w(g)(w(ie).total)??""}px`}),()=>({background:w(b).markColor,width:`${w(g)(w(ie).selected)??""}px`})]),j(Lt,Jn)},We=Lt=>{var Jn=NVe(),li=Be(Jn);let Pr;var Wr=ae(li,2);let vt;Pe((kn,zr)=>{Pr=ot(li,"",Pr,kn),vt=ot(Wr,"",vt,zr)},[()=>({background:w(b).markColorGrayFade,width:`${w(g)(w(ie).total)??""}px`}),()=>({background:w(b).markColorGray,width:`${w(g)(w(ie).selected)??""}px`})]),j(Lt,Jn)};Oe(at,Lt=>{w(fe)?Lt(Re):Lt(We,!1)})}W(tt);var Rt=ae(tt,2),dt=H(Rt);let Qt;var Br=H(dt);{var Zr=Lt=>{var Jn=xa();Pe(li=>Tt(Jn,li),[()=>w(ie).selected.toLocaleString()+" / "+w(ie).total.toLocaleString()]),j(Lt,Jn)},cn=Lt=>{var Jn=xa();Pe(li=>Tt(Jn,li),[()=>w(ie).total.toLocaleString()]),j(Lt,Jn)};Oe(Br,Lt=>{w(le)?Lt(Zr):Lt(cn,!1)})}W(dt),W(Rt),W(Ve),Pe((Lt,Jn)=>{pe(Ve,"title",w(ie).x),ke=ur(Ae,1,"",null,ke,{"text-gray-400":!w(fe),"dark:text-gray-400":!w(fe)}),Tt(Te,Lt),Qt=ur(dt,1,"text-slate-400 dark:text-slate-500",null,Qt,{"!text-gray-200":!w(fe),"dark:!text-gray-600":!w(fe)}),pe(dt,"title",Jn)},[()=>S(w(ie).x),()=>w(le)?`${w(ie).total.toLocaleString()} rows contain "${w(ie).x}"; ${w(ie).selected.toLocaleString()} (${A(w(ie).selected,w(ie).total)}) in selection`:`${w(ie).total.toLocaleString()} rows contain "${w(ie).x}"`]),j(ee,me)});var B=ae(I,2),z=H(B),Z=H(z);{var J=ee=>{var ie=BVe();ie.__click=()=>{let me=!e.spec.expanded;e.onSpecChange({expanded:me}),me==!1&&e.onStateChange({selection:null})};var K=H(ie);{var fe=me=>{var oe=xa();oe.nodeValue="â Show up to 10 values",j(me,oe)},le=me=>{var oe=xa();oe.nodeValue="â Show up to 100 values",j(me,oe)};Oe(K,me=>{e.spec.expanded?me(fe):me(le,!1)})}W(ie),j(ee,ie)};Oe(Z,ee=>{(e.spec.expanded||w(f).hasOther)&&ee(J)})}W(z),W(B),j(L,R)};Oe($,L=>{w(f)&&L(M)})}W(D),Oc(D,"clientWidth",L=>se(h,L)),j(k,D)},$$slots:{default:!0}}),Je(),s()}Dr(["click"]);var qVe=ce("<input/>");function OR(t,e){Ke(e,!0);let n=ht(e,"value",15),r=ht(e,"type",3,"text"),i=ht(e,"placeholder",3,""),s=ht(e,"className",3,"");function o(l){l.key=="Escape"&&l.stopPropagation()}var a=qVe();fD(a),a.__keydown=o,Pe(()=>{pe(a,"type",r()),pe(a,"placeholder",i()),ur(a,1,`form-input rounded-md py-1 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 ${s()??""??""}`)}),Hpe(a,n),j(t,a),Je()}Dr(["keydown"]);var VVe=ce("<!> <!>",1);function XVe(t,e){Ke(e,!0);var n=At(),r=Be(n);{var i=o=>{Ed(o,{get width(){return e.width},get height(){return e.height},scrollY:!0,class:"prose dark:prose-invert max-w-none",children:(a,l)=>{var u=At(),c=Be(u);Wq(c,()=>F9(e.spec.content??"")),j(a,u)},$$slots:{default:!0}})},s=o=>{Ed(o,{get width(){return e.width},get height(){return e.height},class:"flex flex-col gap-2",children:(a,l)=>{var u=VVe(),c=Be(u),f=()=>e.spec.title??"",h=m=>e.onSpecChange({title:m});OR(c,{get value(){return f()},set value(m){h(m)}});var d=ae(c,2);{let m=X(()=>e.height==null?"h-64":"flex-1");m4(d,{get value(){return e.spec.content},get class(){return w(m)},language:"markdown",onChange:g=>{e.onSpecChange({content:g})}})}j(a,u)},$$slots:{default:!0}})};Oe(r,o=>{e.mode=="view"?o(i):o(s,!1)})}j(t,n),Je()}var ZVe=ce('<div class="bg-slate-100 p-2 rounded-md w-full h-full overflow-y-scroll"><pre> </pre></div>');function LU(t,e){Ke(e,!0);var n=ZVe(),r=H(n),i=H(r,!0);W(r),W(n),Pe(s=>Tt(i,s),[()=>JSON.stringify(e.spec,null,2)]),j(t,n),Je()}var WVe=ce('<span class="mx-1"> </span>'),YVe=ce("<button><!> <!></button>");function Hu(t,e){Ke(e,!0);let n=ht(e,"label",3,null),r=ht(e,"icon",3,null),i=ht(e,"title",3,""),s=ht(e,"order",3,null);var o=YVe();o.__click=()=>{e.onClick?.()};let a;var l=H(o);{var u=h=>{const d=X(r);var m=At(),g=Be(m);Zf(g,()=>w(d),(b,v)=>{v(b,{class:"w-5 h-5"})}),j(h,m)};Oe(l,h=>{r()!=null&&h(u)})}var c=ae(l,2);{var f=h=>{var d=WVe(),m=H(d,!0);W(d),Pe(()=>Tt(m,n())),j(h,d)};Oe(c,h=>{n()!=null&&n()!=""&&h(f)})}W(o),Pe(()=>{ur(o,1,`rounded-md flex select-none items-center px-1.5 py-1.5 h-[28px] border bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-600 dark:text-slate-400 focus-visible:outline-2 outline-blue-600 -outline-offset-1 ${e.class??""??""}`),pe(o,"title",i()),a=ot(o,"",a,{order:s()})}),j(t,o),Je()}Dr(["click"]);var GVe=ce('<div><button class="flex-1 overflow-hidden text-left"><div class="text-ellipsis overflow-hidden w-full"> </div> <div class="text-ellipsis overflow-hidden w-full"><code class="text-xs whitespace-nowrap"> </code></div></button> <div class="flex-none flex gap-1"><!> <!></div></div>'),HVe=ce('<div class="mt-4"><!> <div class="text-slate-500 dark:text-slate-400 text-sm mb-1">SQL Predicate</div> <div class="w-full !h-32 mb-2"><!></div> <div class="flex gap-2"><!> <!> <div class="flex-1"></div> <button class="text-slate-400 dark:text-slate-500 hover:text-slate-800 dark:hover:text-slate-200">Current Predicate</button></div></div>'),KVe=ce('<div class="flex flex-col gap-1"><!> <button class="text-left text-slate-400 dark:text-slate-500 hover:text-slate-800 dark:hover:text-slate-200 whitespace-nowrap text-ellipsis w-full overflow-hidden select-none">+ Add Predicate</button></div> <!>',1);function JVe(t,e){Ke(e,!0);const n=()=>ki(s,"$colorScheme",r),[r,i]=za();let{colorScheme:s}=e.context,o=X(()=>e.spec.items??[]),a=X(()=>e.state.selectedPredicates??[]),l=Ie(!1),u=Ie(null),c=Ie(""),f=Ie("");function h(){se(l,!1),se(u,null),se(f,""),se(c,"")}function d(g){e.onSpecChange({items:g}),e.onStateChange({selectedPredicates:(e.state.selectedPredicates??[]).filter(b=>g.find(v=>v.predicate==b)!=null)})}async function m(){let g=w(f).trim();g==""&&(g="Predicate");let b=w(c).trim();if(b=="")return null;try{await e.context.coordinator.query(lt.from(e.context.table).select({count:_i()}).where(b))}catch(v){return alert(v.toString()),null}return{name:g,predicate:b}}or(()=>{let g=M1({coordinator:e.context.coordinator,selection:e.context.filter,query:()=>Pt`SELECT 1`}),b={reset:()=>{e.onStateChange({selectedPredicates:[]})}};return su(()=>{if(w(a).length==0)e.context.filter.update({source:b,clients:new Set([g]),predicate:null,value:null});else{let v=w(a).map(O=>"("+O+")").join(" OR ");e.context.filter.update({source:b,clients:new Set([g]),predicate:$b(v),value:v})}}),()=>{g.destroy()}}),Ed(t,{get width(){return e.width},get height(){return e.height},scrollY:!0,children:(g,b)=>{var v=KVe(),O=Be(v),x=H(O);Zt(x,17,()=>w(o),Rn,(k,T)=>{const D=X(()=>w(a).indexOf(w(T).predicate)>=0);var $=GVe();let M;var L=H($);L.__click=K=>{K.shiftKey?se(a,w(D)?w(a).filter(fe=>fe!=w(T).predicate):[...w(a),w(T).predicate]):w(D)?se(a,[]):se(a,[w(T).predicate])};var R=H(L),I=H(R,!0);W(R);var B=ae(R,2),z=H(B),Z=H(z,!0);W(z),W(B),W(L);var J=ae(L,2),ee=H(J);Hu(ee,{get icon(){return S9},onClick:()=>{se(u,w(T)),se(c,w(T).predicate,!0),se(f,w(T).name,!0),se(l,!0)}});var ie=ae(ee,2);Hu(ie,{get icon(){return r2},onClick:()=>{d(w(o).filter(K=>K!==w(T)))}}),W(J),W($),Pe(()=>{M=ur($,1,"flex gap-4 w-full bg-white dark:bg-slate-800 p-2 rounded-md border border-slate-200 dark:border-slate-600 select-none",null,M,{"!bg-blue-100":w(D),"!border-blue-400":w(D),"dark:!bg-blue-800":w(D),"dark:!border-blue-600":w(D)}),Tt(I,w(T).name),pe(z,"title",w(T).predicate),Tt(Z,w(T).predicate)}),j(k,$)});var C=ae(x,2);C.__click=()=>{se(l,!0),se(u,null)},W(O);var S=ae(O,2);{var A=k=>{var T=HVe(),D=H(T);OR(D,{placeholder:"predicate name",className:"w-full mb-2",get value(){return w(f)},set value(J){se(f,J,!0)}});var $=ae(D,4),M=H($);{let J=X(()=>({table:e.context.table,columns:e.context.columns}));m4(M,{language:"sql",get sql(){return w(J)},class:"w-full h-full",get colorScheme(){return n()},get value(){return w(c)},onChange:ee=>se(c,ee,!0)})}W($);var L=ae($,2),R=H(L);{var I=J=>{Hu(J,{label:"Update",onClick:async()=>{let ee=await m();ee&&(d(w(o).map(ie=>ie===w(u)?ee:ie)),h())}})},B=J=>{Hu(J,{label:"Add",onClick:async()=>{let ee=await m();ee&&(d([...w(o),ee]),h())}})};Oe(R,J=>{w(u)!=null?J(I):J(B,!1)})}var z=ae(R,2);Hu(z,{label:"Cancel",onClick:()=>{se(u,null),se(l,!1)}});var Z=ae(z,4);Z.__click=()=>se(c,eR(e.context.filter.predicate(null))??"",!0),W(L),W(T),j(k,T)};Oe(S,k=>{w(l)&&k(A)})}j(g,v)},$$slots:{default:!0}}),Je(),i()}Dr(["click"]);var eXe=ce('<label class="select-none flex items-center gap-2"><span class="text-slate-500 dark:text-slate-400 whitespace-nowrap"> </span> <!></label>');function ll(t,e){Ke(e,!0);let n=Xr(e,["$$slots","$$events","$$legacy"]),r="form-select rounded-md py-1 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 dark:text-slate-400 select-none text-ellipsis";var i=At(),s=Be(i);{var o=l=>{var u=eXe(),c=H(u),f=H(c,!0);W(c);var h=ae(c,2);{let d=X(()=>r+" "+(e.class??""));_T(h,Fg(()=>n,{get class(){return w(d)}}))}W(u),Pe(()=>Tt(f,e.label)),j(l,u)},a=l=>{{let u=X(()=>r+" "+(e.class??""));_T(l,Fg(()=>n,{get class(){return w(u)}}))}};Oe(s,l=>{e.label!=null?l(o):l(a,!1)})}j(t,i),Je()}var tXe=ce("<button>An occured with this chart. Click to retry.</button>"),nXe=ce("<div><!></div>");function Bie(t,e){Ke(e,!0);let n=Xr(e,["$$slots","$$events","$$legacy"]),r=X(()=>QKe(e.spec)),i=Ie(100),s=Ie(100);function o(c,f){console.trace("Error happened in chart with spec",f.spec,f.error)}var a=nXe();let l;var u=H(a);gq(u,{failed:(f,h=yr,d=yr)=>{var m=tXe();m.__click=function(...g){d()?.apply(this,g)},ei(m,(g,b)=>o?.(g,b),()=>({spec:e.spec,error:h()})),j(f,m)}},f=>{var h=At(),d=Be(h);{let m=X(()=>e.width=="container"?w(i):e.width),g=X(()=>e.height=="container"?w(s):e.height);Zf(d,()=>w(r),(b,v)=>{v(b,Fg(()=>n,{get width(){return w(m)},get height(){return w(g)}}))})}j(f,h)}),W(a),Pe(()=>l=ot(a,"",l,{width:e.width=="container"?"100%":e.width!=null?`${e.width}px`:"fit-content",height:e.height=="container"?"100%":e.height!=null?`${e.height}px`:"fit-content"})),Oc(a,"clientWidth",c=>se(i,c)),Oc(a,"clientHeight",c=>se(s,c)),j(t,a),Je()}Dr(["click"]);const rXe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<line x1="15" y1="54" x2="15" y2="12" stroke="black" stroke-width="2"/>
<line x1="32" y1="53" x2="32" y2="10" stroke="black" stroke-width="2"/>
<line x1="49" y1="45" x2="49" y2="19" stroke="black" stroke-width="2"/>
<rect x="8" y="27" width="14" height="18" rx="3" fill="#007AFF"/>
<rect x="25" y="22" width="14" height="14" rx="3" fill="#007AFF"/>
<rect x="42" y="27" width="14" height="12" rx="3" fill="#007AFF"/>
</svg>
`,iXe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="34" cy="16" r="6" fill="#007AFF" fill-opacity="0.1" stroke="#007AFF" stroke-width="2"/>
<circle cx="24.5" cy="29.5" r="4.5" fill="#007AFF" fill-opacity="0.1" stroke="#007AFF" stroke-width="2"/>
<circle cx="47.5" cy="43.5" r="4.5" fill="#007AFF" fill-opacity="0.1" stroke="#007AFF" stroke-width="2"/>
<circle cx="42" cy="49" r="1" fill="#34C759" fill-opacity="0.1" stroke="#34C759" stroke-width="2"/>
<circle cx="20" cy="43" r="5" fill="#34C759" fill-opacity="0.1" stroke="#34C759" stroke-width="2"/>
<circle cx="38" cy="48" r="3" fill="#007AFF" fill-opacity="0.1" stroke="#007AFF" stroke-width="2"/>
<circle cx="36" cy="28" r="8" fill="#34C759" fill-opacity="0.1" stroke="#34C759" stroke-width="2"/>
<circle cx="13" cy="32" r="3" fill="#007AFF" fill-opacity="0.1" stroke="#007AFF" stroke-width="2"/>
<circle cx="22" cy="19" r="2" fill="#007AFF" fill-opacity="0.1" stroke="#007AFF" stroke-width="2"/>
</svg>
`,sXe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="18" y="20" width="14" height="8" rx="3" fill="#007AFF"/>
<rect x="8" y="31" width="8" height="8" rx="4" fill="black" fill-opacity="0.2"/>
<rect x="34" y="31" width="22" height="8" rx="3" fill="black" fill-opacity="0.2"/>
<rect x="8" y="42" width="8" height="8" rx="4" fill="black" fill-opacity="0.2"/>
<rect x="18" y="42" width="14" height="8" rx="3" fill="black" fill-opacity="0.2"/>
<rect x="34" y="42" width="22" height="8" rx="3" fill="black" fill-opacity="0.2"/>
<circle cx="25" cy="24" r="11.5" stroke="black" stroke-width="3"/>
<path d="M53 20C54.6569 20 56 21.3431 56 23V25C56 26.6569 54.6569 28 53 28H37.373C37.7801 26.7399 38 25.3956 38 24C38 22.6044 37.7801 21.2601 37.373 20H53Z" fill="#007AFF" fill-opacity="0.5"/>
<path d="M32 36C32 37.6569 30.6569 39 29 39H21C19.3431 39 18 37.6569 18 36V34.9561C20.0206 36.2498 22.4227 37 25 37C27.5773 37 29.9794 36.2498 32 34.9561V36Z" fill="black" fill-opacity="0.2"/>
<path d="M12 20C12.2082 20 12.4127 20.0152 12.6123 20.0459C12.2147 21.2928 12 22.6213 12 24C12 25.3784 12.2148 26.7065 12.6123 27.9531C12.4127 27.9838 12.2082 28 12 28C9.79086 28 8 26.2091 8 24C8 21.7909 9.79086 20 12 20Z" fill="#007AFF" fill-opacity="0.5"/>
<path d="M46.7676 42.2324C47.7439 43.2087 47.7439 44.7913 46.7676 45.7676C45.7913 46.7439 44.2087 46.7439 43.2324 45.7676L32.9727 35.5078C34.3519 34.5505 35.5505 33.3519 36.5078 31.9727L46.7676 42.2324Z" fill="black"/>
</svg>
`,oXe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="9" y="9" width="46" height="46" stroke="black" stroke-opacity="0.2" stroke-width="2" stroke-dasharray="2 2"/>
<path d="M9 55C28 55 30 41 33 31C36 21 42 9 55 9" stroke="#34C759" stroke-width="2" stroke-linecap="round"/>
<path d="M9 55C20 44 11.5 6.5 55 8.99999" stroke="#007AFF" stroke-width="2" stroke-linecap="round"/>
</svg>
`,aXe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="32" cy="28" r="2" fill="#007AFF"/>
<circle cx="32" cy="24" r="2" fill="#007AFF"/>
<circle cx="32" cy="20" r="2" fill="#007AFF"/>
<circle cx="36" cy="32" r="2" fill="#007AFF"/>
<circle cx="36" cy="28" r="2" fill="#007AFF"/>
<circle cx="36" cy="24" r="2" fill="#007AFF"/>
<circle cx="28" cy="32" r="2" fill="#007AFF"/>
<circle cx="28" cy="28" r="2" fill="#007AFF"/>
<circle cx="28" cy="24" r="2" fill="#007AFF"/>
<circle cx="28" cy="20" r="2" fill="#007AFF"/>
<circle cx="28" cy="16" r="2" fill="#007AFF"/>
<circle cx="44" cy="24" r="2" fill="#A3CFFF"/>
<circle cx="44" cy="20" r="2" fill="#A3CFFF"/>
<circle cx="44" cy="16" r="2" fill="#A3CFFF"/>
<circle cx="40" cy="20" r="2" fill="#A3CFFF"/>
<circle cx="40" cy="16" r="2" fill="#A3CFFF"/>
<circle cx="20" cy="32" r="2" fill="#007AFF"/>
<circle cx="20" cy="28" r="2" fill="#007AFF"/>
<circle cx="20" cy="24" r="2" fill="#007AFF"/>
<circle cx="20" cy="20" r="2" fill="#3897FF"/>
<circle cx="20" cy="16" r="2" fill="#3897FF"/>
<circle cx="24" cy="32" r="2" fill="#007AFF"/>
<circle cx="24" cy="28" r="2" fill="#007AFF"/>
<circle cx="24" cy="24" r="2" fill="#007AFF"/>
<circle cx="24" cy="20" r="2" fill="#3897FF"/>
<circle cx="24" cy="16" r="2" fill="#3897FF"/>
<circle cx="16" cy="32" r="2" fill="#3897FF"/>
<circle cx="16" cy="28" r="2" fill="#3897FF"/>
<circle cx="16" cy="24" r="2" fill="#3897FF"/>
<circle cx="32" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="32" cy="36" r="2" fill="#007AFF"/>
<circle cx="36" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="36" cy="36" r="2" fill="#007AFF"/>
<circle cx="28" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="28" cy="36" r="2" fill="#007AFF"/>
<circle cx="44" cy="44" r="2" fill="#3897FF"/>
<circle cx="48" cy="44" r="2" fill="#3897FF"/>
<circle cx="48" cy="40" r="2" fill="#3897FF"/>
<circle cx="52" cy="32" r="2" fill="#A3CFFF"/>
<circle cx="52" cy="16" r="2" fill="#E0EFFF"/>
<circle cx="56" cy="32" r="2" fill="#A3CFFF"/>
<circle cx="56" cy="28" r="2" fill="#A3CFFF"/>
<circle cx="56" cy="16" r="2" fill="#E0EFFF"/>
<circle cx="52" cy="36" r="2" fill="#A3CFFF"/>
<circle cx="56" cy="36" r="2" fill="#A3CFFF"/>
<circle cx="8" cy="16" r="2" fill="#E0EFFF"/>
<circle cx="12" cy="32" r="2" fill="#3897FF"/>
<circle cx="12" cy="28" r="2" fill="#3897FF"/>
<circle cx="28" cy="8" r="2" fill="#A3CFFF"/>
<circle cx="48" cy="12" r="2" fill="#E0EFFF"/>
<circle cx="48" cy="8" r="2" fill="#E0EFFF"/>
<circle cx="20" cy="12" r="2" fill="#A3CFFF"/>
<circle cx="24" cy="12" r="2" fill="#A3CFFF"/>
<circle cx="24" cy="8" r="2" fill="#A3CFFF"/>
<circle cx="52" cy="12" r="2" fill="#E0EFFF"/>
<circle cx="56" cy="12" r="2" fill="#E0EFFF"/>
<circle cx="56" cy="8" r="2" fill="#E0EFFF"/>
<circle cx="8" cy="12" r="2" fill="#E0EFFF"/>
<circle cx="12" cy="12" r="2" fill="#E0EFFF"/>
<circle cx="32" cy="56" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="32" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="36" cy="56" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="28" cy="56" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="28" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="44" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="40" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="20" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="24" cy="56" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="24" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="16" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="12" cy="52" r="2" fill="#007AFF" fill-opacity="0.12"/>
<circle cx="8" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="12" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="12" cy="44" r="2" fill="#3897FF"/>
<circle cx="40" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="20" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="20" cy="40" r="2" fill="#007AFF"/>
<circle cx="24" cy="36" r="2" fill="#007AFF"/>
<circle cx="16" cy="48" r="2" fill="#A3CFFF"/>
<circle cx="16" cy="40" r="2" fill="#3897FF"/>
<circle cx="16" cy="36" r="2" fill="#3897FF"/>
</svg>
`,lXe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="8" y="8" width="48" height="14" rx="3" fill="#007AFF"/>
<rect x="8" y="25" width="36" height="14" rx="3" fill="#007AFF"/>
<rect x="8" y="42" width="24" height="14" rx="3" fill="#007AFF"/>
</svg>
`,uXe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="48" y="48" width="8" height="8" rx="2" fill="#007AFF"/>
<rect x="48" y="38" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.78"/>
<rect x="48" y="28" width="8" height="8" rx="2" fill="#007AFF"/>
<rect x="48" y="18" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.5"/>
<rect x="48" y="8" width="8" height="8" rx="2" fill="#007AFF"/>
<rect x="38" y="48" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.96"/>
<rect x="38" y="38" width="8" height="8" rx="2" fill="#007AFF"/>
<rect x="38" y="28" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.63"/>
<rect x="38" y="18" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.36"/>
<rect x="38" y="8" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.64"/>
<rect x="28" y="48" width="8" height="8" rx="2" fill="#007AFF"/>
<rect x="28" y="38" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.45"/>
<rect x="28" y="28" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.28"/>
<rect x="28" y="18" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.8"/>
<rect x="28" y="8" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.7"/>
<rect x="18" y="48" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.27"/>
<rect x="18" y="38" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.46"/>
<rect x="18" y="28" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.74"/>
<rect x="18" y="18" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.96"/>
<rect x="18" y="8" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.82"/>
<rect x="8" y="48" width="8" height="8" rx="2" fill="#007AFF"/>
<rect x="8" y="38" width="8" height="8" rx="2" fill="#007AFF"/>
<rect x="8" y="28" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.33"/>
<rect x="8" y="18" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.12"/>
<rect x="8" y="8" width="8" height="8" rx="2" fill="#007AFF" fill-opacity="0.4"/>
</svg>
`,cXe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9 32L20 39L32 23.5L44 38L55 27" stroke="#34C759" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<rect x="9" y="9" width="46" height="46" stroke="black" stroke-opacity="0.2" stroke-width="2" stroke-dasharray="2 2"/>
<path d="M9 43L20 44L32 32.5L44 28L55 17" stroke="#007AFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`,fXe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<line x1="10.5" y1="37.5" x2="53.5" y2="37.5" stroke="black" stroke-width="3" stroke-linecap="round"/>
<line x1="10.5" y1="49.5" x2="53.5" y2="49.5" stroke="black" stroke-width="3" stroke-linecap="round"/>
<line x1="41.5" y1="25.5" x2="53.5" y2="25.5" stroke="black" stroke-width="3" stroke-linecap="round"/>
<path d="M10.2764 14.2031H12.3682L15.8662 23.8359L19.3555 14.2031H21.4561L16.7012 27H15.0225L10.2764 14.2031ZM9.22168 14.2031H11.2695L11.6387 23.0537V27H9.22168V14.2031ZM20.4541 14.2031H22.5107V27H20.0938V23.0537L20.4541 14.2031ZM28.7949 27H26.0352L26.0527 25.1016H28.7949C29.5391 25.1016 30.1631 24.9375 30.667 24.6094C31.1709 24.2754 31.5518 23.7979 31.8096 23.1768C32.0674 22.5498 32.1963 21.7998 32.1963 20.9268V20.2676C32.1963 19.5938 32.123 18.999 31.9766 18.4834C31.8301 17.9678 31.6133 17.5342 31.3262 17.1826C31.0449 16.8311 30.6963 16.5645 30.2803 16.3828C29.8643 16.2012 29.3867 16.1104 28.8477 16.1104H25.9824V14.2031H28.8477C29.7031 14.2031 30.4824 14.3467 31.1855 14.6338C31.8945 14.9209 32.5068 15.334 33.0225 15.873C33.5439 16.4062 33.9424 17.0449 34.2178 17.7891C34.499 18.5332 34.6396 19.3652 34.6396 20.2852V20.9268C34.6396 21.8408 34.499 22.6729 34.2178 23.4229C33.9424 24.167 33.5439 24.8057 33.0225 25.3389C32.5068 25.8721 31.8916 26.2822 31.1768 26.5693C30.4619 26.8564 29.668 27 28.7949 27ZM27.3887 14.2031V27H24.9717V14.2031H27.3887Z" fill="black"/>
</svg>
`,hXe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M24.5966 37L26.2869 26.8182H29.7273C30.5227 26.8182 31.1508 26.9607 31.6115 27.2457C32.0755 27.5308 32.3887 27.9169 32.5511 28.4041C32.7169 28.8913 32.75 29.4366 32.6506 30.0398C32.5511 30.6364 32.3374 31.1799 32.0092 31.6705C31.6844 32.161 31.2436 32.5521 30.6868 32.8438C30.1333 33.1354 29.4621 33.2812 28.6733 33.2812H26.2074L26.3864 32.1875H28.8125C29.3561 32.1875 29.8101 32.093 30.1747 31.9041C30.5393 31.7152 30.8243 31.4583 31.0298 31.1335C31.2353 30.8087 31.3712 30.4441 31.4375 30.0398C31.5038 29.6288 31.4872 29.2642 31.3878 28.946C31.2917 28.6245 31.0911 28.3726 30.7862 28.1903C30.4846 28.0047 30.0587 27.9119 29.5085 27.9119H27.3409L25.8295 37H24.5966ZM33.3105 37L34.5833 29.3636H35.7168L35.5179 30.517H35.5975C35.7963 30.1392 36.0996 29.8326 36.5073 29.5973C36.915 29.362 37.3475 29.2443 37.8049 29.2443C37.8944 29.2443 38.0021 29.246 38.128 29.2493C38.254 29.2493 38.3517 29.2543 38.4213 29.2642L38.2225 30.4574C38.1827 30.4474 38.0932 30.4325 37.954 30.4126C37.8148 30.3894 37.6657 30.3778 37.5066 30.3778C37.1354 30.3778 36.7923 30.4557 36.4775 30.6115C36.1626 30.764 35.8991 30.9761 35.687 31.2479C35.4748 31.5163 35.339 31.8229 35.2793 32.1676L34.4838 37H33.3105ZM41.4963 37.1591C40.7638 37.1591 40.1589 36.9967 39.6816 36.6719C39.2044 36.3438 38.8713 35.8864 38.6824 35.2997C38.4934 34.7098 38.4636 34.0237 38.5929 33.2415C38.7221 32.4593 38.979 31.7699 39.3635 31.1733C39.7479 30.5734 40.2269 30.1061 40.8002 29.7713C41.3736 29.4332 42.0034 29.2642 42.6895 29.2642C43.0872 29.2642 43.47 29.3305 43.8379 29.4631C44.2058 29.5956 44.524 29.8111 44.7924 30.1094C45.0609 30.4044 45.2482 30.7955 45.3542 31.2827C45.4603 31.7699 45.4537 32.3698 45.3343 33.0824L45.2548 33.5795H39.3684L39.5275 32.5653H44.2207C44.2969 32.1345 44.277 31.75 44.161 31.4119C44.0484 31.0739 43.8511 30.8071 43.5694 30.6115C43.291 30.416 42.938 30.3182 42.5105 30.3182C42.0697 30.3182 41.6587 30.4375 41.2775 30.6761C40.8964 30.9115 40.5782 31.2098 40.323 31.571C40.0678 31.929 39.9087 32.2936 39.8457 32.6648L39.7065 33.5398C39.6071 34.1728 39.622 34.6766 39.7512 35.0511C39.8838 35.4257 40.1142 35.6958 40.4423 35.8615C40.7704 36.0239 41.1814 36.1051 41.6752 36.1051C41.9901 36.1051 42.2801 36.062 42.5453 35.9759C42.8104 35.8864 43.0474 35.7538 43.2562 35.5781C43.465 35.3991 43.6407 35.1771 43.7832 34.9119L44.8571 35.2301C44.6748 35.6146 44.4179 35.9527 44.0865 36.2443C43.7583 36.5327 43.3739 36.758 42.9331 36.9205C42.4956 37.0795 42.0166 37.1591 41.4963 37.1591ZM49.3638 37.1591C48.7241 37.1591 48.1872 36.9983 47.753 36.6768C47.3188 36.352 47.0123 35.8946 46.8333 35.3047C46.6576 34.7114 46.6361 34.0104 46.7686 33.2017C46.9045 32.3996 47.1581 31.7036 47.5293 31.1136C47.9038 30.5237 48.3629 30.0679 48.9064 29.7464C49.45 29.425 50.0433 29.2642 50.6863 29.2642C51.1834 29.2642 51.5629 29.3471 51.8248 29.5128C52.0899 29.6752 52.2821 29.8608 52.4015 30.0696C52.5208 30.2751 52.6119 30.4441 52.6749 30.5767H52.7743L53.4007 26.8182H54.574L52.8837 37H51.7502L51.949 35.8267H51.8098C51.7005 35.9659 51.548 36.1416 51.3525 36.3537C51.1569 36.5625 50.8984 36.7498 50.5769 36.9155C50.2587 37.0779 49.8543 37.1591 49.3638 37.1591ZM49.6522 36.1051C50.1228 36.1051 50.5437 35.9825 50.915 35.7372C51.2895 35.4886 51.601 35.1456 51.8496 34.7081C52.0982 34.2673 52.2705 33.7585 52.3667 33.1818C52.4628 32.6117 52.4595 32.1129 52.3567 31.6854C52.254 31.2545 52.0568 30.9197 51.7651 30.6811C51.4734 30.4392 51.0873 30.3182 50.6067 30.3182C50.1129 30.3182 49.6837 30.4458 49.3191 30.701C48.9545 30.9529 48.6578 31.2959 48.4292 31.7301C48.2005 32.161 48.0414 32.6449 47.9519 33.1818C47.8624 33.7254 47.8607 34.2192 47.9469 34.6634C48.0331 35.1042 48.2154 35.4555 48.4938 35.7173C48.7755 35.9759 49.1616 36.1051 49.6522 36.1051Z" fill="#007AFF"/>
<path d="M24.5966 20L26.2869 9.81818H29.7273C30.5227 9.81818 31.1508 9.9607 31.6115 10.2457C32.0755 10.5308 32.3887 10.9169 32.5511 11.4041C32.7169 11.8913 32.75 12.4366 32.6506 13.0398C32.5511 13.6364 32.3374 14.1799 32.0092 14.6705C31.6844 15.161 31.2436 15.5521 30.6868 15.8438C30.1333 16.1354 29.4621 16.2812 28.6733 16.2812H26.2074L26.3864 15.1875H28.8125C29.3561 15.1875 29.8101 15.093 30.1747 14.9041C30.5393 14.7152 30.8243 14.4583 31.0298 14.1335C31.2353 13.8087 31.3712 13.4441 31.4375 13.0398C31.5038 12.6288 31.4872 12.2642 31.3878 11.946C31.2917 11.6245 31.0911 11.3726 30.7862 11.1903C30.4846 11.0047 30.0587 10.9119 29.5085 10.9119H27.3409L25.8295 20H24.5966ZM33.3105 20L34.5833 12.3636H35.7168L35.5179 13.517H35.5975C35.7963 13.1392 36.0996 12.8326 36.5073 12.5973C36.915 12.362 37.3475 12.2443 37.8049 12.2443C37.8944 12.2443 38.0021 12.246 38.128 12.2493C38.254 12.2493 38.3517 12.2543 38.4213 12.2642L38.2225 13.4574C38.1827 13.4474 38.0932 13.4325 37.954 13.4126C37.8148 13.3894 37.6657 13.3778 37.5066 13.3778C37.1354 13.3778 36.7923 13.4557 36.4775 13.6115C36.1626 13.764 35.8991 13.9761 35.687 14.2479C35.4748 14.5163 35.339 14.8229 35.2793 15.1676L34.4838 20H33.3105ZM41.4963 20.1591C40.7638 20.1591 40.1589 19.9967 39.6816 19.6719C39.2044 19.3438 38.8713 18.8864 38.6824 18.2997C38.4934 17.7098 38.4636 17.0237 38.5929 16.2415C38.7221 15.4593 38.979 14.7699 39.3635 14.1733C39.7479 13.5734 40.2269 13.1061 40.8002 12.7713C41.3736 12.4332 42.0034 12.2642 42.6895 12.2642C43.0872 12.2642 43.47 12.3305 43.8379 12.4631C44.2058 12.5956 44.524 12.8111 44.7924 13.1094C45.0609 13.4044 45.2482 13.7955 45.3542 14.2827C45.4603 14.7699 45.4537 15.3698 45.3343 16.0824L45.2548 16.5795H39.3684L39.5275 15.5653H44.2207C44.2969 15.1345 44.277 14.75 44.161 14.4119C44.0484 14.0739 43.8511 13.8071 43.5694 13.6115C43.291 13.416 42.938 13.3182 42.5105 13.3182C42.0697 13.3182 41.6587 13.4375 41.2775 13.6761C40.8964 13.9115 40.5782 14.2098 40.323 14.571C40.0678 14.929 39.9087 15.2936 39.8457 15.6648L39.7065 16.5398C39.6071 17.1728 39.622 17.6766 39.7512 18.0511C39.8838 18.4257 40.1142 18.6958 40.4423 18.8615C40.7704 19.0239 41.1814 19.1051 41.6752 19.1051C41.9901 19.1051 42.2801 19.062 42.5453 18.9759C42.8104 18.8864 43.0474 18.7538 43.2562 18.5781C43.465 18.3991 43.6407 18.1771 43.7832 17.9119L44.8571 18.2301C44.6748 18.6146 44.4179 18.9527 44.0865 19.2443C43.7583 19.5327 43.3739 19.758 42.9331 19.9205C42.4956 20.0795 42.0166 20.1591 41.4963 20.1591ZM49.3638 20.1591C48.7241 20.1591 48.1872 19.9983 47.753 19.6768C47.3188 19.352 47.0123 18.8946 46.8333 18.3047C46.6576 17.7114 46.6361 17.0104 46.7686 16.2017C46.9045 15.3996 47.1581 14.7036 47.5293 14.1136C47.9038 13.5237 48.3629 13.0679 48.9064 12.7464C49.45 12.425 50.0433 12.2642 50.6863 12.2642C51.1834 12.2642 51.5629 12.3471 51.8248 12.5128C52.0899 12.6752 52.2821 12.8608 52.4015 13.0696C52.5208 13.2751 52.6119 13.4441 52.6749 13.5767H52.7743L53.4007 9.81818H54.574L52.8837 20H51.7502L51.949 18.8267H51.8098C51.7005 18.9659 51.548 19.1416 51.3525 19.3537C51.1569 19.5625 50.8984 19.7498 50.5769 19.9155C50.2587 20.0779 49.8543 20.1591 49.3638 20.1591ZM49.6522 19.1051C50.1228 19.1051 50.5437 18.9825 50.915 18.7372C51.2895 18.4886 51.601 18.1456 51.8496 17.7081C52.0982 17.2673 52.2705 16.7585 52.3667 16.1818C52.4628 15.6117 52.4595 15.1129 52.3567 14.6854C52.254 14.2545 52.0568 13.9197 51.7651 13.6811C51.4734 13.4392 51.0873 13.3182 50.6067 13.3182C50.1129 13.3182 49.6837 13.4458 49.3191 13.701C48.9545 13.9529 48.6578 14.2959 48.4292 14.7301C48.2005 15.161 48.0414 15.6449 47.9519 16.1818C47.8624 16.7254 47.8607 17.2192 47.9469 17.6634C48.0331 18.1042 48.2154 18.4555 48.4938 18.7173C48.7755 18.9759 49.1616 19.1051 49.6522 19.1051Z" fill="#007AFF" fill-opacity="0.25"/>
<path d="M24.5966 54L26.2869 43.8182H29.7273C30.5227 43.8182 31.1508 43.9607 31.6115 44.2457C32.0755 44.5308 32.3887 44.9169 32.5511 45.4041C32.7169 45.8913 32.75 46.4366 32.6506 47.0398C32.5511 47.6364 32.3374 48.1799 32.0092 48.6705C31.6844 49.161 31.2436 49.5521 30.6868 49.8438C30.1333 50.1354 29.4621 50.2812 28.6733 50.2812H26.2074L26.3864 49.1875H28.8125C29.3561 49.1875 29.8101 49.093 30.1747 48.9041C30.5393 48.7152 30.8243 48.4583 31.0298 48.1335C31.2353 47.8087 31.3712 47.4441 31.4375 47.0398C31.5038 46.6288 31.4872 46.2642 31.3878 45.946C31.2917 45.6245 31.0911 45.3726 30.7862 45.1903C30.4846 45.0047 30.0587 44.9119 29.5085 44.9119H27.3409L25.8295 54H24.5966ZM33.3105 54L34.5833 46.3636H35.7168L35.5179 47.517H35.5975C35.7963 47.1392 36.0996 46.8326 36.5073 46.5973C36.915 46.362 37.3475 46.2443 37.8049 46.2443C37.8944 46.2443 38.0021 46.246 38.128 46.2493C38.254 46.2493 38.3517 46.2543 38.4213 46.2642L38.2225 47.4574C38.1827 47.4474 38.0932 47.4325 37.954 47.4126C37.8148 47.3894 37.6657 47.3778 37.5066 47.3778C37.1354 47.3778 36.7923 47.4557 36.4775 47.6115C36.1626 47.764 35.8991 47.9761 35.687 48.2479C35.4748 48.5163 35.339 48.8229 35.2793 49.1676L34.4838 54H33.3105ZM41.4963 54.1591C40.7638 54.1591 40.1589 53.9967 39.6816 53.6719C39.2044 53.3438 38.8713 52.8864 38.6824 52.2997C38.4934 51.7098 38.4636 51.0237 38.5929 50.2415C38.7221 49.4593 38.979 48.7699 39.3635 48.1733C39.7479 47.5734 40.2269 47.1061 40.8002 46.7713C41.3736 46.4332 42.0034 46.2642 42.6895 46.2642C43.0872 46.2642 43.47 46.3305 43.8379 46.4631C44.2058 46.5956 44.524 46.8111 44.7924 47.1094C45.0609 47.4044 45.2482 47.7955 45.3542 48.2827C45.4603 48.7699 45.4537 49.3698 45.3343 50.0824L45.2548 50.5795H39.3684L39.5275 49.5653H44.2207C44.2969 49.1345 44.277 48.75 44.161 48.4119C44.0484 48.0739 43.8511 47.8071 43.5694 47.6115C43.291 47.416 42.938 47.3182 42.5105 47.3182C42.0697 47.3182 41.6587 47.4375 41.2775 47.6761C40.8964 47.9115 40.5782 48.2098 40.323 48.571C40.0678 48.929 39.9087 49.2936 39.8457 49.6648L39.7065 50.5398C39.6071 51.1728 39.622 51.6766 39.7512 52.0511C39.8838 52.4257 40.1142 52.6958 40.4423 52.8615C40.7704 53.0239 41.1814 53.1051 41.6752 53.1051C41.9901 53.1051 42.2801 53.062 42.5453 52.9759C42.8104 52.8864 43.0474 52.7538 43.2562 52.5781C43.465 52.3991 43.6407 52.1771 43.7832 51.9119L44.8571 52.2301C44.6748 52.6146 44.4179 52.9527 44.0865 53.2443C43.7583 53.5327 43.3739 53.758 42.9331 53.9205C42.4956 54.0795 42.0166 54.1591 41.4963 54.1591ZM49.3638 54.1591C48.7241 54.1591 48.1872 53.9983 47.753 53.6768C47.3188 53.352 47.0123 52.8946 46.8333 52.3047C46.6576 51.7114 46.6361 51.0104 46.7686 50.2017C46.9045 49.3996 47.1581 48.7036 47.5293 48.1136C47.9038 47.5237 48.3629 47.0679 48.9064 46.7464C49.45 46.425 50.0433 46.2642 50.6863 46.2642C51.1834 46.2642 51.5629 46.3471 51.8248 46.5128C52.0899 46.6752 52.2821 46.8608 52.4015 47.0696C52.5208 47.2751 52.6119 47.4441 52.6749 47.5767H52.7743L53.4007 43.8182H54.574L52.8837 54H51.7502L51.949 52.8267H51.8098C51.7005 52.9659 51.548 53.1416 51.3525 53.3537C51.1569 53.5625 50.8984 53.7498 50.5769 53.9155C50.2587 54.0779 49.8543 54.1591 49.3638 54.1591ZM49.6522 53.1051C50.1228 53.1051 50.5437 52.9825 50.915 52.7372C51.2895 52.4886 51.601 52.1456 51.8496 51.7081C52.0982 51.2673 52.2705 50.7585 52.3667 50.1818C52.4628 49.6117 52.4595 49.1129 52.3567 48.6854C52.254 48.2545 52.0568 47.9197 51.7651 47.6811C51.4734 47.4392 51.0873 47.3182 50.6067 47.3182C50.1129 47.3182 49.6837 47.4458 49.3191 47.701C48.9545 47.9529 48.6578 48.2959 48.4292 48.7301C48.2005 49.161 48.0414 49.6449 47.9519 50.1818C47.8624 50.7254 47.8607 51.2192 47.9469 51.6634C48.0331 52.1042 48.2154 52.4555 48.4938 52.7173C48.7755 52.9759 49.1616 53.1051 49.6522 53.1051Z" fill="#007AFF" fill-opacity="0.25"/>
<rect x="9" y="10" width="10" height="10" rx="3" fill="#007AFF" fill-opacity="0.25"/>
<rect x="9" y="27" width="10" height="10" rx="3" fill="#007AFF"/>
<rect x="9" y="44" width="10" height="10" rx="3" fill="#007AFF" fill-opacity="0.25"/>
</svg>
`,dXe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M28.1666 45.7042C28.9268 45.8901 29.611 45.5001 29.8329 44.7506L36.9814 20.6115C37.1728 19.9366 36.8385 19.2589 36.0783 19.0547C35.3333 18.8689 34.6979 19.1477 34.4425 20.0235L27.3365 44.0276C27.1175 44.7804 27.3579 45.5001 28.1666 45.7042Z" fill="black"/>
<path d="M12 32.3568C12 32.7499 12.1764 33.1396 12.5046 33.4216L22.0655 41.9466C22.6825 42.4776 23.4794 42.4744 23.9719 41.9287C24.4765 41.3647 24.3975 40.5639 23.829 40.0662L15.214 32.3568L23.829 24.6476C24.3975 24.1496 24.4765 23.3488 23.9719 22.7851C23.4794 22.2391 22.6825 22.2362 22.0655 22.7669L12.5046 31.2922C12.1764 31.5742 12 31.9639 12 32.3568ZM52.1638 32.3568C52.1638 31.9639 52.0027 31.5742 51.6742 31.2922L42.1015 22.7669C41.481 22.2362 40.6997 22.2391 40.1948 22.7851C39.6871 23.3488 39.7663 24.1496 40.3378 24.6476L48.968 32.3568L40.3378 40.0662C39.7663 40.5639 39.6871 41.3647 40.1948 41.9287C40.6997 42.4744 41.481 42.4776 42.1015 41.9466L51.6742 33.4216C52.0027 33.1396 52.1638 32.7499 52.1638 32.3568Z" fill="black"/>
</svg>
`,pXe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 33H22V53C22 54.6569 20.6569 56 19 56H11C9.34315 56 8 54.6569 8 53V33Z" fill="#34C759"/>
<path d="M8 19C8 17.3431 9.34315 16 11 16H19C20.6569 16 22 17.3431 22 19V34H8V19Z" fill="#007AFF"/>
<path d="M25 39H39V53C39 54.6569 37.6569 56 36 56H28C26.3431 56 25 54.6569 25 53V39Z" fill="#34C759"/>
<path d="M42 32H56V53C56 54.6569 54.6569 56 53 56H45C43.3431 56 42 54.6569 42 53V32Z" fill="#34C759"/>
<path d="M25 29C25 27.3431 26.3431 26 28 26H36C37.6569 26 39 27.3431 39 29V40H25V29Z" fill="#3C82F6"/>
<path d="M42 16C42 14.3431 43.3431 13 45 13H53C54.6569 13 56 14.3431 56 16V33H42V16Z" fill="#007AFF"/>
</svg>
`,mXe=`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="8" y="32" width="14" height="24" rx="3" fill="#007AFF"/>
<rect x="25" y="12" width="14" height="44" rx="3" fill="#007AFF"/>
<rect x="42" y="24" width="14" height="32" rx="3" fill="#007AFF"/>
</svg>
`,gXe={"chart-boxplot":rXe,"chart-bubble":iXe,"chart-content-viewer":sXe,"chart-ecdf":oXe,"chart-embedding":aXe,"chart-h-bar":lXe,"chart-heatmap":uXe,"chart-line":cXe,"chart-markdown":fXe,"chart-predicates":hXe,"chart-spec":dXe,"chart-stacked":pXe,"chart-v-histogram":mXe};var yXe=ce('<div class="w-12 h-12"><!></div>');function bXe(t,e){Ke(e,!0);function n(s,o){s=s.replace("xmlns",'style="width:100%;height:100%" xmlns');let a=o=="dark"?{black:bf.slate[400]}:{black:bf.slate[500]};for(let l in a)s=s.replaceAll(l,a[l]);return s}var r=yXe(),i=H(r);Wq(i,()=>n(gXe[e.type]??"",e.colorScheme??"light")),W(r),j(t,r),Je()}var vXe=ce("<button><!></button>"),OXe=ce('<span class="text-slate-500 dark:text-slate-400 select-none"> </span> <!>',1),wXe=ce('<div class="w-full h-64"><!></div>'),_Xe=ce('<div class="w-full h-64"><!></div>'),xXe=ce("<!> <!> <!>",1),SXe=ce('<div class="border-t border-b border-dotted border-slate-400 dark:border-slate-500 py-2 my-1"><div class="-m-2 rounded-md"><!></div></div>'),kXe=ce("<div> </div>"),CXe=ce('<div class="flex flex-wrap gap-2"></div> <div class="select-none"> </div> <!> <!> <div><!></div> <!>',1);function AXe(t,e){Ke(e,!0);const n=()=>ki(o,"$colorScheme",r),[r,i]=za();let{columns:s,colorScheme:o}=e.context,a=BKe(),l=Ie(a[0]),u=Ie(gp({})),c=Ie(!1),f=Ie(null),h=Ie(null);or(()=>{w(l);let v=vs(()=>w(u)),O={};for(let x of w(l).ui)if("field"in x){let C=b(s,x.field.types),S=v[x.field.key];S!=null&&C.findIndex(({name:A})=>A==S)>=0&&(O[x.field.key]=S)}se(u,O,!0)}),or(()=>{try{let v=m();if(v==null){se(c,!1),se(h,null),se(f,null);return}let O=w(l).create(v,{table:e.context.table,id:e.context.id});se(c,O!=null),se(h,O),se(f,null)}catch(v){se(c,v.toString(),!0)}});function d(){w(h)!=null&&(e.onSpecChange(w(h),"replace"),e.onStateChange(w(f)??{},"replace"))}function m(){let v={...w(u)};for(let O of w(l).ui)if("field"in O){let x=g(v[O.field.key]);if(O.field.required&&x==null)return;v[O.field.key]=x}return v}function g(v){let O=s.find(x=>x.name==v);if(O==null)return null;switch(O.jsType){case"number":return{name:O.name,type:"continuous"};case"string":return{name:O.name,type:"discrete"};case"string[]":return{name:O.name,type:"discrete[]"};default:return{name:O.name,type:"unknown"}}}function b(v,O){return O==null?v:v.filter(x=>x.jsType!=null&&O.indexOf(x.jsType)>=0)}Ed(t,{get width(){return e.width},get height(){return e.height},scrollY:!0,class:"flex flex-col gap-2",children:(v,O)=>{var x=CXe(),C=Be(x);Zt(C,21,()=>a,Rn,(I,B)=>{const z=X(()=>w(l)==w(B));var Z=vXe();Z.__click=()=>{se(l,w(B))};let J;var ee=H(Z);bXe(ee,{get type(){return w(B).icon},get colorScheme(){return n()}}),W(Z),Pe(()=>{pe(Z,"title",w(B).description),J=ur(Z,1,"rounded-md border border-slate-200 dark:border-slate-700",null,J,{"!border-slate-600":w(z),"dark:!border-slate-400":w(z),"!bg-slate-100":w(z),"dark:!bg-slate-700":w(z)})}),j(I,Z)}),W(C);var S=ae(C,2),A=H(S,!0);W(S);var k=ae(S,2);Zt(k,17,()=>w(l).ui,Rn,(I,B)=>{var z=xXe(),Z=Be(z);{var J=le=>{const me=X(()=>w(B).field.key),oe=X(()=>(w(B).field.required?[]:[{value:void 0,label:"--"}]).concat(b(s,w(B).field.types).map(ke=>({value:ke.name,label:`${ke.name} (${ke.type})`}))));var De=OXe(),Ve=Be(De),Ne=H(Ve,!0);W(Ve);var Ae=ae(Ve,2);ll(Ae,{get value(){return w(u)[w(me)]},onChange:ke=>w(u)[w(me)]=ke,placeholder:"(select field)",class:"w-full",get options(){return w(oe)}}),Pe(()=>Tt(Ne,w(B).field.label)),j(le,De)};Oe(Z,le=>{"field"in w(B)&&le(J)})}var ee=ae(Z,2);{var ie=le=>{const me=X(()=>w(B).code.key);var oe=wXe(),De=H(oe);{let Ve=X(()=>w(B).code.language??"plain");m4(De,{class:"w-full h-full",get value(){return w(u)[w(me)]},onChange:Ne=>w(u)[w(me)]=Ne,get colorScheme(){return n()},get language(){return w(Ve)}})}W(oe),j(le,oe)};Oe(ee,le=>{"code"in w(B)&&le(ie)})}var K=ae(ee,2);{var fe=le=>{const me=X(()=>w(B).spec.key);var oe=_Xe(),De=H(oe);x9(De,{class:"w-full h-full",initialValue:{title:"Chart"},onChange:Ve=>w(u)[w(me)]=Ve,get colorScheme(){return n()}}),W(oe),j(le,oe)};Oe(K,le=>{"spec"in w(B)&&le(fe)})}j(I,z)});var T=ae(k,2);{var D=I=>{var B=At(),z=Be(B);cD(z,()=>w(h),Z=>{var J=SXe(),ee=H(J),ie=H(ee);{let K=X(()=>w(f)??{});Bie(ie,{get context(){return e.context},get spec(){return w(h)},get state(){return w(K)},width:"container",mode:"view",onStateChange:(fe,le="merge")=>{Vg(w(f)??{},fe,le,me=>se(f,me))},onSpecChange:(fe,le="merge")=>{Vg(w(h)??{},fe,le,me=>se(h,me))}})}W(ee),W(J),j(Z,J)}),j(I,B)};Oe(T,I=>{w(h)!=null&&w(l).preview!==!1&&I(D)})}var $=ae(T,2),M=H($);{let I=X(()=>w(c)!==!0);$P(M,{label:"Confirm",get disabled(){return w(I)},onClick:d})}W($);var L=ae($,2);{var R=I=>{var B=kXe(),z=H(B,!0);W(B),Pe(()=>Tt(z,w(c))),j(I,B)};Oe(L,I=>{typeof w(c)=="string"&&w(c).trim()!=""&&I(R)})}Pe(()=>Tt(A,w(l).description)),j(v,x)},$$slots:{default:!0}}),Je(),i()}Dr(["click"]);var EXe=Jt('<line class="stroke-orange-500"></line>'),TXe=Jt('<circle class="fill-orange-500 stroke-orange-700 stroke-2"></circle>'),DXe=Jt("<svg><g><!><!></g></svg>");function PXe(t,e){Ke(e,!0);var n=DXe(),r=H(n),i=H(r);{var s=a=>{const l=X(()=>e.proxy.location(e.center.x,e.center.y));var u=At(),c=Be(u);Zt(c,17,()=>e.points??[],Rn,(f,h)=>{const d=X(()=>e.proxy.location(w(h).x,w(h).y));var m=EXe();Pe(()=>{pe(m,"x1",w(l).x),pe(m,"y1",w(l).y),pe(m,"x2",w(d).x),pe(m,"y2",w(d).y)}),j(f,m)}),j(a,u)};Oe(i,a=>{e.center!=null&&a(s)})}var o=ae(i);Zt(o,17,()=>e.points??[],Rn,(a,l)=>{const u=X(()=>e.proxy.location(w(l).x,w(l).y));var c=TXe();pe(c,"r",4),Pe(()=>{pe(c,"cx",w(u).x),pe(c,"cy",w(u).y)}),j(a,c)}),W(r),W(n),Pe(()=>{pe(n,"width",e.proxy.width),pe(n,"height",e.proxy.height)}),j(t,n),Je()}var RXe=ce('<div class="flex flex-col"><div class="text-slate-400 dark:text-slate-400 font-medium text-xs"> </div> <div><!></div></div>'),$Xe=ce('<div class="px-2 flex items-center gap-2 border border-slate-200 dark:border-slate-700 bg-slate-100/25 dark:bg-slate-700/25 text-slate-700 dark:text-slate-300 rounded-md"><div class="text-slate-400 dark:text-slate-400 font-medium text-sm"> </div> <div class="text-ellipsis whitespace-nowrap overflow-hidden max-w-72"><!></div></div>'),IXe=ce('<div class="flex flex-col gap-2"><!> <div class="flex-none flex flex-row gap-1 flex-wrap items-start"></div></div>');function zie(t,e){Ke(e,!0);let n=X(()=>Object.keys(e.columnStyles).filter(a=>e.columnStyles[a].display=="full")),r=X(()=>Object.keys(e.columnStyles).filter(a=>e.columnStyles[a].display=="badge"));var i=IXe(),s=H(i);Zt(s,17,()=>w(n),Rn,(a,l)=>{const u=X(()=>e.values[w(l)]);var c=RXe(),f=H(c),h=H(f,!0);W(f);var d=ae(f,2),m=H(d);cT(m,{get value(){return w(u)},get renderer(){return e.columnStyles[w(l)].renderer},get rendererOptions(){return e.columnStyles[w(l)].rendererOptions}}),W(d),W(c),Pe(()=>Tt(h,w(l))),j(a,c)});var o=ae(s,2);Zt(o,21,()=>w(r),Rn,(a,l)=>{const u=X(()=>e.values[w(l)]);var c=$Xe(),f=H(c),h=H(f,!0);W(f);var d=ae(f,2),m=H(d);cT(m,{get value(){return w(u)}}),W(d),W(c),Pe(g=>{Tt(h,w(l)),pe(d,"title",g)},[()=>M9(w(u))]),j(a,c)}),W(o),W(i),j(t,i),Je()}var FXe=ce('<div><button class="text-sm flex gap-0.5 items-center text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-300"><!> Nearest Neighbors</button></div>'),MXe=ce('<div class="embedding-atlas-root"><div><!> <!></div></div>');function LXe(t,e){Ke(e,!0);var n=MXe(),r=H(n);let i;ot(r,"",{},{"max-width":"400px","max-height":"300px"});var s=H(r);{let l=X(()=>e.tooltip.fields??{}),u=X(()=>e.columnStyles??{});zie(s,{get values(){return w(l)},get columnStyles(){return w(u)}})}var o=ae(s,2);{var a=l=>{var u=FXe(),c=H(u);c.__click=()=>{e.onNearestNeighborSearch?.(e.tooltip.identifier)};var f=H(c);kIe(f,{}),Kp(),W(c),W(u),j(l,u)};Oe(o,l=>{e.onNearestNeighborSearch&&l(a)})}W(r),W(n),Pe(()=>i=ur(r,1,"p-2 border flex flex-col gap-2 border-slate-300 dark:border-slate-600 shadow-md text-slate-700 dark:text-slate-300 rounded-md text-ellipsis overflow-x-hidden overflow-y-scroll bg-white/75 dark:bg-slate-800/75 backdrop-blur-sm",null,i,{dark:e.colorScheme=="dark"})),j(t,n),Je()}Dr(["click"]);function Uie(t){return class{component;constructor(e,n){this.component=i0e({component:t,target:e,props:n})}update(e){this.component.$set(e)}destroy(){this.component.$destroy()}}}var NXe=ce("<div></div>");function QXe(t,e){Ke(e,!0);let n=Xr(e,["$$slots","$$events","$$legacy"]),r;kO(()=>{let s=new bVe(r,n);su(()=>{s.update(n)}),fk(()=>{s.destroy()})});var i=NXe();ot(i,"",{},{display:"flex"}),Ol(i,s=>r=s,()=>r),j(t,i),Je()}function jie(t){const e=t-1;return e*e*e+1}var BXe=ce('<span class="flex h-5 items-center"> </span>'),zXe=ce("<button><!> <!></button>");function wx(t,e){Ke(e,!0);let n=ht(e,"title",3,""),r=ht(e,"checked",15),i=ht(e,"label",3,null),s=ht(e,"icon",3,null);var o=zXe();let a;o.__click=()=>{r(!r())};var l=H(o);{var u=h=>{const d=X(s);var m=At(),g=Be(m);Zf(g,()=>w(d),(b,v)=>{v(b,{class:"w-5 h-5"})}),j(h,m)};Oe(l,h=>{s()!=null&&h(u)})}var c=ae(l,2);{var f=h=>{var d=BXe(),m=H(d,!0);W(d),Pe(()=>Tt(m,i())),j(h,d)};Oe(c,h=>{i()!=null&&h(f)})}W(o),Pe(()=>{a=ur(o,1,"rounded-md px-1.5 py-1.5 bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 flex select-none items-center focus-visible:outline-2 outline-blue-600 -outline-offset-1",null,a,{"text-slate-400":!r(),"dark:text-slate-500":!r()}),pe(o,"title",n())}),j(t,o),Je()}Dr(["click"]);const q3=Math.min,Wp=Math.max,V3=Math.round,w_=Math.floor,yc=t=>({x:t,y:t});function NU(t,e,n){return Wp(t,q3(e,n))}function wR(t,e){return typeof t=="function"?t(e):t}function I4(t){return t.split("-")[0]}function qie(t){return t.split("-")[1]}function Vie(t){return t==="x"?"y":"x"}function UXe(t){return t==="y"?"height":"width"}const jXe=new Set(["top","bottom"]);function F4(t){return jXe.has(I4(t))?"y":"x"}function qXe(t){return Vie(F4(t))}function VXe(t){return{top:0,right:0,bottom:0,left:0,...t}}function XXe(t){return typeof t!="number"?VXe(t):{top:t,right:t,bottom:t,left:t}}function X3(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function QU(t,e,n){let{reference:r,floating:i}=t;const s=F4(e),o=qXe(e),a=UXe(o),l=I4(e),u=s==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let d;switch(l){case"top":d={x:c,y:r.y-i.height};break;case"bottom":d={x:c,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:f};break;case"left":d={x:r.x-i.width,y:f};break;default:d={x:r.x,y:r.y}}switch(qie(e)){case"start":d[o]-=h*(n&&u?-1:1);break;case"end":d[o]+=h*(n&&u?-1:1);break}return d}const ZXe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:f}=QU(u,r,l),h=r,d={},m=0;for(let g=0;g<a.length;g++){const{name:b,fn:v}=a[g],{x:O,y:x,data:C,reset:S}=await v({x:c,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:d,rects:u,platform:o,elements:{reference:t,floating:e}});c=O??c,f=x??f,d={...d,[b]:{...d[b],...C}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:c,y:f}=QU(u,h,l)),g=-1)}return{x:c,y:f,placement:h,strategy:i,middlewareData:d}};async function WXe(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:h=!1,padding:d=0}=wR(e,t),m=XXe(d),b=a[h?f==="floating"?"reference":"floating":f],v=X3(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),O=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),C=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},S=X3(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:O,offsetParent:x,strategy:l}):O);return{top:(v.top-S.top+m.top)/C.y,bottom:(S.bottom-v.bottom+m.bottom)/C.y,left:(v.left-S.left+m.left)/C.x,right:(S.right-v.right+m.right)/C.x}}const YXe=new Set(["left","top"]);async function GXe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=I4(n),a=qie(n),l=F4(n)==="y",u=YXe.has(o)?-1:1,c=s&&l?-1:1,f=wR(e,t);let{mainAxis:h,crossAxis:d,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof m=="number"&&(d=a==="end"?m*-1:m),l?{x:d*c,y:h*u}:{x:h*u,y:d*c}}const HXe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await GXe(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},KXe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:v,y:O}=b;return{x:v,y:O}}},...l}=wR(t,e),u={x:n,y:r},c=await WXe(e,l),f=F4(I4(i)),h=Vie(f);let d=u[h],m=u[f];if(s){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",O=d+c[b],x=d-c[v];d=NU(O,d,x)}if(o){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",O=m+c[b],x=m-c[v];m=NU(O,m,x)}const g=a.fn({...e,[h]:d,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[f]:o}}}}}};function M4(){return typeof window<"u"}function sy(t){return Xie(t)?(t.nodeName||"").toLowerCase():"#document"}function Ma(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qc(t){var e;return(e=(Xie(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Xie(t){return M4()?t instanceof Node||t instanceof Ma(t).Node:!1}function fu(t){return M4()?t instanceof Element||t instanceof Ma(t).Element:!1}function Dc(t){return M4()?t instanceof HTMLElement||t instanceof Ma(t).HTMLElement:!1}function BU(t){return!M4()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ma(t).ShadowRoot}const JXe=new Set(["inline","contents"]);function f2(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=hu(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!JXe.has(i)}const eZe=new Set(["table","td","th"]);function tZe(t){return eZe.has(sy(t))}const nZe=[":popover-open",":modal"];function L4(t){return nZe.some(e=>{try{return t.matches(e)}catch{return!1}})}const rZe=["transform","translate","scale","rotate","perspective"],iZe=["transform","translate","scale","rotate","perspective","filter"],sZe=["paint","layout","strict","content"];function _R(t){const e=xR(),n=fu(t)?hu(t):t;return rZe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||iZe.some(r=>(n.willChange||"").includes(r))||sZe.some(r=>(n.contain||"").includes(r))}function oZe(t){let e=Td(t);for(;Dc(e)&&!O1(e);){if(_R(e))return e;if(L4(e))return null;e=Td(e)}return null}function xR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const aZe=new Set(["html","body","#document"]);function O1(t){return aZe.has(sy(t))}function hu(t){return Ma(t).getComputedStyle(t)}function N4(t){return fu(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Td(t){if(sy(t)==="html")return t;const e=t.assignedSlot||t.parentNode||BU(t)&&t.host||qc(t);return BU(e)?e.host:e}function Zie(t){const e=Td(t);return O1(e)?t.ownerDocument?t.ownerDocument.body:t.body:Dc(e)&&f2(e)?e:Zie(e)}function mO(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Zie(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ma(i);if(s){const a=FT(o);return e.concat(o,o.visualViewport||[],f2(i)?i:[],a&&n?mO(a):[])}return e.concat(i,mO(i,[],n))}function FT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Wie(t){const e=hu(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Dc(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=V3(n)!==s||V3(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function SR(t){return fu(t)?t:t.contextElement}function kg(t){const e=SR(t);if(!Dc(e))return yc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Wie(e);let o=(s?V3(n.width):n.width)/r,a=(s?V3(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const lZe=yc(0);function Yie(t){const e=Ma(t);return!xR()||!e.visualViewport?lZe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uZe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ma(t)?!1:e}function y0(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=SR(t);let o=yc(1);e&&(r?fu(r)&&(o=kg(r)):o=kg(t));const a=uZe(s,n,r)?Yie(s):yc(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(s){const h=Ma(s),d=r&&fu(r)?Ma(r):r;let m=h,g=FT(m);for(;g&&r&&d!==m;){const b=kg(g),v=g.getBoundingClientRect(),O=hu(g),x=v.left+(g.clientLeft+parseFloat(O.paddingLeft))*b.x,C=v.top+(g.clientTop+parseFloat(O.paddingTop))*b.y;l*=b.x,u*=b.y,c*=b.x,f*=b.y,l+=x,u+=C,m=Ma(g),g=FT(m)}}return X3({width:c,height:f,x:l,y:u})}function Q4(t,e){const n=N4(t).scrollLeft;return e?e.left+n:y0(qc(t)).left+n}function Gie(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Q4(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function cZe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=qc(r),a=e?L4(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=yc(1);const c=yc(0),f=Dc(r);if((f||!f&&!s)&&((sy(r)!=="body"||f2(o))&&(l=N4(r)),Dc(r))){const d=y0(r);u=kg(r),c.x=d.x+r.clientLeft,c.y=d.y+r.clientTop}const h=o&&!f&&!s?Gie(o,l):yc(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+h.x,y:n.y*u.y-l.scrollTop*u.y+c.y+h.y}}function fZe(t){return Array.from(t.getClientRects())}function hZe(t){const e=qc(t),n=N4(t),r=t.ownerDocument.body,i=Wp(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Wp(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Q4(t);const a=-n.scrollTop;return hu(r).direction==="rtl"&&(o+=Wp(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}const zU=25;function dZe(t,e){const n=Ma(t),r=qc(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=xR();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=Q4(r);if(u<=0){const c=r.ownerDocument,f=c.body,h=getComputedStyle(f),d=c.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,m=Math.abs(r.clientWidth-f.clientWidth-d);m<=zU&&(s-=m)}else u<=zU&&(s+=u);return{width:s,height:o,x:a,y:l}}const pZe=new Set(["absolute","fixed"]);function mZe(t,e){const n=y0(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Dc(t)?kg(t):yc(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function UU(t,e,n){let r;if(e==="viewport")r=dZe(t,n);else if(e==="document")r=hZe(qc(t));else if(fu(e))r=mZe(e,n);else{const i=Yie(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return X3(r)}function Hie(t,e){const n=Td(t);return n===e||!fu(n)||O1(n)?!1:hu(n).position==="fixed"||Hie(n,e)}function gZe(t,e){const n=e.get(t);if(n)return n;let r=mO(t,[],!1).filter(a=>fu(a)&&sy(a)!=="body"),i=null;const s=hu(t).position==="fixed";let o=s?Td(t):t;for(;fu(o)&&!O1(o);){const a=hu(o),l=_R(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&pZe.has(i.position)||f2(o)&&!l&&Hie(t,o))?r=r.filter(c=>c!==o):i=a,o=Td(o)}return e.set(t,r),r}function yZe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?L4(e)?[]:gZe(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const f=UU(e,c,i);return u.top=Wp(f.top,u.top),u.right=q3(f.right,u.right),u.bottom=q3(f.bottom,u.bottom),u.left=Wp(f.left,u.left),u},UU(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bZe(t){const{width:e,height:n}=Wie(t);return{width:e,height:n}}function vZe(t,e,n){const r=Dc(e),i=qc(e),s=n==="fixed",o=y0(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=yc(0);function u(){l.x=Q4(i)}if(r||!r&&!s)if((sy(e)!=="body"||f2(i))&&(a=N4(e)),r){const d=y0(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else i&&u();s&&!r&&i&&u();const c=i&&!r&&!s?Gie(i,a):yc(0),f=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:f,y:h,width:o.width,height:o.height}}function mA(t){return hu(t).position==="static"}function jU(t,e){if(!Dc(t)||hu(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return qc(t)===n&&(n=n.ownerDocument.body),n}function Kie(t,e){const n=Ma(t);if(L4(t))return n;if(!Dc(t)){let i=Td(t);for(;i&&!O1(i);){if(fu(i)&&!mA(i))return i;i=Td(i)}return n}let r=jU(t,e);for(;r&&tZe(r)&&mA(r);)r=jU(r,e);return r&&O1(r)&&mA(r)&&!_R(r)?n:r||oZe(t)||n}const OZe=async function(t){const e=this.getOffsetParent||Kie,n=this.getDimensions,r=await n(t.floating);return{reference:vZe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wZe(t){return hu(t).direction==="rtl"}const _Ze={convertOffsetParentRelativeRectToViewportRelativeRect:cZe,getDocumentElement:qc,getClippingRect:yZe,getOffsetParent:Kie,getElementRects:OZe,getClientRects:fZe,getDimensions:bZe,getScale:kg,isElement:fu,isRTL:wZe};function Jie(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function xZe(t,e){let n=null,r;const i=qc(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:c,top:f,width:h,height:d}=u;if(a||e(),!h||!d)return;const m=w_(f),g=w_(i.clientWidth-(c+h)),b=w_(i.clientHeight-(f+d)),v=w_(c),x={rootMargin:-m+"px "+-g+"px "+-b+"px "+-v+"px",threshold:Wp(0,q3(1,l))||1};let C=!0;function S(A){const k=A[0].intersectionRatio;if(k!==l){if(!C)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!Jie(u,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(t)}return o(!0),s}function SZe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=SR(t),c=i||s?[...u?mO(u):[],...mO(e)]:[];c.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&a?xZe(u,n):null;let h=-1,d=null;o&&(d=new ResizeObserver(v=>{let[O]=v;O&&O.target===u&&d&&(d.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=d)==null||x.observe(e)})),n()}),u&&!l&&d.observe(u),d.observe(e));let m,g=l?y0(t):null;l&&b();function b(){const v=y0(t);g&&!Jie(g,v)&&n(),g=v,m=requestAnimationFrame(b)}return n(),()=>{var v;c.forEach(O=>{i&&O.removeEventListener("scroll",n),s&&O.removeEventListener("resize",n)}),f?.(),(v=d)==null||v.disconnect(),d=null,l&&cancelAnimationFrame(m)}}const kZe=HXe,CZe=KXe,AZe=(t,e,n)=>{const r=new Map,i={platform:_Ze,...n},s={...i.platform,_c:r};return ZXe(t,e,{...i,platform:s})};var EZe=ce('<div class="relative"><!> <div class="absolute px-3 py-3 rounded-md z-20 bg-slate-100 dark:bg-slate-800 border border-slate-300 dark:border-slate-700 shadow-lg" popover=""><!></div></div>');function ese(t,e){Ke(e,!0);let n=ht(e,"title",3,""),r=ht(e,"label",3,null),i=ht(e,"icon",3,null);ht(e,"anchor",3,"right");let s=Ie(!1),o;function a(d){w(s)&&d.key=="Escape"&&(se(s,!1),d.stopPropagation())}let l;su(()=>{w(s)&&su(()=>{l.showPopover();function d(){AZe(o,l,{placement:"bottom",middleware:[kZe(3),CZe()]}).then(({x:m,y:g})=>{l.style.left=m+"px",l.style.top=g+"px"})}return SZe(o,l,d)})});var u=EZe();u.__keydown=a;var c=H(u);wx(c,{get icon(){return i()},get title(){return n()},get label(){return r()},get checked(){return w(s)},set checked(d){se(s,d,!0)}});var f=ae(c,2);ot(f,"",{},{width:"max-content"});var h=H(f);vc(h,()=>e.children??yr),W(f),Ol(f,d=>l=d,()=>l),W(u),Ol(u,d=>o=d,()=>o),Qp("toggle",f,d=>{d.newState=="closed"&&se(s,!1)}),j(t,u),Je()}Dr(["keydown"]);var TZe=ce('<div class="group relative" role="slider" tabindex="0"><div class="bg-slate-400 dark:bg-slate-500 rounded-full absolute"></div> <div class="bg-blue-500 rounded-full absolute group-hover:bg-blue-600 dark:group-hover:bg-blue-400"></div></div>');function MT(t,e){Ke(e,!0);let n=ht(e,"value",15,0),r=ht(e,"min",3,0),i=ht(e,"max",3,100),s=ht(e,"step",3,void 0),o=ht(e,"width",3,100),a=15,l=X(()=>S=>(S-r())/(i()-r())*(o()-a)),u=X(()=>S=>S/(o()-a)*(i()-r())+r()),c=X(()=>w(l)(n())),f=Ie(void 0);function h(S){let A=w(u)(S-a/2);A=Math.max(r(),Math.min(i(),A)),s()!=null&&(A=Math.round(A/s())*s()),n(A)}function d(S){h(S.clientX-w(f).getBoundingClientRect().left);let A=T=>{h(T.clientX-w(f).getBoundingClientRect().left)},k=()=>{window.removeEventListener("mousemove",A),window.removeEventListener("mouseup",k)};window.addEventListener("mousemove",A),window.addEventListener("mouseup",k)}function m(S){S.key=="ArrowLeft"?n(Math.max(n()-(s()??1),r())):S.key=="ArrowRight"&&n(Math.min(n()+(s()??1),i()))}var g=TZe();g.__mousedown=d,g.__keydown=m;let b;var v=H(g);let O;var x=ae(v,2);let C;W(g),Ol(g,S=>se(f,S),()=>w(f)),Pe(()=>{pe(g,"aria-valuenow",n()),pe(g,"aria-valuemin",r()),pe(g,"aria-valuemax",i()),b=ot(g,"",b,{width:`${o()??""}px`,height:"28px"}),O=ot(v,"",O,{left:"0px",top:"12px",width:`${o()??""}px`,height:"4px"}),C=ot(x,"",C,{left:`${w(c)??""}px`,top:"6.5px",width:"15px",height:"15px"})}),j(t,g),Je()}Dr(["mousedown","keydown"]);var DZe=ce('<tr><td class="first:rounded-tl-md first:rounded-bl-md"><div class="block w-4 h-4 mx-2 rounded-full"></div></td><td><div class="whitespace-nowrap nowrap max-w-72 text-ellipsis overflow-hidden"> </div></td><td class="text-slate-400 px-2 text-xs text-right last:rounded-tr-md last:rounded-br-md" title="Count"> </td></tr>'),PZe=ce("<table><tbody></tbody></table>");function RZe(t,e){Ke(e,!0);let n=X(()=>{let l=new Set(e.state.selection??[]);return new Set(e.spec.items.filter(u=>l.has(u.label)))});class r extends hk{reset(){e.onStateChange({selection:void 0})}}const i=new r;function s(l,u){let c=new Set(e.state.selection??[]);u.shiftKey||u.metaKey?(c.has(l.label)?c.delete(l.label):c.add(l.label),e.onStateChange({selection:Array.from(c)})):c.has(l.label)&&c.size==1?e.onStateChange({selection:void 0}):e.onStateChange({selection:[l.label]})}or(()=>(or(()=>{let l=new Set(e.state.selection??[]),u=e.spec.items.filter(h=>l.has(h.label)),c=u.length!=0?uc(u.map(h=>h.predicate)):null,f={source:i,clients:new Set([i]),value:u.length==0?null:u,predicate:c};e.context.filter.update(f)}),()=>{e.context.filter.update({source:i,clients:new Set([i]),value:null,predicate:null})}));var o=PZe(),a=H(o);Zt(a,21,()=>e.spec.items,Rn,(l,u)=>{const c=X(()=>w(n).has(w(u))||w(n).size==0);var f=DZe();let h;f.__click=S=>{s(w(u),S)};var d=H(f),m=H(d);let g;W(d);var b=ae(d),v=H(b),O=H(v,!0);W(v),W(b);var x=ae(b),C=H(x,!0);W(x),W(f),Pe(S=>{h=ur(f,1,"hover:bg-slate-200 dark:hover:bg-slate-700 select-none leading-7",null,h,{"opacity-20":!w(c)}),g=ot(m,"",g,{"background-color":w(u).color}),pe(v,"title",w(u).label),Tt(O,w(u).label),Tt(C,S)},[()=>w(u).count.toLocaleString()]),j(l,f)}),W(a),W(o),j(t,o),Je()}Dr(["click"]);function tse(t){let e=0;function n(r){e+=1;try{r()}finally{e-=1}}return{set(r){n(()=>{t.set(r)})},update(r){n(()=>{t.update(r)})},subscribe(r){return t.subscribe(i=>{e==0&&r(i)})}}}async function $Ze(t,e,n){if(n==null)return null;let[r]=Array.from(await t.query(lt.describe(lt.from(e).select(n))));if(r==null)return null;let i=cO(r.column_type);return i=="string"?await qU(t,e,n,10):i=="number"?await vre(t,e,n)<=10?await qU(t,e,n,10):await IZe(t,e,n):null}async function qU(t,e,n,r){let i=`_ev_${n}_id`,s=Array.from(await t.query(lt.from(e).select({value:hi(be(n),"TEXT"),count:_i()}).where(lv(Mf(hi(be(n),"TEXT")))).groupby(hi(be(n),"TEXT")).orderby(EO(_i())).limit(r))),o=s.length,a=s.length+1;await t.exec(`
    ALTER TABLE ${e} ADD COLUMN IF NOT EXISTS ${be(i)} INTEGER DEFAULT 0;
    UPDATE ${e}
    SET ${be(i)} = CASE ${be(n)}::TEXT
          ${s.map(({value:m},g)=>Pt`WHEN ${et(m)} THEN ${et(g)}`).join(" ")}
          ELSE (CASE WHEN ${be(n)} IS NULL THEN ${et(a)} ELSE ${et(o)} END) END
  `);let l=Array.from(await t.query(lt.from(e).select({index:be(i),count:hi(_i(),"INT")}).groupby(be(i)))),u=new Map;for(let m of l)u.set(m.index,m.count);let c=u.get(o)??0,f=u.get(a)??0,h=g0(s.length),d=s.map(({value:m},g)=>({label:m,color:h[g],predicate:Sa(hi(be(n),"TEXT"),et(m)),count:u.get(g)??0}));if(c>0){let{otherCategoryCount:m}=(await t.query(`
        SELECT COUNT(DISTINCT(${be(n)}::TEXT)) AS otherCategoryCount
        FROM ${e}
        WHERE ${be(i)} = ${et(o)} AND ${be(n)} IS NOT NULL
    `)).get(0);d.push({label:`(other ${m.toLocaleString()})`,color:"#9eabc2",predicate:s.length>0?Pt`${be(n)} IS NOT NULL AND ${be(n)}::TEXT NOT IN (${s.map(g=>et(g.value)).join(",")})`:Pt`${be(n)} IS NOT NULL`,count:c})}return f>0&&(c<=0&&(await t.exec(`
          UPDATE ${e}
          SET ${be(i)} = ${be(i)} - 1 WHERE ${be(i)} = ${et(a)}
        `),a-=1),d.push({label:"(null)",color:"#aaaaaa",predicate:Mf(be(n)),count:f})),{indexColumn:i,legend:d}}async function IZe(t,e,n){let r=(await t.query(lt.from(e).select({count:_i(),min:Lg(be(n)),max:AO(be(n)),mean:Bx(be(n)),median:JD(be(n))}).where(Kh(be(n))))).get(0),i=Ore(r),s=`_ev_${n}_id`,o=hi(be(n),"DOUBLE");o=i.scale.expr(o,i.scale.constant??0);let a=vp(Kh(hi(be(n),"DOUBLE")),Ux(Ci(Fi(o,i.binStart),1/i.binSize)),et(null));await t.exec(`
    ALTER TABLE ${e} ADD COLUMN IF NOT EXISTS ${be(s)} INTEGER DEFAULT 0;
    UPDATE ${e}
    SET ${be(s)} = ${a}
  `);let l=Array.from(await t.query(`
      SELECT ${be(s)} AS index, COUNT(*)::INT AS count
      FROM ${e}
      GROUP BY ${be(s)}
      ORDER BY ${be(s)} ASC
    `)),u=null,c=null,f=new Map,h=g=>i.scale.reverse(g,i.scale.constant??0);for(let{index:g,count:b}of l)g!=null&&((u==null||g<u)&&(u=g),(c==null||g>c)&&(c=g)),f.set(g,b);let d=[],m=R0(".6");if(u!=null&&c!=null){let g=xVe(c-u+1);for(let b=u;b<=c;b++){let v=h(b*i.binSize+i.binStart),O=h((b+1)*i.binSize+i.binStart);d.push({label:`[${m(v)}, ${m(O)})`,color:g[b-u],predicate:Sa(a,et(b)),count:f.get(b)??0})}}if(f.has(null)){let g=d.length;await t.exec(`
        UPDATE ${e}
        SET ${be(s)} = ${et(g)}
        WHERE ${be(s)} IS NULL
      `),d.push({label:"(null / nan / inf)",color:"#aaaaaa",predicate:Mf(a),count:f.get(null)??0})}return{indexColumn:s,legend:d}}function __(t,e,n){return t+(e-t)*n}function FZe(t,e,n){let r=Math.log(t.scale),i=Math.log(e.scale);if(Math.abs(i-r)<1e-5)return{x:__(t.x,e.x,n),y:__(t.y,e.y,n),scale:__(t.scale,e.scale,n)};let s=Math.exp(__(r,i,n));return{x:(e.x*e.scale-t.x*t.scale+(t.x-e.x)*(t.scale*e.scale/s))/(e.scale-t.scale),y:(e.y*e.scale-t.y*t.scale+(t.y-e.y)*(t.scale*e.scale/s))/(e.scale-t.scale),scale:s}}async function MZe(t,e,n,r){let{stdX:i,stdY:s}=(await t.query(lt.from(e).select({stdX:Pt`STDDEV(${be(n)})::FLOAT`,stdY:Pt`STDDEV(${be(r)})::FLOAT`}))).get(0);return 1/(Math.max(i,s,.001)*3)}const LZe=Uie(LXe),NZe=Uie(PXe);var QZe=ce('<div class="flex-none m-2 p-2 rounded-md bg-slate-100/75 dark:bg-slate-800/75 backdrop-blur-sm pointer-events-auto order-3"><!></div>'),BZe=ce('<div class="flex flex-col gap-2 w-64"><div class="text-slate-500 dark:text-slate-400 select-none">Display Mode</div> <div class="flex gap-2 items-center"><!> <!></div> <div class="text-slate-500 dark:text-slate-400 select-none">Point Size</div> <div class="flex gap-2 items-center"><!> <!></div></div>'),zZe=ce('<div class="relative"><!> <div class="absolute top-0 left-0 right-0 flex flex-wrap justify-between items-start pointer-events-none"><!> <div class="flex-none p-2 rounded-ss-md rounded-ee-md bg-white/75 dark:bg-black/75 backdrop-blur-sm flex items-center gap-2 pointer-events-auto order-1"><!> <!></div></div></div>');function UZe(t,e){Ke(e,!0);const n=()=>ki(l,"$colorScheme",i),r=()=>ki(u,"$columnStyles",i),[i,s]=za(),o=Math.min(20,vVe()),a=1/16;let{colorScheme:l,columnStyles:u,searchResult:c}=e.context,f=tse(e.context.highlight),h=X(()=>e.spec.data.category),d=Ie(null),m=Ie(null),g=Ie(null),b=Ie(null);or(()=>{e.context.cache.value(`embedding/category/${w(h)}`,()=>$Ze(e.context.coordinator,e.context.table,w(h))).then(I=>{se(d,I),(w(d)?.legend.length??0)>o&&e.onSpecChange({mode:"points"})})}),or(()=>{let R=!0;return f.subscribe(I=>{I!==null&&!R&&v(I),R=!1})}),or(()=>c.subscribe(async R=>{if(R==null||R.ids.length==0){se(b,null);return}let I=null;R.mode=="neighbors"&&(I=R.query);let B=Array.from(await e.context.coordinator.query(lt.from(e.context.table).select({identifier:be(e.context.id),x:be(e.spec.data.x),y:be(e.spec.data.y)}).where(Qg(e.context.id,R.ids.concat(I!=null?[I]:[]).map(z=>et(z))))));se(b,{center:B.filter(z=>z.identifier===I)[0]??null,points:B.filter(z=>z.identifier!==I)})}));async function v(R){let B=await e.context.cache.value(`embedding/default-viewport-scale/${e.spec.data.x},${e.spec.data.y}`,()=>MZe(e.context.coordinator,e.context.table,e.spec.data.x,e.spec.data.y))*2,z=await e.context.coordinator.query(lt.from(e.context.table).select({x:be(e.spec.data.x),y:be(e.spec.data.y)}).where(Sa(be(e.context.id),et(R)))),{x:Z,y:J}=z.get(0);C({x:Z,y:J,scale:B}),se(g,[R]),se(m,R)}let O,x=Ie(null);function C(R){se(m,null);let I=w(x)??e.state.viewport;if(I==null){e.onStateChange({viewport:R});return}se(x,I);let B=800,z=new Date().getTime(),Z=()=>{let J=(new Date().getTime()-z)/B;J>1&&(J=1),se(x,FZe(I,R,jie(J))),J<1?O=requestAnimationFrame(Z):e.onStateChange({viewport:w(x)})};O&&cancelAnimationFrame(O),O=requestAnimationFrame(Z)}var S=zZe(),A=H(S);{let R=X(()=>w(d)?.indexColumn),I=X(()=>w(d)?.legend.map(ie=>ie.color)),B=X(()=>({colorScheme:n(),...e.context.embeddingViewConfig,mode:e.spec.mode??"points",...e.spec.minimumDensity!=null?{minimumDensity:e.spec.minimumDensity}:{},...e.spec.pointSize!=null?{pointSize:e.spec.pointSize}:{}})),z=X(()=>Object.fromEntries(e.context.columns.map(ie=>[ie.name,ie.name]))),Z=X(()=>({class:LZe,props:{darkMode:n(),columnStyles:r(),onNearestNeighborSearch:(e.context.searchModes??[]).indexOf("neighbors")>=0?ie=>e.context.search?.(ie,"neighbors"):null}})),J=X(()=>({class:NZe,props:{...w(b)??{points:[],center:null}}})),ee=X(()=>w(x)??e.state.viewport);QXe(A,{get width(){return e.width},get height(){return e.height},get coordinator(){return e.context.coordinator},get table(){return e.context.table},get filter(){return e.context.filter},get rangeSelection(){return e.context.filter},get identifier(){return e.context.id},get x(){return e.spec.data.x},get y(){return e.spec.data.y},get text(){return e.spec.data.text},get category(){return w(R)},get categoryColors(){return w(I)},get config(){return w(B)},get labels(){return e.context.embeddingViewLabels},get cache(){return e.context.persistentCache},get additionalFields(){return w(z)},get customTooltip(){return w(Z)},get customOverlay(){return w(J)},get viewportState(){return w(ee)},onViewportState:ie=>e.onStateChange({viewport:ie}),get rangeSelectionValue(){return e.state.brush},onRangeSelection:ie=>e.onStateChange({brush:ie}),get tooltip(){return w(m)},onTooltip:ie=>{se(m,ie)},get selection(){return w(g)},onSelection:ie=>{se(g,ie),ie!=null&&ie.length==1&&f.set(ie[0].identifier)}})}var k=ae(A,2),T=H(k);{var D=R=>{var I=QZe(),B=H(I);{let z=X(()=>({items:w(d).legend})),Z=X(()=>e.state.legend??{});RZe(B,{get context(){return e.context},get spec(){return w(z)},get state(){return w(Z)},mode:"view",onSpecChange:()=>{},onStateChange:(J,ee)=>{e.onStateChange({legend:J})}})}W(I),j(R,I)};Oe(T,R=>{w(d)!=null&&R(D)})}var $=ae(T,2),M=H($);{let R=X(()=>[{value:void 0,label:"--"},...e.context.columns.filter(I=>I.jsType=="string"||I.jsType=="number").map(I=>({value:I.name,label:`${I.name} (${I.type})`}))]);ll(M,{class:"max-w-64",label:"Color",get value(){return w(h)},onChange:I=>e.onSpecChange({data:{...e.spec.data,category:I}}),get options(){return w(R)}})}var L=ae(M,2);ese(L,{get icon(){return Hte},title:"Options",children:(R,I)=>{var B=BZe(),z=ae(H(B),2),Z=H(z);{let oe=X(()=>e.spec.mode??"points"),De=X(()=>w(d)!=null&&w(d).legend.length>o);ll(Z,{get value(){return w(oe)},onChange:Ve=>e.onSpecChange({mode:Ve}),get disabled(){return w(De)},options:[{value:"points",label:"Points"},{value:"density",label:"Density"}]})}var J=ae(Z,2);{var ee=oe=>{var De=()=>Math.log((e.spec.minimumDensity??a)/a),Ve=Ne=>e.onSpecChange({minimumDensity:a*Math.exp(Ne)});MT(oe,{get value(){return De()},set value(Ne){Ve(Ne)},min:-4,max:4,step:.05})};Oe(J,oe=>{(e.spec.mode??"points")=="density"&&oe(ee)})}W(z);var ie=ae(z,4),K=H(ie),fe=()=>e.spec.pointSize??1,le=oe=>e.onSpecChange({pointSize:oe});MT(K,{get value(){return fe()},set value(oe){le(oe)},min:1,max:10,step:.05});var me=ae(K,2);Hu(me,{label:"Auto",onClick:()=>e.onSpecChange({pointSize:void 0})}),W(ie),W(B),j(R,B)},$$slots:{default:!0}}),W($),W(k),W(S),j(t,S),Je(),s()}var jZe=ce("<div><!></div>"),qZe=ce("<div><!></div>");function nse(t,e){let n=Ie(300),r=Ie(200),i=ht(e,"flexHeight",3,!1);var s=qZe();let o;var a=H(s);{var l=c=>{var f=jZe();let h;var d=H(f);vc(d,()=>e.children??yr,()=>w(n),()=>w(r)),W(f),Pe(()=>h=ot(f,"",h,{position:"absolute",height:`${w(r)??""}px`})),j(c,f)},u=c=>{var f=At(),h=Be(f);vc(h,()=>e.children??yr,()=>w(n),()=>w(r)),j(c,f)};Oe(a,c=>{i()?c(l):c(u,!1)})}W(s),Pe(()=>{ur(s,1,xO(i()?"flex-1 min-h-0":void 0)),o=ot(s,"",o,{"user-select":"none",position:"relative",height:i()?void 0:"fit-content"})}),Oc(s,"clientWidth",c=>se(n,c)),Oc(s,"clientHeight",c=>se(r,c)),j(t,s)}var VZe=Jt("<g><foreignObject><div> </div></foreignObject></g>");function VU(t,e){Ke(e,!0);let n=X(()=>e.dimension=="x"?{px:e.proxy.scale.x?.apply(e.label.value)??0,py:e.proxy.plotHeight+e.label.padding,anchorX:.5,anchorY:0}:{px:-e.label.padding,py:e.proxy.scale.y?.apply(e.label.value)??0,anchorX:1,anchorY:.5}),r=X(()=>w(n).px),i=X(()=>w(n).py),s=X(()=>w(n).anchorX),o=X(()=>w(n).anchorY),a=X(()=>e.label.orientation=="vertical"?{rotation:90,shiftX:w(s)*e.label.size.width,shiftY:-w(o)*e.label.size.height,width:e.label.size.height,height:e.label.size.width}:{rotation:0,shiftX:-w(s)*e.label.size.width,shiftY:-w(o)*e.label.size.height,width:e.label.size.width,height:e.label.size.height}),l=X(()=>w(a).rotation),u=X(()=>w(a).shiftX),c=X(()=>w(a).shiftY),f=X(()=>w(a).width),h=X(()=>w(a).height),d=4,m=4;var g=VZe(),b=H(g);pe(b,"x",-d),pe(b,"y",-m);var v=H(b);let O;var x=H(v,!0);W(v),W(b),W(g),Pe(()=>{pe(g,"transform",`translate(${w(r)+w(u)}, ${w(i)+w(c)}) rotate(${w(l)??""})`),pe(b,"width",w(f)+d*2),pe(b,"height",w(h)+m*2),pe(v,"title",e.label.text),O=ot(v,"",O,{width:`${w(f)+2}px`,height:`${w(h)+m*2}px`,"line-height":`${w(h)+m*2}px`,"font-family":e.label.fontFamily,"font-size":`${e.label.fontSize??""}px`,"margin-left":"4px",color:e.color,overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}),Tt(x,e.label.text)}),j(t,g),Je()}let tb;function XZe(){return tb==null&&(tb=document.createElement("canvas"),tb.width=1,tb.height=1),tb.getContext("2d")}function Z3(t,e){let n=XZe();n.font=`${e.fontSize}px ${e.fontFamily}`;let r=n.measureText(t);return{size:{width:Math.min(e.maxWidth,r.width),height:e.fontSize},fontFamily:e.fontFamily,fontSize:e.fontSize}}function W3(t,e,n,r){switch(t.type){case"band":return ZZe(t,e,n,r);default:return WZe(t,e,n,r)}}function ZZe(t,e,n,r){let i=[...t.domain,...t.specialValues??[]];i=Array.from(new Set(i)),n=="y"&&(i=i.reverse());let s=[],o=[];if(e){let f=e.values??i,h=e.labelPadding??6,d=ose(e,r);s=f.map(m=>{if(n=="y")return{text:m,value:m,padding:h,level:0,orientation:"horizontal",...Z3(m,d)};{let g=Z3(m,d);return g.size={width:g.size.height,height:g.size.width},{text:m,value:m,padding:h,level:0,orientation:"vertical",...g}}}),o=f.map(m=>({value:m,level:0}))}let a=ire().domain(i).padding(.1);n=="y"&&a.range([1,0]);let l=a.bandwidth(),u=a.step(),c={rangeBands:[[[0,0],[1,0]]],apply:f=>[(a(f)??0)+l/2,0],applyBand:f=>{let h=a(f)??0;return[[h,0],[h+l,0]]},invert(f,[h,d]){let m=(f-h)/(d-h);n=="y"&&(m=1-m);let g=Math.floor(m/u);return i[g]}};return{labels:s,gridLines:[],ticks:o,base:c,concrete:f=>sse(c,"band",t.domain,t.specialValues??[],f)}}function rse(t,e){let[n,r]=t,[i,s]=e;return o=>[n+(i-n)*o,r+(s-r)*o]}function ise(t){let[e,n]=t;return([r,i])=>r*(n-e)+e+i}function sse(t,e,n,r,i){let s=ise(i);return{type:e,domain:n,specialValues:r,range:i,rangeBands:t.rangeBands.map(([o,a])=>[s(o),s(a)]),apply:o=>s(t.apply(o)),applyBand:o=>{let[a,l]=t.applyBand(o),u=s(a),c=s(l);return u<c?[u,c]:[c,u]},invert:(o,a)=>t.invert(o,i,a)}}function ose(t,e){return{fontFamily:t?.labelFontFamily??e.labelFontFamily,fontSize:t?.labelFontSize??e.labelFontSize,maxWidth:t?.labelMaxWidth??e.labelMaxWidth}}function WZe(t,e,n,r){let i;switch(t.type){case"linear":{i=J1().domain(t.domain);break}case"log":{i=uO().domain(t.domain);break}case"symlog":{let d=t.constant??1;i=ore().constant(d).domain(t.domain),i.nice=()=>i,i.ticks=m=>GZe(i.domain(),d,m),i.tickFormat=()=>R0("~s");break}default:throw new Error("invalid scale type")}let s=[],o=[];if(e){let d=[];if(e.extendScaleToTicks??!0)if(e.values){d=e.values;let O=i.domain().concat(d);i=i.domain([O.reduce((x,C)=>Math.min(x,C),O[0]),O.reduce((x,C)=>Math.max(x,C),O[0])])}else{let O=e.desiredTickCount??5;i.nice&&(i=i.nice(O)),d=i.ticks(O)}else{if(e.values)d=e.values;else{let C=e.desiredTickCount??5;d=i.ticks(C)}let[O,x]=i.domain();d=d.filter(C=>C>=O&&C<=x)}let m=e.labelPadding??6,g=i.tickFormat(e.values?e.values.length:e.desiredTickCount??5),b=O=>t.type=="log"||t.type=="symlog"?Math.round(Math.log10(Math.abs(O)))==Math.log10(Math.abs(O))?0:1:0,v=ose(e,r);s=d.map(O=>{let x=g(O);return{text:x,value:O,padding:m,level:b(O),orientation:"horizontal",...Z3(x,v)}});for(let O of t.specialValues??[])s.push({text:O,value:O,padding:m,level:0,orientation:"horizontal",...Z3(O,v)});o=d.map(O=>({value:O,level:b(O)}))}n=="y"&&i.range([1,0]);let{rangeBands:a,map:l}=YZe(Array.from(new Set(t.specialValues??[])),n=="x"?"start":"end"),[u,c]=a[0],f=rse(u,c),h={rangeBands:a,apply:d=>{let m=l.get(d);if(m!=null)return[(m[0][0]+m[1][0])/2,(m[0][1]+m[1][1])/2];if(d==null)return[NaN,NaN];let g=d instanceof Array&&d.length>=2?(i(d[0])+i(d[1]))/2:i(d);return f(g)},applyBand:d=>{let m=l.get(d);if(m!=null)return m;if(d==null)return[[NaN,NaN],[NaN,NaN]];if(d instanceof Array&&d.length>=2)return[f(i(d[0])),f(i(d[1]))];{let g=f(i(d));return[g,g]}},invert(d,m,g){let b=ise(m);if(g!="number")for(let[v,[O,x]]of l.entries()){let C=b(O),S=b(x);if(d>=Math.min(C,S)&&d<=Math.max(C,S))return v}if(g!="string"){let v=b(u),O=b(c);return i.invert((d-v)/(O-v))}}};return{labels:s,gridLines:o,ticks:o,base:h,concrete:d=>sse(h,t.type,i.domain(),t.specialValues??[],d)}}function YZe(t,e){let n=[[0,0],[1,0]],r,i=new Map;if(t.length>0){let s=8,a=t.length*20;e=="start"?(n=[[0,a+s],[1,0]],r=[[0,0],[0,a]]):(n=[[0,0],[1,-a-s]],r=[[1,-a],[1,0]]);let l=rse(r[0],r[1]);for(let u=0;u<t.length;u++){let c=(u+.1)/t.length,f=(u+.9)/t.length;i.set(t[u],[l(c),l(f)])}}return{rangeBands:r!=null?[n,r]:[n],map:i}}function XU(t,e,n={}){let r=n.gap??0,i=t.map((a,l)=>({...e(a),index:l})).sort((a,l)=>a.priority-l.priority),s=t.map(a=>!1),o=(a,l)=>Math.abs(a.center-l.center)<r+a.length/2+l.length/2;for(let a=0;a<i.length;a++){let l=!1;for(let u=0;u<a;u++)if(s[i[u].index]&&o(i[a],i[u])){l=!0;break}s[i[a].index]=!l}return t.filter((a,l)=>s[l])}function GZe(t,e,n){n=n??5;let r=t[0],i=t[1];if(r>0&&i>0&&r/i>.5||r<0&&i<0&&i/r>.5)return J1().domain([r,i]).ticks(n);let s=e*2,o=e*5;return r<-o&&i>o&&(n=Math.ceil(n/2)),[...r<-o?uO().domain([s,-r]).ticks(n).map(a=>-a):[],0,...i>o?uO().domain([s,i]).ticks(n):[]].filter(a=>a>=r&&a<=i)}function HZe(t,e){switch(t.type){case"band":{let o=t.range??e.categoryColors,a=new Map;if(typeof o=="function"){let l=o(t.domain.length);for(let u=0;u<t.domain.length;u++)a.set(t.domain[u],l[u])}else for(let l=0;l<t.domain.length;l++)a.set(t.domain[l],o[l%o.length]);return{type:t.type,domain:t.domain,specialValues:t.specialValues??[],apply:l=>a.get(l)??e.markColorGray}}default:let r=W3({...t,specialValues:[]},null,"x",e).concrete([0,1]),i=_Ve(t.range??e.interpolate),s=new Set(t.specialValues??[]);return{type:t.type,domain:t.domain,specialValues:t.specialValues??[],apply:o=>s.has(o)?e.markColorGray:i(r.apply(o))}}}function KZe(t,e){let n=[0,1e3];if(t.range instanceof Array&&t.range.length==2){let[r,i]=t.range;typeof r=="number"&&typeof i=="number"&&(n=[r,i])}switch(t.type){case"band":{let s=new Map;for(let o=0;o<t.domain.length;o++)s.set(t.domain[o],(o+1)/t.domain.length*(n[1]-n[0])+n[0]);return{type:t.type,domain:t.domain,specialValues:t.specialValues??[],apply:o=>s.get(o)??1}}default:let i=W3({...t,specialValues:[]},null,"x",e).concrete(n);return{type:t.type,domain:t.domain,specialValues:t.specialValues??[],apply:s=>i.apply(s)}}}function Eo(t,e,n){if(t.length==0)return[0,0];if(n=="inner"){let r=0,i=0;for(let[s,o]of t){let a=s*e+o;a<0&&(r=Math.max(r,-a)),a>e&&(i=Math.max(i,a-e))}return[r,i]}else{let r=0,i=0;for(let[s,o]of t){let a=(e-r-i)*s+r+o;a<0&&s!=1&&(r=((e-i)*s+o)/(s-1)),a>e&&s!=0&&(i=((e-r)*s+r+o-e)/s)}return[r,i]}}function nb(t){if(typeof t=="number"&&isFinite(t)&&t>0)return t}const JZe=300,eWe=200;function tWe(t,e){let n=[],r=[];if(e?.x&&e?.x.labels.length>0)for(let d of e.x.labels){let m=e.x.base.apply(d.value);n.push([m[0],m[1]-d.size.width/2]),n.push([m[0],m[1]+d.size.width/2]),r.push([1,d.size.height+d.padding])}if(e?.y&&e?.y.labels.length>0)for(let d of e.y.labels){let m=e.y.base.apply(d.value);n.push([0,-d.size.width-d.padding]),r.push([m[0],m[1]-d.size.height/2]),r.push([m[0],m[1]+d.size.height/2])}let{width:i,height:s,plotWidth:o,plotHeight:a,plotAspectRatio:l}=t;i=nb(i),s=nb(s),o=nb(o),a=nb(a),l=nb(l);let u=0,c=0,f=0,h=0;if(l==null)i==null&&o!=null?([u,c]=Eo(n,o,"inner"),i=o+u+c):(i=i??JZe,[u,c]=Eo(n,i,"outer"),o=i-u-c),s==null&&a!=null?([f,h]=Eo(r,a,"inner"),s=a+f+h):(s=s??eWe,[f,h]=Eo(r,s,"outer"),a=s-f-h);else if(o!=null||a!=null){if(o!=null)a=o/l;else if(a!=null)o=a*l;else throw new Error("unreachable");let[d,m]=Eo(n,o,"inner"),[g,b]=Eo(r,a,"inner");return i=i??o+d+m,s=s??a+g+b,{width:i,height:s,plotRect:{x:d,y:g,width:o,height:a}}}else if(s==null){i=i??400,[u,c]=Eo(n,i,"outer");let d=i-u-c,m=d/l;return[f,h]=Eo(r,m,"inner"),s=m+f+h,{width:i,height:s,plotRect:{x:u,y:f,width:d,height:m}}}else{if(i==null)return s=s??400,[f,h]=Eo(r,s,"outer"),a=s-f-h,o=a*l,[u,c]=Eo(r,o,"inner"),i=o+u+c,{width:i,height:s,plotRect:{x:u,y:f,width:o,height:a}};[u,c]=Eo(n,i,"outer"),o=i-u-c,a=o/l,[f,h]=Eo(r,a,"inner"),f+h+a>s&&([f,h]=Eo(r,s,"outer"),a=s-f-h,o=a*l,[u,c]=Eo(n,o,"inner"))}return{width:i,height:s,plotRect:{x:u,y:f,width:o,height:a}}}var nWe=Jt('<line stroke-linecap="butt"></line>'),rWe=Jt('<line stroke-dasharray="1,3" stroke-linecap="square"></line>'),iWe=Jt("<g><!><!><!></g>"),sWe=Jt('<line stroke-linecap="butt"></line>'),oWe=Jt('<line stroke-linecap="square"></line>'),aWe=Jt("<g><!><!><!></g>"),lWe=ce("<div><svg><g><!><!><!><!></g></svg></div>");function ase(t,e){Ke(e,!0);const n=4;let r=ht(e,"xAxis",19,()=>({})),i=ht(e,"yAxis",19,()=>({})),s=X(()=>e.xScale?W3(e.xScale,r(),"x",e.theme):void 0),o=X(()=>e.yScale?W3(e.yScale,i(),"y",e.theme):void 0),a=X(()=>tWe({width:e.width,height:e.height,plotWidth:e.plotWidth,plotHeight:e.plotHeight,plotAspectRatio:e.plotAspectRatio},{x:w(s),y:w(o)})),l=X(()=>w(a).width),u=X(()=>w(a).height),c=X(()=>w(a).plotRect.x),f=X(()=>w(a).plotRect.y),h=X(()=>w(a).plotRect.width),d=X(()=>w(a).plotRect.height),m=X(()=>w(s)?.concrete([0,w(h)])),g=X(()=>w(o)?.concrete([0,w(d)])),b=X(()=>w(s)&&w(m)?XU(w(s).labels,R=>({center:w(m).apply(R.value),length:R.size.width,priority:R.level}),{gap:4}):[]),v=X(()=>w(o)&&w(g)?XU(w(o).labels,R=>({center:w(g).apply(R.value),length:R.size.height,priority:R.level}),{gap:2}):[]),O=X(()=>({plotWidth:w(h),plotHeight:w(d),scale:{x:w(m),y:w(g),...e.otherScales??{}}}));var x=lWe();let C;var S=H(x);ot(S,"",{},{position:"absolute",left:"-4px",top:"-4px"});var A=H(S),k=H(A);vc(k,()=>e.childrenBelow??yr,()=>w(O));var T=ae(k);{var D=R=>{var I=iWe(),B=H(I);Zt(B,17,()=>w(s).ticks,Rn,(J,ee)=>{const ie=X(()=>w(m).apply(w(ee).value));var K=nWe();Pe(()=>{pe(K,"x1",w(ie)),pe(K,"y1",w(d)),pe(K,"x2",w(ie)),pe(K,"y2",w(d)+(w(ee).level==0?3:0)),pe(K,"stroke",e.theme.gridColor),pe(K,"stroke-opacity",w(ee).level==0?1:.4)}),j(J,K)});var z=ae(B);Zt(z,17,()=>w(s).gridLines,Rn,(J,ee)=>{const ie=X(()=>w(m).apply(w(ee).value));var K=At(),fe=Be(K);Zt(fe,17,()=>w(g)?.rangeBands??[],Rn,(le,me)=>{var oe=X(()=>QA(w(me),2));let De=()=>w(oe)[0],Ve=()=>w(oe)[1];var Ne=rWe();Pe((Ae,ke)=>{pe(Ne,"x1",w(ie)),pe(Ne,"y1",Ae),pe(Ne,"x2",w(ie)),pe(Ne,"y2",ke),pe(Ne,"stroke",e.theme.gridColor),pe(Ne,"stroke-opacity",w(ee).level==0?1:.4)},[()=>Math.min(De(),Ve()),()=>Math.max(De(),Ve())]),j(le,Ne)}),j(J,K)});var Z=ae(z);Zt(Z,17,()=>w(b),Rn,(J,ee)=>{VU(J,{get label(){return w(ee)},dimension:"x",get proxy(){return w(O)},get color(){return e.theme.labelColor}})}),W(I),j(R,I)};Oe(T,R=>{w(s)&&w(m)&&r()&&R(D)})}var $=ae(T);{var M=R=>{var I=aWe(),B=H(I);Zt(B,17,()=>w(o).ticks,Rn,(J,ee)=>{const ie=X(()=>w(g).apply(w(ee).value));var K=sWe();pe(K,"x2",0),Pe(()=>{pe(K,"x1",-(w(ee).level==0?3:0)),pe(K,"y1",w(ie)),pe(K,"y2",w(ie)),pe(K,"stroke",e.theme.gridColor),pe(K,"stroke-opacity",w(ee).level==0?1:.4)}),j(J,K)});var z=ae(B);Zt(z,17,()=>w(o).gridLines,Rn,(J,ee)=>{const ie=X(()=>w(g).apply(w(ee).value));var K=At(),fe=Be(K);Zt(fe,17,()=>w(m)?.rangeBands??[],Rn,(le,me)=>{var oe=X(()=>QA(w(me),2));let De=()=>w(oe)[0],Ve=()=>w(oe)[1];var Ne=oWe();Pe(()=>{pe(Ne,"x1",De()),pe(Ne,"y1",w(ie)),pe(Ne,"x2",Ve()),pe(Ne,"y2",w(ie)),pe(Ne,"stroke",e.theme.gridColor),pe(Ne,"stroke-opacity",w(ee).level==0?1:.4)}),j(le,Ne)}),j(J,K)});var Z=ae(z);Zt(Z,17,()=>w(v),Rn,(J,ee)=>{VU(J,{get label(){return w(ee)},dimension:"y",get proxy(){return w(O)},get color(){return e.theme.labelColor}})}),W(I),j(R,I)};Oe($,R=>{w(o)&&w(g)&&i()&&R(M)})}var L=ae($);vc(L,()=>e.children??yr,()=>w(O)),W(A),W(S),W(x),Pe(()=>{C=ot(x,"",C,{width:`${w(l)??""}py`,height:`${w(u)??""}px`,position:"relative","user-select":"none","-webkit-user-select":"none",cursor:"default"}),pe(S,"width",w(l)+n*2),pe(S,"height",w(u)+n*2),pe(A,"transform",`translate(${n+w(c)},${n+w(f)})`)}),j(t,x),Je()}var uWe=Jt('<rect role="none"></rect><rect role="none"></rect>',1),cWe=Jt('<rect role="none"></rect><rect role="none"></rect>',1),fWe=Jt('<rect role="none"></rect><rect role="none"></rect><rect role="none"></rect><rect role="none"></rect>',1),hWe=Jt('<rect></rect><rect role="none"></rect><!><!><!>',1),dWe=Jt('<g><rect stroke="none" fill="none" role="none"></rect><!></g>');function pWe(t,e){Ke(e,!0);const n=8;let r,i=X(()=>e.proxy.scale.x!=null&&e.value?.x!=null?e.proxy.scale.x.applyBand(e.value.x):[0,e.proxy.plotWidth]),s=X(()=>e.proxy.scale.y!=null&&e.value?.y!=null?e.proxy.scale.y.applyBand(e.value.y):[0,e.proxy.plotHeight]);function o(g){return g instanceof Array&&g.length==2&&typeof g[0]=="number"&&typeof g[1]=="number"}function a(g,b,v){let O=g.invert(b,v);if(g.domain.length==2&&typeof g.domain[0]=="number"&&typeof O=="number"){let[x,C]=g.domain;return Math.max(Math.min(x,C),Math.min(Math.max(x,C),O))}return O}function l(g,b){return(b=="x"||b=="xy")&&g.x==null?!1:!((b=="y"||b=="xy")&&g.y==null)}function u(){return g=>{let b=r.getBoundingClientRect().left,v=r.getBoundingClientRect().top,O=g.clientX-b,x=g.clientY-v,C=e.proxy.scale.x?a(e.proxy.scale.x,O):null,S=e.proxy.scale.y?a(e.proxy.scale.y,x):null;if(C==null&&(e.mode=="x"||e.mode=="xy")||S==null&&(e.mode=="y"||e.mode=="xy"))return;let A=(D,$)=>typeof D=="number"&&typeof $=="number"?D!=$?[Math.min(D,$),Math.max(D,$)]:null:$,k=D=>D==null?void 0:typeof D=="number"?"number":"string",T=D=>{let $=D.clientX-b,M=D.clientY-v,L=e.proxy.scale.x?a(e.proxy.scale.x,$,k(C))??C:null,R=e.proxy.scale.y?a(e.proxy.scale.y,M,k(S))??S:null,I={};return(e.mode=="x"||e.mode=="xy")&&(I.x=A(C,L)),(e.mode=="y"||e.mode=="xy")&&(I.y=A(S,R)),l(I,e.mode)?I:null};return{move:D=>{e.onChange(T(D))},up:D=>{e.onChange(T(D))}}}}function c(g){return b=>{if(e.value==null)return;let v={...e.value},{x:O,y:x}=e.proxy.scale,C=o(v.x),S=o(v.y),A=[...O&&v.x?O.applyBand(v.x):[0,0],...x&&v.y?x.applyBand(v.y):[0,0]];if(!C){let T=Math.max(g[0],g[1]);g=[T,T,g[2],g[3]]}if(!S){let T=Math.max(g[2],g[3]);g=[g[0],g[1],T,T]}let k=T=>{let D=T.pageX-b.pageX,$=T.pageY-b.pageY,M=[D,D,$,$].map((R,I)=>A[I]+R*g[I]),L={...v};if(O&&(e.mode=="x"||e.mode=="xy"))if(C){let R=a(O,M[0],"number"),I=a(O,M[1],"number");L.x=R==I?null:R<I?[R,I]:[I,R]}else L.x=a(O,(M[0]+M[1])/2),typeof L.x!="string"&&(L.x=null);if(x!=null&&(e.mode=="y"||e.mode=="xy"))if(S){let R=a(x,M[2],"number"),I=a(x,M[3],"number");L.y=R==I?null:R<I?[R,I]:[I,R]}else L.y=a(x,(M[2]+M[3])/2),typeof L.y!="string"&&(L.y=null);return l(L,e.mode)||(L=null),L};return{move:T=>{e.onChange(k(T))},up:T=>{let D=k(T);D&&!C&&!S&&D.x==v.x&&D.y==v.y&&(D=null),e.onChange(D)}}}}var f=dWe(),h=H(f);pe(h,"x",0),pe(h,"y",0),ot(h,"",{},{"pointer-events":"fill","user-select":"none",cursor:"crosshair"}),Ol(h,g=>r=g,()=>r),ei(h,(g,b)=>Zn?.(g,b),()=>({click:g=>{if(e.value!=null)e.onChange(null);else{let b=u()(g);b&&(b.move(g),b.up(g))}},drag:u()}));var d=ae(h);{var m=g=>{var b=hWe(),v=Be(b);let O;var x=ae(v);let C;ei(x,(M,L)=>Zn?.(M,L),()=>({drag:c([1,1,1,1])}));var S=ae(x);{var A=M=>{var L=uWe(),R=Be(L);pe(R,"width",n),ot(R,"",{},{cursor:"ew-resize",stroke:"none",fill:"none","pointer-events":"all"}),ei(R,(B,z)=>Zn?.(B,z),()=>({drag:c([1,0,0,0])}));var I=ae(R);pe(I,"width",n),ot(I,"",{},{cursor:"ew-resize",stroke:"none",fill:"none","pointer-events":"all"}),ei(I,(B,z)=>Zn?.(B,z),()=>({drag:c([0,1,0,0])})),Pe((B,z,Z,J)=>{pe(R,"x",w(i)[0]-n/2),pe(R,"y",B),pe(R,"height",z),pe(I,"x",w(i)[1]-n/2),pe(I,"y",Z),pe(I,"height",J)},[()=>Math.min(w(s)[0],w(s)[1]),()=>Math.abs(w(s)[0]-w(s)[1]),()=>Math.min(w(s)[0],w(s)[1]),()=>Math.abs(w(s)[0]-w(s)[1])]),j(M,L)};Oe(S,M=>{(e.mode=="x"||e.mode=="xy")&&o(e.value.x)&&M(A)})}var k=ae(S);{var T=M=>{var L=cWe(),R=Be(L);pe(R,"height",n),ot(R,"",{},{cursor:"ns-resize",stroke:"none",fill:"none","pointer-events":"all"}),ei(R,(B,z)=>Zn?.(B,z),()=>({drag:c([0,0,1,0])}));var I=ae(R);pe(I,"height",n),ot(I,"",{},{cursor:"ns-resize",stroke:"none",fill:"none","pointer-events":"all"}),ei(I,(B,z)=>Zn?.(B,z),()=>({drag:c([0,0,0,1])})),Pe((B,z,Z,J)=>{pe(R,"x",B),pe(R,"width",z),pe(R,"y",w(s)[0]-n/2),pe(I,"x",Z),pe(I,"width",J),pe(I,"y",w(s)[1]-n/2)},[()=>Math.min(w(i)[0],w(i)[1]),()=>Math.abs(w(i)[0]-w(i)[1]),()=>Math.min(w(i)[0],w(i)[1]),()=>Math.abs(w(i)[0]-w(i)[1])]),j(M,L)};Oe(k,M=>{(e.mode=="y"||e.mode=="xy")&&o(e.value.y)&&M(T)})}var D=ae(k);{var $=M=>{var L=fWe(),R=Be(L);pe(R,"width",n),pe(R,"height",n),ot(R,"",{},{cursor:"nesw-resize",stroke:"none",fill:"none","pointer-events":"all"}),ei(R,(Z,J)=>Zn?.(Z,J),()=>({drag:c([1,0,1,0])}));var I=ae(R);pe(I,"width",n),pe(I,"height",n),ot(I,"",{},{cursor:"nwse-resize",stroke:"none",fill:"none","pointer-events":"all"}),ei(I,(Z,J)=>Zn?.(Z,J),()=>({drag:c([1,0,0,1])}));var B=ae(I);pe(B,"width",n),pe(B,"height",n),ot(B,"",{},{cursor:"nwse-resize",stroke:"none",fill:"none","pointer-events":"all"}),ei(B,(Z,J)=>Zn?.(Z,J),()=>({drag:c([0,1,1,0])}));var z=ae(B);pe(z,"width",n),pe(z,"height",n),ot(z,"",{},{cursor:"nesw-resize",stroke:"none",fill:"none","pointer-events":"all"}),ei(z,(Z,J)=>Zn?.(Z,J),()=>({drag:c([0,1,0,1])})),Pe(()=>{pe(R,"x",w(i)[0]-n/2),pe(R,"y",w(s)[0]-n/2),pe(I,"x",w(i)[0]-n/2),pe(I,"y",w(s)[1]-n/2),pe(B,"x",w(i)[1]-n/2),pe(B,"y",w(s)[0]-n/2),pe(z,"x",w(i)[1]-n/2),pe(z,"y",w(s)[1]-n/2)}),j(M,L)};Oe(D,M=>{e.mode=="xy"&&o(e.value.x)&&o(e.value.y)&&M($)})}Pe((M,L,R,I,B,z,Z,J)=>{pe(v,"x",M),pe(v,"width",L),pe(v,"y",R),pe(v,"height",I),O=ot(v,"",O,{stroke:e.theme.brushBorderBack,fill:"none","stroke-width":2}),pe(x,"x",B),pe(x,"width",z),pe(x,"y",Z),pe(x,"height",J),C=ot(x,"",C,{stroke:e.theme.brushBorder,fill:e.theme.brushFill,cursor:"move"})},[()=>Math.min(w(i)[0],w(i)[1]),()=>Math.abs(w(i)[0]-w(i)[1]),()=>Math.min(w(s)[0],w(s)[1]),()=>Math.abs(w(s)[0]-w(s)[1]),()=>Math.min(w(i)[0],w(i)[1]),()=>Math.abs(w(i)[0]-w(i)[1]),()=>Math.min(w(s)[0],w(s)[1]),()=>Math.abs(w(s)[0]-w(s)[1])]),j(g,b)};Oe(d,g=>{w(i)&&w(s)&&e.value&&g(m)})}W(f),Pe(()=>{pe(h,"width",e.proxy.plotWidth),pe(h,"height",e.proxy.plotHeight)}),j(t,f),Je()}var mWe=Jt('<image preserveAspectRatio="none"></image>');function gWe(t,e){Ke(e,!0);let n=X(()=>e.proxy.scale.x&&e.xDomain?e.proxy.scale.x.apply(e.xDomain[0]):0),r=X(()=>e.proxy.scale.x&&e.xDomain?e.proxy.scale.x.apply(e.xDomain[1]):e.proxy.plotWidth),i=X(()=>e.proxy.scale.y&&e.yDomain?e.proxy.scale.y.apply(e.yDomain[0]):0),s=X(()=>e.proxy.scale.y&&e.yDomain?e.proxy.scale.y.apply(e.yDomain[1]):e.proxy.plotHeight),o=Ie(null),a=document.createElement("canvas");or(()=>{a.width=e.rasterWidth,a.height=e.rasterHeight;let u=a.getContext("2d",{colorSpace:"srgb",willReadFrequently:!0});u.clearRect(0,0,a.width,a.height);let c=u.getImageData(0,0,a.width,a.height),f=0;for(let h=0;h<a.height;h++)for(let d=0;d<a.width;d++){let m=(d+.5)/a.width*(w(r)-w(n))+w(n),g=(h+.5)/a.height*(w(s)-w(i))+w(i),b=e.proxy.scale.x?.invert(m)??0,v=e.proxy.scale.y?.invert(g)??0,{r:O,g:x,b:C,opacity:S}=h1(e.color(b,v));c.data[f++]=O,c.data[f++]=x,c.data[f++]=C,c.data[f++]=S*255}u.putImageData(c,0,0),se(o,a.toDataURL("image/png"),!0)});var l=mWe();Pe((u,c,f,h)=>{pe(l,"x",u),pe(l,"y",c),pe(l,"width",f),pe(l,"height",h),pe(l,"href",w(o))},[()=>Math.min(w(n),w(r)),()=>Math.min(w(i),w(s)),()=>Math.abs(w(n)-w(r)),()=>Math.abs(w(i)-w(s))]),j(t,l),Je()}var yWe=ce('<div class="flex gap-1 items-center"><div class="w-3 h-3 block rounded-sm"></div> <div class="whitespace-nowrap max-w-32 overflow-hidden text-ellipsis"> </div></div>'),bWe=ce('<div class="flex gap-2 flex-wrap items-center select-none"></div>'),vWe=Jt("<rect></rect>"),OWe=Jt("<!><!>",1),wWe=ce('<div class="pl-4"><!></div>'),_We=ce('<div class="text-sm text-slate-400 dark:text-slate-500"><!></div>');function xWe(t,e){Ke(e,!0);var n=_We(),r=H(n);{var i=o=>{var a=bWe();Zt(a,21,()=>e.scale.domain.concat(e.scale.specialValues??[]),Rn,(l,u)=>{const c=X(()=>e.scale.apply(w(u)));var f=yWe(),h=H(f);let d;var m=ae(h,2),g=H(m,!0);W(m),W(f),Pe(()=>{pe(f,"title",w(u)),d=ot(h,"",d,{background:w(c)}),Tt(g,w(u))}),j(l,f)}),W(a),j(o,a)},s=o=>{var a=wWe(),l=H(a);nse(l,{children:(c,f=yr,h=yr)=>{{const d=(g,b=yr)=>{var v=OWe(),O=Be(v);{let C=X(()=>b().scale.x?.domain);gWe(O,{color:S=>e.scale.apply(S),rasterWidth:100,rasterHeight:1,get proxy(){return b()},get xDomain(){return w(C)}})}var x=ae(O);Zt(x,17,()=>e.scale.specialValues??[],Rn,(C,S)=>{const A=X(()=>{const[T,D]=b().scale.x?.applyBand(w(S))??[NaN,NaN];return{x0:T,x1:D}});var k=vWe();pe(k,"y",0),Pe((T,D,$)=>{pe(k,"x",T),pe(k,"width",D),pe(k,"height",b().plotHeight),pe(k,"fill",$)},[()=>Math.min(w(A).x0,w(A).x1),()=>Math.abs(w(A).x1-w(A).x0),()=>e.scale.apply(w(S))]),j(C,k)}),j(g,v)};let m=X(()=>({type:e.outputs.scale.color.type??"linear",domain:e.scale.domain,specialValues:e.scale.specialValues}));ase(c,{get xScale(){return w(m)},xAxis:{extendScaleToTicks:!1},get width(){return f()},plotHeight:8,get theme(){return e.theme},children:d,$$slots:{default:!0}})}},$$slots:{default:!0}}),W(a),j(o,a)};Oe(r,o=>{e.scale.type=="band"?o(i):o(s,!1)})}W(n),j(t,n),Je()}function oy(t,e){let n=r=>typeof r=="string"&&!isNaN(+r);return new Proxy({length:t},{get(r,i){if(n(i))return e(+i)},has(r,i){return n(i)}})}function Mp(t,e,n){return oy(t.length,r=>e(t[r]))}function w1({proxy:t,data:e},n){let r=e.columns[n],i=t.scale[n];if(r!=null&&i!=null)return Mp(r,i.apply);let s=n=="x"?t.plotWidth/2:t.plotHeight/2;return oy(e.length,()=>s)}function SWe(t){if(typeof t=="number"){let e=t/2;return([n,r])=>[(n+r)/2-e,(n+r)/2+e]}else if(t!=null){if("gap"in t){let{gap:e,clampToRatio:n}=t;return([r,i])=>{let s=Math.min(e/2,(n??0)*Math.abs(r-i)/2);return r<i?[r+s,i-s]:[r-s,i+s]}}else if("ratio"in t){let e=(1-t.ratio)/2;return([n,r])=>[n+(r-n)*e,r+(n-r)*e]}}}function Vm({proxy:t,data:e},n,r){let i=SWe(r),s=e.columns[n],o=t.scale[n];if(s!=null&&o!=null)return i?Mp(s,c=>i(o.applyBand(c))):Mp(s,o.applyBand);let a=e.columns[n+"1"],l=e.columns[n+"2"];if(a!=null&&l!=null&&o!=null){let c=a.map((f,h)=>[f,l[h]]);return i?Mp(c,([f,h])=>i([o.apply(f),o.apply(h)])):Mp(c,([f,h])=>[o.apply(f),o.apply(h)])}let u=n=="x"?[0,t.plotWidth]:[0,t.plotHeight];return oy(e.length,()=>u)}function kWe({proxy:t,data:e,theme:n}){if(e.columns.color!=null&&t.scale.color!=null)return Mp(e.columns.color,t.scale.color.apply);let r=n.markColor;return oy(e.length,()=>r)}function CWe({proxy:t,data:e}){if(e.columns.size!=null&&t.scale.size!=null)return Mp(e.columns.size,t.scale.size.apply);let n=100;return oy(e.length,()=>n)}function ZU(t){let e=Object.keys(t.columns).filter(r=>r!="x"&&r!="y"),n=new Map;for(let r=0;r<t.length;r++){let i=JSON.stringify(e.map(o=>t.columns[o][r])),s=n.get(i);s==null?n.set(i,[r]):s.push(r)}return Array.from(n.values())}function LT(t,e){switch(t){case"monotone":return e=="horizontal"?Pze:Dze;case"basis":return Cze;case"natural":return Rze;case"step":return $ze;case"step-before":return Ize;case"step-after":return Fze;case"catmull-rom":return Tze;case"cardinal":return Aze;case"linear":return F3;default:return console.warn(`Unknown interpolate: ${t}`),F3}}function AWe(t,e,n){let r=n.orientation??"vertical",i=w1(t,"x"),s=w1(t,"y"),o=e.filter(a=>isFinite(i[a])&&isFinite(s[a])).sort((a,l)=>i[a]-i[l]);return hre().x(a=>i[a]).y(a=>s[a]).curve(LT(n.interpolate,r))(o)}function EWe(t,e,n){let r=n.orientation??"vertical";if(r=="vertical"){let i=w1(t,"x"),s=Vm(t,"y",void 0),o=e.filter(l=>isFinite(i[l])&&isFinite(s[l][0])&&isFinite(s[l][1])).sort((l,u)=>i[l]-i[u]);return Hz().x(l=>i[l]).y0(l=>s[l][0]).y1(l=>s[l][1]).curve(LT(n.interpolate,r))(o)}else{let i=Vm(t,"x",void 0),s=w1(t,"y"),o=e.filter(l=>isFinite(s[l])&&isFinite(i[l][0])&&isFinite(i[l][1])).sort((l,u)=>s[l]-s[u]);return Hz().y(l=>s[l]).x0(l=>i[l][0]).x1(l=>i[l][1]).curve(LT(n.interpolate,r))(o)}}function rb(t,e){let n=kWe(t);function r(s){if(s==null)return"none";if(s!="$encoding")return s.startsWith("$")?t.theme[s.substring(1)]??s:s}let i={"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeCap,"stroke-linejoin":e.strokeJoin,"stroke-opacity":e.strokeOpacity,"fill-opacity":e.fillOpacity,"paint-order":e.paintOrder,opacity:e.opacity,fill:r(e.fillColor),stroke:r(e.strokeColor)};return oy(t.data.length,s=>{let o={...i};return e.fillColor=="$encoding"&&(o.fill=n[s]),e.strokeColor=="$encoding"&&(o.stroke=n[s]),o})}var TWe=Jt("<rect></rect>"),DWe=Jt("<circle></circle>"),PWe=Jt("<line></line>"),RWe=Jt("<path></path>"),$We=Jt("<path></path>"),IWe=Jt("<g><!></g>");function WU(t,e){Ke(e,!0);let n=X(()=>({proxy:e.proxy,data:e.layer.data,theme:e.theme}));var r=IWe(),i=H(r);{var s=a=>{const l=X(()=>Vm(w(n),"x",e.layer.xDimension)),u=X(()=>Vm(w(n),"y",e.layer.yDimension)),c=X(()=>rb(w(n),e.layer.style));var f=At(),h=Be(f);Zt(h,17,()=>({length:e.layer.data.length}),Rn,(d,m,g)=>{const b=X(()=>{const[S,A]=w(l)[g];return{x0:S,x1:A}}),v=X(()=>{const[S,A]=w(u)[g];return{y0:S,y1:A}});var O=At(),x=Be(O);{var C=S=>{var A=TWe();fi(A,(k,T,D,$)=>({x:k,y:T,width:D,height:$,...w(c)[g]}),[()=>Math.min(w(b).x0,w(b).x1),()=>Math.min(w(v).y0,w(v).y1),()=>Math.abs(w(b).x0-w(b).x1),()=>Math.abs(w(v).y0-w(v).y1)]),j(S,A)};Oe(x,S=>{isFinite(w(b).x0)&&isFinite(w(b).x1)&&isFinite(w(v).y0)&&isFinite(w(v).y1)&&S(C)})}j(d,O)}),j(a,f)},o=a=>{var l=At(),u=Be(l);{var c=h=>{const d=X(()=>w1(w(n),"x")),m=X(()=>w1(w(n),"y")),g=X(()=>rb(w(n),e.layer.style)),b=X(()=>CWe(w(n)));var v=At(),O=Be(v);Zt(O,17,()=>({length:e.layer.data.length}),Rn,(x,C,S)=>{var A=At(),k=Be(A);{var T=D=>{var $=DWe();fi($,M=>({cx:w(d)[S],cy:w(m)[S],r:M,...w(g)[S]}),[()=>Math.sqrt(w(b)[S]/Math.PI)]),j(D,$)};Oe(k,D=>{isFinite(w(d)[S])&&isFinite(w(m)[S])&&D(T)})}j(x,A)}),j(h,v)},f=h=>{var d=At(),m=Be(d);{var g=v=>{const O=X(()=>Vm(w(n),"x",e.layer.xDimension)),x=X(()=>Vm(w(n),"y",e.layer.yDimension)),C=X(()=>rb(w(n),e.layer.style));var S=At(),A=Be(S);Zt(A,17,()=>({length:e.layer.data.length}),Rn,(k,T,D)=>{const $=X(()=>{const[B,z]=w(O)[D];return{x0:B,x1:z}}),M=X(()=>{const[B,z]=w(x)[D];return{y0:B,y1:z}});var L=At(),R=Be(L);{var I=B=>{var z=PWe();fi(z,()=>({x1:w($).x0,y1:w(M).y0,x2:w($).x1,y2:w(M).y1,...w(C)[D]})),j(B,z)};Oe(R,B=>{isFinite(w($).x0)&&isFinite(w($).x1)&&isFinite(w(M).y0)&&isFinite(w(M).y1)&&B(I)})}j(k,L)}),j(v,S)},b=v=>{var O=At(),x=Be(O);{var C=A=>{const k=X(()=>rb(w(n),e.layer.style));var T=At(),D=Be(T);Zt(D,17,()=>ZU(e.layer.data),Rn,($,M)=>{var L=RWe();fi(L,R=>({d:R,...w(k)[w(M)[0]]}),[()=>AWe(w(n),w(M),e.layer)]),j($,L)}),j(A,T)},S=A=>{var k=At(),T=Be(k);{var D=$=>{const M=X(()=>rb(w(n),e.layer.style));var L=At(),R=Be(L);Zt(R,17,()=>ZU(e.layer.data),Rn,(I,B)=>{var z=$We();fi(z,Z=>({d:Z,...w(M)[w(B)[0]]}),[()=>EWe(w(n),w(B),e.layer)]),j(I,z)}),j($,L)};Oe(T,$=>{e.layer.primitive=="area"&&$(D)},!0)}j(A,k)};Oe(x,A=>{e.layer.primitive=="line"?A(C):A(S,!1)},!0)}j(v,O)};Oe(m,v=>{e.layer.primitive=="rule"?v(g):v(b,!1)},!0)}j(h,d)};Oe(u,h=>{e.layer.primitive=="point"?h(c):h(f,!1)},!0)}j(a,l)};Oe(i,a=>{e.layer.primitive=="rect"?a(s):a(o,!1)})}W(r),j(t,r),Je()}var FWe=ce('<span class="flex gap-1 select-none"><span class="text-slate-400 dark:text-slate-500 text-sm"> </span> <!></span>');function MWe(t,e){Ke(e,!0);let n=ht(e,"value",15);const r=["linear","log","symlog"];var i=At(),s=Be(i);{var o=a=>{var l=FWe(),u=H(l),c=H(u);W(u);var f=ae(u,2);{let h=X(()=>r.map(d=>({value:d,label:d})));K9(f,{get options(){return w(h)},get value(){return n()},onChange:d=>n(d)})}W(l),Pe(()=>Tt(c,`${e.label??""}:`)),j(a,l)};Oe(s,a=>{n()!=null&&n()!="band"&&a(o)})}j(t,i),Je()}var LWe=ce('<span class="flex gap-1 select-none"><span class="text-slate-400 dark:text-slate-500 text-sm">Normalize:</span> <!></span>'),NWe=ce('<div class="flex flex-wrap gap-2 justify-end flex-wrap"></div>');function QWe(t,e){Ke(e,!0);var n=NWe();Zt(n,21,()=>e.spec.widgets??[],Rn,(r,i)=>{var s=At(),o=Be(s);{var a=u=>{var c=()=>e.outputs.scale[w(i).channel].type??"linear",f=h=>{e.onSpecChange({scale:{[w(i).channel]:{type:h}}})};{let h=X(()=>w(i).channel.toUpperCase());MWe(u,{get label(){return w(h)},get value(){return c()},set value(d){f(d)}})}},l=u=>{var c=At(),f=Be(c);{var h=d=>{const m=X(()=>typeof w(i).layer=="number"?[w(i).layer]:w(i).layer);var g=LWe(),b=ae(H(g),2);{let v=X(()=>[{value:null,label:"off"},...(w(i).options??["x","y"]).map(x=>({value:x,label:x.toUpperCase()}))]),O=X(()=>e.spec.layers?.[w(m)[0]]?.encoding?.[w(i).attribute]?.normalize??null);K9(b,{get options(){return w(v)},get value(){return w(O)},onChange:x=>{let C=JSON.parse(JSON.stringify(e.spec));for(let S of w(m))if(C.layers?.[S]?.encoding?.[w(i).attribute]!=null){let A=C.layers?.[S]?.encoding?.[w(i).attribute];A.normalize=x??void 0}e.onSpecChange(C,"replace")}})}W(g),j(d,g)};Oe(f,d=>{w(i).type=="encoding.normalize"&&d(h)},!0)}j(u,c)};Oe(o,u=>{w(i).type=="scale.type"?u(a):u(l,!1)})}j(r,s)}),W(n),j(t,n),Je()}class BWe{context;spec;source;cleanupFn;outputs;selections;state;constructor(e,n){this.context=e,this.spec=void 0,this.outputs=Da(void 0),this.state=Da(void 0),this.selections=Da(void 0),this.source={reset:()=>{n?.()}}}async setSpec(e){if(bv(e,this.spec))return;this.cleanup(),this.spec=e;let n=new zWe(this.context,this.spec);if(n.stats=await UWe(n),this.spec!==e)return;let r=jWe(n,this.outputs,this.selections),i,s=SO([this.selections,this.state],o=>o).subscribe(([o,a])=>{for(let l of o??[]){let u=a?.[l.key],c=l.clause(u);i&&i.selection===l&&bv(i.value,u)||(i={selection:l,value:u},c?this.context.filter.update({source:this.source,clients:new Set(r),...c}):this.context.filter.update({source:this.source,clients:new Set(r),value:null,predicate:null}))}});this.cleanupFn=()=>{this.source.reset(),this.state.set(void 0),s();for(let o of r)try{o.destroy()}catch{}}}cleanup(){this.cleanupFn?.(),this.cleanupFn=void 0,this.spec=void 0}destroy(){this.cleanup(),this.outputs.set(void 0),this.state.set(void 0),this.selections.set(void 0)}}class zWe{constructor(e,n,r={}){this.context=e,this.spec=n,this.stats=r}fieldExpr(e){let n={table:this.context.table,filter:"(true)"};return typeof e=="string"?be(e):Pt`${GU(e.sql,n)}`}fromExpr(e,n){let r={table:this.context.table,filter:n??"(true)"};return typeof e=="string"?new HD(e):Pt`(${GU(e.sql,r)})`}}function lse(t,e){return JSON.stringify([t.toString(),e])}async function UWe(t){let e={};(t.spec.layers??[]).forEach(i=>{let s=t.fromExpr(i.from??t.context.table);Object.entries(i.encoding??{}).forEach(([o,a])=>{if("field"in a&&!("aggregate"in a)){let l=lse(s,a.field);e[l]=t.context.cache.value("field-stats/"+l,()=>wre(t.context.coordinator,s,t.fieldExpr(a.field)))}})});let n=Object.entries(e),r=await Promise.all(n.map(i=>i[1]));return Object.fromEntries(n.map(([i,s],o)=>[i,r[o]]))}function jWe(t,e,n){let r=[],i={},s=[];return(t.spec.layers??[]).forEach((a,l)=>{let{client:u,outputs:c,scaleHints:f}=qWe(t,a,l);for(let h in f)i[h]?i[h]=cse(i[h],f[h]):i[h]=f[h];u!=null&&r.push(u),s.push(c)}),SO(s,a=>a).subscribe(a=>{e.set(ZWe(t.spec,i,a))}),n.set(WWe(t.spec,i)),r}function qWe(t,e,n){let r={},i={},s={},o={},a=[],l={},u=t.fromExpr(e.from??t.context.table),c=!1;Object.entries(e.encoding??{}).forEach(([h,d])=>{("aggregate"in d||"field"in d&&d.bin!=null)&&(c=!0)}),Object.entries(e.encoding??{}).forEach(([h,d])=>{let m=use(h),g=VWe(t,u,m,d,c);g!=null&&(g.select!=null&&(s[h]=g.select),g.normalize!=null&&(o[h]=g.normalize),g.grouping!=null&&(a=a.concat(g.grouping)),g.mapper!=null&&(i[h]=g.mapper),g.order!=null&&(l[h]=g.order),m!=null&&g.scale!=null&&(r[m]==null?r[m]=g.scale:r[m]=cse(r[m],g.scale)))});let f=Da(void 0);if(Object.keys(s).length==0){let h={length:1,columns:{}};for(let m in i)h.columns[m]=[i[m](void 0)];return{outputs:Da(nj(e,n,h,l)),scaleHints:r}}else{let h=e.filter=="$filter";typeof e.from=="object"&&e.from.sql.indexOf("$filter")>=0&&(h=!0);let d=M1({coordinator:t.context.coordinator,selection:h?t.context.filter:void 0,query:m=>{let g=lt.from(t.fromExpr(e.from??t.context.table,eR(m))).select(s).where(e.filter=="$filter"?m:[]).groupby(...a);return Object.keys(o).length==0?g:lt.from(g).select(Object.fromEntries(Object.entries(s).map(([b,v])=>[b,o[b]!=null?Pt`${be(b)} / (SUM(${be(b)}) OVER (PARTITION BY ${be(o[b])}))`:b])))},queryResult:m=>{let g={length:m.numRows,columns:{}};for(let b of m.names)g.columns[b]=Array.from(m.getChild(b));for(let b in i)g.columns[b]?g.columns[b]=g.columns[b].map(i[b]):g.columns[b]=Array.from({length:g.length},()=>i[b](void 0));f.set(nj(e,n,g,l))}});return{outputs:f,client:d,scaleHints:r}}}const YU={min:t=>Lg(t),max:t=>AO(t),mean:t=>Bx(t),average:t=>Bx(t),median:t=>JD(t),stdev:t=>Uge(t),stdevp:t=>jge(t),variance:t=>qge(t),variancep:t=>Vge(t),sum:t=>Wi(t),product:t=>Lge(t),quantile:(t,{quantile:e})=>Nge(t,e??.5)};function VWe(t,e,n,r,i){if("aggregate"in r)switch(r.aggregate){case"count":return{select:_i(),scale:{title:"Count",kind:"quantitative",includeZero:!0},normalize:r.normalize};case"ecdf-value":if(r.field!=null){let s=HU(),o=hi(t.fieldExpr(r.field),"DOUBLE");return{select:Pt`unnest(quantile_disc(${o}, ${s}))`,scale:{kind:"quantitative",predicate:a=>KU(o,a),title:gA(r.field)},normalize:r.normalize}}else{console.warn(`Invalid spec: aggregate '${r.aggregate}' require a field`);return}case"ecdf-rank":{let s=HU();return{select:Pt`unnest(${s})`,scale:{kind:"quantitative",domain:[0,1],title:"Quantile"},normalize:r.normalize}}default:{if(typeof r.aggregate=="string"&&YU[r.aggregate]){let s=YU[r.aggregate];if(r.field!=null){let o=t.fieldExpr(r.field);return{select:s(o,{quantile:r.quantile}).where(Kh(o)),scale:{kind:"quantitative",predicate:a=>KU(o,a),title:`${r.aggregate.toUpperCase()}(${gA(r.field)})`},normalize:r.normalize}}else{console.warn(`Invalid spec: aggregate '${r.aggregate}' require a field`);return}}if(typeof r.aggregate=="object"&&"sql"in r.aggregate)return{select:Pt`${r.aggregate.sql}`,scale:{kind:"quantitative"},normalize:r.normalize};console.warn(`Invalid spec: unknown aggregate '${r.aggregate}'`);return}}else if("field"in r){let s=r.bin;s==null&&i&&n!=null&&(s={});let o=t.stats[lse(e,r.field)];if(!o)return;if(s){let a=_re({stats:o,scaleType:n?t.spec.scale?.[n]?.type:void 0,binCount:s.desiredCount??(n=="x"||n=="y"?20:5)});if(a==null){console.warn("Invalid spec: unsupported data type");return}return{select:a.select,grouping:[a.select],scale:n?{...a.scale,kind:a.scale.type=="band"?"nominal":"quantitative",predicate:a.predicate,title:gA(r.field)}:void 0,mapper:a.field,order:a.order}}else{let a=t.fieldExpr(r.field);return{select:a,grouping:i?[a]:[],scale:{kind:o.quantitative?"quantitative":"nominal"}}}}else if("value"in r)return{mapper:()=>r.value,scale:typeof r.value=="string"?{kind:"nominal",domain:[r.value]}:typeof r.value=="number"?{kind:"quantitative",domain:[r.value]}:void 0}}function GU(t,e){return t.replace(/\$([a-zA-Z][a-zA-Z0-9\_]*)/g,(n,r)=>e[r]!=null?e[r]:n)}function gA(t){return typeof t=="string"?t:t.sql}function HU(){let t=[],e=200;for(let n=0;n<=e;n++)t.push(n/e);return Pt`[${t.map(n=>et(n)).join(",")}]::DOUBLE[]`}function KU(t,e){if(e instanceof Array&&e.length==2&&typeof e[0]=="number"){let[n,r]=e;if(typeof n=="number"&&typeof r=="number")return Bh(t,[Math.min(n,r),Math.max(n,r)])}}function use(t){switch(t){case"x":case"x1":case"x2":return"x";case"y":case"y1":case"y2":return"y";case"color":return"color";case"size":return"size"}}function cse(t,e){let n=Array.from(new Set([t.title,e.title].filter(i=>i!=null&&i.trim()!=""))),r=n.length>0?n.join(", "):void 0;return{kind:e.kind,type:t.type??e.type,domain:(t.domain??[]).concat(e.domain??[]),specialValues:(t.specialValues??[]).concat(e.specialValues??[]),title:r,includeZero:t.includeZero===!0||e.includeZero===!0?!0:void 0,predicate:t.predicate??e.predicate}}function JU(t){return rMe(t,e=>typeof e=="number"&&isFinite(e)?e:void 0)}function XWe(t,e,n,r){switch(e.kind){case"quantitative":{let i=[e.domain??[],...n].map(l=>JU(l.flat())).flat(),[s,o]=JU(i);return(s==null||o==null||!isFinite(s)||!isFinite(o))&&(s=0,o=1),s==o&&(s>0?s=0:s<0?o=0:o=1),(r=="size"||e.includeZero===!0)&&(s>0?s=0:o<0&&(o=0)),{type:t.type??e.type??"linear",domain:t.domain??[s,o],specialValues:e.specialValues,constant:t.constant,range:t.range}}case"nominal":{let i=[e.domain??[],...n].map(a=>new Set(a.flat().filter(l=>typeof l=="string"))).flatMap(a=>Array.from(a)),s=new Set(e.specialValues??[]),o=Array.from(new Set(i)).filter(a=>!s.has(a));return{type:t.type??e.type??"band",domain:t.domain??o,specialValues:e.specialValues,range:t.range}}default:return{type:"linear",domain:[0,1]}}}function ej(t,e,n,r){let i=h=>JSON.stringify(h),s=h=>JSON.parse(h),o=t.columns[e].slice(),a=t.columns[n].slice(),l=Object.entries(t.columns).filter(([h,d])=>h!=e&&h!=n).map(([h,d])=>[h,d.slice()]),u=new Set,c=new Set,f=new Set;for(let h=0;h<o.length;h++){let d=i(o[h]),m=i(l.map(([g,b])=>b[h]));u.add(d),c.add(m),f.add(d+","+m)}for(let h of u)for(let d of c)if(!f.has(h+","+d)){o.push(s(h)),a.push(r);let m=s(d);for(let g=0;g<l.length;g++)l[g][1].push(m[g])}return{length:o.length,columns:{[e]:o,[n]:a,...Object.fromEntries(l)}}}function x_(t,e,n){let r=e=="x"?"y":"x",i=new Map;for(let o=0;o<t.length;o++){let a=t.columns[e]!=null?JSON.stringify(t.columns[e][o]):"",l=i.get(a);l==null?i.set(a,[o]):l.push(o)}let s=t.columns[r].slice();for(let o of i.values()){o.sort((l,u)=>{for(let c in n){let f=t.columns[c];if(f==null)continue;let h=n[c](f[l],f[u]);if(h!=0)return h}return l-u});let a=0;for(let l of o){let u=s[l];if(typeof u!="number"||!isFinite(u)){s[l]=null;continue}let c=a+u;s[l]=[a,c],a=c}}return{length:t.length,columns:{...t.columns,[r]:s}}}function tj(t){return t.encoding?.x!=null&&"aggregate"in t.encoding.x?"horizontal":"vertical"}function nj(t,e,n,r){let i={key:e.toString(),zIndex:t.zIndex??0,interpolate:t.interpolate??"linear",orientation:t.orientation,xDimension:t.width,yDimension:t.height,data:n};switch(t.mark){case"bar":switch(t.orientation??tj(t)){case"horizontal":i.data=x_(n,"y",r),i.yDimension=t.height??{gap:1,clampToRatio:.1},i.orientation="horizontal";break;case"vertical":i.data=x_(n,"x",r),i.xDimension=t.width??{gap:1,clampToRatio:.1},i.orientation="vertical";break;default:console.warn(`Invalid orientation: '${t.orientation}'`);return}return{...i,primitive:"rect",style:{fillColor:"$encoding",...t.style}};case"point":return{...i,primitive:t.mark,style:{fillColor:"$encoding",...t.style}};case"rect":return{...i,primitive:t.mark,style:{fillColor:"$encoding",...t.style}};case"line":return{...i,primitive:t.mark,style:{strokeColor:"$encoding",strokeWidth:2,strokeJoin:"round",strokeCap:"round",...t.style}};case"area":switch(t.orientation??tj(t)){case"horizontal":i.data=x_(ej(n,"y","x",0),"y",r),i.orientation="horizontal";break;case"vertical":i.data=x_(ej(n,"x","y",0),"x",r),i.orientation="vertical";break;default:console.warn(`Invalid orientation: '${t.orientation}'`);return}return{...i,primitive:"area",style:{fillColor:"$encoding",...t.style}};case"rule":return t.orientation=="vertical"?i.xDimension=0:t.orientation=="horizontal"&&(i.yDimension=0),{...i,primitive:t.mark,style:{strokeColor:"$encoding",strokeWidth:2,...t.style}};default:console.warn(`Invalid mark: '${t.mark}'`);return}}function ZWe(t,e,n){let r={},i={};(t.layers??[]).forEach((s,o)=>{Object.entries(s.encoding??{}).forEach(([a,l])=>{if(n[o]==null)return;let u=use(a);if(u!=null){let c=n[o].data.columns[a];c!=null&&(i[u]==null?i[u]=[c]:i[u].push(c))}})});for(let s of Object.keys(e))r[s]=XWe(t.scale?.[s]??{},e[s],i[s]??[],s);return{scale:r,axis:{x:{title:e.x?.title,...t.axis?.x??{}},y:{title:e.y?.title,...t.axis?.y??{}}},layers:n.filter(s=>s!=null)}}function WWe(t,e){let n=[];return Object.entries(t.selection??{}).forEach(([r,i])=>{if("encoding"in i){let s,o;(i.encoding=="x"||i.encoding=="xy")&&e.x?.predicate!=null&&(s=e.x.predicate),(i.encoding=="y"||i.encoding=="xy")&&e.y?.predicate!=null&&(o=e.y.predicate),n.push({key:r,type:i.encoding,clause:a=>{if(a==null)return;let l=Ia(...[s?.(a?.x),o?.(a?.y)].filter(u=>u!=null));return{value:a,predicate:l}}})}}),n}var YWe=ce('<div class="text-slate-400 mb-1 select-none truncate"> </div>'),GWe=ce("<!> <!>",1),HWe=ce('<div class="text-slate-400 mb-1 select-none text-right truncate"> </div>'),KWe=ce('<div class="flex-1"><div class="min-w-32 max-w-72"><!></div></div>'),JWe=ce('<div class="flex-none flex items-start gap-4 justify-end"><!> <!></div>'),eYe=ce('<div class="flex-1 flex flex-col"><!> <!> <!></div>  <!>',1);function tYe(t,e){Ke(e,!0);const n=()=>ki(l,"$colorScheme",o),r=()=>ki(u,"$themeConfig",o),i=()=>ki(h,"$outputs",o),s=()=>ki(d,"$selections",o),[o,a]=za();let{colorScheme:l,theme:u}=e.context,c=X(()=>vR(n(),r())),f=new BWe(e.context,()=>{e.onStateChange({},"replace")}),{outputs:h,selections:d}=f;fk(()=>{f.destroy()}),or(()=>{f.setSpec(e.spec)}),or(()=>{f.state.set(e.state)});let m=X(()=>i()?.scale.color?HZe(i().scale.color,w(c)):void 0),g=X(()=>i()?.scale.size?KZe(i().scale.size,w(c)):void 0),b=X(()=>i()?.layers.sort((x,C)=>x.zIndex-C.zIndex)??[]),v=X(()=>e.height!=null),O=160;Ed(t,{get width(){return e.width},get height(){return e.height},class:"flex flex-col gap-2",children:(x,C)=>{const S=X(()=>w(m)!=null),A=X(()=>(e.spec.widgets?.length??0)>0);var k=eYe(),T=Be(k),D=H(T);{var $=z=>{var Z=YWe(),J=H(Z);W(Z),Pe(()=>Tt(J,`â ${i()?.axis.y.title??""}`)),j(z,Z)};Oe(D,z=>{i()?.axis.y.title!=null&&z($)})}var M=ae(D,2);nse(M,{get flexHeight(){return w(v)},children:(Z,J=yr,ee=yr)=>{var ie=At(),K=Be(ie);{var fe=le=>{{const me=(Te,tt=yr)=>{var at=At(),Re=Be(at);Zt(Re,17,()=>w(b).filter(We=>We.zIndex<0),We=>We.key,(We,Rt)=>{WU(We,{get proxy(){return tt()},get theme(){return w(c)},get layer(){return w(Rt)}})}),j(Te,at)},oe=(Te,tt=yr)=>{var at=GWe(),Re=Be(at);Zt(Re,17,()=>w(b).filter(Rt=>!(Rt.zIndex<0)),Rt=>Rt.key,(Rt,dt)=>{WU(Rt,{get proxy(){return tt()},get theme(){return w(c)},get layer(){return w(dt)}})});var We=ae(Re,2);Zt(We,1,()=>s()??[],Rn,(Rt,dt)=>{pWe(Rt,{get proxy(){return tt()},get mode(){return w(dt).type},get value(){return e.state[w(dt).key]},get theme(){return w(c)},onChange:Qt=>{switch(w(dt).type){case"x":e.onStateChange({[w(dt).key]:Qt?.x!=null?{x:Qt.x}:void 0});break;case"y":e.onStateChange({[w(dt).key]:Qt?.y!=null?{y:Qt.y}:void 0});break;case"xy":e.onStateChange({[w(dt).key]:Qt!=null&&Qt.x!=null&&Qt.y!=null?{x:Qt.x,y:Qt.y}:void 0});break}}})}),j(Te,at)};let De=X(()=>w(v)?ee():void 0),Ve=X(()=>e.spec.plotSize?.width??void 0),Ne=X(()=>e.spec.plotSize?.height??(e.spec.plotSize?.aspectRatio==null&&!w(v)?O:void 0)),Ae=X(()=>e.spec.plotSize?.aspectRatio),ke=X(()=>({color:w(m),size:w(g)}));ase(le,{get width(){return J()},get height(){return w(De)},get plotWidth(){return w(Ve)},get plotHeight(){return w(Ne)},get plotAspectRatio(){return w(Ae)},get xScale(){return i().scale.x},get yScale(){return i().scale.y},get xAxis(){return i().axis.x},get yAxis(){return i().axis.y},get otherScales(){return w(ke)},get theme(){return w(c)},childrenBelow:me,children:oe,$$slots:{childrenBelow:!0,default:!0}})}};Oe(K,le=>{i()!=null&&le(fe)})}j(Z,ie)},$$slots:{default:!0}});var L=ae(M,2);{var R=z=>{var Z=HWe(),J=H(Z);W(Z),Pe(()=>Tt(J,`${i()?.axis.x.title??""} â`)),j(z,Z)};Oe(L,z=>{i()?.axis.x.title!=null&&z(R)})}W(T);var I=ae(T,2);{var B=z=>{var Z=JWe(),J=H(Z);{var ee=fe=>{var le=KWe(),me=H(le),oe=H(me);xWe(oe,{get scale(){return w(m)},get outputs(){return i()},get theme(){return w(c)}}),W(me),W(le),j(fe,le)};Oe(J,fe=>{w(S)&&fe(ee)})}var ie=ae(J,2);{var K=fe=>{QWe(fe,{get spec(){return e.spec},get outputs(){return i()},get onSpecChange(){return e.onSpecChange}})};Oe(ie,fe=>{w(A)&&fe(K)})}W(Z),j(z,Z)};Oe(I,z=>{i()&&(w(S)||w(A))&&z(B)})}j(x,k)},$$slots:{default:!0}}),Je(),a()}const Vs=2,B4=4,kR=8,dh=16,ph=32,Q0=64,z4=128,Rs=1024,na=2048,mh=4096,La=8192,qf=16384,CR=32768,b0=65536,rj=1<<17,fse=1<<18,ay=1<<19,nYe=1<<20,vl=256,Y3=512,G3=32768,NT=1<<21,AR=1<<22,od=1<<23,Yp=Symbol("$state"),hse=Symbol("legacy props"),rYe=Symbol(""),Xm=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},ER=3,ly=8,iYe=!1;var TR=Array.isArray,sYe=Array.prototype.indexOf,DR=Array.from,dse=Object.defineProperty,Cg=Object.getOwnPropertyDescriptor,pse=Object.getOwnPropertyDescriptors,mse=Object.prototype,oYe=Array.prototype,U4=Object.getPrototypeOf,ij=Object.isExtensible;function aYe(t){for(var e=0;e<t.length;e++)t[e]()}function gse(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}function yse(t){return t===this.v}function bse(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function vse(t){return!bse(t,this.v)}function Ose(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function lYe(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function uYe(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function cYe(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function fYe(t){throw new Error("https://svelte.dev/e/effect_orphan")}function hYe(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function dYe(){throw new Error("https://svelte.dev/e/hydration_failed")}function pYe(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function mYe(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function gYe(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function yYe(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}let h2=!1,bYe=!1;function vYe(){h2=!0}const PR=1,RR=2,wse=4,OYe=8,wYe=16,_Ye=1,xYe=2,_se="[",j4="[!",$R="]",_1={},As=Symbol(),SYe="http://www.w3.org/1999/xhtml",kYe=[];function xse(t,e=!1,n=!1){return _x(t,new Map,"",kYe,null,n)}function _x(t,e,n,r,i=null,s=!1){if(typeof t=="object"&&t!==null){var o=e.get(t);if(o!==void 0)return o;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(TR(t)){var a=Array(t.length);e.set(t,a),i!==null&&e.set(i,a);for(var l=0;l<t.length;l+=1){var u=t[l];l in t&&(a[l]=_x(u,e,n,r,null,s))}return a}if(U4(t)===mse){a={},e.set(t,a),i!==null&&e.set(i,a);for(var c in t)a[c]=_x(t[c],e,n,r,null,s);return a}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!s)return _x(t.toJSON(),e,n,r,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}let oi=null;function x1(t){oi=t}function Fo(t){return Sse().get(t)}function il(t,e){return Sse().set(t,e),e}function di(t,e=!1,n){oi={p:oi,i:!1,c:null,e:null,s:t,x:null,l:h2&&!e?{s:null,u:null,$:[]}:null}}function pi(t){var e=oi,n=e.e;if(n!==null){e.e=null;for(var r of n)Wse(r)}return e.i=!0,oi=e.p,{}}function uy(){return!h2||oi!==null&&oi.l===null}function Sse(t){return oi===null&&Ose(),oi.c??=new Map(CYe(oi)||void 0)}function CYe(t){let e=t.p;for(;e!==null;){const n=e.c;if(n!==null)return n;e=e.p}return null}let Lp=[];function kse(){var t=Lp;Lp=[],aYe(t)}function B0(t){if(Lp.length===0&&!ev){var e=Lp;queueMicrotask(()=>{e===Lp&&kse()})}Lp.push(t)}function AYe(){for(;Lp.length>0;)kse()}function q4(t){console.warn("https://svelte.dev/e/hydration_mismatch")}function EYe(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Sn=!1;function Rf(t){Sn=t}let jn;function Yo(t){if(t===null)throw q4(),_1;return jn=t}function d2(){return Yo(Vc(jn))}function Un(t){if(Sn){if(Vc(jn)!==null)throw q4(),_1;jn=t}}function TYe(t=1){if(Sn){for(var e=t,n=jn;e--;)n=Vc(n);jn=n}}function H3(t=!0){for(var e=0,n=jn;;){if(n.nodeType===ly){var r=n.data;if(r===$R){if(e===0)return n;e-=1}else(r===_se||r===j4)&&(e+=1)}var i=Vc(n);t&&n.remove(),n=i}}function Cse(t){if(!t||t.nodeType!==ly)throw q4(),_1;return t.data}function $s(t){if(typeof t!="object"||t===null||Yp in t)return t;const e=U4(t);if(e!==mse&&e!==oYe)return t;var n=new Map,r=TR(t),i=He(0),s=Gp,o=a=>{if(Gp===s)return a();var l=On,u=Gp;Zo(null),uj(s);var c=a();return Zo(l),uj(u),c};return r&&n.set("length",He(t.length)),new Proxy(t,{defineProperty(a,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&pYe();var c=n.get(l);return c===void 0?c=o(()=>{var f=He(u.value);return n.set(l,f),f}):_e(c,u.value,!0),!0},deleteProperty(a,l){var u=n.get(l);if(u===void 0){if(l in a){const c=o(()=>He(As));n.set(l,c),tv(i)}}else _e(u,As),tv(i);return!0},get(a,l,u){if(l===Yp)return t;var c=n.get(l),f=l in a;if(c===void 0&&(!f||Cg(a,l)?.writable)&&(c=o(()=>{var d=$s(f?a[l]:As),m=He(d);return m}),n.set(l,c)),c!==void 0){var h=U(c);return h===As?void 0:h}return Reflect.get(a,l,u)},getOwnPropertyDescriptor(a,l){var u=Reflect.getOwnPropertyDescriptor(a,l);if(u&&"value"in u){var c=n.get(l);c&&(u.value=U(c))}else if(u===void 0){var f=n.get(l),h=f?.v;if(f!==void 0&&h!==As)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(a,l){if(l===Yp)return!0;var u=n.get(l),c=u!==void 0&&u.v!==As||Reflect.has(a,l);if(u!==void 0||un!==null&&(!c||Cg(a,l)?.writable)){u===void 0&&(u=o(()=>{var h=c?$s(a[l]):As,d=He(h);return d}),n.set(l,u));var f=U(u);if(f===As)return!1}return c},set(a,l,u,c){var f=n.get(l),h=l in a;if(r&&l==="length")for(var d=u;d<f.v;d+=1){var m=n.get(d+"");m!==void 0?_e(m,As):d in a&&(m=o(()=>He(As)),n.set(d+"",m))}if(f===void 0)(!h||Cg(a,l)?.writable)&&(f=o(()=>He(void 0)),_e(f,$s(u)),n.set(l,f));else{h=f.v!==As;var g=o(()=>$s(u));_e(f,g)}var b=Reflect.getOwnPropertyDescriptor(a,l);if(b?.set&&b.set.call(c,u),!h){if(r&&typeof l=="string"){var v=n.get("length"),O=Number(l);Number.isInteger(O)&&O>=v.v&&_e(v,O+1)}tv(i)}return!0},ownKeys(a){U(i);var l=Reflect.ownKeys(a).filter(f=>{var h=n.get(f);return h===void 0||h.v!==As});for(var[u,c]of n)c.v!==As&&!(u in a)&&l.push(u);return l},setPrototypeOf(){mYe()}})}var QT,Ase,Ese,Tse;function BT(){if(QT===void 0){QT=window,Ase=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Ese=Cg(e,"firstChild").get,Tse=Cg(e,"nextSibling").get,ij(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),ij(n)&&(n.__t=void 0)}}function Pc(t=""){return document.createTextNode(t)}function v0(t){return Ese.call(t)}function Vc(t){return Tse.call(t)}function Yn(t,e){if(!Sn)return v0(t);var n=v0(jn);if(n===null)n=jn.appendChild(Pc());else if(e&&n.nodeType!==ER){var r=Pc();return n?.before(r),Yo(r),r}return Yo(n),n}function Ta(t,e=!1){if(!Sn){var n=v0(t);return n instanceof Comment&&n.data===""?Vc(n):n}if(e&&jn?.nodeType!==ER){var r=Pc();return jn?.before(r),Yo(r),r}return jn}function dl(t,e=1,n=!1){let r=Sn?jn:t;for(var i;e--;)i=r,r=Vc(r);if(!Sn)return r;if(n&&r?.nodeType!==ER){var s=Pc();return r===null?i?.after(s):r.before(s),Yo(s),s}return Yo(r),r}function Dse(t){t.textContent=""}function DYe(){return!1}function Pse(t){var e=un;if(e===null)return On.f|=od,t;if((e.f&CR)===0){if((e.f&z4)===0)throw t;e.b.error(t)}else S1(t,e)}function S1(t,e){for(;e!==null;){if((e.f&z4)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const S_=new Set;let ji=null,eu=null,Ku=[],V4=null,zT=!1,ev=!1;class ac{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#r=0;#l=null;#a=[];#i=[];skipped_effects=new Set;is_fork=!1;process(e){Ku=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)this.#s(r,n);this.is_fork||this.#u(),this.#r>0||this.is_fork?(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects)):(ji=null,sj(n.render_effects),sj(n.effects),this.#l?.resolve()),eu=null}#s(e,n){e.f^=Rs;for(var r=e.first;r!==null;){var i=r.f,s=(i&(ph|Q0))!==0,o=s&&(i&Rs)!==0,a=o||(i&La)!==0||this.skipped_effects.has(r);if((r.f&z4)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!a&&r.fn!==null){s?r.f^=Rs:(i&B4)!==0?n.effects.push(r):p2(r)&&((r.f&dh)!==0&&n.block_effects.push(r),yO(r));var l=r.first;if(l!==null){r=l;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects),n=n.parent),r=u.next,u=u.parent}}#o(e){for(const n of e)((n.f&na)!==0?this.#a:this.#i).push(n),Qs(n,Rs)}capture(e,n){this.previous.has(e)||this.previous.set(e,n),(e.f&od)===0&&(this.current.set(e,e.v),eu?.set(e,e.v))}activate(){ji=this,this.apply()}deactivate(){ji=null,eu=null}flush(){if(this.activate(),Ku.length>0){if(Rse(),ji!==null&&ji!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#u(){if(this.#r===0){for(const e of this.#e)e();this.#e.clear()}this.#n===0&&this.#c()}#c(){if(S_.size>1){this.previous.clear();var e=eu,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of S_){if(i===this){n=!1;continue}const s=[];for(const[a,l]of this.current){if(i.current.has(a))if(n&&l!==i.current.get(a))i.current.set(a,l);else continue;s.push(a)}if(s.length===0)continue;const o=[...i.current.keys()].filter(a=>!this.current.has(a));if(o.length>0){const a=new Set,l=new Map;for(const u of s)$se(u,o,a,l);if(Ku.length>0){ji=i,i.apply();for(const u of Ku)i.#s(u,r);Ku=[],i.deactivate()}}}ji=null,eu=e}this.committed=!0,S_.delete(this)}increment(e){this.#n+=1,e&&(this.#r+=1)}decrement(e){this.#n-=1,e&&(this.#r-=1),this.revive()}revive(){for(const e of this.#a)Qs(e,na),O0(e);for(const e of this.#i)Qs(e,mh),O0(e);this.#a=[],this.#i=[],this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#l??=gse()).promise}static ensure(){if(ji===null){const e=ji=new ac;S_.add(ji),ev||ac.enqueue(()=>{ji===e&&e.flush()})}return ji}static enqueue(e){B0(e)}apply(){}}function PYe(t){var e=ev;ev=!0;try{for(var n;;){if(AYe(),Ku.length===0&&(ji?.flush(),Ku.length===0))return V4=null,n;Rse()}}finally{ev=e}}function Rse(){var t=Ag;zT=!0;try{var e=0;for(aj(!0);Ku.length>0;){var n=ac.ensure();if(e++>1e3){var r,i;RYe()}n.process(Ku),ad.clear()}}finally{zT=!1,aj(t),V4=null}}function RYe(){try{hYe()}catch(t){S1(t,V4)}}let gf=null;function sj(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(qf|La))===0&&p2(r)&&(gf=new Set,yO(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Hse(r):r.fn=null),gf?.size>0)){ad.clear();for(const i of gf){if((i.f&(qf|La))!==0)continue;const s=[i];let o=i.parent;for(;o!==null;)gf.has(o)&&(gf.delete(o),s.push(o)),o=o.parent;for(let a=s.length-1;a>=0;a--){const l=s[a];(l.f&(qf|La))===0&&yO(l)}}gf.clear()}}gf=null}}function $se(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const s=i.f;(s&Vs)!==0?$se(i,e,n,r):(s&(AR|dh))!==0&&(s&na)===0&&Ise(i,e,r)&&(Qs(i,na),O0(i))}}function Ise(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&Vs)!==0&&Ise(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function O0(t){for(var e=V4=t;e.parent!==null;){e=e.parent;var n=e.f;if(zT&&e===un&&(n&dh)!==0&&(n&fse)===0)return;if((n&(Q0|ph))!==0){if((n&Rs)===0)return;e.f^=Rs}}Ku.push(e)}function $Ye(t){let e=0,n=w0(0),r;return()=>{YYe()&&(U(n),MR(()=>(e===0&&(r=m2(()=>t(()=>tv(n)))),e+=1,()=>{B0(()=>{e-=1,e===0&&(r?.(),r=void 0,tv(n))})})))}}var IYe=b0|ay|z4;function FYe(t,e,n){new MYe(t,e,n)}class MYe{parent;#e=!1;#t;#n=Sn?jn:null;#r;#l;#a;#i=null;#s=null;#o=null;#u=null;#c=null;#d=0;#f=0;#p=!1;#h=null;#y=$Ye(()=>(this.#h=w0(this.#d),()=>{this.#h=null}));constructor(e,n,r){this.#t=e,this.#r=n,this.#l=r,this.parent=un.b,this.#e=!!this.#r.pending,this.#a=y2(()=>{if(un.b=this,Sn){const s=this.#n;d2(),s.nodeType===ly&&s.data===j4?this.#v():this.#b()}else{var i=this.#O();try{this.#i=ql(()=>r(i))}catch(s){this.error(s)}this.#f>0?this.#g():this.#e=!1}return()=>{this.#c?.remove()}},IYe),Sn&&(this.#t=jn)}#b(){try{this.#i=ql(()=>this.#l(this.#t))}catch(e){this.error(e)}this.#e=!1}#v(){const e=this.#r.pending;e&&(this.#s=ql(()=>e(this.#t)),ac.enqueue(()=>{var n=this.#O();this.#i=this.#m(()=>(ac.ensure(),ql(()=>this.#l(n)))),this.#f>0?this.#g():(Eg(this.#s,()=>{this.#s=null}),this.#e=!1)}))}#O(){var e=this.#t;return this.#e&&(this.#c=Pc(),this.#t.before(this.#c),e=this.#c),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#m(e){var n=un,r=On,i=oi;Rc(this.#a),Zo(this.#a),x1(this.#a.ctx);try{return e()}catch(s){return Pse(s),null}finally{Rc(n),Zo(r),x1(i)}}#g(){const e=this.#r.pending;this.#i!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#c),eoe(this.#i,this.#u)),this.#s===null&&(this.#s=ql(()=>e(this.#t)))}#w(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#w(e);return}this.#f+=e,this.#f===0&&(this.#e=!1,this.#s&&Eg(this.#s,()=>{this.#s=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(e){this.#w(e),this.#d+=e,this.#h&&k1(this.#h,this.#d)}get_effect_pending(){return this.#y(),U(this.#h)}error(e){var n=this.#r.onerror;let r=this.#r.failed;if(this.#p||!n&&!r)throw e;this.#i&&(go(this.#i),this.#i=null),this.#s&&(go(this.#s),this.#s=null),this.#o&&(go(this.#o),this.#o=null),Sn&&(Yo(this.#n),TYe(),Yo(H3()));var i=!1,s=!1;const o=()=>{if(i){EYe();return}i=!0,s&&yYe(),ac.ensure(),this.#d=0,this.#o!==null&&Eg(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#i=this.#m(()=>(this.#p=!1,ql(()=>this.#l(this.#t)))),this.#f>0?this.#g():this.#e=!1};var a=On;try{Zo(null),s=!0,n?.(e,o),s=!1}catch(l){S1(l,this.#a&&this.#a.parent)}finally{Zo(a)}r&&B0(()=>{this.#o=this.#m(()=>{ac.ensure(),this.#p=!0;try{return ql(()=>{r(this.#t,()=>e,()=>o)})}catch(l){return S1(l,this.#a.parent),null}finally{this.#p=!1}})})}}function LYe(t,e,n,r){const i=uy()?X4:Fse;if(n.length===0&&t.length===0){r(e.map(i));return}var s=ji,o=un,a=NYe();function l(){Promise.all(n.map(u=>QYe(u))).then(u=>{a();try{r([...e.map(i),...u])}catch(c){(o.f&qf)===0&&S1(c,o)}s?.deactivate(),K3()}).catch(u=>{S1(u,o)})}t.length>0?Promise.all(t).then(()=>{a();try{return l()}finally{s?.deactivate(),K3()}}):l()}function NYe(){var t=un,e=On,n=oi,r=ji;return function(i=!0){Rc(t),Zo(e),x1(n),i&&r?.activate()}}function K3(){Rc(null),Zo(null),x1(null)}function X4(t){var e=Vs|na,n=On!==null&&(On.f&Vs)!==0?On:null;return un===null||n!==null&&(n.f&vl)!==0?e|=vl:un.f|=ay,{ctx:oi,deps:null,effects:null,equals:yse,f:e,fn:t,reactions:null,rv:0,v:As,wv:0,parent:n??un,ac:null}}function QYe(t,e){let n=un;n===null&&lYe();var r=n.b,i=void 0,s=w0(As),o=!On,a=new Map;return HYe(()=>{var l=gse();i=l.promise;try{Promise.resolve(t()).then(l.resolve,l.reject).then(()=>{u===ji&&u.committed&&u.deactivate(),K3()})}catch(h){l.reject(h),K3()}var u=ji;if(o){var c=!r.is_pending();r.update_pending_count(1),u.increment(c),a.get(u)?.reject(Xm),a.delete(u),a.set(u,l)}const f=(h,d=void 0)=>{if(u.activate(),d)d!==Xm&&(s.f|=od,k1(s,d));else{(s.f&od)!==0&&(s.f^=od),k1(s,h);for(const[m,g]of a){if(a.delete(m),m===u)break;g.reject(Xm)}}o&&(r.update_pending_count(-1),u.decrement(c))};l.promise.then(f,h=>f(null,h||"unknown"))}),Zse(()=>{for(const l of a.values())l.reject(Xm)}),new Promise(l=>{function u(c){function f(){c===i?l(s):u(i)}c.then(f,f)}u(i)})}function Ee(t){const e=X4(t);return zse(e),e}function Fse(t){const e=X4(t);return e.equals=vse,e}function Mse(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)go(e[n])}}function BYe(t){for(var e=t.parent;e!==null;){if((e.f&Vs)===0)return e;e=e.parent}return null}function IR(t){var e,n=un;Rc(BYe(t));try{t.f&=~G3,Mse(t),e=Vse(t)}finally{Rc(n)}return e}function Lse(t){var e=IR(t);if(t.equals(e)||(t.v=e,t.wv=jse()),!z0)if(eu!==null)eu.set(t,t.v);else{var n=(Zh||(t.f&vl)!==0)&&t.deps!==null?mh:Rs;Qs(t,n)}}let UT=new Set;const ad=new Map;let Nse=!1;function w0(t,e){var n={f:0,v:t,reactions:null,equals:yse,rv:0,wv:0};return n}function He(t,e){const n=w0(t);return zse(n),n}function Qse(t,e=!1,n=!0){const r=w0(t);return e||(r.equals=vse),h2&&n&&oi!==null&&oi.l!==null&&(oi.l.s??=[]).push(r),r}function _e(t,e,n=!1){On!==null&&(!tu||(On.f&rj)!==0)&&uy()&&(On.f&(Vs|dh|AR|rj))!==0&&!Vf?.includes(t)&&gYe();let r=n?$s(e):e;return k1(t,r)}function k1(t,e){if(!t.equals(e)){var n=t.v;z0?ad.set(t,e):ad.set(t,n),t.v=e;var r=ac.ensure();r.capture(t,n),(t.f&Vs)!==0&&((t.f&na)!==0&&IR(t),Qs(t,(t.f&vl)===0?Rs:mh)),t.wv=jse(),Bse(t,na),uy()&&un!==null&&(un.f&Rs)!==0&&(un.f&(ph|Q0))===0&&(tl===null?jYe([t]):tl.push(t)),!r.is_fork&&UT.size>0&&!Nse&&zYe()}return e}function zYe(){Nse=!1;const t=Array.from(UT);for(const e of t)(e.f&Rs)!==0&&Qs(e,mh),p2(e)&&yO(e);UT.clear()}function tv(t){_e(t,t.v+1)}function Bse(t,e){var n=t.reactions;if(n!==null)for(var r=uy(),i=n.length,s=0;s<i;s++){var o=n[s],a=o.f;if(!(!r&&o===un)){var l=(a&na)===0;l&&Qs(o,e),(a&Vs)!==0?(a&G3)===0&&(o.f|=G3,Bse(o,mh)):l&&((a&dh)!==0&&gf!==null&&gf.add(o),O0(o))}}}let oj=!1;function UYe(){oj||(oj=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function FR(t){var e=On,n=un;Zo(null),Rc(null);try{return t()}finally{Zo(e),Rc(n)}}let Ag=!1;function aj(t){Ag=t}let z0=!1;function lj(t){z0=t}let On=null,tu=!1;function Zo(t){On=t}let un=null;function Rc(t){un=t}let Vf=null;function zse(t){On!==null&&(Vf===null?Vf=[t]:Vf.push(t))}let ro=null,va=0,tl=null;function jYe(t){tl=t}let Use=1,gO=0,Gp=gO;function uj(t){Gp=t}let Zh=!1;function jse(){return++Use}function p2(t){var e=t.f;if((e&na)!==0)return!0;if((e&mh)!==0){var n=t.deps,r=(e&vl)!==0;if(e&Vs&&(t.f&=~G3),n!==null){var i,s,o=(e&Y3)!==0,a=r&&un!==null&&!Zh,l=n.length;if((o||a)&&(un===null||(un.f&qf)===0)){var u=t,c=u.parent;for(i=0;i<l;i++)s=n[i],(o||!s?.reactions?.includes(u))&&(s.reactions??=[]).push(u);o&&(u.f^=Y3),a&&c!==null&&(c.f&vl)===0&&(u.f^=vl)}for(i=0;i<l;i++)if(s=n[i],p2(s)&&Lse(s),s.wv>t.wv)return!0}(!r||un!==null&&!Zh)&&Qs(t,Rs)}return!1}function qse(t,e,n=!0){var r=t.reactions;if(r!==null&&!Vf?.includes(t))for(var i=0;i<r.length;i++){var s=r[i];(s.f&Vs)!==0?qse(s,e,!1):e===s&&(n?Qs(s,na):(s.f&Rs)!==0&&Qs(s,mh),O0(s))}}function Vse(t){var e=ro,n=va,r=tl,i=On,s=Zh,o=Vf,a=oi,l=tu,u=Gp,c=t.f;ro=null,va=0,tl=null,Zh=(c&vl)!==0&&(tu||!Ag||On===null),On=(c&(ph|Q0))===0?t:null,Vf=null,x1(t.ctx),tu=!1,Gp=++gO,t.ac!==null&&(FR(()=>{t.ac.abort(Xm)}),t.ac=null);try{t.f|=NT;var f=t.fn,h=f(),d=t.deps;if(ro!==null){var m;if(J3(t,va),d!==null&&va>0)for(d.length=va+ro.length,m=0;m<ro.length;m++)d[va+m]=ro[m];else t.deps=d=ro;if(!Zh||(c&Vs)!==0&&t.reactions!==null)for(m=va;m<d.length;m++)(d[m].reactions??=[]).push(t)}else d!==null&&va<d.length&&(J3(t,va),d.length=va);if(uy()&&tl!==null&&!tu&&d!==null&&(t.f&(Vs|mh|na))===0)for(m=0;m<tl.length;m++)qse(tl[m],t);return i!==null&&i!==t&&(gO++,tl!==null&&(r===null?r=tl:r.push(...tl))),(t.f&od)!==0&&(t.f^=od),h}catch(g){return Pse(g)}finally{t.f^=NT,ro=e,va=n,tl=r,On=i,Zh=s,Vf=o,x1(a),tu=l,Gp=u}}function qYe(t,e){let n=e.reactions;if(n!==null){var r=sYe.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&Vs)!==0&&(ro===null||!ro.includes(e))&&(Qs(e,mh),(e.f&(vl|Y3))===0&&(e.f^=Y3),Mse(e),J3(e,0))}function J3(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)qYe(t,n[r])}function yO(t){var e=t.f;if((e&qf)===0){Qs(t,Rs);var n=un,r=Ag;un=t,Ag=!0;try{(e&dh)!==0?KYe(t):Gse(t),Yse(t);var i=Vse(t);t.teardown=typeof i=="function"?i:null,t.wv=Use;var s;iYe&&bYe&&(t.f&na)!==0&&t.deps}finally{Ag=r,un=n}}}function U(t){var e=t.f,n=(e&Vs)!==0;if(On!==null&&!tu){var r=un!==null&&(un.f&qf)!==0;if(!r&&!Vf?.includes(t)){var i=On.deps;if((On.f&NT)!==0)t.rv<gO&&(t.rv=gO,ro===null&&i!==null&&i[va]===t?va++:ro===null?ro=[t]:(!Zh||!ro.includes(t))&&ro.push(t));else{(On.deps??=[]).push(t);var s=t.reactions;s===null?t.reactions=[On]:s.includes(On)||s.push(On)}}}else if(n&&t.deps===null&&t.effects===null){var o=t,a=o.parent;a!==null&&(a.f&vl)===0&&(o.f^=vl)}if(z0){if(ad.has(t))return ad.get(t);if(n){o=t;var l=o.v;return((o.f&Rs)===0&&o.reactions!==null||Xse(o))&&(l=IR(o)),ad.set(o,l),l}}else if(n){if(o=t,eu?.has(o))return eu.get(o);p2(o)&&Lse(o)}if(eu?.has(t))return eu.get(t);if((t.f&od)!==0)throw t.v;return t.v}function Xse(t){if(t.v===As)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(ad.has(e)||(e.f&Vs)!==0&&Xse(e))return!0;return!1}function m2(t){var e=tu;try{return tu=!0,t()}finally{tu=e}}const VYe=-7169;function Qs(t,e){t.f=t.f&VYe|e}function XYe(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Yp in t)jT(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&Yp in n&&jT(n)}}}function jT(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{jT(t[r],e)}catch{}const n=U4(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=pse(n);for(let i in r){const s=r[i].get;if(s)try{s.call(t)}catch{}}}}}function ZYe(t){un===null&&On===null&&fYe(),On!==null&&(On.f&vl)!==0&&un===null&&cYe(),z0&&uYe()}function WYe(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function gh(t,e,n,r=!0){var i=un;i!==null&&(i.f&La)!==0&&(t|=La);var s={ctx:oi,deps:null,nodes_start:null,nodes_end:null,f:t|na,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{yO(s),s.f|=CR}catch(l){throw go(s),l}else e!==null&&O0(s);if(r){var o=s;if(n&&o.deps===null&&o.teardown===null&&o.nodes_start===null&&o.first===o.last&&(o.f&ay)===0&&(o=o.first,(t&dh)!==0&&(t&b0)!==0&&o!==null&&(o.f|=b0)),o!==null&&(o.parent=i,i!==null&&WYe(o,i),On!==null&&(On.f&Vs)!==0&&(t&Q0)===0)){var a=On;(a.effects??=[]).push(o)}}return s}function YYe(){return On!==null&&!tu}function Zse(t){const e=gh(kR,null,!1);return Qs(e,Rs),e.teardown=t,e}function Jr(t){ZYe();var e=un.f,n=!On&&(e&ph)!==0&&(e&CR)===0;if(n){var r=oi;(r.e??=[]).push(t)}else return Wse(t)}function Wse(t){return gh(B4|nYe,t,!1)}function GYe(t){ac.ensure();const e=gh(Q0|ay,t,!0);return(n={})=>new Promise(r=>{n.outro?Eg(e,()=>{go(e),r(void 0)}):(go(e),r(void 0))})}function g2(t){return gh(B4,t,!1)}function HYe(t){return gh(AR|ay,t,!0)}function MR(t,e=0){return gh(kR|e,t,!0)}function Ai(t,e=[],n=[],r=[],i=!1){LYe(r,e,n,s=>{gh(i?B4:kR,()=>t(...s.map(U)),!0)})}function y2(t,e=0){var n=gh(dh|e,t,!0);return n}function ql(t,e=!0){return gh(ph|ay,t,!0,e)}function Yse(t){var e=t.teardown;if(e!==null){const n=z0,r=On;lj(!0),Zo(null);try{e.call(null)}finally{lj(n),Zo(r)}}}function Gse(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&FR(()=>{i.abort(Xm)});var r=n.next;(n.f&Q0)!==0?n.parent=null:go(n,e),n=r}}function KYe(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&ph)===0&&go(e),e=n}}function go(t,e=!0){var n=!1;(e||(t.f&fse)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(JYe(t.nodes_start,t.nodes_end),n=!0),Gse(t,e&&!n),J3(t,0),Qs(t,qf);var r=t.transitions;if(r!==null)for(const s of r)s.stop();Yse(t);var i=t.parent;i!==null&&i.first!==null&&Hse(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function JYe(t,e){for(;t!==null;){var n=t===e?null:Vc(t);t.remove(),t=n}}function Hse(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Eg(t,e,n=!0){var r=[];LR(t,r,!0),Kse(r,()=>{n&&go(t),e&&e()})}function Kse(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function LR(t,e,n){if((t.f&La)===0){if(t.f^=La,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&b0)!==0||(r.f&ph)!==0&&(t.f&dh)!==0;LR(r,e,s?n:!1),r=i}}}function NR(t){Jse(t,!0)}function Jse(t,e){if((t.f&La)!==0){t.f^=La,(t.f&Rs)===0&&(Qs(t,na),O0(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&b0)!==0||(n.f&ph)!==0;Jse(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function eoe(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:Vc(n);e.append(n),n=i}}const toe=new Set,qT=new Set;function eGe(t){if(!Sn)return;t.removeAttribute("onload"),t.removeAttribute("onerror");const e=t.__e;e!==void 0&&(t.__e=void 0,queueMicrotask(()=>{t.isConnected&&t.dispatchEvent(e)}))}function tGe(t,e,n,r={}){function i(s){if(r.capture||Tb.call(e,s),!s.cancelBubble)return FR(()=>n?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?B0(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function C1(t,e,n,r,i){var s={capture:r,passive:i},o=tGe(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Zse(()=>{e.removeEventListener(t,o,s)})}function yh(t){for(var e=0;e<t.length;e++)toe.add(t[e]);for(var n of qT)n(t)}let cj=null;function Tb(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],s=i[0]||t.target;cj=t;var o=0,a=cj===t&&t.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=i.indexOf(e);if(u===-1)return;l<=u&&(o=l)}if(s=i[o]||t.target,s!==e){dse(t,"currentTarget",{configurable:!0,get(){return s||n}});var c=On,f=un;Zo(null),Rc(null);try{for(var h,d=[];s!==null;){var m=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];g!=null&&(!s.disabled||t.target===s)&&g.call(s,t)}catch(b){h?d.push(b):h=b}if(t.cancelBubble||m===e||m===null)break;s=m}if(h){for(let b of d)queueMicrotask(()=>{throw b});throw h}}finally{t.__root=e,delete t.currentTarget,Zo(c),Rc(f)}}}function nGe(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Tg(t,e){var n=un;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function Qn(t,e){var n=(e&_Ye)!==0,r=(e&xYe)!==0,i,s=!t.startsWith("<!>");return()=>{if(Sn)return Tg(jn,null),jn;i===void 0&&(i=nGe(s?t:"<!>"+t),n||(i=v0(i)));var o=r||Ase?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=v0(o),l=o.lastChild;Tg(a,l)}else Tg(o,o);return o}}function dp(){if(Sn)return Tg(jn,null),jn;var t=document.createDocumentFragment(),e=document.createComment(""),n=Pc();return t.append(e,n),Tg(e,n),t}function on(t,e){if(Sn){un.nodes_end=jn,d2();return}t!==null&&t.before(e)}const rGe=["touchstart","touchmove"];function iGe(t){return rGe.includes(t)}function Xc(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function noe(t,e){return roe(t,e)}function sGe(t,e){BT(),e.intro=e.intro??!1;const n=e.target,r=Sn,i=jn;try{for(var s=v0(n);s&&(s.nodeType!==ly||s.data!==_se);)s=Vc(s);if(!s)throw _1;Rf(!0),Yo(s);const o=roe(t,{...e,anchor:s});return Rf(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(a=>a.startsWith("https://svelte.dev/e/")))throw o;return o!==_1&&console.warn("Failed to hydrate: ",o),e.recover===!1&&dYe(),BT(),Dse(n),Rf(!1),noe(t,e)}finally{Rf(r),Yo(i)}}const mm=new Map;function roe(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:o=!0}){BT();var a=new Set,l=f=>{for(var h=0;h<f.length;h++){var d=f[h];if(!a.has(d)){a.add(d);var m=iGe(d);e.addEventListener(d,Tb,{passive:m});var g=mm.get(d);g===void 0?(document.addEventListener(d,Tb,{passive:m}),mm.set(d,1)):mm.set(d,g+1)}}};l(DR(toe)),qT.add(l);var u=void 0,c=GYe(()=>{var f=n??e.appendChild(Pc());return FYe(f,{pending:()=>{}},h=>{if(s){di({});var d=oi;d.c=s}if(i&&(r.$$events=i),Sn&&Tg(h,null),u=t(h,r)||{},Sn&&(un.nodes_end=jn,jn===null||jn.nodeType!==ly||jn.data!==$R))throw q4(),_1;s&&pi()}),()=>{for(var h of a){e.removeEventListener(h,Tb);var d=mm.get(h);--d===0?(document.removeEventListener(h,Tb),mm.delete(h)):mm.set(h,d)}qT.delete(l),f!==n&&f.parentNode?.removeChild(f)}});return VT.set(u,c),u}let VT=new WeakMap;function oGe(t,e){const n=VT.get(t);return n?(VT.delete(t),n(e)):Promise.resolve()}function aGe(t){return new lGe(t)}class lGe{#e;#t;constructor(e){var n=new Map,r=(s,o)=>{var a=Qse(o,!1,!1);return n.set(s,a),a};const i=new Proxy({...e.props||{},$$events:{}},{get(s,o){return U(n.get(o)??r(o,Reflect.get(s,o)))},has(s,o){return o===hse?!0:(U(n.get(o)??r(o,Reflect.get(s,o))),Reflect.has(s,o))},set(s,o,a){return _e(n.get(o)??r(o,a),a),Reflect.set(s,o,a)}});this.#t=(e.hydrate?sGe:noe)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||e.sync===!1)&&PYe(),this.#e=i.$$events;for(const s of Object.keys(this.#t))s==="$set"||s==="$destroy"||s==="$on"||dse(this,s,{get(){return this.#t[s]},set(o){this.#t[s]=o},enumerable:!0});this.#t.$set=s=>{Object.assign(i,s)},this.#t.$destroy=()=>{oGe(this.#t)}}$set(e){this.#t.$set(e)}$on(e,n){this.#e[e]=this.#e[e]||[];const r=(...i)=>n.call(this,...i);return this.#e[e].push(r),()=>{this.#e[e]=this.#e[e].filter(i=>i!==r)}}$destroy(){this.#t.$destroy()}}const uGe="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(uGe);class QR{anchor;#e=new Map;#t=new Map;#n=new Map;#r=!0;constructor(e,n=!0){this.anchor=e,this.#r=n}#l=()=>{var e=ji;if(this.#e.has(e)){var n=this.#e.get(e),r=this.#t.get(n);if(r)NR(r);else{var i=this.#n.get(n);i&&(this.#t.set(n,i.effect),this.#n.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,o]of this.#e){if(this.#e.delete(s),s===e)break;const a=this.#n.get(o);a&&(go(a.effect),this.#n.delete(o))}for(const[s,o]of this.#t){if(s===n)continue;const a=()=>{if(Array.from(this.#e.values()).includes(s)){var l=document.createDocumentFragment();eoe(o,l),l.append(Pc()),this.#n.set(s,{effect:o,fragment:l})}else go(o);this.#t.delete(s)};this.#r||!r?Eg(o,a,!1):a()}}};#a=e=>{this.#e.delete(e);const n=Array.from(this.#e.values());for(const[r,i]of this.#n)n.includes(r)||(go(i.effect),this.#n.delete(r))};ensure(e,n){var r=ji,i=DYe();n&&!this.#t.has(e)&&!this.#n.has(e)&&this.#t.set(e,ql(()=>n(this.anchor))),this.#e.set(r,e),i||(Sn&&(this.anchor=jn),this.#l())}}function BR(t,e,...n){var r=new QR(t);y2(()=>{const i=e()??null;r.ensure(i,i&&(s=>i(s,...n)))},b0)}function cy(t){oi===null&&Ose(),h2&&oi.l!==null?cGe(oi).m.push(t):Jr(()=>{const e=m2(t);if(typeof e=="function")return e})}function cGe(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}function Mo(t,e,n=!1){Sn&&d2();var r=new QR(t),i=n?b0:0;function s(o,a){if(Sn){const u=Cse(t)===j4;if(o===u){var l=H3();Yo(l),r.anchor=l,Rf(!1),r.ensure(o,a),Rf(!0);return}}r.ensure(o,a)}y2(()=>{var o=!1;e((a,l=!0)=>{o=!0,s(l,a)}),o||s(!1,null)},i)}function fGe(t,e,n){Sn&&d2();var r=new QR(t),i=!uy();y2(()=>{var s=e();i&&s!==null&&typeof s=="object"&&(s={}),r.ensure(s,n)})}function hGe(t,e){return e}function dGe(t,e,n){for(var r=t.items,i=[],s=e.length,o=0;o<s;o++)LR(e[o].e,i,!0);var a=s>0&&i.length===0&&n!==null;if(a){var l=n.parentNode;Dse(l),l.append(n),r.clear(),Bu(t,e[0].prev,e[s-1].next)}Kse(i,()=>{for(var u=0;u<s;u++){var c=e[u];a||(r.delete(c.k),Bu(t,c.prev,c.next)),go(c.e,!a)}})}function nv(t,e,n,r,i,s=null){var o=t,a={flags:e,items:new Map,first:null},l=(e&wse)!==0;if(l){var u=t;o=Sn?Yo(v0(u)):u.appendChild(Pc())}Sn&&d2();var c=null,f=!1,h=new Map,d=Fse(()=>{var v=n();return TR(v)?v:v==null?[]:DR(v)}),m,g;function b(){pGe(g,m,a,h,o,i,e,r,n),s!==null&&(m.length===0?c?NR(c):c=ql(()=>s(o)):c!==null&&Eg(c,()=>{c=null}))}y2(()=>{g??=un,m=U(d);var v=m.length;if(f&&v===0)return;f=v===0;let O=!1;if(Sn){var x=Cse(o)===j4;x!==(v===0)&&(o=H3(),Yo(o),Rf(!1),O=!0)}if(Sn){for(var C=null,S,A=0;A<v;A++){if(jn.nodeType===ly&&jn.data===$R){o=jn,O=!0,Rf(!1);break}var k=m[A],T=r(k,A);S=ioe(jn,a,C,null,k,T,A,i,e,n),a.items.set(T,S),C=S}v>0&&Yo(H3())}Sn?v===0&&s&&(c=ql(()=>s(o))):b(),O&&Rf(!0),U(d)}),Sn&&(o=jn)}function pGe(t,e,n,r,i,s,o,a,l){var u=(o&OYe)!==0,c=(o&(PR|RR))!==0,f=e.length,h=n.items,d=n.first,m=d,g,b=null,v,O=[],x=[],C,S,A,k;if(u)for(k=0;k<f;k+=1)C=e[k],S=a(C,k),A=h.get(S),A!==void 0&&(A.a?.measure(),(v??=new Set).add(A));for(k=0;k<f;k+=1){if(C=e[k],S=a(C,k),A=h.get(S),A===void 0){var T=r.get(S);if(T!==void 0){r.delete(S),h.set(S,T);var D=b?b.next:m;Bu(n,b,T),Bu(n,T,D),yA(T,D,i),b=T}else{var $=m?m.e.nodes_start:i;b=ioe($,n,b,b===null?n.first:b.next,C,S,k,s,o,l)}h.set(S,b),O=[],x=[],m=b.next;continue}if(c&&mGe(A,C,k,o),(A.e.f&La)!==0&&(NR(A.e),u&&(A.a?.unfix(),(v??=new Set).delete(A))),A!==m){if(g!==void 0&&g.has(A)){if(O.length<x.length){var M=x[0],L;b=M.prev;var R=O[0],I=O[O.length-1];for(L=0;L<O.length;L+=1)yA(O[L],M,i);for(L=0;L<x.length;L+=1)g.delete(x[L]);Bu(n,R.prev,I.next),Bu(n,b,R),Bu(n,I,M),m=M,b=I,k-=1,O=[],x=[]}else g.delete(A),yA(A,m,i),Bu(n,A.prev,A.next),Bu(n,A,b===null?n.first:b.next),Bu(n,b,A),b=A;continue}for(O=[],x=[];m!==null&&m.k!==S;)(m.e.f&La)===0&&(g??=new Set).add(m),x.push(m),m=m.next;if(m===null)continue;A=m}O.push(A),b=A,m=A.next}if(m!==null||g!==void 0){for(var B=g===void 0?[]:DR(g);m!==null;)(m.e.f&La)===0&&B.push(m),m=m.next;var z=B.length;if(z>0){var Z=(o&wse)!==0&&f===0?i:null;if(u){for(k=0;k<z;k+=1)B[k].a?.measure();for(k=0;k<z;k+=1)B[k].a?.fix()}dGe(n,B,Z)}}u&&B0(()=>{if(v!==void 0)for(A of v)A.a?.apply()}),t.first=n.first&&n.first.e,t.last=b&&b.e;for(var J of r.values())go(J.e);r.clear()}function mGe(t,e,n,r){(r&PR)!==0&&k1(t.v,e),(r&RR)!==0?k1(t.i,n):t.i=n}function ioe(t,e,n,r,i,s,o,a,l,u,c){var f=(l&PR)!==0,h=(l&wYe)===0,d=f?h?Qse(i,!1,!1):w0(i):i,m=(l&RR)===0?o:w0(o),g={i:m,v:d,k:s,a:null,e:null,prev:n,next:r};try{if(t===null){var b=document.createDocumentFragment();b.append(t=Pc())}return g.e=ql(()=>a(t,d,m,u),Sn),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?c||(e.first=g):(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function yA(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var o=Vc(s);i.before(s),s=o}}function Bu(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function mi(t,e){g2(()=>{var n=t.getRootNode(),r=n.host?n:n.head??n.ownerDocument.head;if(!r.querySelector("#"+e.hash)){const i=document.createElement("style");i.id=e.hash,i.textContent=e.code,r.appendChild(i)}})}function zR(t,e,n){g2(()=>{var r=m2(()=>e(t,n?.())||{});if(n&&r?.update){var i=!1,s={};MR(()=>{var o=n();XYe(o),i&&bse(s,o)&&(s=o,r.update(o))}),i=!0}if(r?.destroy)return()=>r.destroy()})}function gGe(t,e,n){var r=t==null?"":""+t;return e&&(r=r?r+" "+e:e),r===""?null:r}function fj(t,e=!1){var n=e?" !important;":";",r="";for(var i in t){var s=t[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function yGe(t,e){if(e){var n="",r,i;return Array.isArray(e)?(r=e[0],i=e[1]):r=e,r&&(n+=fj(r)),i&&(n+=fj(i,!0)),n=n.trim(),n===""?null:n}return String(t)}function Dd(t,e,n,r,i,s){var o=t.__className;if(Sn||o!==n||o===void 0){var a=gGe(n,r);(!Sn||a!==t.getAttribute("class"))&&(a==null?t.removeAttribute("class"):t.className=a),t.__className=n}return s}function bA(t,e={},n,r){for(var i in n){var s=n[i];e[i]!==s&&(n[i]==null?t.style.removeProperty(i):t.style.setProperty(i,s,r))}}function ra(t,e,n,r){var i=t.__style;if(Sn||i!==e){var s=yGe(e,r);(!Sn||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=e}else r&&(Array.isArray(r)?(bA(t,n?.[0],r[0]),bA(t,n?.[1],r[1],"important")):bA(t,n,r));return r}const bGe=Symbol("is custom element"),vGe=Symbol("is html");function OGe(t){if(Sn){var e=!1,n=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;bO(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var i=t.checked;bO(t,"checked",null),t.checked=i}}};t.__on_r=n,B0(n),UYe()}}function wGe(t,e){var n=soe(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function bO(t,e,n,r){var i=soe(t);Sn&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=n)&&(e==="loading"&&(t[rYe]=n),n==null?t.removeAttribute(e):typeof n!="string"&&_Ge(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function soe(t){return t.__attributes??={[bGe]:t.nodeName.includes("-"),[vGe]:t.namespaceURI===SYe}}var hj=new Map;function _Ge(t){var e=t.getAttribute("is")||t.nodeName,n=hj.get(e);if(n)return n;hj.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=pse(i);for(var o in r)r[o].set&&n.push(o);i=U4(i)}return n}class UR{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(e){this.#n=e}observe(e,n){var r=this.#e.get(e)||new Set;return r.add(n),this.#e.set(e,r),this.#r().observe(e,this.#n),()=>{var i=this.#e.get(e);i.delete(n),i.size===0&&(this.#e.delete(e),this.#t.unobserve(e))}}#r(){return this.#t??(this.#t=new ResizeObserver(e=>{for(var n of e){UR.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var xGe=new UR({box:"border-box"});function du(t,e,n){var r=xGe.observe(t,()=>n(t[e]));g2(()=>(m2(()=>n(t[e])),r))}function dj(t,e){return t===e||t?.[Yp]===e}function yo(t={},e,n,r){return g2(()=>{var i,s;return MR(()=>{i=s,s=[],m2(()=>{t!==n(...s)&&(e(t,...s),i&&dj(n(...i),t)&&e(null,...i))})}),()=>{B0(()=>{s&&dj(n(...s),t)&&e(null,...s)})}}),t}let k_=!1;function SGe(t){var e=k_;try{return k_=!1,[t(),k_]}finally{k_=e}}function fy(t,e,n,r){var i=r,s=!0,o=()=>(s&&(s=!1,i=r),i),a;{var l=Yp in t||hse in t;a=Cg(t,e)?.set??(l&&e in t?b=>t[e]=b:void 0)}var u,c=!1;[u,c]=SGe(()=>t[e]);var f;if(f=()=>{var b=t[e];return b===void 0?o():(s=!0,b)},a){var h=t.$$legacy;return(function(b,v){return arguments.length>0?((!v||h||c)&&a(v?f():b),b):f()})}var d=!1,m=X4(()=>(d=!1,f()));U(m);var g=un;return(function(b,v){if(arguments.length>0){const O=v?U(m):$s(b);return _e(m,O),d=!0,i!==void 0&&(i=O),b}return z0&&d||(g.f&qf)!==0?m.v:U(m)})}var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xx={exports:{}},kGe=xx.exports,pj;function CGe(){return pj||(pj=1,(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",f=1,h=2,d=4,m=1,g=2,b=1,v=2,O=4,x=8,C=16,S=32,A=64,k=128,T=256,D=512,$=30,M="...",L=800,R=16,I=1,B=2,z=3,Z=1/0,J=9007199254740991,ee=17976931348623157e292,ie=NaN,K=4294967295,fe=K-1,le=K>>>1,me=[["ary",k],["bind",b],["bindKey",v],["curry",x],["curryRight",C],["flip",D],["partial",S],["partialRight",A],["rearg",T]],oe="[object Arguments]",De="[object Array]",Ve="[object AsyncFunction]",Ne="[object Boolean]",Ae="[object Date]",ke="[object DOMException]",Te="[object Error]",tt="[object Function]",at="[object GeneratorFunction]",Re="[object Map]",We="[object Number]",Rt="[object Null]",dt="[object Object]",Qt="[object Promise]",Br="[object Proxy]",Zr="[object RegExp]",cn="[object Set]",Lt="[object String]",Jn="[object Symbol]",li="[object Undefined]",Pr="[object WeakMap]",Wr="[object WeakSet]",vt="[object ArrayBuffer]",kn="[object DataView]",zr="[object Float32Array]",Hi="[object Float64Array]",mn="[object Int8Array]",Bt="[object Int16Array]",zt="[object Int32Array]",fn="[object Uint8Array]",Rr="[object Uint8ClampedArray]",gi="[object Uint16Array]",oa="[object Uint32Array]",Yr=/\b__p \+= '';/g,us=/\b(__p \+=) '' \+/g,wr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ti=/&(?:amp|lt|gt|quot|#39);/g,wo=/[&<>"']/g,yi=RegExp(Ti.source),Ua=RegExp(wo.source),ws=/<%-([\s\S]+?)%>/g,hr=/<%([\s\S]+?)%>/g,Gr=/<%=([\s\S]+?)%>/g,_o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rl=/^\w*$/,xu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Su=/[\\^$.*+?()[\]{}|]/g,U0=RegExp(Su.source),Bd=/^\s+/,Zs=/\s/,$l=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,j0=/\{\n\/\* \[wrapped with (.+)\] \*/,q0=/,? & /,ve=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Me=/[()=,{}\[\]\/\s]/,Ue=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ut=/\w*$/,Ct=/^[-+]0x[0-9a-f]+$/i,Cn=/^0b[01]+$/i,Tn=/^\[object .+?Constructor\]$/,Le=/^0o[0-7]+$/i,G=/^(?:0|[1-9]\d*)$/,Se=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qe=/($^)/,en=/['\n\r\u2028\u2029\\]/g,Vn="\\ud800-\\udfff",_r="\\u0300-\\u036f",xr="\\ufe20-\\ufe2f",Qi="\\u20d0-\\u20ff",_s=_r+xr+Qi,V0="\\u2700-\\u27bf",Di="a-z\\xdf-\\xf6\\xf8-\\xff",b2="\\xac\\xb1\\xd7\\xf7",v2="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Soe="\\u2000-\\u206f",koe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ZR="A-Z\\xc0-\\xd6\\xd8-\\xde",WR="\\ufe0e\\ufe0f",YR=b2+v2+Soe+koe,Y4="['â]",Coe="["+Vn+"]",GR="["+YR+"]",O2="["+_s+"]",HR="\\d+",Aoe="["+V0+"]",KR="["+Di+"]",JR="[^"+Vn+YR+HR+V0+Di+ZR+"]",G4="\\ud83c[\\udffb-\\udfff]",Eoe="(?:"+O2+"|"+G4+")",e$="[^"+Vn+"]",H4="(?:\\ud83c[\\udde6-\\uddff]){2}",K4="[\\ud800-\\udbff][\\udc00-\\udfff]",X0="["+ZR+"]",t$="\\u200d",n$="(?:"+KR+"|"+JR+")",Toe="(?:"+X0+"|"+JR+")",r$="(?:"+Y4+"(?:d|ll|m|re|s|t|ve))?",i$="(?:"+Y4+"(?:D|LL|M|RE|S|T|VE))?",s$=Eoe+"?",o$="["+WR+"]?",Doe="(?:"+t$+"(?:"+[e$,H4,K4].join("|")+")"+o$+s$+")*",Poe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Roe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",a$=o$+s$+Doe,$oe="(?:"+[Aoe,H4,K4].join("|")+")"+a$,Ioe="(?:"+[e$+O2+"?",O2,H4,K4,Coe].join("|")+")",Foe=RegExp(Y4,"g"),Moe=RegExp(O2,"g"),J4=RegExp(G4+"(?="+G4+")|"+Ioe+a$,"g"),Loe=RegExp([X0+"?"+KR+"+"+r$+"(?="+[GR,X0,"$"].join("|")+")",Toe+"+"+i$+"(?="+[GR,X0+n$,"$"].join("|")+")",X0+"?"+n$+"+"+r$,X0+"+"+i$,Roe,Poe,HR,$oe].join("|"),"g"),Noe=RegExp("["+t$+Vn+_s+WR+"]"),Qoe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Boe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zoe=-1,$r={};$r[zr]=$r[Hi]=$r[mn]=$r[Bt]=$r[zt]=$r[fn]=$r[Rr]=$r[gi]=$r[oa]=!0,$r[oe]=$r[De]=$r[vt]=$r[Ne]=$r[kn]=$r[Ae]=$r[Te]=$r[tt]=$r[Re]=$r[We]=$r[dt]=$r[Zr]=$r[cn]=$r[Lt]=$r[Pr]=!1;var Sr={};Sr[oe]=Sr[De]=Sr[vt]=Sr[kn]=Sr[Ne]=Sr[Ae]=Sr[zr]=Sr[Hi]=Sr[mn]=Sr[Bt]=Sr[zt]=Sr[Re]=Sr[We]=Sr[dt]=Sr[Zr]=Sr[cn]=Sr[Lt]=Sr[Jn]=Sr[fn]=Sr[Rr]=Sr[gi]=Sr[oa]=!0,Sr[Te]=Sr[tt]=Sr[Pr]=!1;var Uoe={Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã:"C",Ã§:"c",Ã:"D",Ã°:"d",Ã:"E",Ã:"E",Ã:"E",Ã:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",Ã:"I",Ã:"I",Ã:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã:"N",Ã±:"n",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã:"U",Ã:"U",Ã:"U",Ã:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã:"Ae",Ã¦:"ae",Ã:"Th",Ã¾:"th",Ã:"ss",Ä:"A",Ä:"A",Ä:"A",Ä:"a",Ä:"a",Ä:"a",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"D",Ä:"D",Ä:"d",Ä:"d",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"E",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"e",Ä:"G",Ä:"G",Ä :"G",Ä¢:"G",Ä:"g",Ä:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å:"l",Å:"l",Å:"N",Å:"N",Å:"N",Å:"N",Å:"n",Å:"n",Å:"n",Å:"n",Å:"O",Å:"O",Å:"O",Å:"o",Å:"o",Å:"o",Å:"R",Å:"R",Å:"R",Å:"r",Å:"r",Å:"r",Å:"S",Å:"S",Å:"S",Å :"S",Å:"s",Å:"s",Å:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å:"Oe",Å:"oe",Å:"'n",Å¿:"s"},joe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qoe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Voe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xoe=parseFloat,Zoe=parseInt,l$=typeof Wh=="object"&&Wh&&Wh.Object===Object&&Wh,Woe=typeof self=="object"&&self&&self.Object===Object&&self,cs=l$||Woe||Function("return this")(),e5=e&&!e.nodeType&&e,zd=e5&&!0&&t&&!t.nodeType&&t,u$=zd&&zd.exports===e5,t5=u$&&l$.process,ja=(function(){try{var ne=zd&&zd.require&&zd.require("util").types;return ne||t5&&t5.binding&&t5.binding("util")}catch{}})(),c$=ja&&ja.isArrayBuffer,f$=ja&&ja.isDate,h$=ja&&ja.isMap,d$=ja&&ja.isRegExp,p$=ja&&ja.isSet,m$=ja&&ja.isTypedArray;function aa(ne,de,ue){switch(ue.length){case 0:return ne.call(de);case 1:return ne.call(de,ue[0]);case 2:return ne.call(de,ue[0],ue[1]);case 3:return ne.call(de,ue[0],ue[1],ue[2])}return ne.apply(de,ue)}function Yoe(ne,de,ue,Ye){for(var Ut=-1,Bn=ne==null?0:ne.length;++Ut<Bn;){var Bi=ne[Ut];de(Ye,Bi,ue(Bi),ne)}return Ye}function qa(ne,de){for(var ue=-1,Ye=ne==null?0:ne.length;++ue<Ye&&de(ne[ue],ue,ne)!==!1;);return ne}function Goe(ne,de){for(var ue=ne==null?0:ne.length;ue--&&de(ne[ue],ue,ne)!==!1;);return ne}function g$(ne,de){for(var ue=-1,Ye=ne==null?0:ne.length;++ue<Ye;)if(!de(ne[ue],ue,ne))return!1;return!0}function bh(ne,de){for(var ue=-1,Ye=ne==null?0:ne.length,Ut=0,Bn=[];++ue<Ye;){var Bi=ne[ue];de(Bi,ue,ne)&&(Bn[Ut++]=Bi)}return Bn}function w2(ne,de){var ue=ne==null?0:ne.length;return!!ue&&Z0(ne,de,0)>-1}function n5(ne,de,ue){for(var Ye=-1,Ut=ne==null?0:ne.length;++Ye<Ut;)if(ue(de,ne[Ye]))return!0;return!1}function Ur(ne,de){for(var ue=-1,Ye=ne==null?0:ne.length,Ut=Array(Ye);++ue<Ye;)Ut[ue]=de(ne[ue],ue,ne);return Ut}function vh(ne,de){for(var ue=-1,Ye=de.length,Ut=ne.length;++ue<Ye;)ne[Ut+ue]=de[ue];return ne}function r5(ne,de,ue,Ye){var Ut=-1,Bn=ne==null?0:ne.length;for(Ye&&Bn&&(ue=ne[++Ut]);++Ut<Bn;)ue=de(ue,ne[Ut],Ut,ne);return ue}function Hoe(ne,de,ue,Ye){var Ut=ne==null?0:ne.length;for(Ye&&Ut&&(ue=ne[--Ut]);Ut--;)ue=de(ue,ne[Ut],Ut,ne);return ue}function i5(ne,de){for(var ue=-1,Ye=ne==null?0:ne.length;++ue<Ye;)if(de(ne[ue],ue,ne))return!0;return!1}var Koe=s5("length");function Joe(ne){return ne.split("")}function eae(ne){return ne.match(ve)||[]}function y$(ne,de,ue){var Ye;return ue(ne,function(Ut,Bn,Bi){if(de(Ut,Bn,Bi))return Ye=Bn,!1}),Ye}function _2(ne,de,ue,Ye){for(var Ut=ne.length,Bn=ue+(Ye?1:-1);Ye?Bn--:++Bn<Ut;)if(de(ne[Bn],Bn,ne))return Bn;return-1}function Z0(ne,de,ue){return de===de?hae(ne,de,ue):_2(ne,b$,ue)}function tae(ne,de,ue,Ye){for(var Ut=ue-1,Bn=ne.length;++Ut<Bn;)if(Ye(ne[Ut],de))return Ut;return-1}function b$(ne){return ne!==ne}function v$(ne,de){var ue=ne==null?0:ne.length;return ue?a5(ne,de)/ue:ie}function s5(ne){return function(de){return de==null?n:de[ne]}}function o5(ne){return function(de){return ne==null?n:ne[de]}}function O$(ne,de,ue,Ye,Ut){return Ut(ne,function(Bn,Bi,dr){ue=Ye?(Ye=!1,Bn):de(ue,Bn,Bi,dr)}),ue}function nae(ne,de){var ue=ne.length;for(ne.sort(de);ue--;)ne[ue]=ne[ue].value;return ne}function a5(ne,de){for(var ue,Ye=-1,Ut=ne.length;++Ye<Ut;){var Bn=de(ne[Ye]);Bn!==n&&(ue=ue===n?Bn:ue+Bn)}return ue}function l5(ne,de){for(var ue=-1,Ye=Array(ne);++ue<ne;)Ye[ue]=de(ue);return Ye}function rae(ne,de){return Ur(de,function(ue){return[ue,ne[ue]]})}function w$(ne){return ne&&ne.slice(0,k$(ne)+1).replace(Bd,"")}function la(ne){return function(de){return ne(de)}}function u5(ne,de){return Ur(de,function(ue){return ne[ue]})}function hy(ne,de){return ne.has(de)}function _$(ne,de){for(var ue=-1,Ye=ne.length;++ue<Ye&&Z0(de,ne[ue],0)>-1;);return ue}function x$(ne,de){for(var ue=ne.length;ue--&&Z0(de,ne[ue],0)>-1;);return ue}function iae(ne,de){for(var ue=ne.length,Ye=0;ue--;)ne[ue]===de&&++Ye;return Ye}var sae=o5(Uoe),oae=o5(joe);function aae(ne){return"\\"+Voe[ne]}function lae(ne,de){return ne==null?n:ne[de]}function W0(ne){return Noe.test(ne)}function uae(ne){return Qoe.test(ne)}function cae(ne){for(var de,ue=[];!(de=ne.next()).done;)ue.push(de.value);return ue}function c5(ne){var de=-1,ue=Array(ne.size);return ne.forEach(function(Ye,Ut){ue[++de]=[Ut,Ye]}),ue}function S$(ne,de){return function(ue){return ne(de(ue))}}function Oh(ne,de){for(var ue=-1,Ye=ne.length,Ut=0,Bn=[];++ue<Ye;){var Bi=ne[ue];(Bi===de||Bi===c)&&(ne[ue]=c,Bn[Ut++]=ue)}return Bn}function x2(ne){var de=-1,ue=Array(ne.size);return ne.forEach(function(Ye){ue[++de]=Ye}),ue}function fae(ne){var de=-1,ue=Array(ne.size);return ne.forEach(function(Ye){ue[++de]=[Ye,Ye]}),ue}function hae(ne,de,ue){for(var Ye=ue-1,Ut=ne.length;++Ye<Ut;)if(ne[Ye]===de)return Ye;return-1}function dae(ne,de,ue){for(var Ye=ue+1;Ye--;)if(ne[Ye]===de)return Ye;return Ye}function Y0(ne){return W0(ne)?mae(ne):Koe(ne)}function Il(ne){return W0(ne)?gae(ne):Joe(ne)}function k$(ne){for(var de=ne.length;de--&&Zs.test(ne.charAt(de)););return de}var pae=o5(qoe);function mae(ne){for(var de=J4.lastIndex=0;J4.test(ne);)++de;return de}function gae(ne){return ne.match(J4)||[]}function yae(ne){return ne.match(Loe)||[]}var bae=(function ne(de){de=de==null?cs:G0.defaults(cs.Object(),de,G0.pick(cs,Boe));var ue=de.Array,Ye=de.Date,Ut=de.Error,Bn=de.Function,Bi=de.Math,dr=de.Object,f5=de.RegExp,vae=de.String,Va=de.TypeError,S2=ue.prototype,Oae=Bn.prototype,H0=dr.prototype,k2=de["__core-js_shared__"],C2=Oae.toString,er=H0.hasOwnProperty,wae=0,C$=(function(){var p=/[^.]+$/.exec(k2&&k2.keys&&k2.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""})(),A2=H0.toString,_ae=C2.call(dr),xae=cs._,Sae=f5("^"+C2.call(er).replace(Su,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E2=u$?de.Buffer:n,wh=de.Symbol,T2=de.Uint8Array,A$=E2?E2.allocUnsafe:n,D2=S$(dr.getPrototypeOf,dr),E$=dr.create,T$=H0.propertyIsEnumerable,P2=S2.splice,D$=wh?wh.isConcatSpreadable:n,dy=wh?wh.iterator:n,Ud=wh?wh.toStringTag:n,R2=(function(){try{var p=Zd(dr,"defineProperty");return p({},"",{}),p}catch{}})(),kae=de.clearTimeout!==cs.clearTimeout&&de.clearTimeout,Cae=Ye&&Ye.now!==cs.Date.now&&Ye.now,Aae=de.setTimeout!==cs.setTimeout&&de.setTimeout,$2=Bi.ceil,I2=Bi.floor,h5=dr.getOwnPropertySymbols,Eae=E2?E2.isBuffer:n,P$=de.isFinite,Tae=S2.join,Dae=S$(dr.keys,dr),zi=Bi.max,xs=Bi.min,Pae=Ye.now,Rae=de.parseInt,R$=Bi.random,$ae=S2.reverse,d5=Zd(de,"DataView"),py=Zd(de,"Map"),p5=Zd(de,"Promise"),K0=Zd(de,"Set"),my=Zd(de,"WeakMap"),gy=Zd(dr,"create"),F2=my&&new my,J0={},Iae=Wd(d5),Fae=Wd(py),Mae=Wd(p5),Lae=Wd(K0),Nae=Wd(my),M2=wh?wh.prototype:n,yy=M2?M2.valueOf:n,$$=M2?M2.toString:n;function F(p){if(ui(p)&&!qt(p)&&!(p instanceof gn)){if(p instanceof Xa)return p;if(er.call(p,"__wrapped__"))return II(p)}return new Xa(p)}var em=(function(){function p(){}return function(y){if(!Hr(y))return{};if(E$)return E$(y);p.prototype=y;var _=new p;return p.prototype=n,_}})();function L2(){}function Xa(p,y){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=n}F.templateSettings={escape:ws,evaluate:hr,interpolate:Gr,variable:"",imports:{_:F}},F.prototype=L2.prototype,F.prototype.constructor=F,Xa.prototype=em(L2.prototype),Xa.prototype.constructor=Xa;function gn(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=K,this.__views__=[]}function Qae(){var p=new gn(this.__wrapped__);return p.__actions__=xo(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=xo(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=xo(this.__views__),p}function Bae(){if(this.__filtered__){var p=new gn(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function zae(){var p=this.__wrapped__.value(),y=this.__dir__,_=qt(p),E=y<0,P=_?p.length:0,N=Jle(0,P,this.__views__),q=N.start,te=N.end,re=te-q,ge=E?te:q-1,ye=this.__iteratees__,Ce=ye.length,je=0,rt=xs(re,this.__takeCount__);if(!_||!E&&P==re&&rt==re)return rI(p,this.__actions__);var Ot=[];e:for(;re--&&je<rt;){ge+=y;for(var tn=-1,wt=p[ge];++tn<Ce;){var hn=ye[tn],_n=hn.iteratee,fa=hn.type,Gs=_n(wt);if(fa==B)wt=Gs;else if(!Gs){if(fa==I)continue e;break e}}Ot[je++]=wt}return Ot}gn.prototype=em(L2.prototype),gn.prototype.constructor=gn;function jd(p){var y=-1,_=p==null?0:p.length;for(this.clear();++y<_;){var E=p[y];this.set(E[0],E[1])}}function Uae(){this.__data__=gy?gy(null):{},this.size=0}function jae(p){var y=this.has(p)&&delete this.__data__[p];return this.size-=y?1:0,y}function qae(p){var y=this.__data__;if(gy){var _=y[p];return _===l?n:_}return er.call(y,p)?y[p]:n}function Vae(p){var y=this.__data__;return gy?y[p]!==n:er.call(y,p)}function Xae(p,y){var _=this.__data__;return this.size+=this.has(p)?0:1,_[p]=gy&&y===n?l:y,this}jd.prototype.clear=Uae,jd.prototype.delete=jae,jd.prototype.get=qae,jd.prototype.has=Vae,jd.prototype.set=Xae;function Zc(p){var y=-1,_=p==null?0:p.length;for(this.clear();++y<_;){var E=p[y];this.set(E[0],E[1])}}function Zae(){this.__data__=[],this.size=0}function Wae(p){var y=this.__data__,_=N2(y,p);if(_<0)return!1;var E=y.length-1;return _==E?y.pop():P2.call(y,_,1),--this.size,!0}function Yae(p){var y=this.__data__,_=N2(y,p);return _<0?n:y[_][1]}function Gae(p){return N2(this.__data__,p)>-1}function Hae(p,y){var _=this.__data__,E=N2(_,p);return E<0?(++this.size,_.push([p,y])):_[E][1]=y,this}Zc.prototype.clear=Zae,Zc.prototype.delete=Wae,Zc.prototype.get=Yae,Zc.prototype.has=Gae,Zc.prototype.set=Hae;function Wc(p){var y=-1,_=p==null?0:p.length;for(this.clear();++y<_;){var E=p[y];this.set(E[0],E[1])}}function Kae(){this.size=0,this.__data__={hash:new jd,map:new(py||Zc),string:new jd}}function Jae(p){var y=G2(this,p).delete(p);return this.size-=y?1:0,y}function ele(p){return G2(this,p).get(p)}function tle(p){return G2(this,p).has(p)}function nle(p,y){var _=G2(this,p),E=_.size;return _.set(p,y),this.size+=_.size==E?0:1,this}Wc.prototype.clear=Kae,Wc.prototype.delete=Jae,Wc.prototype.get=ele,Wc.prototype.has=tle,Wc.prototype.set=nle;function qd(p){var y=-1,_=p==null?0:p.length;for(this.__data__=new Wc;++y<_;)this.add(p[y])}function rle(p){return this.__data__.set(p,l),this}function ile(p){return this.__data__.has(p)}qd.prototype.add=qd.prototype.push=rle,qd.prototype.has=ile;function Fl(p){var y=this.__data__=new Zc(p);this.size=y.size}function sle(){this.__data__=new Zc,this.size=0}function ole(p){var y=this.__data__,_=y.delete(p);return this.size=y.size,_}function ale(p){return this.__data__.get(p)}function lle(p){return this.__data__.has(p)}function ule(p,y){var _=this.__data__;if(_ instanceof Zc){var E=_.__data__;if(!py||E.length<i-1)return E.push([p,y]),this.size=++_.size,this;_=this.__data__=new Wc(E)}return _.set(p,y),this.size=_.size,this}Fl.prototype.clear=sle,Fl.prototype.delete=ole,Fl.prototype.get=ale,Fl.prototype.has=lle,Fl.prototype.set=ule;function I$(p,y){var _=qt(p),E=!_&&Yd(p),P=!_&&!E&&Ch(p),N=!_&&!E&&!P&&im(p),q=_||E||P||N,te=q?l5(p.length,vae):[],re=te.length;for(var ge in p)(y||er.call(p,ge))&&!(q&&(ge=="length"||P&&(ge=="offset"||ge=="parent")||N&&(ge=="buffer"||ge=="byteLength"||ge=="byteOffset")||Kc(ge,re)))&&te.push(ge);return te}function F$(p){var y=p.length;return y?p[k5(0,y-1)]:n}function cle(p,y){return H2(xo(p),Vd(y,0,p.length))}function fle(p){return H2(xo(p))}function m5(p,y,_){(_!==n&&!Ml(p[y],_)||_===n&&!(y in p))&&Yc(p,y,_)}function by(p,y,_){var E=p[y];(!(er.call(p,y)&&Ml(E,_))||_===n&&!(y in p))&&Yc(p,y,_)}function N2(p,y){for(var _=p.length;_--;)if(Ml(p[_][0],y))return _;return-1}function hle(p,y,_,E){return _h(p,function(P,N,q){y(E,P,_(P),q)}),E}function M$(p,y){return p&&Cu(y,Ki(y),p)}function dle(p,y){return p&&Cu(y,ko(y),p)}function Yc(p,y,_){y=="__proto__"&&R2?R2(p,y,{configurable:!0,enumerable:!0,value:_,writable:!0}):p[y]=_}function g5(p,y){for(var _=-1,E=y.length,P=ue(E),N=p==null;++_<E;)P[_]=N?n:G5(p,y[_]);return P}function Vd(p,y,_){return p===p&&(_!==n&&(p=p<=_?p:_),y!==n&&(p=p>=y?p:y)),p}function Za(p,y,_,E,P,N){var q,te=y&f,re=y&h,ge=y&d;if(_&&(q=P?_(p,E,P,N):_(p)),q!==n)return q;if(!Hr(p))return p;var ye=qt(p);if(ye){if(q=tue(p),!te)return xo(p,q)}else{var Ce=Ss(p),je=Ce==tt||Ce==at;if(Ch(p))return oI(p,te);if(Ce==dt||Ce==oe||je&&!P){if(q=re||je?{}:kI(p),!te)return re?qle(p,dle(q,p)):jle(p,M$(q,p))}else{if(!Sr[Ce])return P?p:{};q=nue(p,Ce,te)}}N||(N=new Fl);var rt=N.get(p);if(rt)return rt;N.set(p,q),eF(p)?p.forEach(function(wt){q.add(Za(wt,y,_,wt,p,N))}):KI(p)&&p.forEach(function(wt,hn){q.set(hn,Za(wt,y,_,hn,p,N))});var Ot=ge?re?M5:F5:re?ko:Ki,tn=ye?n:Ot(p);return qa(tn||p,function(wt,hn){tn&&(hn=wt,wt=p[hn]),by(q,hn,Za(wt,y,_,hn,p,N))}),q}function ple(p){var y=Ki(p);return function(_){return L$(_,p,y)}}function L$(p,y,_){var E=_.length;if(p==null)return!E;for(p=dr(p);E--;){var P=_[E],N=y[P],q=p[P];if(q===n&&!(P in p)||!N(q))return!1}return!0}function N$(p,y,_){if(typeof p!="function")throw new Va(o);return ky(function(){p.apply(n,_)},y)}function vy(p,y,_,E){var P=-1,N=w2,q=!0,te=p.length,re=[],ge=y.length;if(!te)return re;_&&(y=Ur(y,la(_))),E?(N=n5,q=!1):y.length>=i&&(N=hy,q=!1,y=new qd(y));e:for(;++P<te;){var ye=p[P],Ce=_==null?ye:_(ye);if(ye=E||ye!==0?ye:0,q&&Ce===Ce){for(var je=ge;je--;)if(y[je]===Ce)continue e;re.push(ye)}else N(y,Ce,E)||re.push(ye)}return re}var _h=fI(ku),Q$=fI(b5,!0);function mle(p,y){var _=!0;return _h(p,function(E,P,N){return _=!!y(E,P,N),_}),_}function Q2(p,y,_){for(var E=-1,P=p.length;++E<P;){var N=p[E],q=y(N);if(q!=null&&(te===n?q===q&&!ca(q):_(q,te)))var te=q,re=N}return re}function gle(p,y,_,E){var P=p.length;for(_=Gt(_),_<0&&(_=-_>P?0:P+_),E=E===n||E>P?P:Gt(E),E<0&&(E+=P),E=_>E?0:nF(E);_<E;)p[_++]=y;return p}function B$(p,y){var _=[];return _h(p,function(E,P,N){y(E,P,N)&&_.push(E)}),_}function fs(p,y,_,E,P){var N=-1,q=p.length;for(_||(_=iue),P||(P=[]);++N<q;){var te=p[N];y>0&&_(te)?y>1?fs(te,y-1,_,E,P):vh(P,te):E||(P[P.length]=te)}return P}var y5=hI(),z$=hI(!0);function ku(p,y){return p&&y5(p,y,Ki)}function b5(p,y){return p&&z$(p,y,Ki)}function B2(p,y){return bh(y,function(_){return Jc(p[_])})}function Xd(p,y){y=Sh(y,p);for(var _=0,E=y.length;p!=null&&_<E;)p=p[Au(y[_++])];return _&&_==E?p:n}function U$(p,y,_){var E=y(p);return qt(p)?E:vh(E,_(p))}function Ws(p){return p==null?p===n?li:Rt:Ud&&Ud in dr(p)?Kle(p):fue(p)}function v5(p,y){return p>y}function yle(p,y){return p!=null&&er.call(p,y)}function ble(p,y){return p!=null&&y in dr(p)}function vle(p,y,_){return p>=xs(y,_)&&p<zi(y,_)}function O5(p,y,_){for(var E=_?n5:w2,P=p[0].length,N=p.length,q=N,te=ue(N),re=1/0,ge=[];q--;){var ye=p[q];q&&y&&(ye=Ur(ye,la(y))),re=xs(ye.length,re),te[q]=!_&&(y||P>=120&&ye.length>=120)?new qd(q&&ye):n}ye=p[0];var Ce=-1,je=te[0];e:for(;++Ce<P&&ge.length<re;){var rt=ye[Ce],Ot=y?y(rt):rt;if(rt=_||rt!==0?rt:0,!(je?hy(je,Ot):E(ge,Ot,_))){for(q=N;--q;){var tn=te[q];if(!(tn?hy(tn,Ot):E(p[q],Ot,_)))continue e}je&&je.push(Ot),ge.push(rt)}}return ge}function Ole(p,y,_,E){return ku(p,function(P,N,q){y(E,_(P),N,q)}),E}function Oy(p,y,_){y=Sh(y,p),p=TI(p,y);var E=p==null?p:p[Au(Ya(y))];return E==null?n:aa(E,p,_)}function j$(p){return ui(p)&&Ws(p)==oe}function wle(p){return ui(p)&&Ws(p)==vt}function _le(p){return ui(p)&&Ws(p)==Ae}function wy(p,y,_,E,P){return p===y?!0:p==null||y==null||!ui(p)&&!ui(y)?p!==p&&y!==y:xle(p,y,_,E,wy,P)}function xle(p,y,_,E,P,N){var q=qt(p),te=qt(y),re=q?De:Ss(p),ge=te?De:Ss(y);re=re==oe?dt:re,ge=ge==oe?dt:ge;var ye=re==dt,Ce=ge==dt,je=re==ge;if(je&&Ch(p)){if(!Ch(y))return!1;q=!0,ye=!1}if(je&&!ye)return N||(N=new Fl),q||im(p)?_I(p,y,_,E,P,N):Gle(p,y,re,_,E,P,N);if(!(_&m)){var rt=ye&&er.call(p,"__wrapped__"),Ot=Ce&&er.call(y,"__wrapped__");if(rt||Ot){var tn=rt?p.value():p,wt=Ot?y.value():y;return N||(N=new Fl),P(tn,wt,_,E,N)}}return je?(N||(N=new Fl),Hle(p,y,_,E,P,N)):!1}function Sle(p){return ui(p)&&Ss(p)==Re}function w5(p,y,_,E){var P=_.length,N=P,q=!E;if(p==null)return!N;for(p=dr(p);P--;){var te=_[P];if(q&&te[2]?te[1]!==p[te[0]]:!(te[0]in p))return!1}for(;++P<N;){te=_[P];var re=te[0],ge=p[re],ye=te[1];if(q&&te[2]){if(ge===n&&!(re in p))return!1}else{var Ce=new Fl;if(E)var je=E(ge,ye,re,p,y,Ce);if(!(je===n?wy(ye,ge,m|g,E,Ce):je))return!1}}return!0}function q$(p){if(!Hr(p)||oue(p))return!1;var y=Jc(p)?Sae:Tn;return y.test(Wd(p))}function kle(p){return ui(p)&&Ws(p)==Zr}function Cle(p){return ui(p)&&Ss(p)==cn}function Ale(p){return ui(p)&&rw(p.length)&&!!$r[Ws(p)]}function V$(p){return typeof p=="function"?p:p==null?Co:typeof p=="object"?qt(p)?W$(p[0],p[1]):Z$(p):dF(p)}function _5(p){if(!Sy(p))return Dae(p);var y=[];for(var _ in dr(p))er.call(p,_)&&_!="constructor"&&y.push(_);return y}function Ele(p){if(!Hr(p))return cue(p);var y=Sy(p),_=[];for(var E in p)E=="constructor"&&(y||!er.call(p,E))||_.push(E);return _}function x5(p,y){return p<y}function X$(p,y){var _=-1,E=So(p)?ue(p.length):[];return _h(p,function(P,N,q){E[++_]=y(P,N,q)}),E}function Z$(p){var y=N5(p);return y.length==1&&y[0][2]?AI(y[0][0],y[0][1]):function(_){return _===p||w5(_,p,y)}}function W$(p,y){return B5(p)&&CI(y)?AI(Au(p),y):function(_){var E=G5(_,p);return E===n&&E===y?H5(_,p):wy(y,E,m|g)}}function z2(p,y,_,E,P){p!==y&&y5(y,function(N,q){if(P||(P=new Fl),Hr(N))Tle(p,y,q,_,z2,E,P);else{var te=E?E(U5(p,q),N,q+"",p,y,P):n;te===n&&(te=N),m5(p,q,te)}},ko)}function Tle(p,y,_,E,P,N,q){var te=U5(p,_),re=U5(y,_),ge=q.get(re);if(ge){m5(p,_,ge);return}var ye=N?N(te,re,_+"",p,y,q):n,Ce=ye===n;if(Ce){var je=qt(re),rt=!je&&Ch(re),Ot=!je&&!rt&&im(re);ye=re,je||rt||Ot?qt(te)?ye=te:bi(te)?ye=xo(te):rt?(Ce=!1,ye=oI(re,!0)):Ot?(Ce=!1,ye=aI(re,!0)):ye=[]:Cy(re)||Yd(re)?(ye=te,Yd(te)?ye=rF(te):(!Hr(te)||Jc(te))&&(ye=kI(re))):Ce=!1}Ce&&(q.set(re,ye),P(ye,re,E,N,q),q.delete(re)),m5(p,_,ye)}function Y$(p,y){var _=p.length;if(_)return y+=y<0?_:0,Kc(y,_)?p[y]:n}function G$(p,y,_){y.length?y=Ur(y,function(N){return qt(N)?function(q){return Xd(q,N.length===1?N[0]:N)}:N}):y=[Co];var E=-1;y=Ur(y,la(pt()));var P=X$(p,function(N,q,te){var re=Ur(y,function(ge){return ge(N)});return{criteria:re,index:++E,value:N}});return nae(P,function(N,q){return Ule(N,q,_)})}function Dle(p,y){return H$(p,y,function(_,E){return H5(p,E)})}function H$(p,y,_){for(var E=-1,P=y.length,N={};++E<P;){var q=y[E],te=Xd(p,q);_(te,q)&&_y(N,Sh(q,p),te)}return N}function Ple(p){return function(y){return Xd(y,p)}}function S5(p,y,_,E){var P=E?tae:Z0,N=-1,q=y.length,te=p;for(p===y&&(y=xo(y)),_&&(te=Ur(p,la(_)));++N<q;)for(var re=0,ge=y[N],ye=_?_(ge):ge;(re=P(te,ye,re,E))>-1;)te!==p&&P2.call(te,re,1),P2.call(p,re,1);return p}function K$(p,y){for(var _=p?y.length:0,E=_-1;_--;){var P=y[_];if(_==E||P!==N){var N=P;Kc(P)?P2.call(p,P,1):E5(p,P)}}return p}function k5(p,y){return p+I2(R$()*(y-p+1))}function Rle(p,y,_,E){for(var P=-1,N=zi($2((y-p)/(_||1)),0),q=ue(N);N--;)q[E?N:++P]=p,p+=_;return q}function C5(p,y){var _="";if(!p||y<1||y>J)return _;do y%2&&(_+=p),y=I2(y/2),y&&(p+=p);while(y);return _}function sn(p,y){return j5(EI(p,y,Co),p+"")}function $le(p){return F$(sm(p))}function Ile(p,y){var _=sm(p);return H2(_,Vd(y,0,_.length))}function _y(p,y,_,E){if(!Hr(p))return p;y=Sh(y,p);for(var P=-1,N=y.length,q=N-1,te=p;te!=null&&++P<N;){var re=Au(y[P]),ge=_;if(re==="__proto__"||re==="constructor"||re==="prototype")return p;if(P!=q){var ye=te[re];ge=E?E(ye,re,te):n,ge===n&&(ge=Hr(ye)?ye:Kc(y[P+1])?[]:{})}by(te,re,ge),te=te[re]}return p}var J$=F2?function(p,y){return F2.set(p,y),p}:Co,Fle=R2?function(p,y){return R2(p,"toString",{configurable:!0,enumerable:!1,value:J5(y),writable:!0})}:Co;function Mle(p){return H2(sm(p))}function Wa(p,y,_){var E=-1,P=p.length;y<0&&(y=-y>P?0:P+y),_=_>P?P:_,_<0&&(_+=P),P=y>_?0:_-y>>>0,y>>>=0;for(var N=ue(P);++E<P;)N[E]=p[E+y];return N}function Lle(p,y){var _;return _h(p,function(E,P,N){return _=y(E,P,N),!_}),!!_}function U2(p,y,_){var E=0,P=p==null?E:p.length;if(typeof y=="number"&&y===y&&P<=le){for(;E<P;){var N=E+P>>>1,q=p[N];q!==null&&!ca(q)&&(_?q<=y:q<y)?E=N+1:P=N}return P}return A5(p,y,Co,_)}function A5(p,y,_,E){var P=0,N=p==null?0:p.length;if(N===0)return 0;y=_(y);for(var q=y!==y,te=y===null,re=ca(y),ge=y===n;P<N;){var ye=I2((P+N)/2),Ce=_(p[ye]),je=Ce!==n,rt=Ce===null,Ot=Ce===Ce,tn=ca(Ce);if(q)var wt=E||Ot;else ge?wt=Ot&&(E||je):te?wt=Ot&&je&&(E||!rt):re?wt=Ot&&je&&!rt&&(E||!tn):rt||tn?wt=!1:wt=E?Ce<=y:Ce<y;wt?P=ye+1:N=ye}return xs(N,fe)}function eI(p,y){for(var _=-1,E=p.length,P=0,N=[];++_<E;){var q=p[_],te=y?y(q):q;if(!_||!Ml(te,re)){var re=te;N[P++]=q===0?0:q}}return N}function tI(p){return typeof p=="number"?p:ca(p)?ie:+p}function ua(p){if(typeof p=="string")return p;if(qt(p))return Ur(p,ua)+"";if(ca(p))return $$?$$.call(p):"";var y=p+"";return y=="0"&&1/p==-Z?"-0":y}function xh(p,y,_){var E=-1,P=w2,N=p.length,q=!0,te=[],re=te;if(_)q=!1,P=n5;else if(N>=i){var ge=y?null:Wle(p);if(ge)return x2(ge);q=!1,P=hy,re=new qd}else re=y?[]:te;e:for(;++E<N;){var ye=p[E],Ce=y?y(ye):ye;if(ye=_||ye!==0?ye:0,q&&Ce===Ce){for(var je=re.length;je--;)if(re[je]===Ce)continue e;y&&re.push(Ce),te.push(ye)}else P(re,Ce,_)||(re!==te&&re.push(Ce),te.push(ye))}return te}function E5(p,y){return y=Sh(y,p),p=TI(p,y),p==null||delete p[Au(Ya(y))]}function nI(p,y,_,E){return _y(p,y,_(Xd(p,y)),E)}function j2(p,y,_,E){for(var P=p.length,N=E?P:-1;(E?N--:++N<P)&&y(p[N],N,p););return _?Wa(p,E?0:N,E?N+1:P):Wa(p,E?N+1:0,E?P:N)}function rI(p,y){var _=p;return _ instanceof gn&&(_=_.value()),r5(y,function(E,P){return P.func.apply(P.thisArg,vh([E],P.args))},_)}function T5(p,y,_){var E=p.length;if(E<2)return E?xh(p[0]):[];for(var P=-1,N=ue(E);++P<E;)for(var q=p[P],te=-1;++te<E;)te!=P&&(N[P]=vy(N[P]||q,p[te],y,_));return xh(fs(N,1),y,_)}function iI(p,y,_){for(var E=-1,P=p.length,N=y.length,q={};++E<P;){var te=E<N?y[E]:n;_(q,p[E],te)}return q}function D5(p){return bi(p)?p:[]}function P5(p){return typeof p=="function"?p:Co}function Sh(p,y){return qt(p)?p:B5(p,y)?[p]:$I(Xn(p))}var Nle=sn;function kh(p,y,_){var E=p.length;return _=_===n?E:_,!y&&_>=E?p:Wa(p,y,_)}var sI=kae||function(p){return cs.clearTimeout(p)};function oI(p,y){if(y)return p.slice();var _=p.length,E=A$?A$(_):new p.constructor(_);return p.copy(E),E}function R5(p){var y=new p.constructor(p.byteLength);return new T2(y).set(new T2(p)),y}function Qle(p,y){var _=y?R5(p.buffer):p.buffer;return new p.constructor(_,p.byteOffset,p.byteLength)}function Ble(p){var y=new p.constructor(p.source,ut.exec(p));return y.lastIndex=p.lastIndex,y}function zle(p){return yy?dr(yy.call(p)):{}}function aI(p,y){var _=y?R5(p.buffer):p.buffer;return new p.constructor(_,p.byteOffset,p.length)}function lI(p,y){if(p!==y){var _=p!==n,E=p===null,P=p===p,N=ca(p),q=y!==n,te=y===null,re=y===y,ge=ca(y);if(!te&&!ge&&!N&&p>y||N&&q&&re&&!te&&!ge||E&&q&&re||!_&&re||!P)return 1;if(!E&&!N&&!ge&&p<y||ge&&_&&P&&!E&&!N||te&&_&&P||!q&&P||!re)return-1}return 0}function Ule(p,y,_){for(var E=-1,P=p.criteria,N=y.criteria,q=P.length,te=_.length;++E<q;){var re=lI(P[E],N[E]);if(re){if(E>=te)return re;var ge=_[E];return re*(ge=="desc"?-1:1)}}return p.index-y.index}function uI(p,y,_,E){for(var P=-1,N=p.length,q=_.length,te=-1,re=y.length,ge=zi(N-q,0),ye=ue(re+ge),Ce=!E;++te<re;)ye[te]=y[te];for(;++P<q;)(Ce||P<N)&&(ye[_[P]]=p[P]);for(;ge--;)ye[te++]=p[P++];return ye}function cI(p,y,_,E){for(var P=-1,N=p.length,q=-1,te=_.length,re=-1,ge=y.length,ye=zi(N-te,0),Ce=ue(ye+ge),je=!E;++P<ye;)Ce[P]=p[P];for(var rt=P;++re<ge;)Ce[rt+re]=y[re];for(;++q<te;)(je||P<N)&&(Ce[rt+_[q]]=p[P++]);return Ce}function xo(p,y){var _=-1,E=p.length;for(y||(y=ue(E));++_<E;)y[_]=p[_];return y}function Cu(p,y,_,E){var P=!_;_||(_={});for(var N=-1,q=y.length;++N<q;){var te=y[N],re=E?E(_[te],p[te],te,_,p):n;re===n&&(re=p[te]),P?Yc(_,te,re):by(_,te,re)}return _}function jle(p,y){return Cu(p,Q5(p),y)}function qle(p,y){return Cu(p,xI(p),y)}function q2(p,y){return function(_,E){var P=qt(_)?Yoe:hle,N=y?y():{};return P(_,p,pt(E,2),N)}}function tm(p){return sn(function(y,_){var E=-1,P=_.length,N=P>1?_[P-1]:n,q=P>2?_[2]:n;for(N=p.length>3&&typeof N=="function"?(P--,N):n,q&&Ys(_[0],_[1],q)&&(N=P<3?n:N,P=1),y=dr(y);++E<P;){var te=_[E];te&&p(y,te,E,N)}return y})}function fI(p,y){return function(_,E){if(_==null)return _;if(!So(_))return p(_,E);for(var P=_.length,N=y?P:-1,q=dr(_);(y?N--:++N<P)&&E(q[N],N,q)!==!1;);return _}}function hI(p){return function(y,_,E){for(var P=-1,N=dr(y),q=E(y),te=q.length;te--;){var re=q[p?te:++P];if(_(N[re],re,N)===!1)break}return y}}function Vle(p,y,_){var E=y&b,P=xy(p);function N(){var q=this&&this!==cs&&this instanceof N?P:p;return q.apply(E?_:this,arguments)}return N}function dI(p){return function(y){y=Xn(y);var _=W0(y)?Il(y):n,E=_?_[0]:y.charAt(0),P=_?kh(_,1).join(""):y.slice(1);return E[p]()+P}}function nm(p){return function(y){return r5(fF(cF(y).replace(Foe,"")),p,"")}}function xy(p){return function(){var y=arguments;switch(y.length){case 0:return new p;case 1:return new p(y[0]);case 2:return new p(y[0],y[1]);case 3:return new p(y[0],y[1],y[2]);case 4:return new p(y[0],y[1],y[2],y[3]);case 5:return new p(y[0],y[1],y[2],y[3],y[4]);case 6:return new p(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new p(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var _=em(p.prototype),E=p.apply(_,y);return Hr(E)?E:_}}function Xle(p,y,_){var E=xy(p);function P(){for(var N=arguments.length,q=ue(N),te=N,re=rm(P);te--;)q[te]=arguments[te];var ge=N<3&&q[0]!==re&&q[N-1]!==re?[]:Oh(q,re);if(N-=ge.length,N<_)return bI(p,y,V2,P.placeholder,n,q,ge,n,n,_-N);var ye=this&&this!==cs&&this instanceof P?E:p;return aa(ye,this,q)}return P}function pI(p){return function(y,_,E){var P=dr(y);if(!So(y)){var N=pt(_,3);y=Ki(y),_=function(te){return N(P[te],te,P)}}var q=p(y,_,E);return q>-1?P[N?y[q]:q]:n}}function mI(p){return Hc(function(y){var _=y.length,E=_,P=Xa.prototype.thru;for(p&&y.reverse();E--;){var N=y[E];if(typeof N!="function")throw new Va(o);if(P&&!q&&Y2(N)=="wrapper")var q=new Xa([],!0)}for(E=q?E:_;++E<_;){N=y[E];var te=Y2(N),re=te=="wrapper"?L5(N):n;re&&z5(re[0])&&re[1]==(k|x|S|T)&&!re[4].length&&re[9]==1?q=q[Y2(re[0])].apply(q,re[3]):q=N.length==1&&z5(N)?q[te]():q.thru(N)}return function(){var ge=arguments,ye=ge[0];if(q&&ge.length==1&&qt(ye))return q.plant(ye).value();for(var Ce=0,je=_?y[Ce].apply(this,ge):ye;++Ce<_;)je=y[Ce].call(this,je);return je}})}function V2(p,y,_,E,P,N,q,te,re,ge){var ye=y&k,Ce=y&b,je=y&v,rt=y&(x|C),Ot=y&D,tn=je?n:xy(p);function wt(){for(var hn=arguments.length,_n=ue(hn),fa=hn;fa--;)_n[fa]=arguments[fa];if(rt)var Gs=rm(wt),ha=iae(_n,Gs);if(E&&(_n=uI(_n,E,P,rt)),N&&(_n=cI(_n,N,q,rt)),hn-=ha,rt&&hn<ge){var vi=Oh(_n,Gs);return bI(p,y,V2,wt.placeholder,_,_n,vi,te,re,ge-hn)}var Ll=Ce?_:this,tf=je?Ll[p]:p;return hn=_n.length,te?_n=hue(_n,te):Ot&&hn>1&&_n.reverse(),ye&&re<hn&&(_n.length=re),this&&this!==cs&&this instanceof wt&&(tf=tn||xy(tf)),tf.apply(Ll,_n)}return wt}function gI(p,y){return function(_,E){return Ole(_,p,y(E),{})}}function X2(p,y){return function(_,E){var P;if(_===n&&E===n)return y;if(_!==n&&(P=_),E!==n){if(P===n)return E;typeof _=="string"||typeof E=="string"?(_=ua(_),E=ua(E)):(_=tI(_),E=tI(E)),P=p(_,E)}return P}}function $5(p){return Hc(function(y){return y=Ur(y,la(pt())),sn(function(_){var E=this;return p(y,function(P){return aa(P,E,_)})})})}function Z2(p,y){y=y===n?" ":ua(y);var _=y.length;if(_<2)return _?C5(y,p):y;var E=C5(y,$2(p/Y0(y)));return W0(y)?kh(Il(E),0,p).join(""):E.slice(0,p)}function Zle(p,y,_,E){var P=y&b,N=xy(p);function q(){for(var te=-1,re=arguments.length,ge=-1,ye=E.length,Ce=ue(ye+re),je=this&&this!==cs&&this instanceof q?N:p;++ge<ye;)Ce[ge]=E[ge];for(;re--;)Ce[ge++]=arguments[++te];return aa(je,P?_:this,Ce)}return q}function yI(p){return function(y,_,E){return E&&typeof E!="number"&&Ys(y,_,E)&&(_=E=n),y=ef(y),_===n?(_=y,y=0):_=ef(_),E=E===n?y<_?1:-1:ef(E),Rle(y,_,E,p)}}function W2(p){return function(y,_){return typeof y=="string"&&typeof _=="string"||(y=Ga(y),_=Ga(_)),p(y,_)}}function bI(p,y,_,E,P,N,q,te,re,ge){var ye=y&x,Ce=ye?q:n,je=ye?n:q,rt=ye?N:n,Ot=ye?n:N;y|=ye?S:A,y&=~(ye?A:S),y&O||(y&=-4);var tn=[p,y,P,rt,Ce,Ot,je,te,re,ge],wt=_.apply(n,tn);return z5(p)&&DI(wt,tn),wt.placeholder=E,PI(wt,p,y)}function I5(p){var y=Bi[p];return function(_,E){if(_=Ga(_),E=E==null?0:xs(Gt(E),292),E&&P$(_)){var P=(Xn(_)+"e").split("e"),N=y(P[0]+"e"+(+P[1]+E));return P=(Xn(N)+"e").split("e"),+(P[0]+"e"+(+P[1]-E))}return y(_)}}var Wle=K0&&1/x2(new K0([,-0]))[1]==Z?function(p){return new K0(p)}:nC;function vI(p){return function(y){var _=Ss(y);return _==Re?c5(y):_==cn?fae(y):rae(y,p(y))}}function Gc(p,y,_,E,P,N,q,te){var re=y&v;if(!re&&typeof p!="function")throw new Va(o);var ge=E?E.length:0;if(ge||(y&=-97,E=P=n),q=q===n?q:zi(Gt(q),0),te=te===n?te:Gt(te),ge-=P?P.length:0,y&A){var ye=E,Ce=P;E=P=n}var je=re?n:L5(p),rt=[p,y,_,E,P,ye,Ce,N,q,te];if(je&&uue(rt,je),p=rt[0],y=rt[1],_=rt[2],E=rt[3],P=rt[4],te=rt[9]=rt[9]===n?re?0:p.length:zi(rt[9]-ge,0),!te&&y&(x|C)&&(y&=-25),!y||y==b)var Ot=Vle(p,y,_);else y==x||y==C?Ot=Xle(p,y,te):(y==S||y==(b|S))&&!P.length?Ot=Zle(p,y,_,E):Ot=V2.apply(n,rt);var tn=je?J$:DI;return PI(tn(Ot,rt),p,y)}function OI(p,y,_,E){return p===n||Ml(p,H0[_])&&!er.call(E,_)?y:p}function wI(p,y,_,E,P,N){return Hr(p)&&Hr(y)&&(N.set(y,p),z2(p,y,n,wI,N),N.delete(y)),p}function Yle(p){return Cy(p)?n:p}function _I(p,y,_,E,P,N){var q=_&m,te=p.length,re=y.length;if(te!=re&&!(q&&re>te))return!1;var ge=N.get(p),ye=N.get(y);if(ge&&ye)return ge==y&&ye==p;var Ce=-1,je=!0,rt=_&g?new qd:n;for(N.set(p,y),N.set(y,p);++Ce<te;){var Ot=p[Ce],tn=y[Ce];if(E)var wt=q?E(tn,Ot,Ce,y,p,N):E(Ot,tn,Ce,p,y,N);if(wt!==n){if(wt)continue;je=!1;break}if(rt){if(!i5(y,function(hn,_n){if(!hy(rt,_n)&&(Ot===hn||P(Ot,hn,_,E,N)))return rt.push(_n)})){je=!1;break}}else if(!(Ot===tn||P(Ot,tn,_,E,N))){je=!1;break}}return N.delete(p),N.delete(y),je}function Gle(p,y,_,E,P,N,q){switch(_){case kn:if(p.byteLength!=y.byteLength||p.byteOffset!=y.byteOffset)return!1;p=p.buffer,y=y.buffer;case vt:return!(p.byteLength!=y.byteLength||!N(new T2(p),new T2(y)));case Ne:case Ae:case We:return Ml(+p,+y);case Te:return p.name==y.name&&p.message==y.message;case Zr:case Lt:return p==y+"";case Re:var te=c5;case cn:var re=E&m;if(te||(te=x2),p.size!=y.size&&!re)return!1;var ge=q.get(p);if(ge)return ge==y;E|=g,q.set(p,y);var ye=_I(te(p),te(y),E,P,N,q);return q.delete(p),ye;case Jn:if(yy)return yy.call(p)==yy.call(y)}return!1}function Hle(p,y,_,E,P,N){var q=_&m,te=F5(p),re=te.length,ge=F5(y),ye=ge.length;if(re!=ye&&!q)return!1;for(var Ce=re;Ce--;){var je=te[Ce];if(!(q?je in y:er.call(y,je)))return!1}var rt=N.get(p),Ot=N.get(y);if(rt&&Ot)return rt==y&&Ot==p;var tn=!0;N.set(p,y),N.set(y,p);for(var wt=q;++Ce<re;){je=te[Ce];var hn=p[je],_n=y[je];if(E)var fa=q?E(_n,hn,je,y,p,N):E(hn,_n,je,p,y,N);if(!(fa===n?hn===_n||P(hn,_n,_,E,N):fa)){tn=!1;break}wt||(wt=je=="constructor")}if(tn&&!wt){var Gs=p.constructor,ha=y.constructor;Gs!=ha&&"constructor"in p&&"constructor"in y&&!(typeof Gs=="function"&&Gs instanceof Gs&&typeof ha=="function"&&ha instanceof ha)&&(tn=!1)}return N.delete(p),N.delete(y),tn}function Hc(p){return j5(EI(p,n,LI),p+"")}function F5(p){return U$(p,Ki,Q5)}function M5(p){return U$(p,ko,xI)}var L5=F2?function(p){return F2.get(p)}:nC;function Y2(p){for(var y=p.name+"",_=J0[y],E=er.call(J0,y)?_.length:0;E--;){var P=_[E],N=P.func;if(N==null||N==p)return P.name}return y}function rm(p){var y=er.call(F,"placeholder")?F:p;return y.placeholder}function pt(){var p=F.iteratee||eC;return p=p===eC?V$:p,arguments.length?p(arguments[0],arguments[1]):p}function G2(p,y){var _=p.__data__;return sue(y)?_[typeof y=="string"?"string":"hash"]:_.map}function N5(p){for(var y=Ki(p),_=y.length;_--;){var E=y[_],P=p[E];y[_]=[E,P,CI(P)]}return y}function Zd(p,y){var _=lae(p,y);return q$(_)?_:n}function Kle(p){var y=er.call(p,Ud),_=p[Ud];try{p[Ud]=n;var E=!0}catch{}var P=A2.call(p);return E&&(y?p[Ud]=_:delete p[Ud]),P}var Q5=h5?function(p){return p==null?[]:(p=dr(p),bh(h5(p),function(y){return T$.call(p,y)}))}:rC,xI=h5?function(p){for(var y=[];p;)vh(y,Q5(p)),p=D2(p);return y}:rC,Ss=Ws;(d5&&Ss(new d5(new ArrayBuffer(1)))!=kn||py&&Ss(new py)!=Re||p5&&Ss(p5.resolve())!=Qt||K0&&Ss(new K0)!=cn||my&&Ss(new my)!=Pr)&&(Ss=function(p){var y=Ws(p),_=y==dt?p.constructor:n,E=_?Wd(_):"";if(E)switch(E){case Iae:return kn;case Fae:return Re;case Mae:return Qt;case Lae:return cn;case Nae:return Pr}return y});function Jle(p,y,_){for(var E=-1,P=_.length;++E<P;){var N=_[E],q=N.size;switch(N.type){case"drop":p+=q;break;case"dropRight":y-=q;break;case"take":y=xs(y,p+q);break;case"takeRight":p=zi(p,y-q);break}}return{start:p,end:y}}function eue(p){var y=p.match(j0);return y?y[1].split(q0):[]}function SI(p,y,_){y=Sh(y,p);for(var E=-1,P=y.length,N=!1;++E<P;){var q=Au(y[E]);if(!(N=p!=null&&_(p,q)))break;p=p[q]}return N||++E!=P?N:(P=p==null?0:p.length,!!P&&rw(P)&&Kc(q,P)&&(qt(p)||Yd(p)))}function tue(p){var y=p.length,_=new p.constructor(y);return y&&typeof p[0]=="string"&&er.call(p,"index")&&(_.index=p.index,_.input=p.input),_}function kI(p){return typeof p.constructor=="function"&&!Sy(p)?em(D2(p)):{}}function nue(p,y,_){var E=p.constructor;switch(y){case vt:return R5(p);case Ne:case Ae:return new E(+p);case kn:return Qle(p,_);case zr:case Hi:case mn:case Bt:case zt:case fn:case Rr:case gi:case oa:return aI(p,_);case Re:return new E;case We:case Lt:return new E(p);case Zr:return Ble(p);case cn:return new E;case Jn:return zle(p)}}function rue(p,y){var _=y.length;if(!_)return p;var E=_-1;return y[E]=(_>1?"& ":"")+y[E],y=y.join(_>2?", ":" "),p.replace($l,`{
/* [wrapped with `+y+`] */
`)}function iue(p){return qt(p)||Yd(p)||!!(D$&&p&&p[D$])}function Kc(p,y){var _=typeof p;return y=y??J,!!y&&(_=="number"||_!="symbol"&&G.test(p))&&p>-1&&p%1==0&&p<y}function Ys(p,y,_){if(!Hr(_))return!1;var E=typeof y;return(E=="number"?So(_)&&Kc(y,_.length):E=="string"&&y in _)?Ml(_[y],p):!1}function B5(p,y){if(qt(p))return!1;var _=typeof p;return _=="number"||_=="symbol"||_=="boolean"||p==null||ca(p)?!0:Rl.test(p)||!_o.test(p)||y!=null&&p in dr(y)}function sue(p){var y=typeof p;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?p!=="__proto__":p===null}function z5(p){var y=Y2(p),_=F[y];if(typeof _!="function"||!(y in gn.prototype))return!1;if(p===_)return!0;var E=L5(_);return!!E&&p===E[0]}function oue(p){return!!C$&&C$ in p}var aue=k2?Jc:iC;function Sy(p){var y=p&&p.constructor,_=typeof y=="function"&&y.prototype||H0;return p===_}function CI(p){return p===p&&!Hr(p)}function AI(p,y){return function(_){return _==null?!1:_[p]===y&&(y!==n||p in dr(_))}}function lue(p){var y=tw(p,function(E){return _.size===u&&_.clear(),E}),_=y.cache;return y}function uue(p,y){var _=p[1],E=y[1],P=_|E,N=P<(b|v|k),q=E==k&&_==x||E==k&&_==T&&p[7].length<=y[8]||E==(k|T)&&y[7].length<=y[8]&&_==x;if(!(N||q))return p;E&b&&(p[2]=y[2],P|=_&b?0:O);var te=y[3];if(te){var re=p[3];p[3]=re?uI(re,te,y[4]):te,p[4]=re?Oh(p[3],c):y[4]}return te=y[5],te&&(re=p[5],p[5]=re?cI(re,te,y[6]):te,p[6]=re?Oh(p[5],c):y[6]),te=y[7],te&&(p[7]=te),E&k&&(p[8]=p[8]==null?y[8]:xs(p[8],y[8])),p[9]==null&&(p[9]=y[9]),p[0]=y[0],p[1]=P,p}function cue(p){var y=[];if(p!=null)for(var _ in dr(p))y.push(_);return y}function fue(p){return A2.call(p)}function EI(p,y,_){return y=zi(y===n?p.length-1:y,0),function(){for(var E=arguments,P=-1,N=zi(E.length-y,0),q=ue(N);++P<N;)q[P]=E[y+P];P=-1;for(var te=ue(y+1);++P<y;)te[P]=E[P];return te[y]=_(q),aa(p,this,te)}}function TI(p,y){return y.length<2?p:Xd(p,Wa(y,0,-1))}function hue(p,y){for(var _=p.length,E=xs(y.length,_),P=xo(p);E--;){var N=y[E];p[E]=Kc(N,_)?P[N]:n}return p}function U5(p,y){if(!(y==="constructor"&&typeof p[y]=="function")&&y!="__proto__")return p[y]}var DI=RI(J$),ky=Aae||function(p,y){return cs.setTimeout(p,y)},j5=RI(Fle);function PI(p,y,_){var E=y+"";return j5(p,rue(E,due(eue(E),_)))}function RI(p){var y=0,_=0;return function(){var E=Pae(),P=R-(E-_);if(_=E,P>0){if(++y>=L)return arguments[0]}else y=0;return p.apply(n,arguments)}}function H2(p,y){var _=-1,E=p.length,P=E-1;for(y=y===n?E:y;++_<y;){var N=k5(_,P),q=p[N];p[N]=p[_],p[_]=q}return p.length=y,p}var $I=lue(function(p){var y=[];return p.charCodeAt(0)===46&&y.push(""),p.replace(xu,function(_,E,P,N){y.push(P?N.replace(Ue,"$1"):E||_)}),y});function Au(p){if(typeof p=="string"||ca(p))return p;var y=p+"";return y=="0"&&1/p==-Z?"-0":y}function Wd(p){if(p!=null){try{return C2.call(p)}catch{}try{return p+""}catch{}}return""}function due(p,y){return qa(me,function(_){var E="_."+_[0];y&_[1]&&!w2(p,E)&&p.push(E)}),p.sort()}function II(p){if(p instanceof gn)return p.clone();var y=new Xa(p.__wrapped__,p.__chain__);return y.__actions__=xo(p.__actions__),y.__index__=p.__index__,y.__values__=p.__values__,y}function pue(p,y,_){(_?Ys(p,y,_):y===n)?y=1:y=zi(Gt(y),0);var E=p==null?0:p.length;if(!E||y<1)return[];for(var P=0,N=0,q=ue($2(E/y));P<E;)q[N++]=Wa(p,P,P+=y);return q}function mue(p){for(var y=-1,_=p==null?0:p.length,E=0,P=[];++y<_;){var N=p[y];N&&(P[E++]=N)}return P}function gue(){var p=arguments.length;if(!p)return[];for(var y=ue(p-1),_=arguments[0],E=p;E--;)y[E-1]=arguments[E];return vh(qt(_)?xo(_):[_],fs(y,1))}var yue=sn(function(p,y){return bi(p)?vy(p,fs(y,1,bi,!0)):[]}),bue=sn(function(p,y){var _=Ya(y);return bi(_)&&(_=n),bi(p)?vy(p,fs(y,1,bi,!0),pt(_,2)):[]}),vue=sn(function(p,y){var _=Ya(y);return bi(_)&&(_=n),bi(p)?vy(p,fs(y,1,bi,!0),n,_):[]});function Oue(p,y,_){var E=p==null?0:p.length;return E?(y=_||y===n?1:Gt(y),Wa(p,y<0?0:y,E)):[]}function wue(p,y,_){var E=p==null?0:p.length;return E?(y=_||y===n?1:Gt(y),y=E-y,Wa(p,0,y<0?0:y)):[]}function _ue(p,y){return p&&p.length?j2(p,pt(y,3),!0,!0):[]}function xue(p,y){return p&&p.length?j2(p,pt(y,3),!0):[]}function Sue(p,y,_,E){var P=p==null?0:p.length;return P?(_&&typeof _!="number"&&Ys(p,y,_)&&(_=0,E=P),gle(p,y,_,E)):[]}function FI(p,y,_){var E=p==null?0:p.length;if(!E)return-1;var P=_==null?0:Gt(_);return P<0&&(P=zi(E+P,0)),_2(p,pt(y,3),P)}function MI(p,y,_){var E=p==null?0:p.length;if(!E)return-1;var P=E-1;return _!==n&&(P=Gt(_),P=_<0?zi(E+P,0):xs(P,E-1)),_2(p,pt(y,3),P,!0)}function LI(p){var y=p==null?0:p.length;return y?fs(p,1):[]}function kue(p){var y=p==null?0:p.length;return y?fs(p,Z):[]}function Cue(p,y){var _=p==null?0:p.length;return _?(y=y===n?1:Gt(y),fs(p,y)):[]}function Aue(p){for(var y=-1,_=p==null?0:p.length,E={};++y<_;){var P=p[y];E[P[0]]=P[1]}return E}function NI(p){return p&&p.length?p[0]:n}function Eue(p,y,_){var E=p==null?0:p.length;if(!E)return-1;var P=_==null?0:Gt(_);return P<0&&(P=zi(E+P,0)),Z0(p,y,P)}function Tue(p){var y=p==null?0:p.length;return y?Wa(p,0,-1):[]}var Due=sn(function(p){var y=Ur(p,D5);return y.length&&y[0]===p[0]?O5(y):[]}),Pue=sn(function(p){var y=Ya(p),_=Ur(p,D5);return y===Ya(_)?y=n:_.pop(),_.length&&_[0]===p[0]?O5(_,pt(y,2)):[]}),Rue=sn(function(p){var y=Ya(p),_=Ur(p,D5);return y=typeof y=="function"?y:n,y&&_.pop(),_.length&&_[0]===p[0]?O5(_,n,y):[]});function $ue(p,y){return p==null?"":Tae.call(p,y)}function Ya(p){var y=p==null?0:p.length;return y?p[y-1]:n}function Iue(p,y,_){var E=p==null?0:p.length;if(!E)return-1;var P=E;return _!==n&&(P=Gt(_),P=P<0?zi(E+P,0):xs(P,E-1)),y===y?dae(p,y,P):_2(p,b$,P,!0)}function Fue(p,y){return p&&p.length?Y$(p,Gt(y)):n}var Mue=sn(QI);function QI(p,y){return p&&p.length&&y&&y.length?S5(p,y):p}function Lue(p,y,_){return p&&p.length&&y&&y.length?S5(p,y,pt(_,2)):p}function Nue(p,y,_){return p&&p.length&&y&&y.length?S5(p,y,n,_):p}var Que=Hc(function(p,y){var _=p==null?0:p.length,E=g5(p,y);return K$(p,Ur(y,function(P){return Kc(P,_)?+P:P}).sort(lI)),E});function Bue(p,y){var _=[];if(!(p&&p.length))return _;var E=-1,P=[],N=p.length;for(y=pt(y,3);++E<N;){var q=p[E];y(q,E,p)&&(_.push(q),P.push(E))}return K$(p,P),_}function q5(p){return p==null?p:$ae.call(p)}function zue(p,y,_){var E=p==null?0:p.length;return E?(_&&typeof _!="number"&&Ys(p,y,_)?(y=0,_=E):(y=y==null?0:Gt(y),_=_===n?E:Gt(_)),Wa(p,y,_)):[]}function Uue(p,y){return U2(p,y)}function jue(p,y,_){return A5(p,y,pt(_,2))}function que(p,y){var _=p==null?0:p.length;if(_){var E=U2(p,y);if(E<_&&Ml(p[E],y))return E}return-1}function Vue(p,y){return U2(p,y,!0)}function Xue(p,y,_){return A5(p,y,pt(_,2),!0)}function Zue(p,y){var _=p==null?0:p.length;if(_){var E=U2(p,y,!0)-1;if(Ml(p[E],y))return E}return-1}function Wue(p){return p&&p.length?eI(p):[]}function Yue(p,y){return p&&p.length?eI(p,pt(y,2)):[]}function Gue(p){var y=p==null?0:p.length;return y?Wa(p,1,y):[]}function Hue(p,y,_){return p&&p.length?(y=_||y===n?1:Gt(y),Wa(p,0,y<0?0:y)):[]}function Kue(p,y,_){var E=p==null?0:p.length;return E?(y=_||y===n?1:Gt(y),y=E-y,Wa(p,y<0?0:y,E)):[]}function Jue(p,y){return p&&p.length?j2(p,pt(y,3),!1,!0):[]}function ece(p,y){return p&&p.length?j2(p,pt(y,3)):[]}var tce=sn(function(p){return xh(fs(p,1,bi,!0))}),nce=sn(function(p){var y=Ya(p);return bi(y)&&(y=n),xh(fs(p,1,bi,!0),pt(y,2))}),rce=sn(function(p){var y=Ya(p);return y=typeof y=="function"?y:n,xh(fs(p,1,bi,!0),n,y)});function ice(p){return p&&p.length?xh(p):[]}function sce(p,y){return p&&p.length?xh(p,pt(y,2)):[]}function oce(p,y){return y=typeof y=="function"?y:n,p&&p.length?xh(p,n,y):[]}function V5(p){if(!(p&&p.length))return[];var y=0;return p=bh(p,function(_){if(bi(_))return y=zi(_.length,y),!0}),l5(y,function(_){return Ur(p,s5(_))})}function BI(p,y){if(!(p&&p.length))return[];var _=V5(p);return y==null?_:Ur(_,function(E){return aa(y,n,E)})}var ace=sn(function(p,y){return bi(p)?vy(p,y):[]}),lce=sn(function(p){return T5(bh(p,bi))}),uce=sn(function(p){var y=Ya(p);return bi(y)&&(y=n),T5(bh(p,bi),pt(y,2))}),cce=sn(function(p){var y=Ya(p);return y=typeof y=="function"?y:n,T5(bh(p,bi),n,y)}),fce=sn(V5);function hce(p,y){return iI(p||[],y||[],by)}function dce(p,y){return iI(p||[],y||[],_y)}var pce=sn(function(p){var y=p.length,_=y>1?p[y-1]:n;return _=typeof _=="function"?(p.pop(),_):n,BI(p,_)});function zI(p){var y=F(p);return y.__chain__=!0,y}function mce(p,y){return y(p),p}function K2(p,y){return y(p)}var gce=Hc(function(p){var y=p.length,_=y?p[0]:0,E=this.__wrapped__,P=function(N){return g5(N,p)};return y>1||this.__actions__.length||!(E instanceof gn)||!Kc(_)?this.thru(P):(E=E.slice(_,+_+(y?1:0)),E.__actions__.push({func:K2,args:[P],thisArg:n}),new Xa(E,this.__chain__).thru(function(N){return y&&!N.length&&N.push(n),N}))});function yce(){return zI(this)}function bce(){return new Xa(this.value(),this.__chain__)}function vce(){this.__values__===n&&(this.__values__=tF(this.value()));var p=this.__index__>=this.__values__.length,y=p?n:this.__values__[this.__index__++];return{done:p,value:y}}function Oce(){return this}function wce(p){for(var y,_=this;_ instanceof L2;){var E=II(_);E.__index__=0,E.__values__=n,y?P.__wrapped__=E:y=E;var P=E;_=_.__wrapped__}return P.__wrapped__=p,y}function _ce(){var p=this.__wrapped__;if(p instanceof gn){var y=p;return this.__actions__.length&&(y=new gn(this)),y=y.reverse(),y.__actions__.push({func:K2,args:[q5],thisArg:n}),new Xa(y,this.__chain__)}return this.thru(q5)}function xce(){return rI(this.__wrapped__,this.__actions__)}var Sce=q2(function(p,y,_){er.call(p,_)?++p[_]:Yc(p,_,1)});function kce(p,y,_){var E=qt(p)?g$:mle;return _&&Ys(p,y,_)&&(y=n),E(p,pt(y,3))}function Cce(p,y){var _=qt(p)?bh:B$;return _(p,pt(y,3))}var Ace=pI(FI),Ece=pI(MI);function Tce(p,y){return fs(J2(p,y),1)}function Dce(p,y){return fs(J2(p,y),Z)}function Pce(p,y,_){return _=_===n?1:Gt(_),fs(J2(p,y),_)}function UI(p,y){var _=qt(p)?qa:_h;return _(p,pt(y,3))}function jI(p,y){var _=qt(p)?Goe:Q$;return _(p,pt(y,3))}var Rce=q2(function(p,y,_){er.call(p,_)?p[_].push(y):Yc(p,_,[y])});function $ce(p,y,_,E){p=So(p)?p:sm(p),_=_&&!E?Gt(_):0;var P=p.length;return _<0&&(_=zi(P+_,0)),iw(p)?_<=P&&p.indexOf(y,_)>-1:!!P&&Z0(p,y,_)>-1}var Ice=sn(function(p,y,_){var E=-1,P=typeof y=="function",N=So(p)?ue(p.length):[];return _h(p,function(q){N[++E]=P?aa(y,q,_):Oy(q,y,_)}),N}),Fce=q2(function(p,y,_){Yc(p,_,y)});function J2(p,y){var _=qt(p)?Ur:X$;return _(p,pt(y,3))}function Mce(p,y,_,E){return p==null?[]:(qt(y)||(y=y==null?[]:[y]),_=E?n:_,qt(_)||(_=_==null?[]:[_]),G$(p,y,_))}var Lce=q2(function(p,y,_){p[_?0:1].push(y)},function(){return[[],[]]});function Nce(p,y,_){var E=qt(p)?r5:O$,P=arguments.length<3;return E(p,pt(y,4),_,P,_h)}function Qce(p,y,_){var E=qt(p)?Hoe:O$,P=arguments.length<3;return E(p,pt(y,4),_,P,Q$)}function Bce(p,y){var _=qt(p)?bh:B$;return _(p,nw(pt(y,3)))}function zce(p){var y=qt(p)?F$:$le;return y(p)}function Uce(p,y,_){(_?Ys(p,y,_):y===n)?y=1:y=Gt(y);var E=qt(p)?cle:Ile;return E(p,y)}function jce(p){var y=qt(p)?fle:Mle;return y(p)}function qce(p){if(p==null)return 0;if(So(p))return iw(p)?Y0(p):p.length;var y=Ss(p);return y==Re||y==cn?p.size:_5(p).length}function Vce(p,y,_){var E=qt(p)?i5:Lle;return _&&Ys(p,y,_)&&(y=n),E(p,pt(y,3))}var Xce=sn(function(p,y){if(p==null)return[];var _=y.length;return _>1&&Ys(p,y[0],y[1])?y=[]:_>2&&Ys(y[0],y[1],y[2])&&(y=[y[0]]),G$(p,fs(y,1),[])}),ew=Cae||function(){return cs.Date.now()};function Zce(p,y){if(typeof y!="function")throw new Va(o);return p=Gt(p),function(){if(--p<1)return y.apply(this,arguments)}}function qI(p,y,_){return y=_?n:y,y=p&&y==null?p.length:y,Gc(p,k,n,n,n,n,y)}function VI(p,y){var _;if(typeof y!="function")throw new Va(o);return p=Gt(p),function(){return--p>0&&(_=y.apply(this,arguments)),p<=1&&(y=n),_}}var X5=sn(function(p,y,_){var E=b;if(_.length){var P=Oh(_,rm(X5));E|=S}return Gc(p,E,y,_,P)}),XI=sn(function(p,y,_){var E=b|v;if(_.length){var P=Oh(_,rm(XI));E|=S}return Gc(y,E,p,_,P)});function ZI(p,y,_){y=_?n:y;var E=Gc(p,x,n,n,n,n,n,y);return E.placeholder=ZI.placeholder,E}function WI(p,y,_){y=_?n:y;var E=Gc(p,C,n,n,n,n,n,y);return E.placeholder=WI.placeholder,E}function YI(p,y,_){var E,P,N,q,te,re,ge=0,ye=!1,Ce=!1,je=!0;if(typeof p!="function")throw new Va(o);y=Ga(y)||0,Hr(_)&&(ye=!!_.leading,Ce="maxWait"in _,N=Ce?zi(Ga(_.maxWait)||0,y):N,je="trailing"in _?!!_.trailing:je);function rt(vi){var Ll=E,tf=P;return E=P=n,ge=vi,q=p.apply(tf,Ll),q}function Ot(vi){return ge=vi,te=ky(hn,y),ye?rt(vi):q}function tn(vi){var Ll=vi-re,tf=vi-ge,pF=y-Ll;return Ce?xs(pF,N-tf):pF}function wt(vi){var Ll=vi-re,tf=vi-ge;return re===n||Ll>=y||Ll<0||Ce&&tf>=N}function hn(){var vi=ew();if(wt(vi))return _n(vi);te=ky(hn,tn(vi))}function _n(vi){return te=n,je&&E?rt(vi):(E=P=n,q)}function fa(){te!==n&&sI(te),ge=0,E=re=P=te=n}function Gs(){return te===n?q:_n(ew())}function ha(){var vi=ew(),Ll=wt(vi);if(E=arguments,P=this,re=vi,Ll){if(te===n)return Ot(re);if(Ce)return sI(te),te=ky(hn,y),rt(re)}return te===n&&(te=ky(hn,y)),q}return ha.cancel=fa,ha.flush=Gs,ha}var Wce=sn(function(p,y){return N$(p,1,y)}),Yce=sn(function(p,y,_){return N$(p,Ga(y)||0,_)});function Gce(p){return Gc(p,D)}function tw(p,y){if(typeof p!="function"||y!=null&&typeof y!="function")throw new Va(o);var _=function(){var E=arguments,P=y?y.apply(this,E):E[0],N=_.cache;if(N.has(P))return N.get(P);var q=p.apply(this,E);return _.cache=N.set(P,q)||N,q};return _.cache=new(tw.Cache||Wc),_}tw.Cache=Wc;function nw(p){if(typeof p!="function")throw new Va(o);return function(){var y=arguments;switch(y.length){case 0:return!p.call(this);case 1:return!p.call(this,y[0]);case 2:return!p.call(this,y[0],y[1]);case 3:return!p.call(this,y[0],y[1],y[2])}return!p.apply(this,y)}}function Hce(p){return VI(2,p)}var Kce=Nle(function(p,y){y=y.length==1&&qt(y[0])?Ur(y[0],la(pt())):Ur(fs(y,1),la(pt()));var _=y.length;return sn(function(E){for(var P=-1,N=xs(E.length,_);++P<N;)E[P]=y[P].call(this,E[P]);return aa(p,this,E)})}),Z5=sn(function(p,y){var _=Oh(y,rm(Z5));return Gc(p,S,n,y,_)}),GI=sn(function(p,y){var _=Oh(y,rm(GI));return Gc(p,A,n,y,_)}),Jce=Hc(function(p,y){return Gc(p,T,n,n,n,y)});function efe(p,y){if(typeof p!="function")throw new Va(o);return y=y===n?y:Gt(y),sn(p,y)}function tfe(p,y){if(typeof p!="function")throw new Va(o);return y=y==null?0:zi(Gt(y),0),sn(function(_){var E=_[y],P=kh(_,0,y);return E&&vh(P,E),aa(p,this,P)})}function nfe(p,y,_){var E=!0,P=!0;if(typeof p!="function")throw new Va(o);return Hr(_)&&(E="leading"in _?!!_.leading:E,P="trailing"in _?!!_.trailing:P),YI(p,y,{leading:E,maxWait:y,trailing:P})}function rfe(p){return qI(p,1)}function ife(p,y){return Z5(P5(y),p)}function sfe(){if(!arguments.length)return[];var p=arguments[0];return qt(p)?p:[p]}function ofe(p){return Za(p,d)}function afe(p,y){return y=typeof y=="function"?y:n,Za(p,d,y)}function lfe(p){return Za(p,f|d)}function ufe(p,y){return y=typeof y=="function"?y:n,Za(p,f|d,y)}function cfe(p,y){return y==null||L$(p,y,Ki(y))}function Ml(p,y){return p===y||p!==p&&y!==y}var ffe=W2(v5),hfe=W2(function(p,y){return p>=y}),Yd=j$((function(){return arguments})())?j$:function(p){return ui(p)&&er.call(p,"callee")&&!T$.call(p,"callee")},qt=ue.isArray,dfe=c$?la(c$):wle;function So(p){return p!=null&&rw(p.length)&&!Jc(p)}function bi(p){return ui(p)&&So(p)}function pfe(p){return p===!0||p===!1||ui(p)&&Ws(p)==Ne}var Ch=Eae||iC,mfe=f$?la(f$):_le;function gfe(p){return ui(p)&&p.nodeType===1&&!Cy(p)}function yfe(p){if(p==null)return!0;if(So(p)&&(qt(p)||typeof p=="string"||typeof p.splice=="function"||Ch(p)||im(p)||Yd(p)))return!p.length;var y=Ss(p);if(y==Re||y==cn)return!p.size;if(Sy(p))return!_5(p).length;for(var _ in p)if(er.call(p,_))return!1;return!0}function bfe(p,y){return wy(p,y)}function vfe(p,y,_){_=typeof _=="function"?_:n;var E=_?_(p,y):n;return E===n?wy(p,y,n,_):!!E}function W5(p){if(!ui(p))return!1;var y=Ws(p);return y==Te||y==ke||typeof p.message=="string"&&typeof p.name=="string"&&!Cy(p)}function Ofe(p){return typeof p=="number"&&P$(p)}function Jc(p){if(!Hr(p))return!1;var y=Ws(p);return y==tt||y==at||y==Ve||y==Br}function HI(p){return typeof p=="number"&&p==Gt(p)}function rw(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=J}function Hr(p){var y=typeof p;return p!=null&&(y=="object"||y=="function")}function ui(p){return p!=null&&typeof p=="object"}var KI=h$?la(h$):Sle;function wfe(p,y){return p===y||w5(p,y,N5(y))}function _fe(p,y,_){return _=typeof _=="function"?_:n,w5(p,y,N5(y),_)}function xfe(p){return JI(p)&&p!=+p}function Sfe(p){if(aue(p))throw new Ut(s);return q$(p)}function kfe(p){return p===null}function Cfe(p){return p==null}function JI(p){return typeof p=="number"||ui(p)&&Ws(p)==We}function Cy(p){if(!ui(p)||Ws(p)!=dt)return!1;var y=D2(p);if(y===null)return!0;var _=er.call(y,"constructor")&&y.constructor;return typeof _=="function"&&_ instanceof _&&C2.call(_)==_ae}var Y5=d$?la(d$):kle;function Afe(p){return HI(p)&&p>=-J&&p<=J}var eF=p$?la(p$):Cle;function iw(p){return typeof p=="string"||!qt(p)&&ui(p)&&Ws(p)==Lt}function ca(p){return typeof p=="symbol"||ui(p)&&Ws(p)==Jn}var im=m$?la(m$):Ale;function Efe(p){return p===n}function Tfe(p){return ui(p)&&Ss(p)==Pr}function Dfe(p){return ui(p)&&Ws(p)==Wr}var Pfe=W2(x5),Rfe=W2(function(p,y){return p<=y});function tF(p){if(!p)return[];if(So(p))return iw(p)?Il(p):xo(p);if(dy&&p[dy])return cae(p[dy]());var y=Ss(p),_=y==Re?c5:y==cn?x2:sm;return _(p)}function ef(p){if(!p)return p===0?p:0;if(p=Ga(p),p===Z||p===-Z){var y=p<0?-1:1;return y*ee}return p===p?p:0}function Gt(p){var y=ef(p),_=y%1;return y===y?_?y-_:y:0}function nF(p){return p?Vd(Gt(p),0,K):0}function Ga(p){if(typeof p=="number")return p;if(ca(p))return ie;if(Hr(p)){var y=typeof p.valueOf=="function"?p.valueOf():p;p=Hr(y)?y+"":y}if(typeof p!="string")return p===0?p:+p;p=w$(p);var _=Cn.test(p);return _||Le.test(p)?Zoe(p.slice(2),_?2:8):Ct.test(p)?ie:+p}function rF(p){return Cu(p,ko(p))}function $fe(p){return p?Vd(Gt(p),-J,J):p===0?p:0}function Xn(p){return p==null?"":ua(p)}var Ife=tm(function(p,y){if(Sy(y)||So(y)){Cu(y,Ki(y),p);return}for(var _ in y)er.call(y,_)&&by(p,_,y[_])}),iF=tm(function(p,y){Cu(y,ko(y),p)}),sw=tm(function(p,y,_,E){Cu(y,ko(y),p,E)}),Ffe=tm(function(p,y,_,E){Cu(y,Ki(y),p,E)}),Mfe=Hc(g5);function Lfe(p,y){var _=em(p);return y==null?_:M$(_,y)}var Nfe=sn(function(p,y){p=dr(p);var _=-1,E=y.length,P=E>2?y[2]:n;for(P&&Ys(y[0],y[1],P)&&(E=1);++_<E;)for(var N=y[_],q=ko(N),te=-1,re=q.length;++te<re;){var ge=q[te],ye=p[ge];(ye===n||Ml(ye,H0[ge])&&!er.call(p,ge))&&(p[ge]=N[ge])}return p}),Qfe=sn(function(p){return p.push(n,wI),aa(sF,n,p)});function Bfe(p,y){return y$(p,pt(y,3),ku)}function zfe(p,y){return y$(p,pt(y,3),b5)}function Ufe(p,y){return p==null?p:y5(p,pt(y,3),ko)}function jfe(p,y){return p==null?p:z$(p,pt(y,3),ko)}function qfe(p,y){return p&&ku(p,pt(y,3))}function Vfe(p,y){return p&&b5(p,pt(y,3))}function Xfe(p){return p==null?[]:B2(p,Ki(p))}function Zfe(p){return p==null?[]:B2(p,ko(p))}function G5(p,y,_){var E=p==null?n:Xd(p,y);return E===n?_:E}function Wfe(p,y){return p!=null&&SI(p,y,yle)}function H5(p,y){return p!=null&&SI(p,y,ble)}var Yfe=gI(function(p,y,_){y!=null&&typeof y.toString!="function"&&(y=A2.call(y)),p[y]=_},J5(Co)),Gfe=gI(function(p,y,_){y!=null&&typeof y.toString!="function"&&(y=A2.call(y)),er.call(p,y)?p[y].push(_):p[y]=[_]},pt),Hfe=sn(Oy);function Ki(p){return So(p)?I$(p):_5(p)}function ko(p){return So(p)?I$(p,!0):Ele(p)}function Kfe(p,y){var _={};return y=pt(y,3),ku(p,function(E,P,N){Yc(_,y(E,P,N),E)}),_}function Jfe(p,y){var _={};return y=pt(y,3),ku(p,function(E,P,N){Yc(_,P,y(E,P,N))}),_}var ehe=tm(function(p,y,_){z2(p,y,_)}),sF=tm(function(p,y,_,E){z2(p,y,_,E)}),the=Hc(function(p,y){var _={};if(p==null)return _;var E=!1;y=Ur(y,function(N){return N=Sh(N,p),E||(E=N.length>1),N}),Cu(p,M5(p),_),E&&(_=Za(_,f|h|d,Yle));for(var P=y.length;P--;)E5(_,y[P]);return _});function nhe(p,y){return oF(p,nw(pt(y)))}var rhe=Hc(function(p,y){return p==null?{}:Dle(p,y)});function oF(p,y){if(p==null)return{};var _=Ur(M5(p),function(E){return[E]});return y=pt(y),H$(p,_,function(E,P){return y(E,P[0])})}function ihe(p,y,_){y=Sh(y,p);var E=-1,P=y.length;for(P||(P=1,p=n);++E<P;){var N=p==null?n:p[Au(y[E])];N===n&&(E=P,N=_),p=Jc(N)?N.call(p):N}return p}function she(p,y,_){return p==null?p:_y(p,y,_)}function ohe(p,y,_,E){return E=typeof E=="function"?E:n,p==null?p:_y(p,y,_,E)}var aF=vI(Ki),lF=vI(ko);function ahe(p,y,_){var E=qt(p),P=E||Ch(p)||im(p);if(y=pt(y,4),_==null){var N=p&&p.constructor;P?_=E?new N:[]:Hr(p)?_=Jc(N)?em(D2(p)):{}:_={}}return(P?qa:ku)(p,function(q,te,re){return y(_,q,te,re)}),_}function lhe(p,y){return p==null?!0:E5(p,y)}function uhe(p,y,_){return p==null?p:nI(p,y,P5(_))}function che(p,y,_,E){return E=typeof E=="function"?E:n,p==null?p:nI(p,y,P5(_),E)}function sm(p){return p==null?[]:u5(p,Ki(p))}function fhe(p){return p==null?[]:u5(p,ko(p))}function hhe(p,y,_){return _===n&&(_=y,y=n),_!==n&&(_=Ga(_),_=_===_?_:0),y!==n&&(y=Ga(y),y=y===y?y:0),Vd(Ga(p),y,_)}function dhe(p,y,_){return y=ef(y),_===n?(_=y,y=0):_=ef(_),p=Ga(p),vle(p,y,_)}function phe(p,y,_){if(_&&typeof _!="boolean"&&Ys(p,y,_)&&(y=_=n),_===n&&(typeof y=="boolean"?(_=y,y=n):typeof p=="boolean"&&(_=p,p=n)),p===n&&y===n?(p=0,y=1):(p=ef(p),y===n?(y=p,p=0):y=ef(y)),p>y){var E=p;p=y,y=E}if(_||p%1||y%1){var P=R$();return xs(p+P*(y-p+Xoe("1e-"+((P+"").length-1))),y)}return k5(p,y)}var mhe=nm(function(p,y,_){return y=y.toLowerCase(),p+(_?uF(y):y)});function uF(p){return K5(Xn(p).toLowerCase())}function cF(p){return p=Xn(p),p&&p.replace(Se,sae).replace(Moe,"")}function ghe(p,y,_){p=Xn(p),y=ua(y);var E=p.length;_=_===n?E:Vd(Gt(_),0,E);var P=_;return _-=y.length,_>=0&&p.slice(_,P)==y}function yhe(p){return p=Xn(p),p&&Ua.test(p)?p.replace(wo,oae):p}function bhe(p){return p=Xn(p),p&&U0.test(p)?p.replace(Su,"\\$&"):p}var vhe=nm(function(p,y,_){return p+(_?"-":"")+y.toLowerCase()}),Ohe=nm(function(p,y,_){return p+(_?" ":"")+y.toLowerCase()}),whe=dI("toLowerCase");function _he(p,y,_){p=Xn(p),y=Gt(y);var E=y?Y0(p):0;if(!y||E>=y)return p;var P=(y-E)/2;return Z2(I2(P),_)+p+Z2($2(P),_)}function xhe(p,y,_){p=Xn(p),y=Gt(y);var E=y?Y0(p):0;return y&&E<y?p+Z2(y-E,_):p}function She(p,y,_){p=Xn(p),y=Gt(y);var E=y?Y0(p):0;return y&&E<y?Z2(y-E,_)+p:p}function khe(p,y,_){return _||y==null?y=0:y&&(y=+y),Rae(Xn(p).replace(Bd,""),y||0)}function Che(p,y,_){return(_?Ys(p,y,_):y===n)?y=1:y=Gt(y),C5(Xn(p),y)}function Ahe(){var p=arguments,y=Xn(p[0]);return p.length<3?y:y.replace(p[1],p[2])}var Ehe=nm(function(p,y,_){return p+(_?"_":"")+y.toLowerCase()});function The(p,y,_){return _&&typeof _!="number"&&Ys(p,y,_)&&(y=_=n),_=_===n?K:_>>>0,_?(p=Xn(p),p&&(typeof y=="string"||y!=null&&!Y5(y))&&(y=ua(y),!y&&W0(p))?kh(Il(p),0,_):p.split(y,_)):[]}var Dhe=nm(function(p,y,_){return p+(_?" ":"")+K5(y)});function Phe(p,y,_){return p=Xn(p),_=_==null?0:Vd(Gt(_),0,p.length),y=ua(y),p.slice(_,_+y.length)==y}function Rhe(p,y,_){var E=F.templateSettings;_&&Ys(p,y,_)&&(y=n),p=Xn(p),y=sw({},y,E,OI);var P=sw({},y.imports,E.imports,OI),N=Ki(P),q=u5(P,N),te,re,ge=0,ye=y.interpolate||Qe,Ce="__p += '",je=f5((y.escape||Qe).source+"|"+ye.source+"|"+(ye===Gr?nt:Qe).source+"|"+(y.evaluate||Qe).source+"|$","g"),rt="//# sourceURL="+(er.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zoe+"]")+`
`;p.replace(je,function(wt,hn,_n,fa,Gs,ha){return _n||(_n=fa),Ce+=p.slice(ge,ha).replace(en,aae),hn&&(te=!0,Ce+=`' +
__e(`+hn+`) +
'`),Gs&&(re=!0,Ce+=`';
`+Gs+`;
__p += '`),_n&&(Ce+=`' +
((__t = (`+_n+`)) == null ? '' : __t) +
'`),ge=ha+wt.length,wt}),Ce+=`';
`;var Ot=er.call(y,"variable")&&y.variable;if(!Ot)Ce=`with (obj) {
`+Ce+`
}
`;else if(Me.test(Ot))throw new Ut(a);Ce=(re?Ce.replace(Yr,""):Ce).replace(us,"$1").replace(wr,"$1;"),Ce="function("+(Ot||"obj")+`) {
`+(Ot?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(te?", __e = _.escape":"")+(re?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ce+`return __p
}`;var tn=hF(function(){return Bn(N,rt+"return "+Ce).apply(n,q)});if(tn.source=Ce,W5(tn))throw tn;return tn}function $he(p){return Xn(p).toLowerCase()}function Ihe(p){return Xn(p).toUpperCase()}function Fhe(p,y,_){if(p=Xn(p),p&&(_||y===n))return w$(p);if(!p||!(y=ua(y)))return p;var E=Il(p),P=Il(y),N=_$(E,P),q=x$(E,P)+1;return kh(E,N,q).join("")}function Mhe(p,y,_){if(p=Xn(p),p&&(_||y===n))return p.slice(0,k$(p)+1);if(!p||!(y=ua(y)))return p;var E=Il(p),P=x$(E,Il(y))+1;return kh(E,0,P).join("")}function Lhe(p,y,_){if(p=Xn(p),p&&(_||y===n))return p.replace(Bd,"");if(!p||!(y=ua(y)))return p;var E=Il(p),P=_$(E,Il(y));return kh(E,P).join("")}function Nhe(p,y){var _=$,E=M;if(Hr(y)){var P="separator"in y?y.separator:P;_="length"in y?Gt(y.length):_,E="omission"in y?ua(y.omission):E}p=Xn(p);var N=p.length;if(W0(p)){var q=Il(p);N=q.length}if(_>=N)return p;var te=_-Y0(E);if(te<1)return E;var re=q?kh(q,0,te).join(""):p.slice(0,te);if(P===n)return re+E;if(q&&(te+=re.length-te),Y5(P)){if(p.slice(te).search(P)){var ge,ye=re;for(P.global||(P=f5(P.source,Xn(ut.exec(P))+"g")),P.lastIndex=0;ge=P.exec(ye);)var Ce=ge.index;re=re.slice(0,Ce===n?te:Ce)}}else if(p.indexOf(ua(P),te)!=te){var je=re.lastIndexOf(P);je>-1&&(re=re.slice(0,je))}return re+E}function Qhe(p){return p=Xn(p),p&&yi.test(p)?p.replace(Ti,pae):p}var Bhe=nm(function(p,y,_){return p+(_?" ":"")+y.toUpperCase()}),K5=dI("toUpperCase");function fF(p,y,_){return p=Xn(p),y=_?n:y,y===n?uae(p)?yae(p):eae(p):p.match(y)||[]}var hF=sn(function(p,y){try{return aa(p,n,y)}catch(_){return W5(_)?_:new Ut(_)}}),zhe=Hc(function(p,y){return qa(y,function(_){_=Au(_),Yc(p,_,X5(p[_],p))}),p});function Uhe(p){var y=p==null?0:p.length,_=pt();return p=y?Ur(p,function(E){if(typeof E[1]!="function")throw new Va(o);return[_(E[0]),E[1]]}):[],sn(function(E){for(var P=-1;++P<y;){var N=p[P];if(aa(N[0],this,E))return aa(N[1],this,E)}})}function jhe(p){return ple(Za(p,f))}function J5(p){return function(){return p}}function qhe(p,y){return p==null||p!==p?y:p}var Vhe=mI(),Xhe=mI(!0);function Co(p){return p}function eC(p){return V$(typeof p=="function"?p:Za(p,f))}function Zhe(p){return Z$(Za(p,f))}function Whe(p,y){return W$(p,Za(y,f))}var Yhe=sn(function(p,y){return function(_){return Oy(_,p,y)}}),Ghe=sn(function(p,y){return function(_){return Oy(p,_,y)}});function tC(p,y,_){var E=Ki(y),P=B2(y,E);_==null&&!(Hr(y)&&(P.length||!E.length))&&(_=y,y=p,p=this,P=B2(y,Ki(y)));var N=!(Hr(_)&&"chain"in _)||!!_.chain,q=Jc(p);return qa(P,function(te){var re=y[te];p[te]=re,q&&(p.prototype[te]=function(){var ge=this.__chain__;if(N||ge){var ye=p(this.__wrapped__),Ce=ye.__actions__=xo(this.__actions__);return Ce.push({func:re,args:arguments,thisArg:p}),ye.__chain__=ge,ye}return re.apply(p,vh([this.value()],arguments))})}),p}function Hhe(){return cs._===this&&(cs._=xae),this}function nC(){}function Khe(p){return p=Gt(p),sn(function(y){return Y$(y,p)})}var Jhe=$5(Ur),ede=$5(g$),tde=$5(i5);function dF(p){return B5(p)?s5(Au(p)):Ple(p)}function nde(p){return function(y){return p==null?n:Xd(p,y)}}var rde=yI(),ide=yI(!0);function rC(){return[]}function iC(){return!1}function sde(){return{}}function ode(){return""}function ade(){return!0}function lde(p,y){if(p=Gt(p),p<1||p>J)return[];var _=K,E=xs(p,K);y=pt(y),p-=K;for(var P=l5(E,y);++_<p;)y(_);return P}function ude(p){return qt(p)?Ur(p,Au):ca(p)?[p]:xo($I(Xn(p)))}function cde(p){var y=++wae;return Xn(p)+y}var fde=X2(function(p,y){return p+y},0),hde=I5("ceil"),dde=X2(function(p,y){return p/y},1),pde=I5("floor");function mde(p){return p&&p.length?Q2(p,Co,v5):n}function gde(p,y){return p&&p.length?Q2(p,pt(y,2),v5):n}function yde(p){return v$(p,Co)}function bde(p,y){return v$(p,pt(y,2))}function vde(p){return p&&p.length?Q2(p,Co,x5):n}function Ode(p,y){return p&&p.length?Q2(p,pt(y,2),x5):n}var wde=X2(function(p,y){return p*y},1),_de=I5("round"),xde=X2(function(p,y){return p-y},0);function Sde(p){return p&&p.length?a5(p,Co):0}function kde(p,y){return p&&p.length?a5(p,pt(y,2)):0}return F.after=Zce,F.ary=qI,F.assign=Ife,F.assignIn=iF,F.assignInWith=sw,F.assignWith=Ffe,F.at=Mfe,F.before=VI,F.bind=X5,F.bindAll=zhe,F.bindKey=XI,F.castArray=sfe,F.chain=zI,F.chunk=pue,F.compact=mue,F.concat=gue,F.cond=Uhe,F.conforms=jhe,F.constant=J5,F.countBy=Sce,F.create=Lfe,F.curry=ZI,F.curryRight=WI,F.debounce=YI,F.defaults=Nfe,F.defaultsDeep=Qfe,F.defer=Wce,F.delay=Yce,F.difference=yue,F.differenceBy=bue,F.differenceWith=vue,F.drop=Oue,F.dropRight=wue,F.dropRightWhile=_ue,F.dropWhile=xue,F.fill=Sue,F.filter=Cce,F.flatMap=Tce,F.flatMapDeep=Dce,F.flatMapDepth=Pce,F.flatten=LI,F.flattenDeep=kue,F.flattenDepth=Cue,F.flip=Gce,F.flow=Vhe,F.flowRight=Xhe,F.fromPairs=Aue,F.functions=Xfe,F.functionsIn=Zfe,F.groupBy=Rce,F.initial=Tue,F.intersection=Due,F.intersectionBy=Pue,F.intersectionWith=Rue,F.invert=Yfe,F.invertBy=Gfe,F.invokeMap=Ice,F.iteratee=eC,F.keyBy=Fce,F.keys=Ki,F.keysIn=ko,F.map=J2,F.mapKeys=Kfe,F.mapValues=Jfe,F.matches=Zhe,F.matchesProperty=Whe,F.memoize=tw,F.merge=ehe,F.mergeWith=sF,F.method=Yhe,F.methodOf=Ghe,F.mixin=tC,F.negate=nw,F.nthArg=Khe,F.omit=the,F.omitBy=nhe,F.once=Hce,F.orderBy=Mce,F.over=Jhe,F.overArgs=Kce,F.overEvery=ede,F.overSome=tde,F.partial=Z5,F.partialRight=GI,F.partition=Lce,F.pick=rhe,F.pickBy=oF,F.property=dF,F.propertyOf=nde,F.pull=Mue,F.pullAll=QI,F.pullAllBy=Lue,F.pullAllWith=Nue,F.pullAt=Que,F.range=rde,F.rangeRight=ide,F.rearg=Jce,F.reject=Bce,F.remove=Bue,F.rest=efe,F.reverse=q5,F.sampleSize=Uce,F.set=she,F.setWith=ohe,F.shuffle=jce,F.slice=zue,F.sortBy=Xce,F.sortedUniq=Wue,F.sortedUniqBy=Yue,F.split=The,F.spread=tfe,F.tail=Gue,F.take=Hue,F.takeRight=Kue,F.takeRightWhile=Jue,F.takeWhile=ece,F.tap=mce,F.throttle=nfe,F.thru=K2,F.toArray=tF,F.toPairs=aF,F.toPairsIn=lF,F.toPath=ude,F.toPlainObject=rF,F.transform=ahe,F.unary=rfe,F.union=tce,F.unionBy=nce,F.unionWith=rce,F.uniq=ice,F.uniqBy=sce,F.uniqWith=oce,F.unset=lhe,F.unzip=V5,F.unzipWith=BI,F.update=uhe,F.updateWith=che,F.values=sm,F.valuesIn=fhe,F.without=ace,F.words=fF,F.wrap=ife,F.xor=lce,F.xorBy=uce,F.xorWith=cce,F.zip=fce,F.zipObject=hce,F.zipObjectDeep=dce,F.zipWith=pce,F.entries=aF,F.entriesIn=lF,F.extend=iF,F.extendWith=sw,tC(F,F),F.add=fde,F.attempt=hF,F.camelCase=mhe,F.capitalize=uF,F.ceil=hde,F.clamp=hhe,F.clone=ofe,F.cloneDeep=lfe,F.cloneDeepWith=ufe,F.cloneWith=afe,F.conformsTo=cfe,F.deburr=cF,F.defaultTo=qhe,F.divide=dde,F.endsWith=ghe,F.eq=Ml,F.escape=yhe,F.escapeRegExp=bhe,F.every=kce,F.find=Ace,F.findIndex=FI,F.findKey=Bfe,F.findLast=Ece,F.findLastIndex=MI,F.findLastKey=zfe,F.floor=pde,F.forEach=UI,F.forEachRight=jI,F.forIn=Ufe,F.forInRight=jfe,F.forOwn=qfe,F.forOwnRight=Vfe,F.get=G5,F.gt=ffe,F.gte=hfe,F.has=Wfe,F.hasIn=H5,F.head=NI,F.identity=Co,F.includes=$ce,F.indexOf=Eue,F.inRange=dhe,F.invoke=Hfe,F.isArguments=Yd,F.isArray=qt,F.isArrayBuffer=dfe,F.isArrayLike=So,F.isArrayLikeObject=bi,F.isBoolean=pfe,F.isBuffer=Ch,F.isDate=mfe,F.isElement=gfe,F.isEmpty=yfe,F.isEqual=bfe,F.isEqualWith=vfe,F.isError=W5,F.isFinite=Ofe,F.isFunction=Jc,F.isInteger=HI,F.isLength=rw,F.isMap=KI,F.isMatch=wfe,F.isMatchWith=_fe,F.isNaN=xfe,F.isNative=Sfe,F.isNil=Cfe,F.isNull=kfe,F.isNumber=JI,F.isObject=Hr,F.isObjectLike=ui,F.isPlainObject=Cy,F.isRegExp=Y5,F.isSafeInteger=Afe,F.isSet=eF,F.isString=iw,F.isSymbol=ca,F.isTypedArray=im,F.isUndefined=Efe,F.isWeakMap=Tfe,F.isWeakSet=Dfe,F.join=$ue,F.kebabCase=vhe,F.last=Ya,F.lastIndexOf=Iue,F.lowerCase=Ohe,F.lowerFirst=whe,F.lt=Pfe,F.lte=Rfe,F.max=mde,F.maxBy=gde,F.mean=yde,F.meanBy=bde,F.min=vde,F.minBy=Ode,F.stubArray=rC,F.stubFalse=iC,F.stubObject=sde,F.stubString=ode,F.stubTrue=ade,F.multiply=wde,F.nth=Fue,F.noConflict=Hhe,F.noop=nC,F.now=ew,F.pad=_he,F.padEnd=xhe,F.padStart=She,F.parseInt=khe,F.random=phe,F.reduce=Nce,F.reduceRight=Qce,F.repeat=Che,F.replace=Ahe,F.result=ihe,F.round=_de,F.runInContext=ne,F.sample=zce,F.size=qce,F.snakeCase=Ehe,F.some=Vce,F.sortedIndex=Uue,F.sortedIndexBy=jue,F.sortedIndexOf=que,F.sortedLastIndex=Vue,F.sortedLastIndexBy=Xue,F.sortedLastIndexOf=Zue,F.startCase=Dhe,F.startsWith=Phe,F.subtract=xde,F.sum=Sde,F.sumBy=kde,F.template=Rhe,F.times=lde,F.toFinite=ef,F.toInteger=Gt,F.toLength=nF,F.toLower=$he,F.toNumber=Ga,F.toSafeInteger=$fe,F.toString=Xn,F.toUpper=Ihe,F.trim=Fhe,F.trimEnd=Mhe,F.trimStart=Lhe,F.truncate=Nhe,F.unescape=Qhe,F.uniqueId=cde,F.upperCase=Bhe,F.upperFirst=K5,F.each=UI,F.eachRight=jI,F.first=NI,tC(F,(function(){var p={};return ku(F,function(y,_){er.call(F.prototype,_)||(p[_]=y)}),p})(),{chain:!1}),F.VERSION=r,qa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){F[p].placeholder=F}),qa(["drop","take"],function(p,y){gn.prototype[p]=function(_){_=_===n?1:zi(Gt(_),0);var E=this.__filtered__&&!y?new gn(this):this.clone();return E.__filtered__?E.__takeCount__=xs(_,E.__takeCount__):E.__views__.push({size:xs(_,K),type:p+(E.__dir__<0?"Right":"")}),E},gn.prototype[p+"Right"]=function(_){return this.reverse()[p](_).reverse()}}),qa(["filter","map","takeWhile"],function(p,y){var _=y+1,E=_==I||_==z;gn.prototype[p]=function(P){var N=this.clone();return N.__iteratees__.push({iteratee:pt(P,3),type:_}),N.__filtered__=N.__filtered__||E,N}}),qa(["head","last"],function(p,y){var _="take"+(y?"Right":"");gn.prototype[p]=function(){return this[_](1).value()[0]}}),qa(["initial","tail"],function(p,y){var _="drop"+(y?"":"Right");gn.prototype[p]=function(){return this.__filtered__?new gn(this):this[_](1)}}),gn.prototype.compact=function(){return this.filter(Co)},gn.prototype.find=function(p){return this.filter(p).head()},gn.prototype.findLast=function(p){return this.reverse().find(p)},gn.prototype.invokeMap=sn(function(p,y){return typeof p=="function"?new gn(this):this.map(function(_){return Oy(_,p,y)})}),gn.prototype.reject=function(p){return this.filter(nw(pt(p)))},gn.prototype.slice=function(p,y){p=Gt(p);var _=this;return _.__filtered__&&(p>0||y<0)?new gn(_):(p<0?_=_.takeRight(-p):p&&(_=_.drop(p)),y!==n&&(y=Gt(y),_=y<0?_.dropRight(-y):_.take(y-p)),_)},gn.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},gn.prototype.toArray=function(){return this.take(K)},ku(gn.prototype,function(p,y){var _=/^(?:filter|find|map|reject)|While$/.test(y),E=/^(?:head|last)$/.test(y),P=F[E?"take"+(y=="last"?"Right":""):y],N=E||/^find/.test(y);P&&(F.prototype[y]=function(){var q=this.__wrapped__,te=E?[1]:arguments,re=q instanceof gn,ge=te[0],ye=re||qt(q),Ce=function(hn){var _n=P.apply(F,vh([hn],te));return E&&je?_n[0]:_n};ye&&_&&typeof ge=="function"&&ge.length!=1&&(re=ye=!1);var je=this.__chain__,rt=!!this.__actions__.length,Ot=N&&!je,tn=re&&!rt;if(!N&&ye){q=tn?q:new gn(this);var wt=p.apply(q,te);return wt.__actions__.push({func:K2,args:[Ce],thisArg:n}),new Xa(wt,je)}return Ot&&tn?p.apply(this,te):(wt=this.thru(Ce),Ot?E?wt.value()[0]:wt.value():wt)})}),qa(["pop","push","shift","sort","splice","unshift"],function(p){var y=S2[p],_=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",E=/^(?:pop|shift)$/.test(p);F.prototype[p]=function(){var P=arguments;if(E&&!this.__chain__){var N=this.value();return y.apply(qt(N)?N:[],P)}return this[_](function(q){return y.apply(qt(q)?q:[],P)})}}),ku(gn.prototype,function(p,y){var _=F[y];if(_){var E=_.name+"";er.call(J0,E)||(J0[E]=[]),J0[E].push({name:y,func:_})}}),J0[V2(n,v).name]=[{name:"wrapper",func:n}],gn.prototype.clone=Qae,gn.prototype.reverse=Bae,gn.prototype.value=zae,F.prototype.at=gce,F.prototype.chain=yce,F.prototype.commit=bce,F.prototype.next=vce,F.prototype.plant=wce,F.prototype.reverse=_ce,F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=xce,F.prototype.first=F.prototype.head,dy&&(F.prototype[dy]=Oce),F}),G0=bae();zd?((zd.exports=G0)._=G0,e5._=G0):cs._=G0}).call(kGe)})(xx,xx.exports)),xx.exports}var XT=CGe();const ooe=jR(XT),AGe={headerHeight:null,columnConfigs:{},onColumnConfigsChange:()=>{},minColumnWidths:{},rowRenderBatchSize:4,minFetchSize:1,renderWindowOffset:400,verticalScrollbarPillHeight:4,verticalScrollbarWidth:24,horizontalScrollbarHeight:16,lineHeight:20,textMaxLines:3,betweenRowPadding:8,betweenColPadding:24,scrollOverflowValue:1e6,onRowClick:null,highlightedRows:null,firstColLeftPadding:8,showRowNumber:!0,onShowRowNumberChange:()=>{},highlightHoveredRow:!1,get rowHeight(){return this.textMaxLines*this.lineHeight+this.betweenRowPadding},DEFAULT_TEXT_MAX_LINES:3,DEFAULT_LINE_HEIGHT:20,DEFAULT_ROW_NUMBER_COL_WIDTH:60};class EGe{#e=He($s(AGe));get config(){return U(this.#e)}set config(e){_e(this.#e,e,!0)}}const mj=Symbol("config");class ir{static initialize(){il(mj,new EGe)}static get config(){const e=Fo(mj);if(e==null)throw new Error("config context not yet set");return e.config}}class TGe{tableModel;tableController;margin=2;isDragging=!1;lastDragX=0;#e=He(0);get elementWidth(){return U(this.#e)}set elementWidth(e){_e(this.#e,e,!0)}#t=Ee(()=>this.elementWidth-this.margin*2);get scrollbarWidth(){return U(this.#t)}set scrollbarWidth(e){_e(this.#t,e)}#n=Ee(()=>this.tableController.viewWidth/this.tableModel.colsRightmostPosition*this.scrollbarWidth);get pillWidth(){return U(this.#n)}set pillWidth(e){_e(this.#n,e)}#r=Ee(()=>-this.tableController.xScroll/this.tableModel.colsRightmostPosition*this.scrollbarWidth);get pillLeft(){return U(this.#r)}set pillLeft(e){_e(this.#r,e)}constructor({tableModel:e,tableController:n}){this.tableModel=e,this.tableController=n}handlePointerDown=e=>{e.preventDefault(),e.target.setPointerCapture(e.pointerId),this.isDragging=!0,this.lastDragX=e.offsetX};handlePointerMove=e=>{this.isDragging&&this.lastDragX!==null&&this.tableController.scroll({deltaX:e.offsetX-this.lastDragX,deltaY:0})};handlePointerUp=e=>{e.target.releasePointerCapture(e.pointerId),this.isDragging=!1,this.lastDragX=null}}const gj=Symbol("mosaic-coordinator");class ZT{static get coordinator(){return Fo(gj)??TO()}static set coordinator(e){il(gj,e)}}const Po="__oid",DGe=120;class PGe{schema;#e=He($s({}));get data(){return U(this.#e)}set data(e){_e(this.#e,e,!0)}#t=He($s({}));get defaultColWidths(){return U(this.#t)}set defaultColWidths(e){_e(this.#t,e,!0)}#n=He($s([]));get columns(){return U(this.#n)}set columns(e){_e(this.#n,e,!0)}#r=He(0);get numRows(){return U(this.#r)}set numRows(e){_e(this.#r,e,!0)}#l=He(0);get renderOffset(){return U(this.#l)}set renderOffset(e){_e(this.#l,e,!0)}#a=He($s({}));get rowHeightAddition(){return U(this.#a)}set rowHeightAddition(e){_e(this.#a,e,!0)}#i=Ee(()=>this.columns.reduce((e,n)=>(ir.config.columnConfigs[n]?.hidden&&e.add(n),n===Po&&ir.config.showRowNumber===!1&&e.add(Po),e),new Set));get hiddenColumns(){return U(this.#i)}set hiddenColumns(e){_e(this.#i,e)}rowKeyColumn=null;constructor(e){this.schema=e}#s=Ee(()=>Object.keys(this.data).sort((e,n)=>this.data[e][Po]-this.data[n][Po]));get renderableRows(){return U(this.#s)}set renderableRows(e){_e(this.#s,e)}#o=Ee(()=>this.columns.filter(e=>!this.hiddenColumns.has(e)));get renderableCols(){return U(this.#o)}set renderableCols(e){_e(this.#o,e)}#u=Ee(()=>this.renderableRows.length===0?this.zeroRowPosition:Math.min(...this.renderableRows.map(e=>this.rowPositions[e])));get minRowPosition(){return U(this.#u)}set minRowPosition(e){_e(this.#u,e)}#c=Ee(()=>this.renderableRows.length===0?this.finalRowPosition:Math.max(...this.renderableRows.map(e=>this.rowPositions[e])));get maxRowPosition(){return U(this.#c)}set maxRowPosition(e){_e(this.#c,e)}#d=Ee(()=>{const e=Math.min(...this.renderableRows.map(n=>this.data[n][Po]));return Number.isSafeInteger(e)?e:0});get minRowOID(){return U(this.#d)}set minRowOID(e){_e(this.#d,e)}#f=Ee(()=>{const e=Math.max(...this.renderableRows.map(n=>this.data[n][Po]));return Number.isSafeInteger(e)?e:0});get maxRowOID(){return U(this.#f)}set maxRowOID(e){_e(this.#f,e)}#p=Ee(()=>0);get zeroRowPosition(){return U(this.#p)}set zeroRowPosition(e){_e(this.#p,e)}#h=Ee(()=>(this.numRows-1)*ir.config.rowHeight+this.rowPositionOffsets.cumulative);get finalRowPosition(){return U(this.#h)}set finalRowPosition(e){_e(this.#h,e)}colsLeftmostPosition=0;#y=Ee(()=>{const e=this.renderableCols[this.renderableCols.length-1];return this.colPositions[e]+this.colWidths[e]});get colsRightmostPosition(){return U(this.#y)}set colsRightmostPosition(e){_e(this.#y,e)}#b=Ee(()=>this.renderableRows.reduce(({offsets:e,cumulative:n},r)=>{e[r]=n;const i=this.rowHeightAddition[r]??0;return{offsets:e,cumulative:n+i}},{offsets:{},cumulative:0}));get rowPositionOffsets(){return U(this.#b)}set rowPositionOffsets(e){_e(this.#b,e)}#v=Ee(()=>this.renderableRows.reduce((e,n)=>{const r=(this.data[n][Po]-1)*ir.config.rowHeight+this.rowPositionOffsets.offsets[n];return e[n]=r,e},{}));get rowPositions(){return U(this.#v)}set rowPositions(e){_e(this.#v,e)}#O=Ee(()=>{let e=0;return this.columns.reduce((n,r,i)=>(this.hiddenColumns.has(r)||(n[r]=e,e+=this.colWidths[r]),n),{})});get colPositions(){return U(this.#O)}set colPositions(e){_e(this.#O,e)}#m=Ee(()=>this.renderableRows.reduce((e,n)=>(e[n]=ir.config.rowHeight+(this.rowHeightAddition[n]??0),e),{}));get rowHeights(){return U(this.#m)}set rowHeights(e){_e(this.#m,e)}#g=Ee(()=>this.columns.reduce((e,n,r)=>(e[n]=Math.max(ir.config.columnConfigs[n]?.width??this.defaultColWidths[n]??DGe,ir.config.minColumnWidths[n]??0),this.isFirstCol(n)&&(e[n]+=ir.config.firstColLeftPadding),this.isLastCol(n)&&(e[n]+=ir.config.verticalScrollbarWidth),e),{}));get colWidths(){return U(this.#g)}set colWidths(e){_e(this.#g,e)}getContent({row:e,col:n}){return this.data[e]?this.data[e][n]:null}getRowData(e){return this.data[e]?this.data[e]:null}getPosition({row:e,col:n}){const r=this.colPositions[n],i=this.rowPositions[e];return{x:r,y:i}}getDimensions({row:e,col:n}){const r=this.colWidths[n],i=this.rowHeights[e];return{width:r,height:i}}getRowParity(e){return this.data[e]&&this.data[e][Po]%2===0?"even":"odd"}isFirstCol(e){return this.renderableCols.indexOf(e)===0}isLastCol(e){return this.renderableCols.indexOf(e)===this.renderableCols.length-1}deleteRow(e){delete this.data[e];const n=this.rowHeightAddition[e]??0;return delete this.rowHeightAddition[e],n}collapseRow(e){const n=this.rowHeightAddition[e]??0;return delete this.rowHeightAddition[e],n}reset(){this.data={},this.rowHeightAddition={}}teardown(){this.reset()}}class RGe extends hk{tableName;onResult;constructor(e,n,r){super(n??void 0),this.tableName=e,this.onResult=r}queryResult(e){const n=e.toArray()[0].count;return this.onResult(n),this}query(e=[]){return lt.from(this.tableName).select({count:_i()}).where(e)}}const Ro="__oid";class $Ge extends hk{tableName;columns;onResult;onColumnInfo;limit=20;offset=0;sort=null;info=null;columnInfo=null;isReady=!1;constructor(e,n,r,i,s){super(r??void 0),this.tableName=e,this.columns=n,this.onResult=i,this.onColumnInfo=s}async prepare(){if(this.coordinator==null)return;const e=(await OOe(this.coordinator,[{table:this.tableName,column:"*"}])).reduce((n,r)=>(n[r.column]=r,n),{});this.columnInfo=e,this.onColumnInfo(e),this.isReady=!0}getSelect({includeRowNumber:e}={includeRowNumber:!0}){const n=this.columns.reduce((r,i)=>(this.columnInfo?.[i]?.sqlType==="BIGINT"?r[i]=hi(be(i),"TEXT"):r[i]=be(i),r),{});return e||delete n[Ro],n}queryResult(e){return this.onResult(e),this}query(e=[]){if(!this.isReady)return null;const n=this.columns.reduce((r,i)=>(this.columnInfo?.[i]?.sqlType==="BIGINT"?r[i]=hi(be(i),"TEXT"):r[i]=be(i),r),{});if(n[Ro]=e1e(),this.sort){const r=this.sort.direction==="ascending"?this.sort.column:EO(this.sort.column);n[Ro]=n[Ro].orderby(r)}return lt.from(this.tableName).select(n).where(e).limit(this.limit).offset(this.offset)}fetchRows(e,n){this.offset=e,this.limit=n,this.requestUpdate()}}class IGe{model;schema;config;#e=Ee(()=>ZT.coordinator);get coordinator(){return U(this.#e)}set coordinator(e){_e(this.#e,e)}filterBy=null;rowsClient=null;numRowsClient=null;rowKeyColumn=null;#t=He(null);get element(){return U(this.#t)}set element(e){_e(this.#t,e,!0)}#n=He(0);get viewHeight(){return U(this.#n)}set viewHeight(e){_e(this.#n,e,!0)}#r=He(0);get viewWidth(){return U(this.#r)}set viewWidth(e){_e(this.#r,e,!0)}#l=He(0);get yScroll(){return U(this.#l)}set yScroll(e){_e(this.#l,e,!0)}#a=He(0);get xScroll(){return U(this.#a)}set xScroll(e){_e(this.#a,e,!0)}#i=He(!1);get isFetching(){return U(this.#i)}set isFetching(e){_e(this.#i,e,!0)}#s=He(!1);get isJumping(){return U(this.#s)}set isJumping(e){_e(this.#s,e,!0)}#o=He(null);get sort(){return U(this.#o)}set sort(e){_e(this.#o,e,!0)}#u=He(!1);get isReady(){return U(this.#u)}set isReady(e){_e(this.#u,e,!0)}#c=He(0);get updateKey(){return U(this.#c)}set updateKey(e){_e(this.#c,e,!0)}#d=He(!1);get isStale(){return U(this.#d)}set isStale(e){_e(this.#d,e,!0)}#f=He(null);get flashedRowId(){return U(this.#f)}set flashedRowId(e){_e(this.#f,e,!0)}#p=He(null);get hoveredRowId(){return U(this.#p)}set hoveredRowId(e){_e(this.#p,e,!0)}#h=Ee(()=>Math.ceil(this.viewHeight/ir.config.rowHeight));get rowsOnScreen(){return U(this.#h)}set rowsOnScreen(e){_e(this.#h,e)}#y=Ee(()=>this.isJumping?0:ir.config.renderWindowOffset);get renderWindowOffset(){return U(this.#y)}set renderWindowOffset(e){_e(this.#y,e)}#b=Ee(()=>{if(this.model.renderableRows.length===0)return null;const e=this.model.renderableRows.filter(r=>{const i=this.model.rowPositions[r]+this.yScroll;return i+this.model.rowHeights[r]>0&&i<this.viewHeight});if(e.length===0)return null;const n=e[0];return this.model.data[n][Ro]});get firstVisibleRowOID(){return U(this.#b)}set firstVisibleRowOID(e){_e(this.#b,e)}#v=Ee(()=>Math.max(0,Math.floor(-this.yScroll/ir.config.rowHeight)));get offset(){return U(this.#v)}set offset(e){_e(this.#v,e)}onFetchResolveBegin=null;onFetchResolveEnd=null;constructor(e,n){this.model=e,this.schema=n,this.config=ir.config}handleFilterBy=()=>{this.rowsClient&&(this.rowsClient.offset=0,this.rowsClient.limit=this.rowsOnScreen,this.isJumping=!0,this.markStale())};updateData=e=>{if(!this.model||!this.rowKeyColumn)return;this.onFetchResolveBegin&&(this.onFetchResolveBegin(),this.onFetchResolveBegin=null);const n=e.toArray(),r={};for(const i of n){const s=i[this.rowKeyColumn];r[s]=i}this.model.data={...this.model.data,...r},this.onFetchResolveEnd&&(this.onFetchResolveEnd(),this.onFetchResolveEnd=null),this.isFetching=!1};initialize({tableName:e,rowKey:n,columns:r,filterBy:i}){if(this.model.columns=r,this.model.rowKeyColumn=n,this.rowKeyColumn=n,i&&(this.filterBy=i,this.filterBy.addEventListener("value",this.handleFilterBy)),!this.rowKeyColumn)throw new Error("rowkey cannot be null");let s=r.includes(this.rowKeyColumn)?r:[...r,this.rowKeyColumn];this.rowsClient=new $Ge(e,s,i,o=>{this.updateData(o)},o=>{this.schema.columnInfo=o,this.computeColWidths(e,r),this.isReady=!0}),this.coordinator.connect(this.rowsClient),this.numRowsClient=new RGe(e,i,o=>{this.model&&(this.model.numRows=o)}),this.coordinator.connect(this.numRowsClient),Jr(()=>{if(!this.rowsClient||this.isFetching||!this.isReady)return;const o=-this.renderWindowOffset,a=this.viewHeight+this.renderWindowOffset,l=this.model.maxRowPosition+this.yScroll+this.config.rowHeight,u=this.model.minRowPosition+this.yScroll;if(u<0&&l<0||u>this.viewHeight&&l>this.viewHeight){const g=this.rowsOnScreen;this.isFetching=!0,this.rowsClient.fetchRows(this.offset,g)}else{if(l<a){const b=XT.clamp(Math.ceil((a-l)/this.config.rowHeight),this.config.minFetchSize,this.rowsOnScreen);b>0&&this.model.maxRowOID!==this.model.numRows&&(this.isFetching=!0,this.rowsClient.fetchRows(this.model.maxRowOID,b))}const g=this.model.minRowPosition+this.yScroll;if(g>o&&this.model.minRowOID!==1){const b=XT.clamp(Math.ceil((g-o)/this.config.rowHeight),this.config.minFetchSize,this.rowsOnScreen);b>0&&(this.isFetching=!0,this.rowsClient.fetchRows(Math.max(0,this.model.minRowOID-1-b),b))}}const c=xse(this.model.renderableRows);let f=0;for(;this.model.rowPositions[c[f]]+this.yScroll+this.model.rowHeights[c[f]]<0;)this.yScroll+=this.model.collapseRow(c[f]),f+=1;let h=c.length-1;for(;this.model.rowPositions[c[h]]+this.yScroll>this.viewHeight;)this.model.collapseRow(c[h]),h-=1;let d=0;for(;this.model.rowPositions[c[d]]+this.yScroll+this.model.rowHeights[c[d]]<o;)this.model.deleteRow(c[d]),d+=1;let m=c.length-1;for(;this.model.rowPositions[c[m]]+this.yScroll>a;)this.model.deleteRow(c[m]),m-=1})}teardown(){this.filterBy&&this.filterBy.removeEventListener("value",this.handleFilterBy)}cellIsVisible(e){const{x:n,y:r}=this.model.getPosition(e),{width:i,height:s}=this.model.getDimensions(e),o=n+this.xScroll,a=r+this.yScroll;return o+i>=0&&o<=this.viewWidth&&a+s>=0&&a<=this.viewHeight}rowIsVisible(e){const n=this.model.rowPositions[e],r=this.model.rowHeights[e],i=n+this.yScroll;return i+r>=0&&i<=this.viewHeight}rowStillExists(e){return this.model.data[e]!=null}colIsVisible(e){const n=this.model.colPositions[e],r=this.model.colWidths[e],i=n+this.xScroll;return i+r>=0&&i<=this.viewWidth}scroll({deltaX:e,deltaY:n}){if(Math.abs(n)>Math.abs(e)){const r=this.yScroll-n;this.model.zeroRowPosition+r>0?this.yScroll=-this.model.zeroRowPosition:this.model.finalRowPosition+r<0?this.yScroll=-this.model.finalRowPosition:this.yScroll=r}else{const r=this.xScroll-e;-r<0?this.xScroll=0:-r>Math.max(this.model.colsRightmostPosition,this.viewWidth)-this.viewWidth?this.xScroll=-Math.max(this.model.colsRightmostPosition,this.viewWidth)+this.viewWidth:this.xScroll=r}}handleWheel=e=>{e.preventDefault(),this.isJumping=!1,this.scroll({deltaX:e.deltaX,deltaY:e.deltaY})};jumpToOffset(e){if(!this.rowsClient)return;this.isFetching=!0;const n=this.rowsOnScreen,r=this.onFetchResolveEnd;this.onFetchResolveEnd=()=>{r&&r(),this.yScroll=-(e*this.config.rowHeight)},this.markStale(),this.rowsClient.fetchRows(e,n)}handleSort=e=>{this.rowsClient&&(this.sort=e,this.rowsClient.sort=e,this.resetRows())};resetRows(){this.model.reset(),this.yScroll=0}flashRow(e){this.flashedRowId=e,setTimeout(()=>{this.flashedRowId=null},400)}async scrollToRow(e,n=!0){if(!this.rowsClient)return;this.isFetching=!0;const r=lt.with({original:this.rowsClient.query(this.rowsClient.filterBy?.predicate(this.rowsClient)).offset(0).limit(this.model.numRows)}).select([Ro]).from("original").where(Sa(be(this.rowKeyColumn),et(e))),i=(await this.coordinator.query(r)).toArray();if(i.length>0){const s=i[0][Ro]-1;this.onFetchResolveEnd=()=>{n&&this.flashRow(e)},this.jumpToOffset(s)}else this.isFetching=!1,console.error("no row",e,"found")}addHeightToRow(e,n){this.model.rowHeightAddition[e]=(this.model.rowHeightAddition[e]??0)+n}hideColumn(e){e===Ro?this.config.onShowRowNumberChange?this.config.onShowRowNumberChange(!1):this.config.showRowNumber=!1:(this.config.columnConfigs[e]||(this.config.columnConfigs[e]={}),this.config.columnConfigs[e].hidden=!0)}showColumn(e){e===Ro?this.config.onShowRowNumberChange?this.config.onShowRowNumberChange(!0):this.config.showRowNumber=!0:(this.config.columnConfigs[e]||(this.config.columnConfigs[e]={}),this.config.columnConfigs[e].hidden=!1)}markStale(){this.isStale=!0;const e=this.onFetchResolveBegin;this.onFetchResolveBegin=()=>{e&&e(),this.resetRows()};const n=this.onFetchResolveEnd;this.onFetchResolveEnd=()=>{n&&n(),this.updateKey+=1,this.isStale=!1}}async computeColWidths(e,n){const r=n.filter(l=>l!==Ro),i=this.rowsClient?.getSelect({includeRowNumber:!1}),s=r.reduce((l,u)=>(l[u]=0,l),{}),o=lt.from(e).select(i).offset(0).limit(10),a=(await this.coordinator.query(o)).toArray();for(const l of a)for(const u of r)s[u]=Math.max(s[u],FGe(l[u]));n.includes(Ro)&&(s[Ro]=this.config.DEFAULT_ROW_NUMBER_COL_WIDTH),this.model.defaultColWidths=s}}function FGe(t){const e=String(t).length;return e>200?600:e>100?300:e>20?200:e>10?150:120}class MGe{tableController;#e=Ee(()=>this.tableController.element);get tableElement(){return U(this.#e)}set tableElement(e){_e(this.#e,e)}constructor(e){this.tableController=e}mount(e,n,r,i,s){if(!this.tableElement)return;const o=n.getBoundingClientRect(),a=this.tableElement.getBoundingClientRect(),l=a.top,u=a.left;switch(r){case"inside":switch(s){case"top":e.style.top=o.top-l+"px";break;case"middle":case"bottom":throw new Error("not yet implemented"+r+s)}switch(i){case"left":e.style.left=o.left-u+"px";case"center":case"right":throw new Error("not yet implemented"+r+i)}break;case"outside":switch(s){case"top":e.style.top=o.bottom-l+"px";break;case"middle":case"bottom":throw new Error("not yet implemented"+r+s)}switch(i){case"left":e.style.left=o.left-u+"px";break;case"center":case"right":throw new Error("not yet implemented"+r+i)}break}this.tableElement.appendChild(e)}destroy(e){this.tableElement&&this.tableElement.contains(e)&&this.tableElement.removeChild(e)}}var vA,yj;function LGe(){if(yj)return vA;yj=1;function t(e,n,r){return e===e&&(r!==void 0&&(e=e<=r?e:r),n!==void 0&&(e=e>=n?e:n)),e}return vA=t,vA}var OA,bj;function NGe(){if(bj)return OA;bj=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return OA=e,OA}var wA,vj;function QGe(){if(vj)return wA;vj=1;var t=NGe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return wA=n,wA}var _A,Oj;function qR(){if(Oj)return _A;Oj=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return _A=t,_A}var xA,wj;function BGe(){if(wj)return xA;wj=1;var t=typeof Wh=="object"&&Wh&&Wh.Object===Object&&Wh;return xA=t,xA}var SA,_j;function aoe(){if(_j)return SA;_j=1;var t=BGe(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return SA=n,SA}var kA,xj;function loe(){if(xj)return kA;xj=1;var t=aoe(),e=t.Symbol;return kA=e,kA}var CA,Sj;function zGe(){if(Sj)return CA;Sj=1;var t=loe(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var c=r.call(o);return u&&(a?o[i]=l:delete o[i]),c}return CA=s,CA}var AA,kj;function UGe(){if(kj)return AA;kj=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return AA=n,AA}var EA,Cj;function jGe(){if(Cj)return EA;Cj=1;var t=loe(),e=zGe(),n=UGe(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?e(a):n(a)}return EA=o,EA}var TA,Aj;function qGe(){if(Aj)return TA;Aj=1;function t(e){return e!=null&&typeof e=="object"}return TA=t,TA}var DA,Ej;function VGe(){if(Ej)return DA;Ej=1;var t=jGe(),e=qGe(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return DA=r,DA}var PA,Tj;function uoe(){if(Tj)return PA;Tj=1;var t=QGe(),e=qR(),n=VGe(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=e(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=s.test(u);return f||o.test(u)?a(u.slice(2),f?2:8):i.test(u)?r:+u}return PA=l,PA}var RA,Dj;function XGe(){if(Dj)return RA;Dj=1;var t=LGe(),e=uoe();function n(r,i,s){return s===void 0&&(s=i,i=void 0),s!==void 0&&(s=e(s),s=s===s?s:0),i!==void 0&&(i=e(i),i=i===i?i:0),t(e(r),i,s)}return RA=n,RA}var ZGe=XGe();const WGe=jR(ZGe);var $A,Pj;function YGe(){if(Pj)return $A;Pj=1;var t=aoe(),e=function(){return t.Date.now()};return $A=e,$A}var IA,Rj;function GGe(){if(Rj)return IA;Rj=1;var t=qR(),e=YGe(),n=uoe(),r="Expected a function",i=Math.max,s=Math.min;function o(a,l,u){var c,f,h,d,m,g,b=0,v=!1,O=!1,x=!0;if(typeof a!="function")throw new TypeError(r);l=n(l)||0,t(u)&&(v=!!u.leading,O="maxWait"in u,h=O?i(n(u.maxWait)||0,l):h,x="trailing"in u?!!u.trailing:x);function C(R){var I=c,B=f;return c=f=void 0,b=R,d=a.apply(B,I),d}function S(R){return b=R,m=setTimeout(T,l),v?C(R):d}function A(R){var I=R-g,B=R-b,z=l-I;return O?s(z,h-B):z}function k(R){var I=R-g,B=R-b;return g===void 0||I>=l||I<0||O&&B>=h}function T(){var R=e();if(k(R))return D(R);m=setTimeout(T,A(R))}function D(R){return m=void 0,x&&c?C(R):(c=f=void 0,d)}function $(){m!==void 0&&clearTimeout(m),b=0,c=g=f=m=void 0}function M(){return m===void 0?d:D(e())}function L(){var R=e(),I=k(R);if(c=arguments,f=this,g=R,I){if(m===void 0)return S(g);if(O)return clearTimeout(m),m=setTimeout(T,l),C(g)}return m===void 0&&(m=setTimeout(T,l)),d}return L.cancel=$,L.flush=M,L}return IA=o,IA}var FA,$j;function HGe(){if($j)return FA;$j=1;var t=GGe(),e=qR(),n="Expected a function";function r(i,s,o){var a=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(a="leading"in o?!!o.leading:a,l="trailing"in o?!!o.trailing:l),t(i,s,{leading:a,maxWait:s,trailing:l})}return FA=r,FA}var KGe=HGe();const Ij=jR(KGe);class JGe{tableModel;tableController;isDragging=!1;#e=He(0);get elementHeight(){return U(this.#e)}set elementHeight(e){_e(this.#e,e,!0)}#t=He(0);get labelHeight(){return U(this.#t)}set labelHeight(e){_e(this.#t,e,!0)}#n=Ee(()=>ir.config.verticalScrollbarPillHeight);get pillHeight(){return U(this.#n)}set pillHeight(e){_e(this.#n,e)}#r=Ee(()=>this.elementHeight-this.pillHeight);get scrollbarHeight(){return U(this.#r)}set scrollbarHeight(e){_e(this.#r,e)}#l=Ee(()=>this.tableController.firstVisibleRowOID?this.tableController.firstVisibleRowOID:this.tableController.offset+1);get displayRow(){return U(this.#l)}set displayRow(e){_e(this.#l,e)}#a=Ee(()=>(this.displayRow-1)/(this.tableModel.numRows-1)*this.scrollbarHeight);get pillPosition(){return U(this.#a)}set pillPosition(e){_e(this.#a,e)}#i=Ee(()=>{if(this.pillPosition===null)return 0;const e=this.pillPosition+this.pillHeight/2-this.labelHeight/2;if(e<0)return e;const n=this.pillPosition+this.pillHeight/2+this.labelHeight/2;return n>this.elementHeight?n-this.elementHeight:0});get labelOffset(){return U(this.#i)}set labelOffset(e){_e(this.#i,e)}constructor({tableModel:e,tableController:n}){this.tableModel=e,this.tableController=n}computeOffsetFromPointer=e=>{this.isDragging=!0;let n=Math.round(e.offsetY/this.scrollbarHeight*(this.tableModel.numRows-1));return WGe(n,0,this.tableModel.numRows-1)};pointerDown=e=>{e.preventDefault(),e.target.setPointerCapture(e.pointerId),this.isDragging=!0;const n=this.computeOffsetFromPointer(e);this.tableController.isJumping=!0,this.tableController.jumpToOffset(n)};handlePointerDown=Ij(this.pointerDown,50);pointerMove=e=>{if(this.isDragging){const n=this.computeOffsetFromPointer(e);this.tableController.jumpToOffset(n)}};handlePointerMove=Ij(this.pointerMove,50);handlePointerUp=e=>{e.target.releasePointerCapture(e.pointerId),this.isDragging=!1,this.tableController.isJumping=!1}}class eHe{#e=He(null);get columnInfo(){return U(this.#e)}set columnInfo(e){_e(this.#e,e,!0)}#t=Ee(()=>this.columnInfo?Object.keys(this.columnInfo).reduce((e,n)=>(e[n]=this.columnInfo[n].type,e),{}):{});get dataType(){return U(this.#t)}set dataType(e){_e(this.#t,e)}#n=Ee(()=>this.columnInfo?Object.keys(this.columnInfo).reduce((e,n)=>(e[n]=this.columnInfo[n].sqlType,e),{}):{});get sqlType(){return U(this.#n)}set sqlType(e){_e(this.#n,e)}}class tHe{tableController;#e=Ee(()=>Math.floor(-this.tableController.yScroll/ir.config.scrollOverflowValue)*ir.config.scrollOverflowValue);get offset(){return U(this.#e)}set offset(e){_e(this.#e,e)}constructor(e){this.tableController=e}y(e){return e-this.offset}yScroll(e){return e+this.offset}}const Fj=Symbol("schema"),Mj=Symbol("model"),Lj=Symbol("controller"),Nj=Symbol("vertical-scrollbar-controller"),Qj=Symbol("horizontal-scrollbar-controller"),Bj=Symbol("table-portal-controller"),zj=Symbol("overscroll-modifier");class ar{static initialize(){const e=new eHe,n=new PGe(e),r=new IGe(n,e),i=new JGe({tableModel:n,tableController:r}),s=new TGe({tableModel:n,tableController:r}),o=new MGe(r),a=new tHe(r);il(Fj,e),il(Mj,n),il(Lj,r),il(Nj,i),il(Qj,s),il(Bj,o),il(zj,a)}static get schema(){return Fo(Fj)}static get model(){return Fo(Mj)}static get controller(){return Fo(Lj)}static get verticalScrollbarController(){return Fo(Nj)}static get horizontalScrollbarController(){return Fo(Qj)}static get tablePortalController(){return Fo(Bj)}static get overscrollModifier(){return Fo(zj)}}var nHe=Qn('<div class="horizontal-scrollbar svelte-csucem"><div class="pill svelte-csucem"></div></div>');const rHe={hash:"svelte-csucem",code:".horizontal-scrollbar.svelte-csucem {position:absolute;bottom:0;left:0;width:100%;height:var(--height);transition:opacity 200ms linear;background-color:var(--scrollbar-bg);}.horizontal-scrollbar.svelte-csucem:hover {opacity:1 !important;}.pill.svelte-csucem {width:var(--width);height:calc(var(--height) - var(--margin) * 2);margin:var(--margin);border-radius:2px;background-color:var(--scrollbar-pill-bg);}"};function iHe(t,e){di(e,!0),mi(t,rHe);const n=ar.horizontalScrollbarController,r=ar.controller,i=ir.config;let s=He(0),o=He(null),a=He(null),l=0;cy(()=>(l=requestAnimationFrame(f),()=>{cancelAnimationFrame(l)}));function u(){U(o)&&(U(o).style.opacity="0")}const c=ooe.debounce(u,1e3);Jr(()=>{U(o)&&(r.xScroll,U(o).style.opacity="1",c())});function f(){_e(s,n.pillWidth,!0),U(a)&&(U(a).style.transform=`translate(${n.pillLeft}px, 0)`),l=requestAnimationFrame(f)}var h=nHe();let d;var m=Yn(h);m.__pointerdown=function(...b){n.handlePointerDown?.apply(this,b)},m.__pointermove=function(...b){n.handlePointerMove?.apply(this,b)},m.__pointerup=function(...b){n.handlePointerUp?.apply(this,b)};let g;yo(m,b=>_e(a,b),()=>U(a)),Un(h),yo(h,b=>_e(o,b),()=>U(o)),Ai(()=>{d=ra(h,"",d,{"--height":i.horizontalScrollbarHeight+"px"}),g=ra(m,"",g,{"--width":U(s)+"px","--margin":n.margin+"px"})}),du(h,"clientWidth",b=>n.elementWidth=b),on(t,h),pi()}yh(["pointerdown","pointermove","pointerup"]);var sHe=Qn('<div class="vertical-scrollbar svelte-d1fz7o"><div class="pill svelte-d1fz7o"><div class="label svelte-d1fz7o"> </div></div></div>');const oHe={hash:"svelte-d1fz7o",code:".vertical-scrollbar.svelte-d1fz7o {position:absolute;right:0;top:0;width:var(--width);height:calc(100% - var(--offset-bottom));contain:layout;cursor:row-resize;transition:opacity 200ms linear;user-select:none;background-color:var(--scrollbar-bg);}.vertical-scrollbar.svelte-d1fz7o:hover {opacity:1 !important;}.pill.svelte-d1fz7o {--pill-height: 4px;position:relative;pointer-events:none; /* let the container respond to pointer events */top:0;left:0;width:calc(var(--width) - 2px);margin-left:1px;margin-right:1px;height:var(--pill-height);border-radius:2px;will-change:transform;background-color:var(--scrollbar-pill-bg);}.label.svelte-d1fz7o {--offset: 0;position:absolute;pointer-events:none;top:0;left:-4px;font-family:var(--font-family);font-size:14px;white-space:nowrap;padding:2px 4px;box-shadow:var(--shadow);transform:translate(-100%, calc(-50% + var(--pill-height) / 2 - var(--offset)));border-radius:2px;color:var(--secondary-text-color);background-color:var(--scrollbar-label-bg);border:var(--outline);}"};function aHe(t,e){di(e,!0),mi(t,oHe);const n=ar.verticalScrollbarController,r=ar.controller,i=ir.config;let s=He(0),o=He(0),a=He(null),l=He(null),u=He(null),c=Ee(()=>new Intl.NumberFormat().format(U(o))),f=0;cy(()=>(f=requestAnimationFrame(m),()=>{cancelAnimationFrame(f)}));function h(){U(a)&&(U(a).style.opacity="0")}const d=ooe.debounce(h,1e3);Jr(()=>{U(a)&&(r.yScroll,U(a).style.opacity="1",d())});function m(){_e(s,n.pillPosition??U(s),!0),_e(o,n.displayRow??U(o),!0),U(l)&&(U(l).style.transform=`translate3d(0, ${U(s)}px, 0)`),U(u)&&U(u).style.setProperty("--offset",n.labelOffset-1+"px"),f=requestAnimationFrame(m)}var g=sHe();g.__pointerdown=function(...S){n.handlePointerDown?.apply(this,S)},g.__pointermove=function(...S){n.handlePointerMove?.apply(this,S)},g.__pointerup=function(...S){n.handlePointerUp?.apply(this,S)};let b;var v=Yn(g);let O;var x=Yn(v),C=Yn(x,!0);Un(x),yo(x,S=>_e(u,S),()=>U(u)),Un(v),yo(v,S=>_e(l,S),()=>U(l)),Un(g),yo(g,S=>_e(a,S),()=>U(a)),Ai(()=>{b=ra(g,"",b,{"--offset-bottom":i.horizontalScrollbarHeight+"px","--width":i.verticalScrollbarWidth+"px"}),O=ra(v,"",O,{"--pill-height":n.pillHeight+"px"}),Xc(C,U(c))}),du(x,"clientHeight",S=>n.labelHeight=S),du(g,"clientHeight",S=>n.elementHeight=S),on(t,g),pi()}yh(["pointerdown","pointermove","pointerup"]);var lHe=Qn('<div class="bigint-content svelte-1x1osq0"> </div>');const uHe={hash:"svelte-1x1osq0",code:".bigint-content.svelte-1x1osq0 {text-align:right;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}"};function cHe(t,e){di(e,!0),mi(t,uHe);let n=fy(e,"height");function r(o){return o===null?null:o.toLocaleString()}var i=lHe(),s=Yn(i,!0);Un(i),Ai(o=>Xc(s,o),[()=>r(e.bigint)]),du(i,"clientHeight",n),on(t,i),pi()}var fHe=Qn("<div></div>");const hHe={hash:"svelte-ubqfz9",code:""};function dHe(t,e){di(e,!0),mi(t,hHe);let n=fy(e,"height");const r=ar.model,i=u=>typeof u=="function"?(c,f)=>{let h=new u(c,f);return{...h.update?{update:h.update.bind(h)}:{},...h.destroy?{destroy:h.destroy.bind(h)}:{}}}:(c,f)=>{let h=new u.class(c,f);return{...h.update?{update:h.update.bind(h)}:{},...h.destroy?{destroy:h.destroy.bind(h)}:{}}};let s=Ee(()=>i(e.customCell)),o=Ee(()=>r.getContent({row:e.row,col:e.col})),a=Ee(()=>r.getRowData(e.row));var l=fHe();zR(l,(u,c)=>U(s)?.(u,c),()=>({value:U(o),rowData:U(a)})),g2(()=>du(l,"clientHeight",n)),on(t,l),pi()}var pHe=Qn('<img alt=""/>');function mHe(t,e){di(e,!0);let n=fy(e,"height");ir.config;let r=He(null);function i(c){let f="";for(let h=0;h<c.length;h++)f+=String.fromCharCode(c[h]);return btoa(f)}function s(c){const f=atob(c);return new Uint8Array([...f].map(h=>h.charCodeAt(0)))}function o(c,f){if(c.length<f.length)return!1;for(let h=0;h<f.length;h++)if(c[h]!=f[h])return!1;return!0}function a(c){return o(c,[137,80,78,71,13,10,26,10])?"image/png":o(c,[255,216,255])?"image/jpeg":o(c,[73,73,42,0])?"image/tiff":o(c,[66,77])?"image/bmp":o(c,[71,73,70,56,55,97])||o(c,[71,73,70,56,55,97])?"image/gif":"application/octet-stream"}function l(c){if(c==null)return null;if(typeof c=="string")return c.startsWith("data:")||c.startsWith("http://")||c.startsWith("https://")?c:`data:${a(s(c))};base64,`+c;{let f=null;if(c.bytes&&c.bytes instanceof Uint8Array&&(f=c.bytes),c instanceof Uint8Array&&(f=c),f!=null)return`data:${a(f)};base64,`+i(f)}return null}var u=pHe();yo(u,c=>_e(r,c),()=>U(r)),Ai(c=>bO(u,"src",c),[()=>l(e.image)]),C1("load",u,()=>{U(r)&&n(U(r).scrollHeight)}),eGe(u),on(t,u),pi()}var gHe=Qn('<a target="_blank"> </a>'),yHe=Qn('<div class="link-content"><!></div>');const bHe={hash:"svelte-1wimtwv",code:""};function vHe(t,e){di(e,!0),mi(t,bHe);let n=fy(e,"height");var r=yHe(),i=Yn(r);{var s=o=>{var a=gHe(),l=Yn(a,!0);Un(a),Ai(()=>{bO(a,"href",e.url),Xc(l,e.url)}),on(o,a)};Mo(i,o=>{e.url&&o(s)})}Un(r),du(r,"clientHeight",n),on(t,r),pi()}var OHe=Qn('<div class="number-content svelte-1xfvszy"> </div>');const wHe={hash:"svelte-1xfvszy",code:".number-content.svelte-1xfvszy {text-align:right;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}"};function _He(t,e){di(e,!0),mi(t,wHe);let n=fy(e,"height");function r(o){return o===null?null:Number.isInteger(o)?o.toString():o.toPrecision(4).toString()}var i=OHe(),s=Yn(i,!0);Un(i),Ai(o=>Xc(s,o),[()=>r(e.number)]),du(i,"clientHeight",n),on(t,i),pi()}var xHe=Qn("<div> </div>");const SHe={hash:"svelte-1ngffx0",code:".clamped.svelte-1ngffx0 {display:-webkit-box;-webkit-box-orient:vertical;line-clamp:var(--lines, var(--num-lines)); /* fallback to numlines from parent */-webkit-line-clamp:var(--lines, var(--num-lines));overflow:hidden;text-overflow:ellipsis;}"};function Uj(t,e){di(e,!0),mi(t,SHe);let n=fy(e,"height");const r=ir.config;let i=He(null),s=He(null);Jr(()=>{U(i)&&(n(U(i).scrollHeight),_e(s,Math.floor(e.parentHeight/r.lineHeight),!0))});var o=xHe();let a;var l=Yn(o,!0);Un(o),yo(o,u=>_e(i,u),()=>U(i)),Ai(()=>{Dd(o,1,`text-content ${(e.clamped?"clamped":null)??""}`,"svelte-1ngffx0"),a=ra(o,"",a,{"--lines":U(s)}),Xc(l,e.text)}),on(t,o),pi()}class kHe{#e=He($s({}));get config(){return U(this.#e)}set config(e){_e(this.#e,e,!0)}}const MA=Symbol("custom-cells");class Sx{static initialize(){il(MA,new kHe)}static set config(e){const n=Fo(MA);n.config=e}static get config(){return Fo(MA).config}}var CHe=Qn("<button>â</button>"),AHe=Qn('<div class="cell-content clamp svelte-8bpcsh"><!> <!></div>');const EHe={hash:"svelte-8bpcsh",code:".cell-content.svelte-8bpcsh {position:relative;flex-grow:1;line-height:var(--lineHeight);overflow-wrap:anywhere;overflow:hidden;}.expand-button.svelte-8bpcsh {all:unset;visibility:hidden;position:absolute;bottom:0;right:0;cursor:pointer;font-size:12px;line-height:18px;padding-left:4px;padding-right:4px;border-radius:2px;color:var(--secondary-text-color);background-color:var(--background-color);border:var(--outline);}.expand-button.show.svelte-8bpcsh {visibility:visible;}"};function THe(t,e){di(e,!0),mi(t,EHe);const n=ar.model,r=ar.controller,i=ar.schema,s=ir.config;let o=Ee(()=>Sx.config),a=He(0),l=He(0),u=Ee(()=>U(l)>U(a));const c=n.getContent({row:e.row,col:e.col}),f=i.dataType[e.col]??"string",h=i.sqlType[e.col]??"TEXT";function d(A){return typeof A=="string"&&(A.startsWith("http://")||A.startsWith("https://"))}function m(A){return A==null?!1:!!(typeof A=="string"&&A.startsWith("data:image/")||A.bytes&&A.bytes instanceof Uint8Array)}var g=AHe();let b;var v=Yn(g);{var O=A=>{dHe(A,{get row(){return e.row},get col(){return e.col},get customCell(){return U(o)[e.col]},get height(){return U(l)},set height(k){_e(l,k,!0)}})},x=A=>{var k=dp(),T=Ta(k);{var D=M=>{var L=dp(),R=Ta(L);{var I=z=>{vHe(z,{get url(){return c},get height(){return U(l)},set height(Z){_e(l,Z,!0)}})},B=z=>{Uj(z,{get text(){return c},get clamped(){return U(u)},get parentHeight(){return U(a)},get height(){return U(l)},set height(Z){_e(l,Z,!0)}})};Mo(R,z=>{c&&d(c)?z(I):z(B,!1)})}on(M,L)},$=M=>{var L=dp(),R=Ta(L);{var I=z=>{var Z=dp(),J=Ta(Z);{var ee=K=>{{let fe=Ee(()=>BigInt(c??""));cHe(K,{get bigint(){return U(fe)},get height(){return U(l)},set height(le){_e(l,le,!0)}})}},ie=K=>{_He(K,{get number(){return c},get height(){return U(l)},set height(fe){_e(l,fe,!0)}})};Mo(J,K=>{h==="BIGINT"?K(ee):K(ie,!1)})}on(z,Z)},B=z=>{var Z=dp(),J=Ta(Z);{var ee=K=>{mHe(K,{get image(){return c},get height(){return U(l)},set height(fe){_e(l,fe,!0)}})},ie=K=>{Uj(K,{get text(){return c},get clamped(){return U(u)},get parentHeight(){return U(a)},get height(){return U(l)},set height(fe){_e(l,fe,!0)}})};Mo(J,K=>{m(c)?K(ee):K(ie,!1)},!0)}on(z,Z)};Mo(R,z=>{f==="number"?z(I):z(B,!1)},!0)}on(M,L)};Mo(T,M=>{f==="string"?M(D):M($,!1)},!0)}on(A,k)};Mo(v,A=>{U(o)[e.col]?A(O):A(x,!1)})}var C=dl(v,2);{var S=A=>{var k=CHe();k.__click=()=>{r.addHeightToRow(e.row,U(l)-U(a))},Ai(()=>Dd(k,1,`expand-button ${e.hovered?"show":"hide"}`,"svelte-8bpcsh")),on(A,k)};Mo(C,A=>{U(u)&&A(S)})}Un(g),Ai(()=>b=ra(g,"",b,{"--lineHeight":s.lineHeight+"px","--num-lines":s.textMaxLines})),du(g,"clientHeight",A=>_e(a,A)),on(t,g),pi()}yh(["click"]);var DHe=Qn('<div class="row-number svelte-1e2x749"> </div>');const PHe={hash:"svelte-1e2x749",code:".row-number.svelte-1e2x749 {flex-grow:1;text-align:right;color:var(--secondary-text-color);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}"};function RHe(t,e){di(e,!0),mi(t,PHe);const n=ar.model.getContent({row:e.row,col:e.col}),r=Ee(()=>new Intl.NumberFormat().format(n??0));var i=DHe(),s=Yn(i,!0);Un(i),Ai(()=>Xc(s,U(r))),on(t,i),pi()}var $He=Qn('<div class="cell svelte-16dgxhm"><!></div>');const IHe={hash:"svelte-16dgxhm",code:".cell.svelte-16dgxhm {--x: 0px;--y: 0px;--width: 0px;--height: 0px;display:flex;box-sizing:border-box;padding-top:calc(var(--padding-y) / 2);padding-bottom:calc(var(--padding-y) / 2);padding-right:calc(calc(var(--padding-x) / 2) + var(--extra-right-padding));padding-left:calc(calc(var(--padding-x) / 2) + var(--extra-left-padding));position:absolute;left:0;top:0;width:var(--width);height:var(--height);transform:translate(var(--x), var(--y));contain:layout paint;color:var(--primary-text-color);font-family:var(--cell-font-family);font-size:var(--cell-font-size);}"};function FHe(t,e){di(e,!0),mi(t,IHe);const n=ar.model,r=ar.controller,i=ar.overscrollModifier,s=ir.config;let o=Ee(()=>n.getPosition({row:e.row,col:e.col})),a=Ee(()=>U(o).x),l=Ee(()=>U(o).y),u=Ee(()=>i.y(U(l))),c=Ee(()=>n.getDimensions({row:e.row,col:e.col})),f=Ee(()=>U(c).width),h=Ee(()=>U(c).height),d=Ee(()=>n.isFirstCol(e.col)),m=Ee(()=>n.isLastCol(e.col)),g=Ee(()=>n.getRowParity(e.row)==="even"?"var(--primary-bg)":"var(--secondary-bg)"),b=()=>{s.onRowClick&&s.onRowClick(e.row)},v=He(!1);var O=$He();O.__click=b,O.__keydown=k=>{k.key==="Enter"&&b()};let x;var C=Yn(O);{var S=k=>{THe(k,{get row(){return e.row},get col(){return e.col},get hovered(){return U(v)}})},A=k=>{RHe(k,{get row(){return e.row},get col(){return e.col}})};Mo(C,k=>{e.col!==Po?k(S):k(A,!1)})}Un(O),Ai(()=>x=ra(O,"",x,{"--x":U(a)+"px","--y":U(u)+"px","--width":U(f)+"px","--height":U(h)+"px","--padding-x":s.betweenColPadding+"px","--padding-y":s.betweenRowPadding+"px","--extra-right-padding":(U(m)?s.verticalScrollbarWidth:0)+"px","--extra-left-padding":(U(d)?s.firstColLeftPadding:0)+"px","--background-color":U(g)})),C1("pointerenter",O,()=>{_e(v,!0),r.hoveredRowId=e.row}),C1("pointerleave",O,()=>{_e(v,!1),r.hoveredRowId=null}),on(t,O),pi()}yh(["click","keydown"]);var MHe=Qn('<div class="header-title svelte-1si5830"> </div>');const LHe={hash:"svelte-1si5830",code:".header-title.svelte-1si5830 {flex-shrink:1;margin-right:2px;}"};function NHe(t,e){di(e,!0),mi(t,LHe);const n=ir.config;var r=MHe(),i=Yn(r,!0);Un(r),Ai(()=>Xc(i,n.columnConfigs[e.col]?.title??e.col)),on(t,r),pi()}vYe();var QHe=Qn('<div class="row-number-header svelte-v1uha2">#</div>');const BHe={hash:"svelte-v1uha2",code:".row-number-header.svelte-v1uha2 {flex-grow:1;text-align:right;margin-right:4px;box-sizing:border-box;color:var(--secondary-text-color);}"};function zHe(t){mi(t,BHe);var e=QHe();on(t,e)}var UHe=Qn('<button class="sort-buttons svelte-mgubjs"><div> </div></button>');const jHe={hash:"svelte-mgubjs",code:".sort-buttons.svelte-mgubjs {all:unset;flex-shrink:0;width:16px;cursor:pointer;display:flex;justify-content:center;flex-direction:row;margin-left:4px;border-radius:2px;padding-left:4px;padding-right:4px;color:var(--tertiary-text-color);}.sort-buttons.svelte-mgubjs:hover {--placeholder: 0;background-color:var(--hover-bg);}.sort-glyph.svelte-mgubjs {color:var(--tertiary-text-color);}.sort-buttons.svelte-mgubjs:hover .sort-glyph:where(.svelte-mgubjs) {color:var(--tertiary-text-color);}.selected.svelte-mgubjs {color:var(--primary-text-color) !important;}"};function qHe(t,e){di(e,!0),mi(t,jHe);const n=ar.controller;let r=Ee(()=>n.sort?n.sort.column===e.col:!1),i=Ee(()=>n.sort?n.sort.direction:null),s=Ee(()=>U(r)?U(i)==="ascending"?"â":"â":"â");var o=UHe();o.__click=()=>{const u=U(r)?U(i)==="ascending"?"descending":null:"ascending";u?n.handleSort({column:e.col,direction:u}):n.handleSort(null)};var a=Yn(o),l=Yn(a,!0);Un(a),Un(o),Ai(()=>{Dd(a,1,`sort-button ${(U(r)?"selected":null)??""} sort-glyph`,"svelte-mgubjs"),Xc(l,U(s))}),on(t,o),pi()}yh(["click"]);class VHe{#e=He($s({}));get config(){return U(this.#e)}set config(e){_e(this.#e,e,!0)}}const LA=Symbol("custom-headers");class kx{static initialize(){il(LA,new VHe)}static set config(e){const n=Fo(LA);n.config=e}static get config(){return Fo(LA).config}}var XHe=Qn("<div></div>");const ZHe={hash:"svelte-v680az",code:""};function WHe(t,e){di(e,!0),mi(t,ZHe),ar.model;const n=s=>typeof s=="function"?(o,a)=>{let l=new s(o,a);return{...l.update?{update:l.update.bind(l)}:{},...l.destroy?{destroy:l.destroy.bind(l)}:{}}}:(o,a)=>{let l=new s.class(o,a);return{...l.update?{update:l.update.bind(l)}:{},...l.destroy?{destroy:l.destroy.bind(l)}:{}}};let r=Ee(()=>n(e.customHeader));var i=XHe();zR(i,(s,o)=>U(r)?.(s,o),()=>({column:e.col})),on(t,i),pi()}var YHe=Qn("<!> <!>",1),GHe=Qn('<div><div class="header-content svelte-1vl6s3u"><!> <div class="header-title svelte-1vl6s3u"><!></div></div></div>');const HHe={hash:"svelte-1vl6s3u",code:".header-cell.svelte-1vl6s3u {position:relative;display:flex;flex-direction:row;align-items:end;width:var(--width);min-height:var(--height);flex-shrink:0;box-sizing:border-box;padding:0.25em;padding-right:calc(calc(var(--padding-x) / 2) + var(--extra-padding-right));padding-left:calc(calc(var(--padding-x) / 2) + var(--extra-padding-left));color:var(--secondary-text-color);font-family:var(--header-font-family);font-size:var(--header-font-size);}.header-cell.number.svelte-1vl6s3u {justify-content:end;}.header-content.svelte-1vl6s3u {display:flex;flex-direction:column;flex-shrink:0;}.header-title.svelte-1vl6s3u {height:1.5em;align-items:center;display:flex;flex-direction:row;flex-shrink:0;}"};function KHe(t,e){di(e,!0),mi(t,HHe);const n=ar.model,r=ar.schema,i=ir.config;let s=Ee(()=>kx.config),o=He(null),a=He(0);Jr(()=>{i.minColumnWidths[e.col]=U(a)+i.betweenColPadding});const l=Ee(()=>n.colWidths[e.col]),u=Ee(()=>(r.dataType[e.col]??"string")==="number"),c=Ee(()=>U(u)||e.col===Po?"number":""),f=Ee(()=>n.isFirstCol(e.col)),h=Ee(()=>n.isLastCol(e.col));let d=Ee(()=>i.headerHeight?i.headerHeight+"px":"auto");var m=GHe();let g;var b=Yn(m),v=Yn(b);{var O=k=>{WHe(k,{get col(){return e.col},get customHeader(){return U(s)[e.col]}})};Mo(v,k=>{U(s)[e.col]&&k(O)})}var x=dl(v,2),C=Yn(x);{var S=k=>{var T=YHe(),D=Ta(T);NHe(D,{get col(){return e.col}});var $=dl(D,2);qHe($,{get col(){return e.col}}),on(k,T)},A=k=>{zHe(k)};Mo(C,k=>{e.col!==Po?k(S):k(A,!1)})}Un(x),Un(b),Un(m),yo(m,k=>_e(o,k),()=>U(o)),Ai(()=>{Dd(m,1,`header-cell ${U(c)??""}`,"svelte-1vl6s3u"),g=ra(m,"",g,{"--width":U(l)+"px","--height":U(d),"--padding-x":i.betweenColPadding+"px","--extra-padding-right":(U(h)?i.verticalScrollbarWidth:0)+"px","--extra-padding-left":(U(f)?i.firstColLeftPadding:0)+"px"})}),du(b,"clientWidth",k=>_e(a,k)),on(t,m),pi()}class JHe{tableModel;tableController;col;config;isDragging=!1;startDragX=0;constructor({tableModel:e,tableController:n,col:r}){this.tableModel=e,this.tableController=n,this.col=r,this.config=ir.config}handlePointerDown=e=>{e.preventDefault(),e.target.setPointerCapture(e.pointerId),this.isDragging=!0,this.startDragX=e.offsetX};handlePointerMove=e=>{if(this.isDragging&&this.startDragX!==null){const n=e.offsetX-this.startDragX,r=this.tableModel.colWidths[this.col],i=Math.max(0,Math.round(r+n));this.config.columnConfigs[this.col]||(this.config.columnConfigs[this.col]={}),this.config.columnConfigs[this.col].width=i,this.config.onColumnConfigsChange(this.col,xse(this.config.columnConfigs))}};handlePointerUp=e=>{e.target.releasePointerCapture(e.pointerId),this.isDragging=!1,this.startDragX=null}}var eKe=Qn('<div class="header-resize-indicator svelte-1y4d3p9"><div class="pill svelte-1y4d3p9"></div></div>');const tKe={hash:"svelte-1y4d3p9",code:".header-resize-indicator.svelte-1y4d3p9 {position:absolute;z-index:2;box-sizing:border-box;width:12px;height:calc(100% - 0.25rem);margin:2px;cursor:col-resize;justify-content:center;display:flex;align-items:center;justify-content:center;transform:translateX(calc(var(--x) - 4px - 50%));}.pill.svelte-1y4d3p9 {width:2px;height:calc(100% - 4px);margin-top:2px;margin-bottom:2px;background-color:var(--secondary-text-color);opacity:0.2;border-radius:2px;}"};function nKe(t,e){di(e,!0),mi(t,tKe);const n=ar.model;let r=new JHe({tableModel:n,tableController:ar.controller,col:e.col});const i=Ee(()=>n.colPositions[e.col]+n.colWidths[e.col]);var s=eKe();s.__pointerdown=function(...a){r.handlePointerDown?.apply(this,a)},s.__pointermove=function(...a){r.handlePointerMove?.apply(this,a)},s.__pointerup=function(...a){r.handlePointerUp?.apply(this,a)};let o;Ai(()=>o=ra(s,"",o,{"--x":U(i)+"px"})),on(t,s),pi()}yh(["pointerdown","pointermove","pointerup"]);var rKe=Qn('<div class="table-portal svelte-i8g41o" tabindex="-1"><!></div>');const iKe={hash:"svelte-i8g41o",code:".table-portal.svelte-i8g41o {position:absolute;}"};function sKe(t,e){di(e,!0),mi(t,iKe);const n=ar.controller,r=ar.tablePortalController;let i=He(null);const s=c=>{Jr(()=>(r.mount(c,e.relativeTo,e.anchor,e.horizontalAlign,e.verticalAlign),c.focus(),()=>{r.destroy(c)}))};let o=0;cy(()=>{o=n.xScroll,requestAnimationFrame(a)});function a(){U(i)&&e.stickyX&&(U(i).style.transform=`translateX(${n.xScroll-o}px)`),requestAnimationFrame(a)}var l=rKe();l.__click=c=>{c.stopPropagation()};var u=Yn(l);BR(u,()=>e.children),Un(l),yo(l,c=>_e(i,c),()=>U(i)),zR(l,c=>s?.(c)),C1("wheel",l,c=>{c.stopPropagation()}),on(t,l),pi()}yh(["click"]);var oKe=Qn("<button> </button> <!>",1);const aKe={hash:"svelte-3t0u29",code:'.dropdown.svelte-3t0u29 {all:unset;padding-left:8px;padding-right:8px;border-radius:2px;cursor:pointer;color:var(--secondary-text-color);position:relative;user-select:none;}.dropdown.svelte-3t0u29::before {content:"";position:absolute;top:0;left:0;height:100%;width:100%;background-color:var(--primary-bg);z-index:-1;}.dropdown.svelte-3t0u29:hover {background-color:var(--hover-bg);}.unclickable.svelte-3t0u29 {pointer-events:none;}'};function lKe(t,e){mi(t,aKe);let n=He(!1),r=He(null),i=He(null);var s=oKe();C1("click",QT,c=>{U(n)&&c.target!==U(r)&&_e(n,!1)});var o=Ta(s);o.__click=c=>{_e(n,!0)};var a=Yn(o,!0);Un(o),yo(o,c=>_e(r,c),()=>U(r));var l=dl(o,2);{var u=c=>{sKe(c,{get relativeTo(){return e.relativeTo},anchor:"outside",horizontalAlign:"left",verticalAlign:"top",stickyX:!1,get element(){return U(i)},set element(f){_e(i,f,!0)},children:(f,h)=>{var d=dp(),m=Ta(d);BR(m,()=>e.children),on(f,d)},$$slots:{default:!0}})};Mo(l,c=>{U(n)&&c(u)})}Ai(()=>{Dd(o,1,`dropdown ${U(n)?"unclickable":"clickable"}`,"svelte-3t0u29"),Xc(a,e.label)}),on(t,s)}yh(["click"]);var uKe=Qn('<li class="column-entry svelte-bmvlb6"><label class="column-label svelte-bmvlb6"> <input type="checkbox"/></label></li>'),cKe=Qn('<ul class="column-toggle svelte-bmvlb6"></ul>'),fKe=Qn("<!> <!>",1),hKe=Qn('<div class="header-row svelte-bmvlb6"><div class="scroll-container svelte-bmvlb6"><div class="dropdown-label-container svelte-bmvlb6"><div class="dropdown-label svelte-bmvlb6"><!></div></div> <!></div></div>');const dKe={hash:"svelte-bmvlb6",code:".header-row.svelte-bmvlb6 {flex-shrink:0;border-bottom:1px solid var(--secondary-bg);background-color:var(--primary-bg);}.scroll-container.svelte-bmvlb6 {display:flex;flex-direction:row;}.dropdown-label-container.svelte-bmvlb6 {position:absolute;z-index:20;left:0px;box-sizing:border-box;height:100%;padding:0.25em;display:flex;flex-direction:row;align-items:end;}.dropdown-label.svelte-bmvlb6 {height:1.5em;align-items:center;display:flex;}.column-toggle.svelte-bmvlb6 {margin:0;margin-top:4px;margin-left:8px;padding:12px;background-color:var(--primary-bg);border-radius:4px;box-shadow:var(--shadow);border:var(--outline);max-height:var(--max-height);max-width:var(--max-width);overflow:scroll;}.column-entry.svelte-bmvlb6 {list-style-type:none;padding:4px;user-select:none;}.column-label.svelte-bmvlb6 {display:flex;align-items:center;justify-content:space-between;gap:16px;color:var(--secondary-text-color);}"};function pKe(t,e){di(e,!0),mi(t,dKe);const n=ar.model,r=ar.controller,i=ir.config;let s=He(null),o=He(null),a=He(null),l=Ee(()=>n.renderableCols),u=0;cy(()=>(u=requestAnimationFrame(c),()=>{cancelAnimationFrame(u)}));function c(){U(o)&&(U(o).style.transform=`translate3d(${r.xScroll}px, 0, 0)`),U(a)&&(U(a).style.transform=`translate3d(${-r.xScroll}px, 0, 0)`),u=requestAnimationFrame(c)}var f=hKe(),h=Yn(f),d=Yn(h),m=Yn(d),g=Yn(m);lKe(g,{label:"â®",get relativeTo(){return U(s)},children:(v,O)=>{var x=cKe();let C;nv(x,21,()=>n.columns,hGe,(S,A)=>{var k=uKe(),T=Yn(k),D=Yn(T),$=dl(D);OGe($),$.__change=M=>{M.target.checked?r.showColumn(U(A)):r.hideColumn(U(A))},ra($,"",{},{float:"right"}),Un(T),Un(k),Ai(()=>{Xc(D,`${(U(A)===Po?"row #":i.columnConfigs[U(A)]?.title??U(A))??""} `),bO($,"id",`${U(A)??""}-checkbox`),wGe($,U(A)===Po?i.showRowNumber!==!1:!i.columnConfigs[U(A)]?.hidden)}),on(S,k)}),Un(x),Ai(()=>C=ra(x,"",C,{"--max-height":r.viewHeight-48+"px","--max-width":r.viewWidth-48+"px"})),on(v,x)}}),Un(m),yo(m,v=>_e(a,v),()=>U(a)),Un(d);var b=dl(d,2);nv(b,16,()=>U(l),v=>v,(v,O)=>{var x=fKe(),C=Ta(x);KHe(C,{get col(){return O}});var S=dl(C,2);nKe(S,{get col(){return O}}),on(v,x)}),Un(h),yo(h,v=>_e(o,v),()=>U(o)),Un(f),yo(f,v=>_e(s,v),()=>U(s)),on(t,f),pi()}yh(["change"]);class mKe{#e=He(null);get colorScheme(){return U(this.#e)}set colorScheme(e){_e(this.#e,e,!0)}#t=He($s({}));get theme(){return U(this.#t)}set theme(e){_e(this.#t,e,!0)}}const jj=Symbol("style");class WT{static initialize(){il(jj,new mKe)}static get style(){return Fo(jj)}}function gKe(t,e){return{...t,...t[e]!=null?t[e]:{}}}var yKe=Qn("<div><!></div>");const bKe={hash:"svelte-c7n1rn",code:".table-defaults.light.svelte-c7n1rn {--default-primary-text-color: black;--default-secondary-text-color: gray;--default-tertiary-text-color: lightgray;--default-font-family: sans-serif;--default-font-size: 1rem;--default-primary-bg: white;--default-secondary-bg: rgb(246, 246, 247);--default-tertiary-bg: rgb(234, 234, 235);--default-hover-bg: rgba(0, 0, 0, 0.05);--default-scrollbar-bg: rgba(0, 0, 0, 0.05);--default-scrollbar-pill-bg: rgba(0, 0, 0, 0.5);--default-scrollbar-label-bg: rgba(255, 255, 255, 0.9);--default-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--default-outline-color: rgb(0 0 0 / 0.2);--default-dimmed-row-color: rgb(0 0 0 / 0.2);--default-row-scroll-to-color: rgb(202 225 255);--default-row-hover-color: rgb(220, 235, 255);}.table-defaults.dark.svelte-c7n1rn {--default-primary-text-color: lightgray;--default-secondary-text-color: gray;--default-tertiary-text-color: dimgray;--default-font-family: sans-serif;--default-font-size: 1rem;--default-primary-bg: #060607;--default-secondary-bg: #161617;--default-hover-bg: rgba(255, 255, 255, 0.05);--default-scrollbar-bg: rgba(255, 255, 255, 0.05);--default-scrollbar-pill-bg: rgba(255, 255, 255, 0.5);--default-scrollbar-label-bg: rgba(0, 0, 0, 0.9);--default-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--default-outline-color: rgb(255 255 255 / 0.2);--default-dimmed-row-color: rgb(0 0 0 / 0.6);--default-row-scroll-to-color: rgb(1, 24, 106);--default-row-hover-color: rgb(0, 6, 35);}.style-wrapper.svelte-c7n1rn {width:100%;height:100%;--primary-text-color: var(--user-primary-text-color, var(--default-primary-text-color));--secondary-text-color: var(--user-secondary-text-color, var(--default-secondary-text-color));--tertiary-text-color: var(--user-tertiary-text-color, var(--default-tertiary-text-color));--font-family: var(--user-font-family, var(--default-font-family));--font-size: var(--user-font-size, var(--default-font-size));--primary-bg: var(--user-primary-bg, var(--default-primary-bg));--secondary-bg: var(--user-secondary-bg, var(--default-secondary-bg));--tertiary-bg: var(--user-tertiarty-bg, var(--default-tertiary-bg));--hover-bg: var(--user-hover-bg, var(--default-hover-bg));--header-font-family: var(--user-header-font-family, var(--font-family));--header-font-size: var(--user-header-font-size, var(--font-size));--cell-font-family: var(--user-cell-font-family, var(--font-family));--cell-font-size: var(--user-cell-font-size, var(--font-size));--scrollbar-bg: var(--user-scrollbar-bg, var(--default-scrollbar-bg));--scrollbar-pill-bg: var(--user-scrollbar-pill-bg, var(--default-scrollbar-pill-bg));--scrollbar-label-bg: var(--user-scrollbar-label-bg, var(--default-scrollbar-label-bg));--shadow: var(--user-shadow, var(--default-shadow));--outline-color: var(--user-outline-color, var(--default-outline-color));--outline: 0.5px solid var(--outline-color);--dimmed-row-color: var(--user-dimmed-row-color, var(--default-dimmed-row-color));--row-scroll-to-color: var(--user-row-scroll-to-color, var(--default-row-scroll-to-color));--row-hover-color: var(--user-row-hover-color, var(--default-row-hover-color));}"};function vKe(t,e){di(e,!0),mi(t,bKe);const n=WT.style;let r=Ee(()=>n.colorScheme),i=Ee(()=>n.theme),s=He(null),o=Ee(()=>U(r)??U(s)??"light");const a=Z=>{Z.matches?_e(s,"dark"):_e(s,"light")},l="(prefers-color-scheme: dark";cy(()=>(_e(s,window.matchMedia(l).matches?"dark":"light",!0),window.matchMedia(l).addEventListener("change",a),()=>{window.matchMedia(l).removeEventListener("change",a)}));let u=Ee(()=>gKe(U(i),U(o))),c=Ee(()=>U(u).primaryTextColor),f=Ee(()=>U(u).secondaryTextColor),h=Ee(()=>U(u).tertiaryTextColor),d=Ee(()=>U(u).fontFamily),m=Ee(()=>U(u).fontSize),g=Ee(()=>U(u).primaryBackgroundColor),b=Ee(()=>U(u).secondaryBackgroundColor),v=Ee(()=>U(u).hoverBackgroundColor),O=Ee(()=>U(u).headerFontFamily),x=Ee(()=>U(u).headerFontSize),C=Ee(()=>U(u).cellFontFamily),S=Ee(()=>U(u).cellFontSize),A=Ee(()=>U(u).scrollbarBackgroundColor),k=Ee(()=>U(u).scrollbarPillColor),T=Ee(()=>U(u).scrollbarLabelBackgroundColor),D=Ee(()=>U(u).shadow),$=Ee(()=>U(u).outlineColor),M=Ee(()=>U(u).dimmedRowColor),L=Ee(()=>U(u).rowScrollToColor),R=Ee(()=>U(u).rowHoverColor);Jr(()=>{});var I=yKe();let B;var z=Yn(I);BR(z,()=>e.children),Un(I),Ai(()=>{Dd(I,1,`style-wrapper table-defaults ${U(o)??""}`,"svelte-c7n1rn"),B=ra(I,"",B,{"--user-primary-text-color":U(c),"--user-secondary-text-color":U(f),"--user-tertiary-text-color":U(h),"--user-font-family":U(d),"--user-font-size":U(m),"--user-primary-bg":U(g),"--user-secondary-bg":U(b),"--user-hover-bg":U(v),"--user-header-font-family":U(O),"--user-header-font-size":U(x),"--user-cell-font-family":U(C),"--user-cell-font-size":U(S),"--user-scrollbar-bg":U(A),"--user-scrollbar-pill-bg":U(k),"--user-scrollbar-label-bg":U(T),"--user-shadow":U(D),"--user-outline-color":U($),"--user-dimmed-row-color":U(M),"--user-row-scroll-to-color":U(L),"--user-row-hover-color":U(R)})}),on(t,I),pi()}function OKe(){return Po}function wKe(t,e){const n=new Set(t),r=new Set(e);return{left:t.filter(i=>!r.has(i)),right:e.filter(i=>!n.has(i))}}function _Ke(t,e){const n=new Set(e);return t.filter(r=>!n.has(r))}function xKe(t,e){return t.concat(e)}var SKe=Qn("<div></div>"),kKe=Qn("<div></div> <!>",1);const CKe={hash:"svelte-14dgpd0",code:".row-background.svelte-14dgpd0 {position:absolute;width:var(--width);height:var(--height);box-sizing:border-box;z-index:-1;transform:translate3d(0, var(--y), 0);transition:background-color 100ms linear;}.odd.svelte-14dgpd0 {background-color:var(--secondary-bg);}.even.svelte-14dgpd0 {background-color:var(--primary-bg);}.dimmer.svelte-14dgpd0 {background-color:var(--dimmed-row-color);z-index:10;pointer-events:none;}.flashed.svelte-14dgpd0 {background-color:var(--row-scroll-to-color);}.hovered.svelte-14dgpd0 {background-color:var(--row-hover-color);}"};function AKe(t,e){di(e,!0),mi(t,CKe);const n=ar.controller,r=ar.model,i=ar.overscrollModifier,s=ir.config;let o=Ee(()=>r.rowHeights[e.row]),a=Ee(()=>Math.max(r.colsRightmostPosition,n.viewWidth)),l=Ee(()=>i.y(r.rowPositions[e.row])),u=Ee(()=>r.getRowParity(e.row)),c=Ee(()=>n.flashedRowId===e.row),f=Ee(()=>n.hoveredRowId===e.row),h=Ee(()=>s.highlightedRows?s.highlightedRows?.has(e.row):null);var d=kKe(),m=Ta(d);let g;var b=dl(m,2);{var v=O=>{var x=SKe();let C;Ai(()=>{Dd(x,1,`row-background ${U(u)??""} dimmer`,"svelte-14dgpd0"),C=ra(x,"",C,{"--width":U(a)+"px","--height":U(o)+"px","--y":U(l)+"px"})}),on(O,x)};Mo(b,O=>{U(h)!==null&&!U(h)&&O(v)})}Ai(()=>{Dd(m,1,`row-background ${U(u)??""} ${(U(c)?"flashed":null)??""} ${(U(f)&&s.highlightHoveredRow?"hovered":null)??""}`,"svelte-14dgpd0"),g=ra(m,"",g,{"--width":U(a)+"px","--height":U(o)+"px","--y":U(l)+"px"})}),on(t,d),pi()}var EKe=Qn("<!> <!>",1),TKe=Qn('<div class="scroll-container svelte-1v3p82v"><!></div> <!> <!>',1),DKe=Qn('<div class="table svelte-1v3p82v"><!> <div class="table-contents svelte-1v3p82v"><!></div></div>');const PKe={hash:"svelte-1v3p82v",code:".table.svelte-1v3p82v {width:100%;max-width:var(--max-width);height:100%;display:flex;flex-direction:column;position:relative;}.table-contents.svelte-1v3p82v {position:relative;overflow:hidden;flex-grow:1;}.scroll-container.svelte-1v3p82v {position:absolute;width:0;height:0;will-change:transform;contain:layout size;}"};function RKe(t,e){di(e,!0),mi(t,PKe),ir.initialize(),Sx.initialize(),kx.initialize(),WT.initialize(),ar.initialize();const n=ar.controller,r=ar.model,i=ar.overscrollModifier,s=ir.config,o=WT.style;Jr(()=>{e.scrollTo!=null&&n.scrollToRow(String(e.scrollTo))}),Jr(()=>{e.highlightedRows&&e.highlightedRows.length>0?s.highlightedRows=new Set(e.highlightedRows.map(O=>String(O))):s.highlightedRows=null}),Jr(()=>{e.onRowClick!=null?s.onRowClick=e.onRowClick:s.onRowClick=null}),Jr(()=>{e.coordinator?ZT.coordinator=e.coordinator:ZT.coordinator=null}),Jr(()=>{e.numLines!=null?s.textMaxLines=e.numLines:s.textMaxLines=s.DEFAULT_TEXT_MAX_LINES,e.lineHeight!=null?s.lineHeight=e.lineHeight:s.lineHeight=s.DEFAULT_LINE_HEIGHT}),Jr(()=>{e.colorScheme!=null?o.colorScheme=e.colorScheme:o.colorScheme=null}),Jr(()=>{e.theme!=null?o.theme=e.theme:o.theme={},e.colorScheme!=null?o.colorScheme=e.colorScheme:o.colorScheme=null}),Jr(()=>{e.columnConfigs!=null?s.columnConfigs=e.columnConfigs:s.columnConfigs={},e.onColumnConfigsChange!=null?s.onColumnConfigsChange=e.onColumnConfigsChange:s.onColumnConfigsChange=()=>{}}),Jr(()=>{s.showRowNumber=e.showRowNumber??null}),Jr(()=>{s.onShowRowNumberChange=e.onShowRowNumberChange??null}),Jr(()=>{n.initialize({tableName:e.table,rowKey:e.rowKey,columns:[OKe(),...e.columns],filterBy:e.filter??null})}),Jr(()=>{e.customCells!=null?Sx.config=e.customCells:Sx.config={}}),Jr(()=>{e.additionalHeaderContents!=null?kx.config=e.additionalHeaderContents:kx.config={}}),Jr(()=>{e.headerHeight!=null?s.headerHeight=e.headerHeight:s.headerHeight=null}),Jr(()=>{e.highlightHoveredRow!=null?s.highlightHoveredRow=e.highlightHoveredRow:s.highlightHoveredRow=!1});let a=He([]),l=He(0),u=He(null),c=He($s([])),f=He($s([])),h=Ee(()=>U(c).filter(O=>n.rowStillExists(O))),d=Ee(()=>U(f)),m=0;cy(()=>(m=requestAnimationFrame(v),()=>{n.teardown(),r.teardown(),cancelAnimationFrame(m)}));function g(O,x){if(x.length>0){const C=x[x.length-1];return Math.abs(r.data[O][Ro]-r.data[C][Ro])}return 0}function b(){const{left:O,right:x}=wKe(U(a),r.renderableRows);O.length===0&&x.length===0||(_e(a,_Ke(U(a),O)),_e(a,xKe(U(a),x.sort((C,S)=>g(C,U(a))-g(S,U(a))).slice(0,n.isJumping?n.rowsOnScreen:s.rowRenderBatchSize))))}function v(){b(),_e(c,U(a).filter(C=>n.rowIsVisible(C)),!0),_e(f,r.renderableCols.filter(C=>n.colIsVisible(C)),!0);const O=n.xScroll,x=i.yScroll(n.yScroll);U(u)&&(U(u).style.transform=`translate3d(${O}px, ${x}px, 0)`),_e(l,n.updateKey,!0),m=requestAnimationFrame(v)}vKe(t,{children:(O,x)=>{var C=DKe(),S=Yn(C);pKe(S,{});var A=dl(S,2),k=Yn(A);{var T=D=>{var $=TKe(),M=Ta($),L=Yn(M);fGe(L,()=>U(l),B=>{var z=EKe(),Z=Ta(z);nv(Z,16,()=>U(h),ee=>ee,(ee,ie)=>{var K=dp(),fe=Ta(K);nv(fe,16,()=>U(d),le=>le,(le,me)=>{FHe(le,{get row(){return ie},get col(){return me}})}),on(ee,K)});var J=dl(Z,2);nv(J,16,()=>r.renderableRows,ee=>ee,(ee,ie)=>{AKe(ee,{get row(){return ie}})}),on(B,z)}),Un(M),yo(M,B=>_e(u,B),()=>U(u));var R=dl(M,2);aHe(R,{});var I=dl(R,2);iHe(I,{}),on(D,$)};Mo(k,D=>{n.isReady&&D(T)})}Un(A),Un(C),yo(C,D=>n.element=D,()=>n?.element),C1("wheel",C,function(...D){n.handleWheel?.apply(this,D)}),du(A,"clientHeight",D=>n.viewHeight=D),du(A,"clientWidth",D=>n.viewWidth=D),on(O,C)},$$slots:{default:!0}}),pi()}class $Ke{component;currentProps;constructor(e,n){this.currentProps={...n},this.component=aGe({component:RKe,target:e,props:n})}update(e){let n={};for(let r in e)e[r]!==this.currentProps[r]&&(n[r]=e[r],this.currentProps[r]=e[r]);this.component.$set(n)}destroy(){this.component.$destroy()}}var IKe=ce("<div></div>");function FKe(t,e){Ke(e,!0);let n=Xr(e,["$$slots","$$events","$$legacy"]),r;kO(()=>{let s=new $Ke(r,n);su(()=>{s.update(n)}),fk(()=>{s.destroy()})});var i=IKe();ot(i,"",{},{width:"100%",height:"100%"}),Ol(i,s=>r=s,()=>r),j(t,i),Je()}const MKe={fontSize:"13px",fontFamily:"system-ui",light:{primaryBackgroundColor:"white",secondaryBackgroundColor:"var(--color-slate-100)",primaryTextColor:"var(--color-slate-500)",secondaryTextColor:"var(--color-slate-400)",tertiaryTextColor:"var(--color-slate-300)",scrollbarPillColor:"var(--color-slate-400)",scrollbarLabelBackgroundColor:"white",rowScrollToColor:"var(--color-blue-200)",rowHoverColor:"var(--color-blue-100)"},dark:{primaryBackgroundColor:"black",secondaryBackgroundColor:"var(--color-slate-900)",primaryTextColor:"var(--color-slate-400)",secondaryTextColor:"var(--color-slate-500)",tertiaryTextColor:"var(--color-slate-600)",scrollbarPillColor:"var(--color-slate-500)",scrollbarLabelBackgroundColor:"var(--color-slate-900)",rowScrollToColor:"var(--color-blue-900)",rowHoverColor:"var(--color-blue-950)"}};function LKe(t,e){Ke(e,!0);const n=()=>ki(a,"$columnStyles",i),r=()=>ki(o,"$colorScheme",i),[i,s]=za();let{colorScheme:o,columnStyles:a}=e.context,l=tse(e.context.highlight),u=Ie(null);or(()=>l.subscribe(h=>{w(u)!==h&&se(u,h,!0)}));function c(h,d,m){let g={};for(let b of h)m?.[b.name]!=null&&(g[b.name]=yz(m[b.name])),d[b.name]?.renderer!=null&&(g[b.name]=yz(d[b.name]?.renderer));return g}let f=X(()=>c(e.context.columns,n(),e.context.tableCellRenderers));FKe(t,{get coordinator(){return e.context.coordinator},get table(){return e.context.table},get rowKey(){return e.context.id},get columns(){return e.spec.columns},get filter(){return e.context.filter},get scrollTo(){return w(u)},onRowClick:async h=>{l.set(h)},numLines:3,get colorScheme(){return r()},get theme(){return MKe},highlightHoveredRow:!0,get customCells(){return w(f)}}),Je(),s()}async function NKe(t){let{coordinator:e,table:n,projection:r}=t,i=t.config??{},s=i.exclude??[],o=(await bre(e,n)).filter(l=>!l.name.startsWith("__")),a=[];if(r!=null&&i.embedding!==!1){let l={type:"embedding",title:"Embedding",data:{x:r.x,y:r.y,text:r.text}};typeof i.embedding=="object"&&(l={...l,...i.embedding}),a.push(l),s.push(r.x),s.push(r.y),r.text&&s.push(r.text)}if(a.push({type:"predicates",title:"SQL Predicates"}),i.table!==!1){let l={type:"table",title:"Table",columns:o.map(u=>u.name)};typeof i.table=="object"&&(l={...l,...i.table}),a.push(l)}for(let l of o){if(l.jsType==null||i.include!=null&&i.include.indexOf(l.name)<0||s.indexOf(l.name)>=0)continue;let u=i.override?.[l.name];if(u!==void 0){u!==null&&a.push(u);continue}let c=await vre(e,n,l.name);if(!(c<=1))switch(l.jsType){case"string":{c<=1e3&&a.push({type:"count-plot",title:l.name,data:{field:l.name}});break}case"string[]":{a.push({type:"count-plot-list",title:l.name,data:{field:l.name}});break}case"number":{c<=10?a.push({type:"count-plot",title:l.name,data:{field:l.name}}):a.push(coe(l.name));break}}}return a}function coe(t,e){return{title:t,layers:[{mark:"bar",style:{fillColor:"$markColorFade"},encoding:{x:{field:t},y:{aggregate:"count"}}},{mark:"bar",filter:"$filter",encoding:{x:{field:t},y:{aggregate:"count"},...e?{color:{field:e}}:{}}}],selection:{brush:{encoding:"x"}},widgets:[{type:"scale.type",channel:"x"},{type:"encoding.normalize",attribute:"y",layer:[0,1],options:["x"]}]}}const foe={},hoe={},doe=[];function Qd(t,e,n={}){foe[t]=e,hoe[t]=n}function Pl(t){doe.push(t)}function QKe(t){if(typeof t!="object")return LU;if(typeof t.type=="string"){let e=foe[t.type];return e??LU}return tYe}function poe(t){if(typeof t!="object")return{};if(typeof t.type=="string"){let e=hoe[t.type];return e??{}}return{}}function BKe(){return doe}Qd("builder",AXe);Qd("count-plot",$Ve);Qd("count-plot-list",jVe);Qd("embedding",UZe);Qd("predicates",JVe);Qd("table",LKe);Qd("markdown",XVe,{supportsEditMode:!0});Qd("content-viewer",HFe);Pl({icon:"chart-h-bar",description:"Create a count plot of a field",ui:[{field:{key:"x",label:"Field",types:["number","string","string[]"],required:!0}}],create:({x:t})=>t.type=="discrete[]"?{title:t.name,type:"count-plot-list",data:{field:t.name}}:{title:t.name,type:"count-plot",data:{field:t.name}}});Pl({icon:"chart-stacked",description:"Create a histogram of a field",ui:[{field:{key:"x",label:"Field",types:["number","string"],required:!0}},{field:{key:"color",label:"Group Field",types:["number","string"]}}],create:({x:t,color:e})=>coe(t.name,e?.name)});Pl({icon:"chart-line",description:"Create a histogram of a field",ui:[{field:{key:"x",label:"X Field",types:["number","string"],required:!0}},{field:{key:"y",label:"Y Field",types:["number"],required:!0}},{field:{key:"color",label:"Group Field",types:["number","string"]}}],create:({x:t,y:e,color:n})=>({title:e.name,layers:[{mark:"line",filter:"$filter",encoding:{x:{field:t.name},y:{aggregate:"mean",field:e.name},...n?{color:{field:n.name}}:{}}}],selection:{brush:{encoding:"x"}},widgets:[{type:"scale.type",channel:"x"},{type:"encoding.normalize",attribute:"y",layer:0,options:["x"]}]})});Pl({icon:"chart-ecdf",description:"Create a chart showing the empirical cumulative distribution (eCDF) of a field",ui:[{field:{key:"x",label:"Field",types:["number"],required:!0}},{field:{key:"color",label:"Group Field",types:["number","string"]}}],create:({x:t,color:e})=>({title:t.name,layers:[{mark:"line",filter:"$filter",encoding:{x:{aggregate:"ecdf-value",field:t.name},y:{aggregate:"ecdf-rank"},...e?{color:{field:e.name}}:{}}}],selection:{brush:{encoding:"x"}},widgets:[{type:"scale.type",channel:"x"}]})});Pl({icon:"chart-heatmap",description:"Create a 2D heatmap of two fields",ui:[{field:{key:"x",label:"X Field",types:["number","string"],required:!0}},{field:{key:"y",label:"Y Field",types:["number","string"],required:!0}}],create:({x:t,y:e})=>({title:`${t.name}, ${e.name}`,layers:[{mark:"rect",filter:"$filter",zIndex:-1,encoding:{x:{field:t.name},y:{field:e.name},color:{aggregate:"count"}}},{mark:"rect",zIndex:-2,encoding:{color:{value:0}}}],selection:{brush:{encoding:"xy"}},widgets:[{type:"scale.type",channel:"x"},{type:"scale.type",channel:"y"},{type:"encoding.normalize",attribute:"color",layer:0,options:["x","y"]}]})});Pl({icon:"chart-boxplot",description:"Create a box plot",ui:[{field:{key:"x",label:"X Field",required:!0}},{field:{key:"y",label:"Y Field",types:["number"],required:!0}}],create:({x:t,y:e})=>({title:t.name,layers:[{mark:"rect",filter:"$filter",width:1,style:{fillColor:"$ruleColor"},encoding:{x:{field:t.name},y1:{aggregate:"min",field:e.name},y2:{aggregate:"max",field:e.name}}},{mark:"rect",filter:"$filter",width:{gap:1,clampToRatio:.1},encoding:{x:{field:t.name},y1:{aggregate:"quantile",quantile:.25,field:e.name},y2:{aggregate:"quantile",quantile:.75,field:e.name}}},{mark:"rect",filter:"$filter",height:1,width:{gap:1,clampToRatio:.1},style:{fillColor:"$ruleColor"},encoding:{x:{field:t.name},y:{aggregate:"median",field:e.name}}}],selection:{brush:{encoding:"x"}},axis:{y:{title:e.name}},widgets:[{type:"scale.type",channel:"x"},{type:"scale.type",channel:"y"}]})});Pl({icon:"chart-bubble",description:"Create a bubble chart",ui:[{field:{key:"x",label:"X Field",types:["number"],required:!0}},{field:{key:"y",label:"Y Field",types:["number"],required:!0}},{field:{key:"color",label:"Color Field",types:["number","string"]}},{field:{key:"group",label:"Group Field",types:["number","string"]}}],create:({x:t,y:e,color:n,group:r})=>({title:t.name,layers:[{mark:"point",filter:"$filter",style:{fillColor:"$encoding",fillOpacity:.1,strokeColor:"$encoding"},encoding:{x:{aggregate:"mean",field:t.name},y:{aggregate:"mean",field:e.name},size:{aggregate:"count"},...n?{color:{field:n?.name}}:{},...r?{group:{field:r.name}}:{}}}],selection:{brush:{encoding:"xy"}},widgets:[{type:"scale.type",channel:"x"},{type:"scale.type",channel:"y"}]})});Pl({icon:"chart-embedding",description:"Create an embedding view",ui:[{field:{key:"x",label:"X Field",types:["number"],required:!0}},{field:{key:"y",label:"Y Field",types:["number"],required:!0}},{field:{key:"text",label:"Text Field",types:["string"]}},{field:{key:"category",label:"Category Field",types:["string","number"]}}],preview:!1,create:({x:t,y:e,text:n,category:r},i)=>({type:"embedding",title:"Embedding",data:{x:t.name,y:e.name,text:n?.name,category:r?.name}})});Pl({icon:"chart-predicates",description:"Create a filter with custom SQL predicates",ui:[],create:()=>({type:"predicates",title:"SQL Predicates"})});Pl({icon:"chart-markdown",description:"Create a view with markdown content",preview:!1,ui:[{code:{key:"content",language:"markdown"}}],create:({content:t})=>({type:"markdown",title:"Markdown",content:t})});Pl({icon:"chart-content-viewer",description:"Create a view that displays a given field's content for the last selected point",preview:!1,ui:[{field:{key:"field",label:"Field",required:!0}}],create:({field:t})=>({type:"content-viewer",title:t.name,field:t.name})});Pl({icon:"chart-spec",description:"Create a chart with custom spec",preview:!1,ui:[{spec:{key:"spec"}}],create:({spec:t})=>t});var zKe=ce('<div class="p-2 h-full flex flex-col gap-2"><!> <!></div>'),UKe=ce('<div class="absolute"><div class="absolute left-0 right-0 top-0 bottom-0 bg-white dark:bg-black rounded-md overflow-hidden flex flex-col shadow-md border border-slate-300 dark:border-slate-700 group"><div class="p-2 bg-slate-100 dark:bg-slate-900 flex cursor-move select-none"><div class="flex-1 font-mono font-medium whitespace-nowrap overflow-hidden text-ellipsis"> </div> <div class="flex gap-1 sm:opacity-0 group-hover:opacity-100"><!> <!></div></div> <div class="flex-1 min-h-0"><!></div></div> <div class="absolute cursor-ew-resize"></div> <div class="absolute cursor-ew-resize"></div> <div class="absolute cursor-ns-resize"></div> <div class="absolute cursor-ns-resize"></div> <div class="absolute cursor-nwse-resize"></div> <div class="absolute cursor-nesw-resize"></div> <div class="absolute cursor-nesw-resize"></div> <div class="absolute cursor-nwse-resize"></div></div>');function jKe(t,e){Ke(e,!0);const n=()=>ki(s,"$colorScheme",r),[r,i]=za();let{colorScheme:s}=e.context,o=X(()=>e.grid.resolvePlacement(e.placement)),a=X(()=>w(o).x),l=X(()=>w(o).y),u=X(()=>w(o).width),c=X(()=>w(o).height),f=Ie(!1),h=X(()=>poe(e.spec).supportsEditMode??!1),d=X(()=>w(h)&&w(f)?"edit":"view"),m=Ie(void 0);function g(K){return fe=>{let le=e.grid.numColumns,me=e.grid.xScaler,oe=e.grid.yScaler,De=e.placement.x,Ve=e.placement.y,Ne=e.placement.x+e.placement.width,Ae=e.placement.y+e.placement.height;return e.onBringToFront?.(),e.onIsPlacementChanging?.(!0),{move:ke=>{let Te=Math.round(De+(ke.clientX-fe.clientX)*K[0]/me),tt=Math.round(Ve+(ke.clientY-fe.clientY)*K[1]/oe),at=Math.round(Ne+(ke.clientX-fe.clientX)*K[2]/me),Re=Math.round(Ae+(ke.clientY-fe.clientY)*K[3]/oe);const We=2,Rt=2;K[0]&&K[2]?(Te=Math.min(Math.max(0,Te),le-(Ne-De)),at=Te+(Ne-De)):(Te=Math.min(Math.max(0,Te),Ne-We),at=Math.min(Math.max(De+We,at),le)),K[1]&&K[3]?(tt=Math.max(0,tt),Re=tt+(Ae-Ve)):(tt=Math.min(Math.max(0,tt),Ae-Rt),Re=Math.max(Ve+Rt,Re)),e.onPlacementChange?.({x:Te,y:tt,width:at-Te,height:Re-tt})},up:()=>{e.onIsPlacementChanging?.(!1)},cancel:()=>{e.onIsPlacementChanging?.(!1)}}}}var b=UKe();b.__click=()=>{e.onBringToFront?.()};let v;var O=H(b),x=H(O),C=H(x),S=H(C,!0);W(C),ei(C,(K,fe)=>Zn?.(K,fe),()=>({click:()=>{e.onBringToFront?.()},drag:g([1,1,1,1])}));var A=ae(C,2),k=H(A);{let K=X(()=>w(d)=="edit"?Gte:S9);Um(k,{get icon(){return w(K)},onClick:()=>{se(f,!w(f)),w(f)&&se(m,e.spec)}})}var T=ae(k,2);Um(T,{get icon(){return r2},get onClick(){return e.onRemove}}),W(A),W(x);var D=ae(x,2),$=H(D);{var M=K=>{var fe=At(),le=Be(fe);vc(le,()=>e.chartView,()=>({id:e.id,width:"container",height:"container",mode:w(d)})),j(K,fe)},L=K=>{var fe=zKe(),le=H(fe);x9(le,{class:"w-full flex-1 min-h-0",get initialValue(){return w(m)},get colorScheme(){return n()},onChange:oe=>{se(m,oe)}});var me=ae(le,2);{let oe=X(()=>w(m)==null);$P(me,{label:"Confirm",get disabled(){return w(oe)},onClick:()=>{w(m)!=null&&(e.onSpecChange(w(m)),se(f,!1))}})}W(fe),j(K,fe)};Oe($,K=>{w(d)=="view"&&w(f)&&e.onSpecChange?K(L,!1):K(M)})}W(D),W(O);var R=ae(O,2);ot(R,"",{},{left:"-2px",top:"10px",bottom:"10px",width:"10px"}),ei(R,(K,fe)=>Zn?.(K,fe),()=>({drag:g([1,0,0,0])}));var I=ae(R,2);ot(I,"",{},{right:"-2px",top:"10px",bottom:"10px",width:"10px"}),ei(I,(K,fe)=>Zn?.(K,fe),()=>({drag:g([0,0,1,0])}));var B=ae(I,2);ot(B,"",{},{left:"10px",right:"10px",top:"-2px",height:"10px"}),ei(B,(K,fe)=>Zn?.(K,fe),()=>({drag:g([0,1,0,0])}));var z=ae(B,2);ot(z,"",{},{left:"10px",right:"10px",bottom:"-2px",height:"10px"}),ei(z,(K,fe)=>Zn?.(K,fe),()=>({drag:g([0,0,0,1])}));var Z=ae(z,2);ot(Z,"",{},{left:"-2px",top:"-2px",width:"10px",height:"10px"}),ei(Z,(K,fe)=>Zn?.(K,fe),()=>({drag:g([1,1,0,0])}));var J=ae(Z,2);ot(J,"",{},{right:"-2px",top:"-2px",width:"10px",height:"10px"}),ei(J,(K,fe)=>Zn?.(K,fe),()=>({drag:g([0,1,1,0])}));var ee=ae(J,2);ot(ee,"",{},{left:"-2px",bottom:"-2px",width:"10px",height:"10px"}),ei(ee,(K,fe)=>Zn?.(K,fe),()=>({drag:g([1,0,0,1])}));var ie=ae(ee,2);ot(ie,"",{},{right:"-2px",bottom:"-2px",width:"10px",height:"10px"}),ei(ie,(K,fe)=>Zn?.(K,fe),()=>({drag:g([0,0,1,1])})),W(b),Pe(()=>{v=ot(b,"",v,{left:`${w(a)??""}px`,top:`${w(l)??""}px`,width:`${w(u)??""}px`,height:`${w(c)??""}px`,"z-index":e.order}),Tt(S,e.spec.title)}),Qh(3,b,()=>EW,()=>({duration:100})),j(t,b),Je(),i()}Dr(["click"]);function VR(t,e=""){let n=1,r;do r=e+n,n++;while(r in t);return r}function moe(t,e){if(!e||e.length===0)return t;let n=new Set(t),r=new Set(e);return[...e.filter(i=>n.has(i)),...t.filter(i=>!r.has(i))]}class Z4{numColumns;rows;constructor(e){if(e>32)throw new Error("numColumns must be <= 32");this.numColumns=e,this.rows=new Uint32Array(128)}ensureSize(e){if(this.rows.length<e){let n=Math.ceil(this.rows.length*1.5);for(;n<e;)n=Math.ceil(n*1.5);let r=new Uint32Array(n);r.set(this.rows,0),this.rows=r}}clone(){let e=new Z4(this.numColumns);return e.rows=new Uint32Array(this.rows),e}get(e,n){return e<0||e>=this.numColumns||n<0||n>=this.rows.length?!1:(this.rows[n]&1<<e)!=0}set(e,n,r){e<0||e>=this.numColumns||n<0||(this.ensureSize(n+1),r==0?this.rows[n]&=~(1<<e):r==1&&(this.rows[n]|=1<<e))}check(e,n,r,i){if(e<0&&(r+=e,e=0),n<0&&(i+=n,n=0),e+r>this.numColumns&&(r=this.numColumns-e),r<=0||i<=0)return!0;let s=(1<<r)-1<<e;for(let o=0;o<i;o++)if(n+o<this.rows.length&&(this.rows[n+o]&s)!=0)return!1;return!0}fill(e,n,r,i){if(e<0&&(r+=e,e=0),n<0&&(i+=n,n=0),e+r>this.numColumns&&(r=this.numColumns-e),r<=0||i<=0)return;const s=(1<<r)-1<<e;this.ensureSize(n+i);for(let o=0;o<i;o++)this.rows[n+o]|=s}find(e,n){if(e<=0||n<=0||e>this.numColumns)throw new Error("invalid dimensions");let r=this.rows.length;for(let s=0;s<r;s++)for(let o=0;o<=this.numColumns-e;o++)if(this.check(o,s,e,n))return{x:o,y:s};return{x:0,y:this.rows.length}}maxOccupiedY(){for(let e=this.rows.length-1;e>=0;e--)if(this.rows[e]!=0)return e;return-1}unusedRects(e,n,r,i){let s=this.clone(),o=[],a=this.maxOccupiedY();for(let l=0;l<=a;l++)for(let u=0;u<s.numColumns;u++){if(s.get(u,l))continue;let c=0;for(let h=1;h<=Math.min(r,s.numColumns-u)&&!s.get(u+h-1,l);h++)c=h;if(c<e)continue;let f=0;for(let h=c;h>=e;h--){f=0;for(let d=1;d<=Math.min(i,s.rows.length-l);d++){let m=!0;for(let g=0;g<h;g++)if(s.get(u+g,l+d-1)){m=!1;break}if(!m)break;f=d}if(l+f>a+1&&(f=a+1-l),f>=n){o.push({x:u,y:l,width:h,height:f}),s.fill(u,l,h,f);break}}}return o}}class qKe{containerWidth;containerHeight;numColumns;numRows;gap;constructor(e,n,r,i,s){this.containerWidth=e,this.containerHeight=n,this.numColumns=r,this.numRows=i,this.gap=s}resolvePlacement(e){let n=(this.containerWidth-this.gap*(this.numColumns-1))/this.numColumns,r=(this.containerHeight-this.gap*(this.numRows-1))/this.numRows;return{x:e.x*(n+this.gap),y:e.y*(r+this.gap),width:e.width*n+(e.width-1)*this.gap,height:e.height*r+(e.height-1)*this.gap}}get xScaler(){return(this.containerWidth+this.gap)/this.numColumns}get yScaler(){return(this.containerHeight+this.gap)/this.numRows}}function VKe(t,e,n){let r={},i=new Z4(n);for(let s in t){let o=e[s];o!=null&&(i.fill(o.x,o.y,o.width,o.height),r[s]=o)}for(let s in t){if(r[s]!=null)continue;let o=8,a=5;t[s].type=="embedding"&&(o=16,a=12),t[s].type=="table"&&(o=n,a=6),o>n&&(o=n);let{x:l,y:u}=i.find(o,a);i.fill(l,u,o,a),r[s]={x:l,y:u,width:o,height:a}}return r}var XKe=ce('<button class="absolute rounded-md border bg-slate-100 dark:bg-slate-900 border-slate-400 text-slate-400 dark:border-slate-500 dark:text-slate-500 border-dashed opacity-0 hover:opacity-50 flex items-center justify-center"><!></button>'),ZKe=ce("<div><div><!> <!></div></div>");function WKe(t,e){Ke(e,!0);let n=Ie(100),r=Ie(100),i,s=Ie(0),o=X(()=>e.state.numColumns??(w(n)<500?8:24)),a=X(()=>e.state.numRows??16),l=X(()=>new qKe(w(n),w(r),w(o),w(a),6)),u=X(()=>`${w(o)}x${w(a)}`),c=X(()=>VKe(e.charts,e.state.grids?.[w(u)]?.placements??{},w(l).numColumns)),f=X(OE(()=>moe(Object.keys(e.charts),e.state.grids?.[w(u)]?.order).reverse())),h=X(()=>{let D=new Z4(w(l).numColumns);for(let $ in w(c))D.fill(w(c)[$].x,w(c)[$].y,w(c)[$].width,w(c)[$].height);return D.unusedRects(4,4,12,8)}),d=X(()=>{let D=w(l).numRows;for(let $ in w(c))D=Math.max(D,w(c)[$].y+w(c)[$].height);return D}),m=Ie(void 0),g=X(()=>Math.max(w(m)??w(d),w(d))),b=X(()=>w(g)<=w(l).numRows?w(r):w(l).yScaler*w(g));or(()=>{let D=w(s)>=1;vs(()=>{D?se(m,Math.max(w(m)??w(d),w(d)),!0):se(m,0)})});function v(D){e.onChartsChange({[D]:void 0}),e.onChartStatesChange({[D]:void 0})}function O(D){let $=e.state.grids?.[w(u)]?.order??[],M=[D,...$.filter(L=>L!=D)];e.onStateChange({grids:{[w(u)]:{order:M}}})}function x(D){let $=VR(e.charts);e.onChartsChange({[$]:{type:"builder",title:"New"}}),e.onStateChange({grids:{[w(u)]:{placements:{[$]:D}}}})}var C=ZKe(),S=H(C);let A;var k=H(S);Zt(k,17,()=>w(h),Rn,(D,$)=>{const M=X(()=>w(l).resolvePlacement(w($)));var L=XKe(),R=X(()=>x.bind(null,w($)));L.__click=function(...z){w(R)?.apply(this,z)};let I;var B=H(L);Yte(B,{}),W(L),Pe(()=>I=ot(L,"",I,{left:`${w(M).x??""}px`,top:`${w(M).y??""}px`,width:`${w(M).width??""}px`,height:`${w(M).height??""}px`})),Qh(3,L,()=>EW,()=>({duration:100})),j(D,L)});var T=ae(k,2);Zt(T,16,()=>Object.keys(e.charts),D=>D,(D,$)=>{{let M=X(()=>w(c)[$]??{x:0,y:0,width:4,height:3}),L=X(()=>w(f).indexOf($)),R=X(()=>v.bind(null,$)),I=X(()=>O.bind(null,$));jKe(D,{get context(){return e.context},get id(){return $},get spec(){return e.charts[$]},get placement(){return w(M)},get grid(){return w(l)},get order(){return w(L)},get onRemove(){return w(R)},onPlacementChange:B=>{e.onStateChange({grids:{[w(u)]:{placements:{...w(c),[$]:B}}}})},onIsPlacementChanging:B=>se(s,w(s)+(B?1:-1)),get onBringToFront(){return w(I)},onSpecChange:B=>{e.onChartsChange({[$]:void 0}),e.onChartStatesChange({[$]:void 0}),e.onChartsChange({[$]:B})},get chartView(){return e.chartView}})}}),W(S),Ol(S,D=>i=D,()=>i),W(C),Pe(()=>{ur(C,1,`w-full h-full overflow-x-hidden relative ${w(b)>w(r)?"overflow-y-scroll overscroll-none":"overflow-y-hidden"}`),A=ot(S,"",A,{width:`${w(n)??""}px`,height:`${w(b)??""}px`,position:"relative",overflow:"hidden"})}),Oc(C,"clientWidth",D=>se(n,D)),Oc(C,"clientHeight",D=>se(r,D)),j(t,C),Je()}Dr(["click"]);function YKe(t,e){Ke(e,!0);function n(){let r=VR(e.charts);e.onChartsChange({[r]:{type:"builder",title:"New"}})}Hu(t,{get icon(){return Yte},onClick:n,title:"Add"}),Je()}function qj(t,{from:e,to:n},r={}){var{delay:i=0,duration:s=A=>Math.sqrt(A)*120,easing:o=jie}=r,a=getComputedStyle(t),l=a.transform==="none"?"":a.transform,[u,c]=a.transformOrigin.split(" ").map(parseFloat);u/=t.clientWidth,c/=t.clientHeight;var f=GKe(t),h=t.clientWidth/n.width/f,d=t.clientHeight/n.height/f,m=e.left+e.width*u,g=e.top+e.height*c,b=n.left+n.width*u,v=n.top+n.height*c,O=(m-b)*h,x=(g-v)*d,C=e.width/n.width,S=e.height/n.height;return{delay:i,duration:typeof s=="function"?s(Math.sqrt(O*O+x*x)):s,easing:o,css:(A,k)=>{var T=k*O,D=k*x,$=A+k*C,M=A+k*S;return`transform: ${l} translate(${T}px, ${D}px) scale(${$}, ${M});`}}}function GKe(t){if("currentCSSZoom"in t)return t.currentCSSZoom;for(var e=t,n=1;e!==null;)n*=+getComputedStyle(e).zoom,e=e.parentElement;return n}var HKe=ce('<div class="text-sm pr-0.5"><!></div>'),KKe=ce('<div class="text-sm pr-0.5"><!></div>'),JKe=ce('<div class="h-96"><div class="w-full h-96 p-2 flex flex-col gap-2"><!> <!></div></div>'),eJe=ce('<div class="p-2 flex items-center"><button class="font-mono font-medium h-6 text-left flex flex-1 mr-2 overflow-hidden items-center"><!> <div class="flex-1 whitespace-nowrap overflow-hidden text-ellipsis"> </div></button> <div class="flex-none flex gap-1 sm:opacity-0 group-hover:opacity-100"><!> <!> <!> <!></div></div> <div><div class="overflow-hidden"><!> <!></div></div>',1);function Vj(t,e){Ke(e,!0);let n=Ie(!1),r=X(()=>poe(e.spec).supportsEditMode??!1),i=X(()=>w(r)&&w(n)?"edit":"view"),s=Ie(void 0);var o=eJe(),a=Be(o),l=H(a);l.__click=()=>e.onIsVisibleChange?.(!e.isVisible);var u=H(l);{var c=R=>{var I=HKe(),B=H(I);ez(B,{}),W(I),j(R,I)},f=R=>{var I=KKe(),B=H(I);JB(B,{}),W(I),j(R,I)};Oe(u,R=>{e.isVisible?R(c):R(f,!1)})}var h=ae(u,2),d=H(h,!0);W(h),W(l);var m=ae(l,2),g=H(m);{var b=R=>{{let I=X(()=>w(i)=="edit"?Gte:S9);Um(R,{get icon(){return w(I)},title:"Edit",onClick:()=>{se(n,!w(n)),w(n)&&(se(s,e.spec),e.onIsVisibleChange?.(!0))}})}};Oe(g,R=>{e.onSpecChange&&R(b)})}var v=ae(g,2);{var O=R=>{Um(R,{get icon(){return ez},title:"Move up",get onClick(){return e.onUp}})};Oe(v,R=>{e.onUp&&R(O)})}var x=ae(v,2);{var C=R=>{Um(R,{get icon(){return JB},title:"Move down",get onClick(){return e.onDown}})};Oe(x,R=>{e.onDown&&R(C)})}var S=ae(x,2);{var A=R=>{Um(R,{get icon(){return r2},title:"Close",onClick:()=>e.onRemove()})};Oe(S,R=>{e.onRemove&&R(A)})}W(m),W(a);var k=ae(a,2);let T;var D=H(k),$=H(D);vc($,()=>e.chartView,()=>({id:e.id,width:"container",mode:w(i)}));var M=ae($,2);{var L=R=>{var I=JKe(),B=H(I),z=H(B);x9(z,{class:"w-full flex-1 min-h-0",get initialValue(){return w(s)},get colorScheme(){return e.colorScheme},onChange:J=>{se(s,J)}});var Z=ae(z,2);{let J=X(()=>w(s)==null);$P(Z,{label:"Confirm",get disabled(){return w(J)},onClick:()=>{w(s)!=null&&(e.onSpecChange(w(s)),se(n,!1))}})}W(B),W(I),Qh(3,I,()=>pb),j(R,I)};Oe(M,R=>{w(i)=="view"&&w(n)&&e.onSpecChange&&R(L)})}W(D),W(k),Pe(()=>{Tt(d,e.spec.title),T=ot(k,"",T,{display:"grid","grid-template-rows":e.isVisible?"1fr":"0fr",transition:"grid-template-rows 300ms ease-in-out"})}),j(t,o),Je()}Dr(["click"]);var tJe=ce("<div></div>");function Xj(t,e){Ke(e,!0);let n=Xr(e,["$$slots","$$events","$$legacy"]);function r(s){let o=s.pageX,a=s.pageY,l=e.value;return{move:u=>{let c=u.pageX-o,f=u.pageY-a,h=l+(e.axis=="x"?c:f)*e.scaler;h<e.min&&(h=n.min),h>e.max&&(h=n.max),e.onChange(h)}}}var i=tJe();ei(i,(s,o)=>Zn?.(s,o),()=>({drag:r})),Pe(()=>ur(i,1,`${e.class??""} ${e.axis=="x"?"cursor-col-resize":"cursor-row-resize"}`)),j(t,i),Je()}function nJe(t){switch(t.type){case"embedding":return"embedding";case"table":return"table";default:return"chart"}}function goe(t){let e={embedding:[],table:[],chart:[]};for(let n in t){let r=nJe(t[n]);r!=null&&e[r].push(n)}return e}var rJe=ce('<div class="flex-1 overflow-hidden rounded-md"><!></div>'),iJe=ce('<div class="flex flex-row gap-2 flex-1 overflow-hidden"></div>'),sJe=ce('<div class="flex-1 h-full overflow-hidden rounded-md"><!></div>'),oJe=ce("<div></div>"),aJe=ce('<div class="flex-1 flex flex-col overflow-hidden"><!> <!> <!></div>'),lJe=ce('<div class="bg-white dark:bg-black rounded-md flex flex-col group"><!></div>'),uJe=ce('<div class="h-full overflow-x-hidden overflow-y-scroll"><div class="flex flex-row flex-wrap gap-2"><button class="bg-white dark:bg-black rounded-md flex flex-col justify-center items-center gap-2 p-2 w-full text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100 select-none">+ Add</button> <!></div></div>'),cJe=ce("<!> <!> <!>",1),fJe=ce('<div class="bg-white dark:bg-black rounded-md flex flex-col group"><!></div>'),hJe=ce('<div class="w-full h-full overflow-y-scroll flex flex-col gap-2"></div>'),dJe=ce('<div class="w-full h-full flex flex-row"><!></div>');function pJe(t,e){Ke(e,!0);const n=()=>ki(s,"$colorScheme",r),[r,i]=za();let{colorScheme:s}=e.context,o=Ie(100),a=Ie(100),l=Ie(300),u=Ie(400),c=X(OE(()=>goe(e.charts))),f=X(()=>w(o)<500),h=X(()=>w(c).embedding.length>0&&(e.state.showEmbedding??!0)),d=X(()=>w(c).table.length>0&&(e.state.showTable??!0)),m=X(()=>e.state.showCharts??!0);function g(k,T){let $=Math.round((k+7)/(T+7)),M,L;for(let R=Math.max(1,$-1);R<=Math.max(1,$+1);R++){let I=(k-7*(R-1))/R,B=Math.abs(I-T);(M==null||B<M)&&(M=B,L=I)}return Math.floor((L??400)*2)/2}let b=X(OE(()=>moe(w(c).chart,e.state.chartsOrder)));function v(k,T){let D=[...w(b)],$=D.indexOf(k);if($==-1)return;let M=$+T;M<0||M>=D.length||([D[$],D[M]]=[D[M],D[$]],e.onStateChange({chartsOrder:D}))}function O(k){e.onChartsChange({[k]:void 0}),e.onChartStatesChange({[k]:void 0})}var x=dJe(),C=H(x);{var S=k=>{var T=cJe(),D=Be(T);{var $=B=>{var z=aJe(),Z=H(z);{var J=le=>{var me=iJe();Zt(me,20,()=>w(c).embedding,oe=>oe,(oe,De)=>{var Ve=rJe(),Ne=H(Ve);vc(Ne,()=>e.chartView,()=>({id:De,width:"container",height:"container"})),W(Ve),j(oe,Ve)}),W(me),j(le,me)};Oe(Z,le=>{w(h)&&le(J)})}var ee=ae(Z,2);{var ie=le=>{{let me=X(()=>w(a)-100);Xj(le,{class:"h-2 flex-none",axis:"y",min:100,get max(){return w(me)},scaler:-1,get value(){return w(l)},onChange:oe=>se(l,oe,!0)})}};Oe(ee,le=>{w(h)&&w(d)&&le(ie)})}var K=ae(ee,2);{var fe=le=>{var me=oJe();let oe;Zt(me,20,()=>w(c).table,De=>De,(De,Ve)=>{var Ne=sJe(),Ae=H(Ne);vc(Ae,()=>e.chartView,()=>({id:Ve,width:"container",height:"container"})),W(Ne),j(De,Ne)}),W(me),Pe(()=>{ur(me,1,xO(w(h)?"flex-none":"flex-1")),oe=ot(me,"",oe,{height:w(h)?`${w(l)}px`:null})}),Qh(3,me,()=>pb),j(le,me)};Oe(K,le=>{w(d)&&le(fe)})}W(z),j(B,z)};Oe(D,B=>{(w(h)||w(d))&&B($)})}var M=ae(D,2);{var L=B=>{{let z=X(()=>w(o)-100);Xj(B,{class:"w-2 flex-none",axis:"x",min:100,get max(){return w(z)},scaler:-1,get value(){return w(u)},onChange:Z=>se(u,Z,!0)})}};Oe(M,B=>{(w(h)||w(d))&&w(m)&&B(L)})}var R=ae(M,2);{var I=B=>{const z=X(()=>w(h)||w(d)?w(u):w(o));var Z=uJe();let J;var ee=H(Z);let ie;var K=H(ee);K.__click=()=>{let le=VR(e.charts);e.onChartsChange({[le]:{type:"builder",title:"New"}}),e.onStateChange({chartsOrder:[le,...w(b).filter(me=>me!=le)]})};var fe=ae(K,2);Zt(fe,26,()=>w(b),le=>le,(le,me,oe)=>{const De=X(()=>e.charts[me]),Ve=X(()=>e.state.chartVisibility?.[me]??!0);var Ne=lJe();let Ae;var ke=H(Ne);{let Te=X(()=>O.bind(null,me)),tt=X(()=>w(oe)>0?v.bind(null,me,-1):void 0),at=X(()=>w(oe)+1<w(b).length?v.bind(null,me,1):void 0);Vj(ke,{get id(){return me},get spec(){return w(De)},onIsVisibleChange:Re=>{e.onStateChange({chartVisibility:{[me]:Re}})},get isVisible(){return w(Ve)},get colorScheme(){return n()},get chartView(){return e.chartView},get onRemove(){return w(Te)},get onUp(){return w(tt)},get onDown(){return w(at)},onSpecChange:Re=>{e.onChartsChange({[me]:void 0}),e.onChartStatesChange({[me]:void 0}),e.onChartsChange({[me]:Re})}})}W(Ne),Pe(Te=>Ae=ot(Ne,"",Ae,Te),[()=>({width:`${g(w(z),500)??""}px`})]),TF(Ne,()=>qj,()=>({duration:300})),Qh(2,Ne,()=>pb),j(le,Ne)}),W(ee),W(Z),Pe(()=>{J=ot(Z,"",J,{width:`${w(z)??""}px`}),ie=ot(ee,"",ie,{width:`${w(z)??""}px`})}),Qh(3,Z,()=>pb,()=>({axis:"x"})),j(B,Z)};Oe(R,B=>{w(m)&&B(I)})}j(k,T)},A=k=>{var T=hJe();Zt(T,30,()=>w(c).embedding.concat(w(b),w(c).table),D=>D,(D,$)=>{const M=X(()=>e.state.chartVisibility?.[$]??!0),L=X(()=>w(b).indexOf($));var R=fJe(),I=H(R);{let B=X(()=>O.bind(null,$)),z=X(()=>w(L)>0?v.bind(null,$,-1):void 0),Z=X(()=>w(L)!=-1&&w(L)+1<w(b).length?v.bind(null,$,1):void 0);Vj(I,{get id(){return $},get spec(){return e.charts[$]},onIsVisibleChange:J=>{e.onStateChange({chartVisibility:{[$]:J}})},get isVisible(){return w(M)},get colorScheme(){return n()},get chartView(){return e.chartView},get onRemove(){return w(B)},get onUp(){return w(z)},get onDown(){return w(Z)}})}W(R),TF(R,()=>qj,()=>({duration:300})),Qh(2,R,()=>pb),j(D,R)}),W(T),j(k,T)};Oe(C,k=>{w(f)?k(A,!1):k(S)})}W(x),Oc(x,"clientWidth",k=>se(o,k)),Oc(x,"clientHeight",k=>se(a,k)),j(t,x),Je(),i()}Dr(["click"]);var mJe=ce('<div class="flex gap-0.5 items-center"><!> <!> <!></div>');function gJe(t,e){Ke(e,!0);let n=X(()=>goe(e.charts));var r=mJe(),i=H(r);{var s=h=>{var d=()=>e.state.showEmbedding??!0,m=g=>{e.onStateChange({showEmbedding:g})};wx(h,{get icon(){return hIe},title:"Show / hide embedding",get checked(){return d()},set checked(g){m(g)}})};Oe(i,h=>{w(n).embedding.length>0&&h(s)})}var o=ae(i,2),a=()=>e.state.showTable??!0,l=h=>{e.onStateChange({showTable:h})};wx(o,{get icon(){return wIe},title:"Show / hide table",get checked(){return a()},set checked(h){l(h)}});var u=ae(o,2),c=()=>e.state.showCharts??!0,f=h=>{e.onStateChange({showCharts:h})};wx(u,{get icon(){return xIe},title:"Show / hide charts",get checked(){return c()},set checked(h){f(h)}}),W(r),j(t,r),Je()}const Dg={list:[pJe,gJe],dashboard:[WKe,YKe]};function yJe(t){return Dg[t]==null?Dg.list[0]:Dg[t][0]}function bJe(t){return Dg[t]==null?Dg.list[1]:Dg[t][1]}function vJe(t,e){Ke(e,!0);let n=X(()=>bJe(e.layout)),r=X(()=>e.layoutStates[e.layout]??{});function i(u,c="merge"){Vg(e.charts,u,c,f=>e.onChartsChange?.(f))}function s(u,c="merge"){Vg(e.chartStates,u,c,f=>e.onChartStatesChange?.(f))}function o(u,c,f="merge"){U_(e.layoutStates,u,c,f,h=>e.onLayoutStatesChange?.(h))}var a=At(),l=Be(a);{let u=X(()=>o.bind(null,e.layout));Zf(l,()=>w(n),(c,f)=>{f(c,{get context(){return e.context},get charts(){return e.charts},get state(){return w(r)},get onStateChange(){return w(u)},onChartsChange:i,onChartStatesChange:s})})}j(t,a),Je()}function OJe(t,e){Ke(e,!0);let n=X(()=>yJe(e.layout)),r=X(()=>e.layoutStates[e.layout]??{});function i(f,h,d="merge"){U_(e.charts,f,h,d,m=>e.onChartsChange?.(m))}function s(f,h,d="merge"){U_(e.chartStates,f,h,d,m=>e.onChartStatesChange?.(m))}function o(f,h="merge"){Vg(e.charts,f,h,d=>e.onChartsChange?.(d))}function a(f,h="merge"){Vg(e.chartStates,f,h,d=>e.onChartStatesChange?.(d))}function l(f,h,d="merge"){U_(e.layoutStates,f,h,d,m=>e.onLayoutStatesChange?.(m))}var u=At(),c=Be(u);{const f=(d,m)=>{let g=()=>m?.().id,b=()=>m?.().width,v=()=>m?.().height,O=()=>m?.().mode;{let x=X(()=>e.chartStates[g()]??{}),C=X(()=>O()??"view"),S=X(()=>i.bind(null,g())),A=X(()=>s.bind(null,g()));Bie(d,{get context(){return e.context},get width(){return b()},get height(){return v()},get spec(){return e.charts[g()]},get state(){return w(x)},get mode(){return w(C)},get onSpecChange(){return w(S)},get onStateChange(){return w(A)}})}};let h=X(()=>l.bind(null,e.layout));Zf(c,()=>w(n),(d,m)=>{m(d,{get context(){return e.context},get charts(){return e.charts},get state(){return w(r)},get onStateChange(){return w(h)},onChartsChange:o,onChartStatesChange:a,chartView:f,$$slots:{chartView:!0}})})}j(t,u),Je()}var wJe=ce('<tr class="leading-10"><td class="w-full"><div class="max-w-80 whitespace-nowrap text-ellipsis overflow-x-hidden"> </div></td><td class="pr-2"><div class="flex items-center gap-2"><!> <!></div></td><td><div class="flex items-center gap-2"><!></div></td></tr>');function _Je(t,e){Ke(e,!0);function n(g){e.onChange({...e.style,...g})}var r=wJe(),i=H(r),s=H(i),o=H(s,!0);W(s),W(i);var a=ae(i),l=H(a),u=H(l);{let g=X(()=>e.style.renderer??null),b=X(()=>[{value:null,label:"(default)"},...qFe.map(v=>({value:v.renderer,label:v.label}))]);ll(u,{get value(){return w(g)},onChange:v=>n({renderer:v}),get options(){return w(b)}})}var c=ae(u,2);{var f=g=>{var b=()=>e.style.rendererOptions?.size??100,v=O=>{n({rendererOptions:{size:O}})};MT(g,{get value(){return b()},set value(O){v(O)},width:80,min:16,max:400,step:1})};Oe(c,g=>{e.style.renderer=="image"&&g(f)})}W(l),W(a);var h=ae(a),d=H(h),m=H(d);{let g=X(()=>e.style.display??"badge");ll(m,{get value(){return w(g)},onChange:b=>{n({display:b})},options:[{value:"full",label:"Full"},{value:"badge",label:"Badge"},{value:"hidden",label:"Hidden"}]})}W(d),W(h),W(r),Pe(()=>Tt(o,e.column.name)),j(t,r),Je()}var xJe=ce('<div class="max-h-60 overflow-x-hidden overflow-y-scroll border border-slate-300 dark:border-slate-700 p-2 rounded-md"><table><thead><tr class="select-none"><th class="pb-2 text-slate-500 dark:text-slate-400 text-left font-normal text-sm">Column</th><th class="pb-2 text-slate-500 dark:text-slate-400 text-left font-normal text-sm">Format</th><th class="pb-2 text-slate-500 dark:text-slate-400 text-left font-normal text-sm">Style</th></tr></thead><tbody></tbody></table></div>');function SJe(t,e){Ke(e,!0);var n=xJe(),r=H(n),i=ae(H(r));Zt(i,21,()=>e.columns,Rn,(s,o)=>{{let a=X(()=>e.styles[w(o).name]??{});_Je(s,{get column(){return w(o)},get style(){return w(a)},onChange:l=>{let u={...e.styles};u[w(o).name]=l,e.onStylesChange(u)}})}}),W(i),W(r),W(n),j(t,n),Je()}var kJe=ce('<div> <span class="text-slate-500"> </span></div>');function CJe(t,e){Ke(e,!0);let n=Ie(null),r=Ie(null);su(()=>{se(n,null),se(r,null);let l=M1({coordinator:e.coordinator,selection:e.filter,prepare:async()=>{let u=await e.coordinator.query(lt.from(e.table).select({count:Pt`COUNT(*)::INT`}));se(n,u.get(0).count,!0)},query:u=>lt.from(e.table).select({count:Pt`COUNT(*)::INT`}).where(u),queryResult:u=>{se(r,u.getChild("count").get(0),!0)}});return()=>{l.destroy()}});var i=kJe(),s=H(i),o=ae(s),a=H(o);W(o),W(i),Pe((l,u)=>{Tt(s,`${l??""} `),Tt(a,`/ ${u??""} points`)},[()=>w(r)?.toLocaleString()??"",()=>w(n)?.toLocaleString()??""]),j(t,i),Je()}var Cx={exports:{}};var AJe=Cx.exports,Zj;function EJe(){return Zj||(Zj=1,(function(t,e){(function(n,r){t.exports=r()})(AJe,(function(){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},r=function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")},i=(function(){function u(c,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,f,h){return f&&u(c.prototype,f),h&&u(c,h),c}})(),s=Object.assign||function(u){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])}return u},o=(function(){function u(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5e3;r(this,u),this.ctx=c,this.iframes=f,this.exclude=h,this.iframesTimeout=d}return i(u,[{key:"getContexts",value:function(){var f=void 0,h=[];return typeof this.ctx>"u"||!this.ctx?f=[]:NodeList.prototype.isPrototypeOf(this.ctx)?f=Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?f=this.ctx:typeof this.ctx=="string"?f=Array.prototype.slice.call(document.querySelectorAll(this.ctx)):f=[this.ctx],f.forEach(function(d){var m=h.filter(function(g){return g.contains(d)}).length>0;h.indexOf(d)===-1&&!m&&h.push(d)}),h}},{key:"getIframeContents",value:function(f,h){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},m=void 0;try{var g=f.contentWindow;if(m=g.document,!g||!m)throw new Error("iframe inaccessible")}catch{d()}m&&h(m)}},{key:"isIframeBlank",value:function(f){var h="about:blank",d=f.getAttribute("src").trim(),m=f.contentWindow.location.href;return m===h&&d!==h&&d}},{key:"observeIframeLoad",value:function(f,h,d){var m=this,g=!1,b=null,v=function O(){if(!g){g=!0,clearTimeout(b);try{m.isIframeBlank(f)||(f.removeEventListener("load",O),m.getIframeContents(f,h,d))}catch{d()}}};f.addEventListener("load",v),b=setTimeout(v,this.iframesTimeout)}},{key:"onIframeReady",value:function(f,h,d){try{f.contentWindow.document.readyState==="complete"?this.isIframeBlank(f)?this.observeIframeLoad(f,h,d):this.getIframeContents(f,h,d):this.observeIframeLoad(f,h,d)}catch{d()}}},{key:"waitForIframes",value:function(f,h){var d=this,m=0;this.forEachIframe(f,function(){return!0},function(g){m++,d.waitForIframes(g.querySelector("html"),function(){--m||h()})},function(g){g||h()})}},{key:"forEachIframe",value:function(f,h,d){var m=this,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},b=f.querySelectorAll("iframe"),v=b.length,O=0;b=Array.prototype.slice.call(b);var x=function(){--v<=0&&g(O)};v||x(),b.forEach(function(C){u.matches(C,m.exclude)?x():m.onIframeReady(C,function(S){h(C)&&(O++,d(S)),x()},x)})}},{key:"createIterator",value:function(f,h,d){return document.createNodeIterator(f,h,d,!1)}},{key:"createInstanceOnIframe",value:function(f){return new u(f.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(f,h,d){var m=f.compareDocumentPosition(d),g=Node.DOCUMENT_POSITION_PRECEDING;if(m&g)if(h!==null){var b=h.compareDocumentPosition(d),v=Node.DOCUMENT_POSITION_FOLLOWING;if(b&v)return!0}else return!0;return!1}},{key:"getIteratorNode",value:function(f){var h=f.previousNode(),d=void 0;return h===null?d=f.nextNode():d=f.nextNode()&&f.nextNode(),{prevNode:h,node:d}}},{key:"checkIframeFilter",value:function(f,h,d,m){var g=!1,b=!1;return m.forEach(function(v,O){v.val===d&&(g=O,b=v.handled)}),this.compareNodeIframe(f,h,d)?(g===!1&&!b?m.push({val:d,handled:!0}):g!==!1&&!b&&(m[g].handled=!0),!0):(g===!1&&m.push({val:d,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(f,h,d,m){var g=this;f.forEach(function(b){b.handled||g.getIframeContents(b.val,function(v){g.createInstanceOnIframe(v).forEachNode(h,d,m)})})}},{key:"iterateThroughNodes",value:function(f,h,d,m,g){for(var b=this,v=this.createIterator(h,f,m),O=[],x=[],C=void 0,S=void 0,A=function(){var T=b.getIteratorNode(v);return S=T.prevNode,C=T.node,C};A();)this.iframes&&this.forEachIframe(h,function(k){return b.checkIframeFilter(C,S,k,O)},function(k){b.createInstanceOnIframe(k).forEachNode(f,function(T){return x.push(T)},m)}),x.push(C);x.forEach(function(k){d(k)}),this.iframes&&this.handleOpenIframes(O,f,d,m),g()}},{key:"forEachNode",value:function(f,h,d){var m=this,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},b=this.getContexts(),v=b.length;v||g(),b.forEach(function(O){var x=function(){m.iterateThroughNodes(f,O,h,d,function(){--v<=0&&g()})};m.iframes?m.waitForIframes(O,x):x()})}}],[{key:"matches",value:function(f,h){var d=typeof h=="string"?[h]:h,m=f.matches||f.matchesSelector||f.msMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.webkitMatchesSelector;if(m){var g=!1;return d.every(function(b){return m.call(f,b)?(g=!0,!1):!0}),g}else return!1}}]),u})(),a=(function(){function u(c){r(this,u),this.ctx=c,this.ie=!1;var f=window.navigator.userAgent;(f.indexOf("MSIE")>-1||f.indexOf("Trident")>-1)&&(this.ie=!0)}return i(u,[{key:"log",value:function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"debug",d=this.opt.log;this.opt.debug&&(typeof d>"u"?"undefined":n(d))==="object"&&typeof d[h]=="function"&&d[h]("mark.js: "+f)}},{key:"escapeStr",value:function(f){return f.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(f){return this.opt.wildcards!=="disabled"&&(f=this.setupWildcardsRegExp(f)),f=this.escapeStr(f),Object.keys(this.opt.synonyms).length&&(f=this.createSynonymsRegExp(f)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(f=this.setupIgnoreJoinersRegExp(f)),this.opt.diacritics&&(f=this.createDiacriticsRegExp(f)),f=this.createMergedBlanksRegExp(f),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(f=this.createJoinersRegExp(f)),this.opt.wildcards!=="disabled"&&(f=this.createWildcardsRegExp(f)),f=this.createAccuracyRegExp(f),f}},{key:"createSynonymsRegExp",value:function(f){var h=this.opt.synonyms,d=this.opt.caseSensitive?"":"i",m=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var g in h)if(h.hasOwnProperty(g)){var b=h[g],v=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(g):this.escapeStr(g),O=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(b):this.escapeStr(b);v!==""&&O!==""&&(f=f.replace(new RegExp("("+this.escapeStr(v)+"|"+this.escapeStr(O)+")","gm"+d),m+("("+this.processSynomyms(v)+"|")+(this.processSynomyms(O)+")")+m))}return f}},{key:"processSynomyms",value:function(f){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(f=this.setupIgnoreJoinersRegExp(f)),f}},{key:"setupWildcardsRegExp",value:function(f){return f=f.replace(/(?:\\)*\?/g,function(h){return h.charAt(0)==="\\"?"?":""}),f.replace(/(?:\\)*\*/g,function(h){return h.charAt(0)==="\\"?"*":""})}},{key:"createWildcardsRegExp",value:function(f){var h=this.opt.wildcards==="withSpaces";return f.replace(/\u0001/g,h?"[\\S\\s]?":"\\S?").replace(/\u0002/g,h?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(f){return f.replace(/[^(|)\\]/g,function(h,d,m){var g=m.charAt(d+1);return/[(|)\\]/.test(g)||g===""?h:h+"\0"})}},{key:"createJoinersRegExp",value:function(f){var h=[],d=this.opt.ignorePunctuation;return Array.isArray(d)&&d.length&&h.push(this.escapeStr(d.join(""))),this.opt.ignoreJoiners&&h.push("\\u00ad\\u200b\\u200c\\u200d"),h.length?f.split(/\u0000+/).join("["+h.join("")+"]*"):f}},{key:"createDiacriticsRegExp",value:function(f){var h=this.opt.caseSensitive?"":"i",d=this.opt.caseSensitive?["aÃ Ã¡áº£Ã£áº¡Äáº±áº¯áº³áºµáº·Ã¢áº§áº¥áº©áº«áº­Ã¤Ã¥ÄÄ","AÃÃáº¢Ãáº Äáº°áº®áº²áº´áº¶Ãáº¦áº¤áº¨áºªáº¬ÃÃÄÄ","cÃ§ÄÄ","CÃÄÄ","dÄÄ","DÄÄ","eÃ¨Ã©áº»áº½áº¹Ãªá»áº¿á»á»á»Ã«ÄÄÄ","EÃÃáººáº¼áº¸Ãá»áº¾á»á»á»ÃÄÄÄ","iÃ¬Ã­á»Ä©á»Ã®Ã¯Ä«","IÃÃá»Ä¨á»ÃÃÄª","lÅ","LÅ","nÃ±ÅÅ","NÃÅÅ","oÃ²Ã³á»Ãµá»Ã´á»á»á»á»á»Æ¡á»á»¡á»á»á»£Ã¶Ã¸Å","OÃÃá»Ãá»Ãá»á»á»á»á»Æ á»á» á»á»á»¢ÃÃÅ","rÅ","RÅ","sÅ¡ÅÈÅ","SÅ ÅÈÅ","tÅ¥ÈÅ£","TÅ¤ÈÅ¢","uÃ¹Ãºá»§Å©á»¥Æ°á»«á»©á»­á»¯á»±Ã»Ã¼Å¯Å«","UÃÃá»¦Å¨á»¤Æ¯á»ªá»¨á»¬á»®á»°ÃÃÅ®Åª","yÃ½á»³á»·á»¹á»µÃ¿","YÃá»²á»¶á»¸á»´Å¸","zÅ¾Å¼Åº","ZÅ½Å»Å¹"]:["aÃ Ã¡áº£Ã£áº¡Äáº±áº¯áº³áºµáº·Ã¢áº§áº¥áº©áº«áº­Ã¤Ã¥ÄÄAÃÃáº¢Ãáº Äáº°áº®áº²áº´áº¶Ãáº¦áº¤áº¨áºªáº¬ÃÃÄÄ","cÃ§ÄÄCÃÄÄ","dÄÄDÄÄ","eÃ¨Ã©áº»áº½áº¹Ãªá»áº¿á»á»á»Ã«ÄÄÄEÃÃáººáº¼áº¸Ãá»áº¾á»á»á»ÃÄÄÄ","iÃ¬Ã­á»Ä©á»Ã®Ã¯Ä«IÃÃá»Ä¨á»ÃÃÄª","lÅLÅ","nÃ±ÅÅNÃÅÅ","oÃ²Ã³á»Ãµá»Ã´á»á»á»á»á»Æ¡á»á»¡á»á»á»£Ã¶Ã¸ÅOÃÃá»Ãá»Ãá»á»á»á»á»Æ á»á» á»á»á»¢ÃÃÅ","rÅRÅ","sÅ¡ÅÈÅSÅ ÅÈÅ","tÅ¥ÈÅ£TÅ¤ÈÅ¢","uÃ¹Ãºá»§Å©á»¥Æ°á»«á»©á»­á»¯á»±Ã»Ã¼Å¯Å«UÃÃá»¦Å¨á»¤Æ¯á»ªá»¨á»¬á»®á»°ÃÃÅ®Åª","yÃ½á»³á»·á»¹á»µÃ¿YÃá»²á»¶á»¸á»´Å¸","zÅ¾Å¼ÅºZÅ½Å»Å¹"],m=[];return f.split("").forEach(function(g){d.every(function(b){if(b.indexOf(g)!==-1){if(m.indexOf(b)>-1)return!1;f=f.replace(new RegExp("["+b+"]","gm"+h),"["+b+"]"),m.push(b)}return!0})}),f}},{key:"createMergedBlanksRegExp",value:function(f){return f.replace(/[\s]+/gmi,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(f){var h=this,d="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~Â¡Â¿",m=this.opt.accuracy,g=typeof m=="string"?m:m.value,b=typeof m=="string"?[]:m.limiters,v="";switch(b.forEach(function(O){v+="|"+h.escapeStr(O)}),g){case"partially":default:return"()("+f+")";case"complementary":return v="\\s"+(v||this.escapeStr(d)),"()([^"+v+"]*"+f+"[^"+v+"]*)";case"exactly":return"(^|\\s"+v+")("+f+")(?=$|\\s"+v+")"}}},{key:"getSeparatedKeywords",value:function(f){var h=this,d=[];return f.forEach(function(m){h.opt.separateWordSearch?m.split(" ").forEach(function(g){g.trim()&&d.indexOf(g)===-1&&d.push(g)}):m.trim()&&d.indexOf(m)===-1&&d.push(m)}),{keywords:d.sort(function(m,g){return g.length-m.length}),length:d.length}}},{key:"isNumeric",value:function(f){return Number(parseFloat(f))==f}},{key:"checkRanges",value:function(f){var h=this;if(!Array.isArray(f)||Object.prototype.toString.call(f[0])!=="[object Object]")return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(f),[];var d=[],m=0;return f.sort(function(g,b){return g.start-b.start}).forEach(function(g){var b=h.callNoMatchOnInvalidRanges(g,m),v=b.start,O=b.end,x=b.valid;x&&(g.start=v,g.length=O-v,d.push(g),m=O)}),d}},{key:"callNoMatchOnInvalidRanges",value:function(f,h){var d=void 0,m=void 0,g=!1;return f&&typeof f.start<"u"?(d=parseInt(f.start,10),m=d+parseInt(f.length,10),this.isNumeric(f.start)&&this.isNumeric(f.length)&&m-h>0&&m-d>0?g=!0:(this.log("Ignoring invalid or overlapping range: "+(""+JSON.stringify(f))),this.opt.noMatch(f))):(this.log("Ignoring invalid range: "+JSON.stringify(f)),this.opt.noMatch(f)),{start:d,end:m,valid:g}}},{key:"checkWhitespaceRanges",value:function(f,h,d){var m=void 0,g=!0,b=d.length,v=h-b,O=parseInt(f.start,10)-v;return O=O>b?b:O,m=O+parseInt(f.length,10),m>b&&(m=b,this.log("End range automatically set to the max value of "+b)),O<0||m-O<0||O>b||m>b?(g=!1,this.log("Invalid range: "+JSON.stringify(f)),this.opt.noMatch(f)):d.substring(O,m).replace(/\s+/g,"")===""&&(g=!1,this.log("Skipping whitespace only range: "+JSON.stringify(f)),this.opt.noMatch(f)),{start:O,end:m,valid:g}}},{key:"getTextNodes",value:function(f){var h=this,d="",m=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,function(g){m.push({start:d.length,end:(d+=g.textContent).length,node:g})},function(g){return h.matchesExclude(g.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},function(){f({value:d,nodes:m})})}},{key:"matchesExclude",value:function(f){return o.matches(f,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(f,h,d){var m=this.opt.element?this.opt.element:"mark",g=f.splitText(h),b=g.splitText(d-h),v=document.createElement(m);return v.setAttribute("data-markjs","true"),this.opt.className&&v.setAttribute("class",this.opt.className),v.textContent=g.textContent,g.parentNode.replaceChild(v,g),b}},{key:"wrapRangeInMappedTextNode",value:function(f,h,d,m,g){var b=this;f.nodes.every(function(v,O){var x=f.nodes[O+1];if(typeof x>"u"||x.start>h){if(!m(v.node))return!1;var C=h-v.start,S=(d>v.end?v.end:d)-v.start,A=f.value.substr(0,v.start),k=f.value.substr(S+v.start);if(v.node=b.wrapRangeInTextNode(v.node,C,S),f.value=A+k,f.nodes.forEach(function(T,D){D>=O&&(f.nodes[D].start>0&&D!==O&&(f.nodes[D].start-=S),f.nodes[D].end-=S)}),d-=S,g(v.node.previousSibling,v.start),d>v.end)h=v.end;else return!1}return!0})}},{key:"wrapMatches",value:function(f,h,d,m,g){var b=this,v=h===0?0:h+1;this.getTextNodes(function(O){O.nodes.forEach(function(x){x=x.node;for(var C=void 0;(C=f.exec(x.textContent))!==null&&C[v]!=="";)if(d(C[v],x)){var S=C.index;if(v!==0)for(var A=1;A<v;A++)S+=C[A].length;x=b.wrapRangeInTextNode(x,S,S+C[v].length),m(x.previousSibling),f.lastIndex=0}}),g()})}},{key:"wrapMatchesAcrossElements",value:function(f,h,d,m,g){var b=this,v=h===0?0:h+1;this.getTextNodes(function(O){for(var x=void 0;(x=f.exec(O.value))!==null&&x[v]!=="";){var C=x.index;if(v!==0)for(var S=1;S<v;S++)C+=x[S].length;var A=C+x[v].length;b.wrapRangeInMappedTextNode(O,C,A,function(k){return d(x[v],k)},function(k,T){f.lastIndex=T,m(k)})}g()})}},{key:"wrapRangeFromIndex",value:function(f,h,d,m){var g=this;this.getTextNodes(function(b){var v=b.value.length;f.forEach(function(O,x){var C=g.checkWhitespaceRanges(O,v,b.value),S=C.start,A=C.end,k=C.valid;k&&g.wrapRangeInMappedTextNode(b,S,A,function(T){return h(T,O,b.value.substring(S,A),x)},function(T){d(T,O)})}),m()})}},{key:"unwrapMatches",value:function(f){for(var h=f.parentNode,d=document.createDocumentFragment();f.firstChild;)d.appendChild(f.removeChild(f.firstChild));h.replaceChild(d,f),this.ie?this.normalizeTextNode(h):h.normalize()}},{key:"normalizeTextNode",value:function(f){if(f){if(f.nodeType===3)for(;f.nextSibling&&f.nextSibling.nodeType===3;)f.nodeValue+=f.nextSibling.nodeValue,f.parentNode.removeChild(f.nextSibling);else this.normalizeTextNode(f.firstChild);this.normalizeTextNode(f.nextSibling)}}},{key:"markRegExp",value:function(f,h){var d=this;this.opt=h,this.log('Searching with expression "'+f+'"');var m=0,g="wrapMatches",b=function(O){m++,d.opt.each(O)};this.opt.acrossElements&&(g="wrapMatchesAcrossElements"),this[g](f,this.opt.ignoreGroups,function(v,O){return d.opt.filter(O,v,m)},b,function(){m===0&&d.opt.noMatch(f),d.opt.done(m)})}},{key:"mark",value:function(f,h){var d=this;this.opt=h;var m=0,g="wrapMatches",b=this.getSeparatedKeywords(typeof f=="string"?[f]:f),v=b.keywords,O=b.length,x=this.opt.caseSensitive?"":"i",C=function S(A){var k=new RegExp(d.createRegExp(A),"gm"+x),T=0;d.log('Searching with expression "'+k+'"'),d[g](k,1,function(D,$){return d.opt.filter($,A,m,T)},function(D){T++,m++,d.opt.each(D)},function(){T===0&&d.opt.noMatch(A),v[O-1]===A?d.opt.done(m):S(v[v.indexOf(A)+1])})};this.opt.acrossElements&&(g="wrapMatchesAcrossElements"),O===0?this.opt.done(m):C(v[0])}},{key:"markRanges",value:function(f,h){var d=this;this.opt=h;var m=0,g=this.checkRanges(f);g&&g.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(g)),this.wrapRangeFromIndex(g,function(b,v,O,x){return d.opt.filter(b,v,O,x)},function(b,v){m++,d.opt.each(b,v)},function(){d.opt.done(m)})):this.opt.done(m)}},{key:"unmark",value:function(f){var h=this;this.opt=f;var d=this.opt.element?this.opt.element:"*";d+="[data-markjs]",this.opt.className&&(d+="."+this.opt.className),this.log('Removal selector "'+d+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,function(m){h.unwrapMatches(m)},function(m){var g=o.matches(m,d),b=h.matchesExclude(m);return!g||b?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},this.opt.done)}},{key:"opt",set:function(f){this._opt=s({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},f)},get:function(){return this._opt}},{key:"iterator",get:function(){return new o(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),u})();function l(u){var c=this,f=new a(u);return this.mark=function(h,d){return f.mark(h,d),c},this.markRegExp=function(h,d){return f.markRegExp(h,d),c},this.markRanges=function(h,d){return f.markRanges(h,d),c},this.unmark=function(h){return f.unmark(h),c},this}return l}))})(Cx)),Cx.exports}var TJe=EJe();const DJe=A0(TJe);var PJe=ce('<div class="flex pb-1 text-sm"><span class="px-2 flex gap-2 bg-slate-200 text-slate-500 dark:bg-slate-600 dark:text-slate-300 rounded-md"><div class="text-slate-400 dark:text-slate-400 font-medium">Distance</div> <div class="text-ellipsis whitespace-nowrap overflow-hidden max-w-72"> </div></span></div>'),RJe=ce('<button class="m-1 p-2 text-left rounded-md hover:outline outline-slate-500"><!> <div class="overflow-hidden text-ellipsis line-clamp-4 leading-5"><!></div></button> <hr class="border-slate-300 dark:border-slate-600"/>',1),$Je=ce('<div class="flex flex-col w-full h-full"><div class="ml-3 mr-2 my-1 flex items-center text-slate-400 dark:text-slate-500 items-start"><div class="flex-1"><div> </div> <div> </div></div> <div class="flex-none mt-1"><button class="block hover:text-slate-500 dark:hover:text-slate-400"><!></button></div></div> <hr class="border-slate-300 dark:border-slate-600"/> <div class="flex flex-col overflow-x-hidden overflow-y-scroll"></div></div>');function IJe(t,e){Ke(e,!0);let n=ht(e,"limit",3,100);function r(b,v){new DJe(b).mark(v)}let i=X(()=>e.items.length==0?"No result found.":e.items.length==1?`${e.items.length.toLocaleString()} result.`:e.items.length>=n()?`More than ${e.items.length.toLocaleString()} results, showing top ${n().toLocaleString()}.`:`${e.items.length.toLocaleString()} results.`);var s=$Je(),o=H(s),a=H(o),l=H(a),u=H(l,!0);W(l);var c=ae(l,2),f=H(c,!0);W(c),W(a);var h=ae(a,2),d=H(h);d.__click=()=>{e.onClose?.()};var m=H(d);r2(m,{}),W(d),W(h),W(o);var g=ae(o,4);Zt(g,20,()=>e.items,b=>b,(b,v)=>{var O=RJe(),x=Be(O);x.__click=()=>{e.onClick?.(v)};var C=H(x);{var S=T=>{var D=PJe(),$=H(D),M=ae(H($),2),L=H(M,!0);W(M),W($),W(D),Pe(R=>Tt(L,R),[()=>v.distance.toFixed(5)]),j(T,D)};Oe(C,T=>{v.distance!=null&&T(S)})}var A=ae(C,2),k=H(A);{let T=X(()=>e.columnStyles??{});zie(k,{get values(){return v.fields},get columnStyles(){return w(T)}})}W(A),ei(A,(T,D)=>r?.(T,D),()=>e.highlight),W(x),Kp(2),j(b,O)}),W(g),W(s),Pe(()=>{Tt(u,e.label),Tt(f,w(i))}),j(t,s),Je()}Dr(["click"]);var FJe=Jt('<svg><path fill="currentColor" d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path fill="currentColor" d="M10.72,19.9a8,8,0,0,1-6.5-9.79A7.77,7.77,0,0,1,10.4,4.16a8,8,0,0,1,9.49,6.52A1.54,1.54,0,0,0,21.38,12h.13a1.37,1.37,0,0,0,1.38-1.54,11,11,0,1,0-12.7,12.39A1.54,1.54,0,0,0,12,21.34h0A1.47,1.47,0,0,0,10.72,19.9Z"><animateTransform attributeName="transform" dur="0.75s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></svg>');function yoe(t,e){const n=Xr(e,["$$slots","$$events","$$legacy"]);var r=FJe();fi(r,()=>({viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...n})),j(t,r)}function Wj(t,e){Ke(e,!0);let n=ht(e,"label",3,null),r=ht(e,"icon",3,null),i=ht(e,"title",3,""),s=ht(e,"order",3,null),o=Ie("ready");async function a(){if(e.onClick){se(o,"running");try{await e.onClick(),se(o,"ready")}catch{se(o,"error")}}}{let l=X(()=>w(o)=="ready"?r():w(o)=="running"?yoe:r2);Hu(t,{get label(){return n()},get icon(){return w(l)},get title(){return i()},get order(){return s()},get class(){return e.class},onClick:a})}Je()}var MJe=ce('<span class="mx-1"> </span>'),LJe=ce("<button><!> <!></button>"),NJe=ce('<div class="flex rounded-md select-none items-center overflow-hidden border border-slate-300 dark:border-slate-600 dark:text-slate-400"></div>');function QJe(t,e){Ke(e,!0);var n=NJe();Zt(n,21,()=>e.options,Rn,(r,i)=>{const s=X(()=>e.value==w(i).value);var o=LJe();o.__click=()=>{e.onChange?.(w(i).value)};var a=H(o);{var l=f=>{const h=X(()=>w(i).icon);var d=At(),m=Be(d);Zf(m,()=>w(h),(g,b)=>{b(g,{class:"w-5 h-5"})}),j(f,d)};Oe(a,f=>{w(i).icon!=null&&f(l)})}var u=ae(a,2);{var c=f=>{var h=MJe(),d=H(h,!0);W(h),Pe(()=>Tt(d,w(i).label)),j(f,h)};Oe(u,f=>{w(i).label!=null&&w(i).label!=""&&f(c)})}W(o),Pe(()=>{ur(o,1,`flex items-center px-1.5 py-1.5 h-[26px] rounded-[3.875px] focus-visible:outline-2 outline-blue-600 -outline-offset-1 ${w(s)?"bg-white dark:bg-black shadow-md":"text-slate-400 dark:text-slate-600"}`),pe(o,"title",w(i).title??w(i).label)}),j(r,o)}),W(n),j(t,n),Je()}Dr(["click"]);var BJe=ce('<span class="pl-2 text-slate-500 dark:text-slate-500"> </span>'),zJe=ce('<div role="status" class="flex flex-row items-center"><!> <!></div>');function XR(t,e){let n=ht(e,"status",3,"Loading...");var r=zJe(),i=H(r);yoe(i,{class:"text-blue-500"});var s=ae(i,2);{var o=a=>{var l=BJe(),u=H(l,!0);W(l),Pe(()=>Tt(u,n())),j(a,l)};Oe(s,a=>{n()!=null&&a(o)})}W(r),j(t,r)}class UJe{contents;constructor(){this.contents=new Map}get(e){return this.contents.get(e)??null}set(e,n){this.contents.set(e,n)}value(e,n){if(this.contents.has(e))return this.contents.get(e);const r=n();return this.contents.set(e,r),r}}const Yj="0.13.0";class jJe{worker;callbacks;constructor(){this.worker=new Worker(new URL(""+new URL("search.worker-DfzgshYX.js",import.meta.url).href,import.meta.url),{type:"module"}),this.callbacks=new Map,this.worker.onmessage=e=>{let n=this.callbacks.get(e.data.identifier);n!=null&&(this.callbacks.delete(e.data.identifier),n(e.data))}}rpc(e){return new Promise((n,r)=>{let i=new Date().getTime()+"-"+Math.random();this.callbacks.set(i,n),this.worker.postMessage({...e,identifier:i})})}async clear(){await this.rpc({type:"clear"})}async addPoints(e){await this.rpc({type:"points",points:e})}async query(e,n){return(await this.rpc({type:"query",query:e,limit:n})).result}}class qJe{coordinator;table;columns;backend;currentIndex=null;constructor(e,n,r){this.coordinator=e,this.table=n,this.columns=r,this.currentIndex=null,this.backend=new jJe}predicateString(e){return e!=null&&e.toString()!=""?e.toString():null}async buildIndexIfNeeded(e){let n=this.predicateString(e);if(this.currentIndex!=null&&this.currentIndex.predicate==n)return;let r;n!=null?r=await this.coordinator.query(`
        SELECT
          ${be(this.columns.id)} AS id,
          ${be(this.columns.text)} AS text
        FROM ${this.table}
        WHERE ${n}
      `):r=await this.coordinator.query(`
        SELECT
          ${be(this.columns.id)} AS id,
          ${be(this.columns.text)} AS text
        FROM ${this.table}
      `),await this.backend.clear(),await this.backend.addPoints(Array.from(r)),this.currentIndex={predicate:n}}async fullTextSearch(e,n={}){let r=n.limit??100,i=n.predicate;return await this.buildIndexIfNeeded(i),(await this.backend.query(e,r)).map(o=>({id:o}))}}async function VJe(t,e,n,r,i,s){let o=[`${be(n.id,e)} AS id`];n.x&&o.push(`${be(n.x,e)} AS x`),n.y&&o.push(`${be(n.y,e)} AS y`),n.text&&o.push(`${be(n.text,e)} AS text`);let a=r??{};for(let d in a){let m=a[d];typeof m=="string"?o.push(`${be(m,e)} AS "field_${d}"`):o.push(`${Pt(m.sql)} AS "field_${d}"`)}let l=s.map(d=>d.id),u=new Map,c=new Map;for(let d=0;d<l.length;d++)u.set(l[d],d),c.set(l[d],s[d]);let f=await t.query(`
    SELECT
      ${o.join(", ")}
    FROM (
      SELECT ${be(n.id,e)} AS __search_result_id__
      FROM ${e}
      WHERE
        ${be(n.id,e)} IN [${l.map(d=>et(d)).join(", ")}]
        ${i?`AND (${i})`:""}
    )
    LEFT JOIN ${e} ON ${be(n.id,e)} = __search_result_id__
  `),h=Array.from(f).map(d=>{let m={id:d.id,distance:c.get(d.id)?.distance,fields:{}};for(let g in d)g.startsWith("field_")?m.fields[g.substring(6)]=d[g]:m[g]=d[g];return m});return h=h.sort((d,m)=>(u.get(d.id)??0)-(u.get(m.id)??0)),h}function XJe(t){let{coordinator:e,table:n,idColumn:r,searcher:i,textColumn:s,neighborsColumn:o}=t;if(i===null)return{};let a={};if(i?.fullTextSearch!=null)a.fullTextSearch=i.fullTextSearch.bind(i);else if(s!=null){let l=new qJe(e,n,{id:r,text:s});a.fullTextSearch=l.fullTextSearch.bind(l)}return i?.vectorSearch!=null&&(a.vectorSearch=i.vectorSearch.bind(i)),i?.nearestNeighbors!=null?a.nearestNeighbors=i.nearestNeighbors.bind(i):o!=null&&(a.nearestNeighbors=async l=>{let u=lt.from(n).select({knn:be(o)}).where(Sa(be(r),et(l))),c=await e.query(u),f=Array.from(c);if(f.length!=1)return[];let{distances:h,ids:d}=f[0].knn;return Array.from(d).map((g,b)=>({id:g,distance:h[b]})).filter(g=>g.id!=l)}),a}let boe=typeof window<"u"?window.matchMedia?.("(prefers-color-scheme: dark)"):null,W4=Da(boe?.matches?"dark":"light");boe?.addEventListener("change",t=>{W4.set(t.matches?"dark":"light")});function ZJe(){let t=Da(null);return{colorScheme:SO([W4,t],([n,r])=>r??n),userColorScheme:t}}var WJe=ce('<div class="p-2"><!></div>'),YJe=ce('<div class="absolute w-96 left-0 top-[32px] rounded-md right-0 z-20 border border-slate-300 dark:border-slate-600 overflow-hidden resize shadow-lg bg-white/75 dark:bg-slate-800/75 backdrop-blur-sm"><!></div>'),GJe=ce('<div class="relative w-full"><!> <!> <!></div>'),HJe=ce('<div class="text-slate-500 dark:text-slate-400">Embedding Atlas</div>'),KJe=ce('<div class="col-start-1 row-start-1"><!></div>'),JJe=ce('<h4 class="text-slate-500 dark:text-slate-400 select-none">Column Styles</h4> <!>',1),eet=ce('<div class="flex flex-row gap-2"><!> <!></div>'),tet=ce('<h4 class="text-slate-500 dark:text-slate-400 select-none">Export</h4> <div class="flex flex-col gap-2"><!> <!></div>',1),net=ce('<div class="min-w-[420px] flex flex-col gap-2"><!> <!> <h4 class="text-slate-500 dark:text-slate-400 select-none">About</h4> <div> </div></div>'),ret=ce('<div class="flex flex-row flex-1 justify-between min-w-[180px]"><!></div> <div class="flex flex-none gap-2 items-center"><!> <div class="flex flex-row gap-1 items-center"><button class="flex px-2.5 mr-1 select-none items-center justify-center text-slate-500 dark:text-slate-300 rounded-full bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 focus-visible:outline-2 outline-blue-600 -outline-offset-1" title="Clear filters">Clear</button></div></div> <div class="flex flex-none flex-row gap-0.5"><div class="grid grid-cols-1 grid-rows-1 justify-items-end items-center"><!></div> <!> <!> <!></div>',1),iet=ce('<div class="embedding-atlas-root"><div><div class="m-2 flex flex-row items-center gap-2 flex-wrap"><!></div> <div class="flex-1 overflow-hidden h-full ml-2 mr-2 mb-2"><!></div></div></div>');function voe(t,e){Ke(e,!0);const n=()=>ki(u,"$colorScheme",i),r=()=>ki(v,"$resolvedColumnStyles",i),[i,s]=za(),o=500;let a=ht(e,"embeddingViewConfig",3,null),l=ht(e,"embeddingViewLabels",3,null);const{colorScheme:u,userColorScheme:c}=ZJe();or(()=>{$F(c,e.colorScheme)});let f=Ie(!1),h=Ie("parquet");const d=iP.crossfilter();function m(){return eR(d.predicate(null))}let g=Ie([]),b=Ie({}),v=Da({});or(()=>{let Re=O(w(g),w(b));v.set(Re)});function O(Re,We){let Rt={};for(let dt of Re){let Qt=We[dt.name];Qt==null&&(Qt={display:e.data.text==dt.name?"full":"badge"}),Rt[dt.name]=Qt}return Rt}let x=XJe({coordinator:e.coordinator,table:e.data.table,idColumn:e.data.id,textColumn:e.data.text,neighborsColumn:e.data.neighbors,searcher:e.searcher}),C=[...x.fullTextSearch!=null?["full-text"]:[],...x.vectorSearch!=null?["vector"]:[],...x.nearestNeighbors!=null?["neighbors"]:[]];const S={"full-text":{value:"full-text",label:"Full Text"},vector:{value:"vector",label:"Vector"},neighbors:{value:"neighbors",label:"Neighbors"}};let A=Ie("full-text"),k=Ie(""),T=Ie(""),D=Ie(!1),$=Ie(null),M=Da(null);async function L(Re,We){if(x==null||C.indexOf(We)<0){I();return}se(D,!0),se(T,"Searching...");let Rt=m(),dt=[],Qt="",Br=Re.toString();We=="full-text"&&x.fullTextSearch!=null?(Re=Re.trim(),dt=await x.fullTextSearch(Re,{limit:o,predicate:Rt,onStatus:cn=>{se(T,cn,!0)}}),Qt=Re):We=="vector"&&x.vectorSearch!=null?(Re=Re.trim(),dt=await x.vectorSearch(Re,{limit:o,predicate:Rt,onStatus:cn=>{se(T,cn,!0)}}),Qt=Re):We=="neighbors"&&x.nearestNeighbors!=null&&(Br="Neighbors of #"+Re.toString(),dt=await x.nearestNeighbors(Re,{limit:o,predicate:Rt,onStatus:cn=>{se(T,cn,!0)}}));let Zr=await VJe(e.coordinator,e.data.table,{id:e.data.id,x:e.data.projection?.x,y:e.data.projection?.y,text:e.data.text},Object.fromEntries(w(g).map(cn=>[cn.name,cn.name])),Rt,dt);se(T,""),se($,{label:Br,highlight:Qt,items:Zr}),M.set({query:Re,mode:We,ids:Zr.map(cn=>cn.id)})}const R=CW(L,500);function I(){se($,null),M.set(null),se(D,!1)}or(()=>{w(k)==""?I():R(w(k),w(A))});function B(){for(let Re of d.clauses)Re.source?.reset?.(),d.update({...Re,value:null,predicate:null})}function z(Re){typeof Re.version=="string"&&(se(ie,Re.charts??{}),se(K,Re.chartStates??{}),se(fe,Re.layout??"list"),se(le,Re.layoutStates??{}))}su(()=>{if(!w(f))return;let Re={version:Yj,timestamp:new Date().getTime()/1e3,charts:w(ie),chartStates:w(K),layout:w(fe),layoutStates:w(le),predicate:m()};e.onStateChange?.(Re)}),kO(async()=>{if(se(g,(await bre(e.coordinator,e.data.table)).filter(Re=>!Re.name.startsWith("__"))),ee.columns=w(g),e.initialState&&z(e.initialState),Object.keys(w(ie)).length==0){let Re=await NKe({coordinator:e.coordinator,table:e.data.table,id:e.data.id,projection:e.data.projection?{...e.data.projection,text:e.data.text??void 0}:void 0,config:e.defaultChartsConfig??void 0});se(ie,Object.fromEntries(Re.map((We,Rt)=>[`${Rt+1}`,We])))}se(f,!0)});function Z(Re){if(Re.key=="Escape"){B(),Re.preventDefault();try{document.activeElement?.blur?.()}catch{}}}let J=Da(e.chartTheme??void 0);or(()=>{J.set(e.chartTheme??void 0)});let ee={coordinator:e.coordinator,filter:d,table:e.data.table,id:e.data.id,columns:[],colorScheme:u,theme:J,columnStyles:v,cache:new UJe,persistentCache:e.cache??{get:async()=>null,set:async(Re,We)=>{}},searchModes:C,search:L,searchResult:M,highlight:Da(null),embeddingViewConfig:a(),embeddingViewLabels:l(),tableCellRenderers:e.tableCellRenderers},ie=Ie({}),K=Ie({}),fe=Ie("list"),le=Ie({});var me=iet();Qp("keydown",qA,Z),ot(me,"",{},{width:"100%",height:"100%"});var oe=H(me);let De,Ve;var Ne=H(oe),Ae=H(Ne);{var ke=Re=>{var We=ret(),Rt=Be(We),dt=H(Rt);{var Qt=mn=>{var Bt=GJe(),zt=H(Bt);OR(zt,{type:"search",placeholder:"Search...",className:"w-full max-w-[400px] ",get value(){return w(k)},set value(Yr){se(k,Yr,!0)}});var fn=ae(zt,2);{var Rr=Yr=>{{let us=X(()=>C.filter(wr=>wr!="neighbors").map(wr=>S[wr]));ll(Yr,{get options(){return w(us)},get value(){return w(A)},onChange:wr=>se(A,wr,!0)})}};Oe(fn,Yr=>{C.filter(us=>us!="neighbors").length>1&&Yr(Rr)})}var gi=ae(fn,2);{var oa=Yr=>{var us=YJe();ot(us,"",{},{height:"48em"});var wr=H(us);{var Ti=yi=>{IJe(yi,{get items(){return w($).items},get label(){return w($).label},get highlight(){return w($).highlight},limit:o,onClick:async Ua=>{ee.highlight.set(Ua.id)},onClose:I,get columnStyles(){return r()}})},wo=yi=>{var Ua=At(),ws=Be(Ua);{var hr=Gr=>{var _o=WJe(),Rl=H(_o);XR(Rl,{get status(){return w(T)}}),W(_o),j(Gr,_o)};Oe(ws,Gr=>{w(T)!=null&&Gr(hr)},!0)}j(yi,Ua)};Oe(wr,yi=>{w($)!=null?yi(Ti):yi(wo,!1)})}W(us),j(Yr,us)};Oe(gi,Yr=>{w(D)&&Yr(oa)})}W(Bt),j(mn,Bt)},Br=mn=>{var Bt=HJe();j(mn,Bt)};Oe(dt,mn=>{w(A).length>0?mn(Qt):mn(Br,!1)})}W(Rt);var Zr=ae(Rt,2),cn=H(Zr);CJe(cn,{get coordinator(){return e.coordinator},get filter(){return d},get table(){return e.data.table}});var Lt=ae(cn,2),Jn=H(Lt);Jn.__click=B,W(Lt),W(Zr);var li=ae(Zr,2),Pr=H(li),Wr=H(Pr);cD(Wr,()=>w(fe),mn=>{var Bt=KJe(),zt=H(Bt);vJe(zt,{get context(){return ee},get charts(){return w(ie)},get chartStates(){return w(K)},get layout(){return w(fe)},get layoutStates(){return w(le)},onChartsChange:fn=>se(ie,fn),onChartStatesChange:fn=>se(K,fn),onLayoutStatesChange:fn=>se(le,fn)}),W(Bt),Qh(3,Bt,()=>DOe),j(mn,Bt)}),W(Pr);var vt=ae(Pr,2);{let mn=X(()=>[{value:"list",icon:vIe,title:"List layout"},{value:"dashboard",icon:yIe,title:"Dashboard layout"}]);QJe(vt,{get value(){return w(fe)},onChange:Bt=>se(fe,Bt),get options(){return w(mn)}})}var kn=ae(vt,2);{var zr=mn=>{{let Bt=X(()=>n()=="dark"?DIe:EIe);Hu(mn,{get icon(){return w(Bt)},title:"Toggle light / dark mode",onClick:()=>{$F(c,n()=="light"?"dark":"light")}})}};Oe(kn,mn=>{e.colorScheme==null&&mn(zr)})}var Hi=ae(kn,2);ese(Hi,{get icon(){return Hte},title:"Options",children:(mn,Bt)=>{var zt=net(),fn=H(zt);{var Rr=wr=>{var Ti=JJe(),wo=ae(Be(Ti),2);SJe(wo,{get columns(){return w(g)},get styles(){return r()},onStylesChange:yi=>{se(b,yi)}}),j(wr,Ti)};Oe(fn,wr=>{w(g).length>0&&wr(Rr)})}var gi=ae(fn,2);{var oa=wr=>{var Ti=tet(),wo=ae(Be(Ti),2),yi=H(wo);{var Ua=Gr=>{var _o=eet(),Rl=H(_o);Wj(Rl,{get icon(){return tz},label:"Export Selection",title:"Export the selected points",class:"w-48",onClick:()=>e.onExportSelection(m(),w(h))});var xu=ae(Rl,2);ll(xu,{label:"Format",get value(){return w(h)},onChange:Su=>se(h,Su,!0),options:[{value:"parquet",label:"Parquet"},{value:"jsonl",label:"JSONL"},{value:"json",label:"JSON"},{value:"csv",label:"CSV"}]}),W(_o),j(Gr,_o)};Oe(yi,Gr=>{e.onExportSelection&&Gr(Ua)})}var ws=ae(yi,2);{var hr=Gr=>{Wj(Gr,{get icon(){return tz},label:"Export Application",title:"Download a self-contained static web application",class:"w-48",get onClick(){return e.onExportApplication}})};Oe(ws,Gr=>{e.onExportApplication&&Gr(hr)})}W(wo),j(wr,Ti)};Oe(gi,wr=>{(e.onExportSelection||e.onExportApplication)&&wr(oa)})}var Yr=ae(gi,4),us=H(Yr);W(Yr),W(zt),Pe(()=>Tt(us,`Embedding Atlas, ${Yj}`)),j(mn,zt)},$$slots:{default:!0}}),W(li),j(Re,We)};Oe(Ae,Re=>{w(f)&&Re(ke)})}W(Ne);var Te=ae(Ne,2),tt=H(Te);{var at=Re=>{OJe(Re,{get context(){return ee},get layout(){return w(fe)},get layoutStates(){return w(le)},get charts(){return w(ie)},get chartStates(){return w(K)},onChartsChange:We=>se(ie,We),onChartStatesChange:We=>se(K,We),onLayoutStatesChange:We=>se(le,We)})};Oe(tt,Re=>{w(f)&&Re(at)})}W(Te),W(oe),W(me),Pe(()=>{De=ur(oe,1,"w-full h-full flex flex-col text-slate-800 bg-slate-200 dark:text-slate-200 dark:bg-slate-800",null,De,{dark:n()=="dark"}),Ve=ot(oe,"",Ve,{"color-scheme":n()})}),j(t,me),Je(),s()}Dr(["click"]);var set=ce('<button class="px-2 py-1 text-left rounded-md text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700"> </button>'),oet=ce('<ul class="absolute mt-1 w-full rounded-md shadow-md p-1 z-10 flex flex-col bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700"></ul>'),aet=ce('<div><input type="text" class="form-input rounded-md py-1 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 w-full"/> <!></div>');function Gj(t,e){Ke(e,!0);let n=ht(e,"value",3,""),r=ht(e,"options",19,()=>[]),i,s,o=Ie(!1),a=X(()=>n()!=null&&r()!=null?r().filter(m=>m.toLowerCase().includes(n().toLowerCase())):r()??[]);function l(m){e.onChange?.(m)}function u(m){l(m),se(o,!1)}var c=aet(),f=H(c);fD(f),f.__change=()=>l(i.value??""),f.__input=()=>l(i.value??""),Ol(f,m=>i=m,()=>i);var h=ae(f,2);{var d=m=>{var g=oet();Zt(g,20,()=>w(a),b=>b,(b,v)=>{var O=set();O.__click=()=>u(v);var x=H(O,!0);W(O),Pe(()=>Tt(x,v)),j(b,O)}),W(g),j(m,g)};Oe(h,m=>{w(o)&&w(a).length>0&&m(d)})}W(c),Ol(c,m=>s=m,()=>s),Pe(()=>{ur(c,1,`relative ${e.className??""??""}`),pe(f,"placeholder",e.placeholder),qpe(f,n())}),Qp("focus",f,()=>se(o,!0)),Qp("blur",f,m=>{m.relatedTarget&&m.relatedTarget instanceof Node&&s.contains(m.relatedTarget)||se(o,!1)}),j(t,c),Je()}Dr(["change","input","click"]);var uet=ce("<button> </button>"),cet=ce('<div class="w-full flex flex-row items-center"><div class="w-[4rem] dark:text-slate-400">X</div> <!></div> <div class="w-full flex flex-row items-center"><div class="w-[4rem] dark:text-slate-400">Y</div> <!></div>',1),fet=ce('<div class="w-full flex flex-row items-center"><div class="w-[4rem] dark:text-slate-400">Text</div> <!></div> <div class="w-full flex flex-row items-center"><div class="w-[4rem] dark:text-slate-400">Model</div> <!></div> <p class="text-sm text-slate-400 dark:text-slate-600">Computing the embedding and 2D projection in browser may take a while.</p>',1),het=ce('<div class="w-full flex flex-row items-center"><div class="w-[4rem] dark:text-slate-400">Image</div> <!></div> <div class="w-full flex flex-row items-center"><div class="w-[4rem] dark:text-slate-400">Model</div> <!></div> <p class="text-sm text-slate-400 dark:text-slate-600">Computing the embedding and 2D projection in browser may take a while.</p>',1),det=ce(`<div class="flex flex-col p-4 w-[40rem] border rounded-md bg-slate-50 border-slate-300 dark:bg-slate-900 dark:border-slate-700"><div class="flex flex-col gap-2 pb-4"><h2 class="text-slate-500 dark:text-slate-500">Search and Tooltip (optional)</h2> <p class="text-sm text-slate-400 dark:text-slate-600">The selected column, if any, will be used for full-text search and tooltips. Choose a column with freeform text,
      such as a description, chat messages, or a summary.</p> <div class="w-full flex flex-row items-center"><div class="w-[4rem] dark:text-slate-400">Text</div> <!></div> <div class="my-2"></div> <h2 class="text-slate-500 dark:text-slate-500">Embedding View (optional)</h2> <p class="text-sm text-slate-400 dark:text-slate-600">To enable the embedding view, you can either (a) pick a pair of pre-computed X and Y columns; or (b) pick a text
      column and compute the embedding projection in browser. For large data, it's recommended to pre-compute the
      embedding and its 2D projection.</p> <div class="flex rounded overflow-hidden size-fit gap-[1px] bg-slate-100 dark:bg-slate-800 mb-2"></div> <!></div> <div class="w-full flex flex-row items-center mt-4"><div class="flex-1"></div> <!></div></div>`);function pet(t,e){Ke(e,!0);const n=["Xenova/all-MiniLM-L6-v2","Xenova/multilingual-e5-small","Xenova/multilingual-e5-base","Xenova/multilingual-e5-large"],r=["Xenova/dinov2-small","Xenova/dinov2-base","Xenova/dinov2-large","Xenova/dino-vitb8","Xenova/dino-vits8","Xenova/dino-vitb16","Xenova/dino-vits16"];let i=Ie("precomputed"),s=Ie(null),o=Ie(null),a=Ie(null),l=Ie(null),u=Ie(null),c=Ie(null),f=Ie(null),h=X(()=>e.columns.filter(D=>cO(D.column_type)=="number")),d=X(()=>e.columns.filter(D=>cO(D.column_type)=="string"));or(()=>{let D=w(f);vs(()=>w(a)==null)&&se(a,D,!0)});function m(){let D={text:w(f),embedding:null};if(w(i)=="precomputed"&&w(s)!=null&&w(o)!=null&&(D.embedding={precomputed:{x:w(s),y:w(o)}}),w(i)=="from-text"&&w(a)!=null){let $=w(l)?.trim()??"";($==null||$=="")&&($=n[0]),D.embedding={compute:{column:w(a),type:"text",model:$}}}if(w(i)=="from-image"&&w(u)!=null){let $=w(c)?.trim()??"";($==null||$=="")&&($=r[0]),D.embedding={compute:{column:w(u),type:"image",model:$}}}e.onConfirm?.(D)}var g=det(),b=H(g),v=ae(H(b),4),O=ae(H(v),2);{let D=X(()=>[{value:null,label:"(none)"},...w(d).map($=>({value:$.column_name,label:`${$.column_name} (${$.column_type})`}))]);ll(O,{class:"flex-1",get value(){return w(f)},onChange:$=>se(f,$,!0),get options(){return w(D)}})}W(v);var x=ae(v,8);Zt(x,20,()=>[["precomputed","Precomputed"],["from-text","From Text"],["from-image","From Image"],["none","Disabled"]],Rn,(D,$)=>{var M=X(()=>QA($,2));let L=()=>w(M)[0],R=()=>w(M)[1];var I=uet();let B;I.__click=()=>se(i,L(),!0);var z=H(I,!0);W(I),Pe(()=>{B=ur(I,1,"bg-slate-200 dark:bg-slate-700 dark:text-slate-400 px-2 py-1",null,B,{"!bg-slate-500":L()==w(i),"!text-slate-100":L()==w(i)}),Tt(z,R())}),j(D,I)}),W(x);var C=ae(x,2);{var S=D=>{var $=cet(),M=Be($),L=ae(H(M),2);{let B=X(()=>[{value:null,label:"(none)"},...w(h).map(z=>({value:z.column_name,label:`${z.column_name} (${z.column_type})`}))]);ll(L,{class:"flex-1",get value(){return w(s)},onChange:z=>se(s,z,!0),get options(){return w(B)}})}W(M);var R=ae(M,2),I=ae(H(R),2);{let B=X(()=>[{value:null,label:"(none)"},...w(h).map(z=>({value:z.column_name,label:`${z.column_name} (${z.column_type})`}))]);ll(I,{class:"flex-1",get value(){return w(o)},onChange:z=>se(o,z,!0),get options(){return w(B)}})}W(R),j(D,$)},A=D=>{var $=At(),M=Be($);{var L=I=>{var B=fet(),z=Be(B),Z=ae(H(z),2);{let ie=X(()=>[{value:null,label:"(none)"},...w(d).map(K=>({value:K.column_name,label:`${K.column_name} (${K.column_type})`}))]);ll(Z,{class:"flex-1",get value(){return w(a)},onChange:K=>se(a,K,!0),get options(){return w(ie)}})}W(z);var J=ae(z,2),ee=ae(H(J),2);Gj(ee,{className:"flex-1",get value(){return w(l)},get placeholder(){return`(default ${n[0]??""})`},onChange:ie=>se(l,ie,!0),get options(){return n}}),W(J),Kp(2),j(I,B)},R=I=>{var B=At(),z=Be(B);{var Z=J=>{var ee=het(),ie=Be(ee),K=ae(H(ie),2);{let me=X(()=>[{value:null,label:"(none)"},...e.columns.map(oe=>({value:oe.column_name,label:`${oe.column_name} (${oe.column_type})`}))]);ll(K,{class:"flex-1",get value(){return w(u)},onChange:oe=>se(u,oe,!0),get options(){return w(me)}})}W(ie);var fe=ae(ie,2),le=ae(H(fe),2);Gj(le,{className:"flex-1",get value(){return w(c)},get placeholder(){return`(default ${r[0]??""})`},onChange:me=>se(c,me,!0),get options(){return r}}),W(fe),Kp(2),j(J,ee)};Oe(z,J=>{w(i)=="from-image"&&J(Z)},!0)}j(I,B)};Oe(M,I=>{w(i)=="from-text"?I(L):I(R,!1)},!0)}j(D,$)};Oe(C,D=>{w(i)=="precomputed"?D(S):D(A,!1)})}W(b);var k=ae(b,2),T=ae(H(k),2);Hu(T,{label:"Confirm",class:"w-40 justify-center",onClick:()=>{m()}}),W(k),W(g),j(t,g),Je()}Dr(["click"]);var met=ce('<button><div class="text-center space-y-2"><p class="text-slate-500 dark:text-slate-500"> </p> <p class="text-sm text-slate-400 dark:text-slate-600">Accepted file types: JSON, CSV, Parquet</p></div> <input type="file" class="hidden"/></button>');function get(t,e){Ke(e,!0);let n=Ie(!1),r;function i(m){m.preventDefault(),se(n,!0)}function s(){se(n,!1)}function o(m){if(m.preventDefault(),se(n,!1),m.dataTransfer.files&&m.dataTransfer.files.length==1){let g=m.dataTransfer.files[0];l(g)&&e.onUpload(g)}}function a(m){const g=Array.from(m.target.files);g.length==1&&l(g[0])&&e.onUpload(g[0])}function l(m){if(e.extensions==null)return!0;for(let g of e.extensions)if(m.name.toLowerCase().endsWith(g.toLowerCase()))return!0;return!1}var u=met();u.__click=()=>{r.click()};var c=H(u),f=H(c),h=H(f,!0);W(f),Kp(2),W(c);var d=ae(c,2);d.__change=a,Ol(d,m=>r=m,()=>r),W(u),Pe(m=>{ur(u,1,`flex flex-col items-center w-[40rem] justify-center py-20 border-2 border-dashed rounded-md transition-all
    ${w(n)?"bg-slate-50 border-slate-500 dark:bg-slate-900 dark:border-slate-500":"bg-slate-50 border-slate-300 dark:bg-slate-900 dark:border-slate-700"}`),Tt(h,w(n)?"Drop your files here":"Drag & drop files here or click to select"),pe(d,"accept",m)},[()=>e.extensions?.join(",")]),Qp("dragover",u,i),Qp("dragleave",u,s),Qp("drop",u,o),j(t,u),Je()}Dr(["click","change"]);function Hj(t,e){if(t.length>0&&t[t.length-1].text==e.text){let n=t.slice();return n[n.length-1]=e,n}else return[...t,e]}var yet=ce('<div class="flex items-center text-slate-500 dark:text-slate-500"><div class="w-7 flex-none"><!></div> <div> </div> <div class="flex-none"><!></div></div>'),bet=ce('<div class="flex flex-col p-4 w-[420px] border rounded-md bg-slate-50 border-slate-300 dark:bg-slate-900 dark:border-slate-700"></div>');function vet(t,e){Ke(e,!0);let n=ht(e,"messages",19,()=>[]);var r=bet();Zt(r,21,n,Rn,(i,s,o)=>{const a=X(()=>o==n().length-1);var l=yet(),u=H(l),c=H(u);{var f=O=>{XR(O,{status:null})};Oe(c,O=>{w(a)&&O(f)})}W(u);var h=ae(u,2);let d;var m=H(h,!0);W(h);var g=ae(h,2),b=H(g);{var v=O=>{var x=xa();Pe(C=>Tt(x,`${C??""}%`),[()=>w(s).progress.toFixed(0)]),j(O,x)};Oe(b,O=>{w(s).progress!=null&&w(a)&&O(v)})}W(g),W(l),Pe(()=>{d=ur(h,1,"flex-1",null,d,{"text-red-400":w(s).error}),Tt(m,w(s).text)}),j(i,l)}),W(r),j(t,r),Je()}class Oet{static connect(e){return new Promise(n=>{let r=new Map,i=(s,...o)=>new Promise((a,l)=>{let u=new Date().getTime()+"-"+Math.random();r.set(u,[a,l]),e.postMessage({rpc:s,id:u,args:o})});e.postMessage({ready:!0}),e.onmessage=s=>{if(s.data.ready){n(i);return}let o=r.get(s.data.id);o!=null&&(r.delete(s.data.id),s.data.error?o[1](new Error(s.data.error)):o[0](s.data.result))}})}static runtime(){let e=new Map,n=async r=>{if(r.data.ready&&postMessage({ready:!0}),r.data.rpc){let s={id:r.data.id,result:null,error:null};try{s.result=await e.get(r.data.rpc)?.(...r.data.args)}catch(o){s.error=o.toString()}postMessage(s)}};return postMessage({ready:!0}),{handler:n,register:(r,i)=>{e.set(r,i)}}}}let NA=null;function wet(){if(NA==null){let t=new Worker(new URL(""+new URL("embedding.worker-DkHRd1JM.js",import.meta.url).href,import.meta.url),{type:"module"});NA=Oet.connect(t)}return NA}async function*_et(t,e,n,r,i){let o=(await t.query(lt.from(e).select({count:_i()}))).get(0).count,a=0;for(;a<o;){let l=a,u=a+i;u>o&&(u=o);let c=await t.query(lt.from(e).select({id:be(n),value:be(r)}).offset(a).limit(u-l));yield{total:o,data:c},a=u}}async function xet(t,e,n,r,i,s,o){let a=0;await t.exec(`
    ALTER TABLE ${e} ADD COLUMN IF NOT EXISTS ${be(r)} DOUBLE DEFAULT 0;
    ALTER TABLE ${e} ADD COLUMN IF NOT EXISTS ${be(i)} DOUBLE DEFAULT 0;
  `);for(let l of s){let u=o.subarray(a,a+l.length*2);await t.exec(`
        WITH t1 AS (
            SELECT
                UNNEST([${l.map(c=>et(c)).join(",")}]) AS id,
                UNNEST([${l.map((c,f)=>u[f*2]).join(",")}]) AS x,
                UNNEST([${l.map((c,f)=>u[f*2+1]).join(",")}]) AS y
        )
        UPDATE ${e}
            SET ${be(r)} = t1.x, ${be(i)} = t1.y
            FROM t1 WHERE ${be(n,e)} = t1.id
    `),a+=l.length*2}}async function ket(t){function e(a,l){t.callback?.(a,l)}e(`Loading ${t.model}...`);let n=await wet(),r=await n("embedding.new",{type:t.type,model:t.model}),i=[],s=0;for await(const{total:a,data:l}of _et(t.coordinator,t.table,t.idColumn,t.dataColumn,t.type=="text"?64:16)){e("Processing Batches...",s/a*100);let u=Array.from(l.getChild("id")),c=Array.from(l.getChild("value"));await n("embedding.batch",r,c),i.push(u),s+=u.length}e("UMAP Projection...");let o=await n("embedding.finalize",r);await xet(t.coordinator,t.table,t.idColumn,t.xColumn,t.yColumn,i,o)}function Ax(t,e){let n=document.createElement("a");n.href=URL.createObjectURL(new Blob([t],{type:"application/octet-stream"})),n.download=e,n.click()}const YT={json:{query:"(FORMAT JSON, ARRAY true)",extension:"json"},jsonl:{query:"(FORMAT JSON)",extension:"jsonl"},csv:{query:"(FORMAT CSV)",extension:"csv"},parquet:{query:"(FORMAT parquet)",extension:"parquet"}};function Cet(t,e,n,r){return e==null||e.length==0?Pt`COPY ${t} TO ${et(n)} ${YT[r].query}`:Pt`COPY (SELECT * FROM ${t} WHERE ${e}) TO ${et(n)} ${YT[r].query}`}function Ooe(t){return`selection-${Date.now()}.${YT[t].extension}`}async function woe(t,e,n,r){let i=await t.databaseConnector()?.getDuckDB(),s=Ooe(r);await i.registerEmptyFileBuffer(s);let o=Cet(e,n,s,r);await t.query(o.toString());let a=await i.copyFileToBuffer(s);return i.dropFile(s),[a,s]}var Aet=ce('<!> <p class="text-slate-400 dark:text-slate-500 mt-4">* All data remains confined to the browser and is not transmitted elsewhere.</p>',1),Eet=ce("<div><!></div>"),Tet=ce('<div class="fixed left-0 right-0 top-0 bottom-0"><!></div>');function Kj(t,e){Ke(e,!0);const n=()=>ki(W4,"$systemColorScheme",r),[r,i]=za(),s=TO(),o=J9(s,"wasm",null);let a=Ie("upload"),l=Ie([]),u=null,c=Ie(null),f=Ie(null),h=Ie([]);function d(A,k){se(l,Hj(w(l),{text:A,progress:k}))}function m(A){se(l,Hj(w(l),{text:A,error:!0}))}async function g(A){se(a,"messages");try{d("Initializing database..."),await o,d("Loading data..."),await(await s.databaseConnector().getDuckDB()).registerFileBuffer(A.name,new Uint8Array(await A.arrayBuffer())),await s.exec(`CREATE TABLE dataset AS SELECT * FROM ${et(A.name)}`);let T=await s.query("DESCRIBE TABLE dataset");se(h,Array.from(T)),await s.exec(`
        ALTER TABLE dataset DROP COLUMN IF EXISTS __row_index__;
        ALTER TABLE dataset ADD COLUMN __row_index__ INTEGER;
        CREATE SEQUENCE __row_index_sequence__;
        UPDATE dataset SET __row_index__ = nextval('__row_index_sequence__');
        DROP SEQUENCE __row_index_sequence__;
      `)}catch(k){se(a,"messages"),m(k.message);return}se(a,"columns")}async function b(A){se(a,"messages");try{if(se(c,A.text),A.embedding!=null&&"precomputed"in A.embedding&&se(f,{x:A.embedding.precomputed.x,y:A.embedding.precomputed.y}),A.embedding!=null&&"compute"in A.embedding){let k=A.embedding.compute.column,T=A.embedding.compute.type,D=A.embedding.compute.model,$=k+"_proj_x",M=k+"_proj_y";await ket({coordinator:s,table:"dataset",idColumn:"__row_index__",dataColumn:k,type:T,xColumn:$,yColumn:M,model:D,callback:(L,R)=>{d(`Embedding: ${L}`,R)}}),se(f,{x:$,y:M})}}catch(k){m(k.message);return}se(a,"ready")}async function v(A,k){let[T,D]=await woe(s,"dataset",A,k);Ax(T,D)}var O=Tet(),x=H(O);{var C=A=>{{let k=X(()=>({table:"dataset",id:"__row_index__",text:w(c),projection:w(f)}));voe(A,{get coordinator(){return s},get data(){return w(k)},initialState:u,onExportSelection:v})}},S=A=>{var k=Eet();let T;var D=H(k);{var $=L=>{var R=Aet(),I=Be(R);get(I,{extensions:[".csv",".parquet",".json",".jsonl"],onUpload:g}),Kp(2),j(L,R)},M=L=>{var R=At(),I=Be(R);{var B=Z=>{pet(Z,{get columns(){return w(h)},onConfirm:b})},z=Z=>{var J=At(),ee=Be(J);{var ie=K=>{vet(K,{get messages(){return w(l)}})};Oe(ee,K=>{w(a)=="messages"&&K(ie)},!0)}j(Z,J)};Oe(I,Z=>{w(a)=="columns"?Z(B):Z(z,!1)},!0)}j(L,R)};Oe(D,L=>{w(a)=="upload"?L($):L(M,!1)})}W(k),Pe(()=>T=ur(k,1,"w-full h-full grid place-content-center select-none text-slate-800 bg-slate-200 dark:text-slate-200 dark:bg-slate-800",null,T,{dark:n()=="dark"})),j(A,k)};Oe(x,A=>{w(a)=="ready"?A(C):A(S,!1)})}W(O),j(t,O),Je(),i()}const _oe="deflate-raw";async function Det(t){let n=new TextEncoder().encode(JSON.stringify(t)),r=await xOe(n,_oe);return kOe(r)}async function Pet(t){let e=COe(t),n=await SOe(e,_oe),r=new TextDecoder;return JSON.parse(r.decode(n))}async function Ret(){try{let t=window.location.hash,e=t.lastIndexOf("?");return e<0?null:await Pet(t.slice(e+1))}catch{return null}}async function $et(t){let n=window.location.hash.lastIndexOf("?"),r=await Det(t);n<0?window.location.hash+="?"+r:window.location.hash=window.location.hash.slice(0,n)+"?"+r}var Iet=ce('<div class="text-red-600"> </div>'),Fet=ce('<div class="w-72"><!></div>'),Met=ce("<div><!></div>"),Let=ce('<div class="fixed left-0 right-0 top-0 bottom-0"><!></div>');function xoe(t,e){Ke(e,!0);const n=()=>ki(W4,"$systemColorScheme",r),[r,i]=za(),s=TO();let o=Ie(!1),a=Ie(!1),l=Ie("Loading..."),u=Ie(null),c=Ie(null);kO(async()=>{try{se(u,await Ret()),se(l,"Initializing database..."),se(c,await e.dataSource.initializeCoordinator(s,"dataset",O=>{se(l,O,!0)})),se(o,!0)}catch(O){se(a,!0),se(l,O.message,!0);return}});async function f(O,x){e.dataSource.downloadSelection&&await e.dataSource.downloadSelection(O,x)}async function h(){e.dataSource.downloadArchive&&await e.dataSource.downloadArchive()}function d(O){$et({...O,predicate:void 0})}var m=Let(),g=H(m);{var b=O=>{{let x=X(()=>({...w(c).data??{id:"id"},table:"dataset"})),C=X(()=>w(u)??w(c).initialState),S=X(()=>e.dataSource.downloadArchive?h:null),A=X(()=>e.dataSource.downloadSelection?f:null),k=X(()=>CW(d,200));voe(O,{get coordinator(){return s},get data(){return w(x)},get embeddingViewConfig(){return w(c).embeddingViewConfig},get embeddingViewLabels(){return w(c).embeddingViewLabels},get defaultChartsConfig(){return w(c).defaultChartsConfig},get chartTheme(){return w(c).chartTheme},get stylesheet(){return w(c).stylesheet},get initialState(){return w(C)},get onExportApplication(){return w(S)},get onExportSelection(){return w(A)},get onStateChange(){return w(k)},get cache(){return e.dataSource.cache}})}},v=O=>{var x=Met();let C;var S=H(x);{var A=T=>{var D=Iet();ot(D,"",{},{"max-width":"36rem"});var $=H(D,!0);W(D),Pe(()=>Tt($,w(l))),j(T,D)},k=T=>{var D=Fet(),$=H(D);XR($,{get status(){return w(l)}}),W(D),j(T,D)};Oe(S,T=>{w(a)?T(A):T(k,!1)})}W(x),Pe(()=>C=ur(x,1,"w-full h-full grid place-content-center select-none text-slate-800 bg-slate-200 dark:text-slate-200 dark:bg-slate-800",null,C,{dark:n()=="dark"})),j(O,x)};Oe(g,O=>{w(o)&&w(c)!=null?O(b):O(v,!1)})}W(m),j(t,m),Je(),i()}function C_(t,e){return e.startsWith(".")&&(e=e.slice(1)),t.endsWith("/")&&e.startsWith("/")?t+e.slice(1):!t.endsWith("/")&&!e.startsWith("/")?t+"/"+e:t+e}class Net{serverUrl;downloadArchive=void 0;downloadSelection=void 0;constructor(e){if(e.startsWith("http"))this.serverUrl=e;else{let n=window.location.origin+window.location.pathname;n=n.replace(/\/[^/]*$/,"/"),this.serverUrl=C_(n,e)}}async initializeCoordinator(e,n,r){let i=await this.metadata();r("Initializing DuckDB...");let s=i.database?.type??"wasm";if(await J9(e,s,i.database?.uri??C_(this.serverUrl,"query")),i.database?.load){r("Loading data...");let o=C_(this.serverUrl,"dataset.parquet");await e.exec(`
        CREATE OR REPLACE TABLE ${n} AS (SELECT * FROM read_parquet(${et(o)}));
      `)}return i.isStatic||(this.downloadArchive=async()=>{let a=await(await this.fetchEndpoint("archive.zip")).arrayBuffer();Ax(a,"embedding-atlas.zip")}),s=="wasm"?this.downloadSelection=async(o,a)=>{let[l,u]=await woe(e,n,o,a);Ax(l,u)}:i.isStatic||(this.downloadSelection=async(o,a)=>{let l=Ooe(a),c=await(await this.fetchEndpoint("selection",{method:"POST",body:JSON.stringify({predicate:o,format:a})})).arrayBuffer();Ax(c,l)}),i.props}async fetchEndpoint(e,n){let r=await fetch(C_(this.serverUrl,e),n);if(r.status!=200)throw new Error("ERROR FETCH");return r}async metadata(){try{return await this.fetchEndpoint("metadata.json").then(e=>e.json())}catch{throw new Error("Network Error: Failed to fetch dataset metadata")}}async cacheGet(e){try{return await this.fetchEndpoint("cache/"+e).then(n=>n.json())}catch{return null}}async cacheSet(e,n){try{await this.fetchEndpoint("cache/"+e,{method:"POST",body:JSON.stringify(n)})}catch{}}cache={get:e=>this.cacheGet(e),set:(e,n)=>this.cacheSet(e,n)}}function Qet(t,e){Ke(e,!1);let n="./data/",r=new Net(n);pD(),xoe(t,{get dataSource(){return r}}),Je()}function Bet(t,e){Ke(e,!1);class n{count;constructor(o){this.count=o}async initializeCoordinator(o,a){return await J9(o,"wasm"),await o.exec(`
        SELECT setseed(0.42);

        CREATE OR REPLACE MACRO random_normal() AS (sqrt(-2 * LN(random())) * cos(2 * PI() * random()));
        CREATE OR REPLACE MACRO random_choice(list, f) AS list_element(list, 1 + floor(pow(random(), f) * len(list))::INT);
        CREATE OR REPLACE MACRO random_invalid(x) AS CASE WHEN random() < 0.02 THEN random_choice(['NaN','Inf','-Inf', Null], 2)::DOUBLE ELSE x END;
        CREATE OR REPLACE MACRO random_string(prefix) AS prefix || LPAD(FLOOR(POW(RANDOM(), 1.3) * 1000)::INT::VARCHAR, 3, '0');
        CREATE OR REPLACE MACRO shuffle_hash(x, v) AS x + hash(v) % 5;

        CREATE OR REPLACE TABLE ${a} AS (
          SELECT
            id,
            'sample text' AS text,
            random_choice(['Apple', 'Orange', 'Pink-flowered Native Raspberry', null], 2) AS var_category,
            concat('Category', (150 * abs(sin(20 * pow(random(), 5))))::INT::TEXT) AS var_many_category,
            list_distinct(list_transform(range(1, 4), (x) -> random_choice(['Apple', 'Orange', 'Banana', 'Raspberry', 'Pear'], 2))) AS var_multi_category,
            list_distinct(list_transform(range(1, 4), (x) -> random_string('Cat'))) AS var_multi_many_category,
            random() AS var_uniform,
            random_invalid(random_normal()) AS var_normal,
            random_invalid(exp(random_normal() + 1)) AS var_log_normal,
            random_invalid(random_normal() + 1000) AS var_normal_biased,
            random_invalid(random_normal() - 1000) AS var_normal_biased_negative,
            random_normal() AS x,
            random_normal() AS y
          FROM range(0, ${this.count}) t(id)
        );

        UPDATE ${a} SET var_normal = var_normal + 5 WHERE var_log_normal < exp(random());
        UPDATE ${a} SET var_normal_biased = var_normal_biased + random() * var_normal;
        UPDATE ${a} SET var_normal_biased_negative = var_normal_biased_negative + random() * var_normal;
        UPDATE ${a} SET
          x = sin(10 * shuffle_hash(var_uniform, var_category)) * x + cos(5 * shuffle_hash(var_uniform, var_category)) * y,
          y = sin(4 * shuffle_hash(var_uniform, var_category)) * x + cos(18 * shuffle_hash(var_uniform, var_category)) * y;
        UPDATE ${a} SET x = x + 5 * fmod(floor(var_uniform * 24 + random()), 5);
        UPDATE ${a} SET y = y + 5 * floor(floor(var_uniform * 24 + random()) / 5);
      `),{data:{table:a,id:"id",projection:{x:"x",y:"y"},text:"text"}}}}let r=new n(1e5);var i={get TestDataSource(){return n},set TestDataSource(s){n=s}};return pD(),xoe(t,{get dataSource(){return r}}),Kpe(e,"TestDataSource",n),Je(i)}function zet(t){const e={"/":window?.EMBEDDING_ATLAS_HOME=="upload"?Kj:Qet,"/test":Bet,"/upload":Kj};h0e(t,{get routes(){return e}})}uD(zet,{target:document.getElementById("app")});
